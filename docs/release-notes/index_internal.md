**WiSeConnect3\_SDK\_3.4.0-cf2 Release Notes**

This SDK package supports SoC Mode and NCP Mode for B0:

- In SoC Mode: Customer applications can run on Cortex M4. Wireless, network, and security stacks run on the wireless subsystem.
- In NCP mode: Wireless, network, and security stacks run on the Wireless subsystem. Customer applications run on the external host MCU.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

**Note**: Use Simplicity Studio version SV5.8.0.1 onwards

**SoC Highlights**

- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support ultra low power Wi-Fi standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode
- **MCU examples** : GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers, Config Timers, ULP (Ultra Low Power) Timers, Sleeptimer, IOSTREAM, NVM3, MEMLCD, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, Sensorhub, Joystick, Relative Humidity and Temperature sensor (RHT), Analog Comparator, Digital to Analog Converter and Temperature sensors (RO and BJT), CRC, LittleFS, Power Manager with RTOS
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE whitelisting, and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack, All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS client
- **IDE** : Simplicity Studio with Windows 10(64-bit), Linux, Mac OS
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** :
  - Si-MB4002A Main board
  - SiWx917 Radio boards

|**RadioBoard Type**|**SiWx917B0 with Board Version**|
| :- | :- |
|Common flash|Si917-BRD4338A(2.0)|
|Dual flash|Si917-BRD4339B(2.0)|
|External PSRAM|Si917-BRD4340A(2.0), Si917-BRD4342A(2.0)|
|Internal PSRAM|Si917-BRD4339A(2.0)|
|Dev Kit|Si917-2605A|
|AC1 Module Explorer Kit|SiW917Y-EK2708A|
|Ezurio Veda SL917 Explorer Kit|SiW917Y-EK2911A|

**NCP Highlights**

- **Host Interface** : SPI, UART
- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode.
- **Wi-Fi** : 2.4GHz Wi-Fi Support, WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE Whitelisting and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack , BLE Stack , All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS Client.
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **Hardware kits to evaluate NCP Mode**
  - NCP EFR Expansion Kit with NCP Radio board (BRD4338A(NCP MBR) + BRD8045A)
  - Wireless Pro kit Mainboard BRD4002A Rev A06
  - EFR32xG24 Wireless 2.4 GHz +10 dBm Radio Board xG24-RB4186C

**Release Details**

|**Item**|**Details**|
| :- | :- |
|Release date|Dec 9th, 2024|
|SDK Version|3.4.0-cf2|
|Firmware Version Standard|1711\.2.13.3.0.0.11|
|Firmware Version Lite|1711\.2.13.3.0.2.11|
|Package Name|WiSeConnect3\_SDK\_3.4.0-cf2|
|GSDK Version |SiSDK-2024.12.0-rc3|
|Supported RTOS|FreeRTOS|
|Operating Modes Supported|Wi-Fi STA, Wi-Fi AP, Wi-Fi STA+BLE, Wi-Fi STA+AP|
|Build Quality|GA|

- SiWx917 release consists of two components
  - Wireless Firmware - SiWx917 Firmware Binaries
  - Wiseconnect3 Library - Wiseconnect3 SDK library runs on the external host in NCP mode and internal Cortex M4 in SoC Mode.
- This release is meant only for use with designs based on SiWx917 Silicon
- The firmware to load is available in the following format:
  - SiWG917-B.2.12.1.x.0.x.rps - B0 Full-featured firmware binary
  - SiWG917-B.2.12.1.x.2.x.rps - B0 lite firmware binary

**Features Supported**

**Sensorhub service**

- Support for ADC, SPI, SDC and I2C based sensors
- Support for PS2
- Support added for SDC

**MCU**

- ADC Single Channel, ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, GPIO, GSPI, I2C, I2S, NVM3, OPAMP, PSRAM, PWM, QEI, RTC, SDIO Secondary, SSI Master and Slave, UART, Micro DMA, USART, Watchdog Timer, Temperature Sensors (RO and BJT), USART Master and Slave, CRC, RNG, QEI
- UC Supported Peripherals - GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers , Config Timers, ULP (Ultra Low Power) Timers, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, MEMLCD, Analog Comparator and Digital to Analog Converter.
- Services - Sleeptimer, IOSTREAM, NVM3, Power Manager, LittleFS, Pin Tool (support for USART, I2C, SSI, GSPI, SIO, SCT, PWM, I2S, ADC, DAC and Analog Comparator)
- ULP (Ultra Low Power) Peripherals - ulp\_adc, ulp\_calender, ulp\_dac, ulp\_gpio, ulp\_i2c, ulp\_i2s, ulp\_timer, ulp\_uart, ulp\_dma
- Extended flash write support for NWP flash region and added read api to read from NWP flash region
- List of OPN's supported si917-sb00, siwg917m111mgtba, siwg917m100mgtba, siwg917m111xgtba, siwg917m121xgtba, siwg917m110lgtba and siwg917m141xgtba
- Support added for SiWG917 Dev Kit Board (BRD2605A)
- Support added for SiW917 AC1 Moddule Explorer Kit (BRD2708A)
- Added APIs to configure M4 SoC Clock, PLL clocks, read M4 SoC Clock

**Wi-Fi & Network Stack**

- WPA2/WPA3 Personal, WPS and WPA2-EAP Support for Station Mode
- TCP/IP stack with IPv4, IPv6, TCP, UDP, TLS, HTTP/HTTPS, DHCPv4, DHCPv6, MQTT Client, DNS Client, SNTP client.
- Support for SSL client versions TLSV1.0, TLSV1.2, TLSV1.3 and SSL server versions TLSV1.0 and TLSV1.2
- Wi-Fi STA (802.11n/802.11ax) + 802.11n AP Support
- HE (802.11ax) and Individual TWT Feature Support
- Multiple BSSID feature support as an STA
- Secure OTA support on B0 radio boards.
- Support for LWIP network stack
- Support for AWS MQTT library
- Support for Azure MQTT library
- Support for BSD and IoT sockets application programming interface(API)
- Support added to change the listen interval after association with Access Point
- New API sl_si91x_fwup_abort added to support aborting firmware upgrade
- Added feature to support Gain offset calibration in channel 14

**Bluetooth Low Energy**

- BLE central & peripheral connections are supported.
- Ultra-low power save is supported.

**Power Save**

- Max PSP, enhanced MAX PSP, Fast PSP, and 802.11ax TWT power save modes are supported in WiFi.
- Only Max PSP power save mode is supported in BLE

**Crypto Support**

- AES, SHA, AES-CCM, HMAC, GCM, Chacha-poly, ECDH and TRNG FW Crypto API support added.
- PSA enabled Mbed TLS support added
- NVM support added for key storage
- Symmetric and asymmetric key storage
- TRNG, AES, SHA, HMAC, GCM, Chacha-poly, ECDH and AES-CCM hardware crypto engine is integrated with PSA crypto.

**Changes and Fixes**

**MCU**

- SRM Structural changes [RSCDEV-31973/SI91X-17018]
- Resolved issue with I2C project generation [SI91X-17556]
- Fixed DUT hang issue while running continuous BLE TX/RX notifications with TA & M4 power save when encruptyion was enabled [SI91X-16815]
- Moved I2C Non-blocking application to internal folder [RSCDEV-33268}
- Documentation issues [SI91X-16382]
- Resolved Hoseotelnet project porting issues from 3.3.4 to 3.4.0.cf1 [SI91X-17596]
- Resolved Apps team feedback on Migration from 3.3.4 to 3.4.0 [SI91X-17633]
- SQA bugs: SI91X-17525, SI91X-15999, SI91X-17431

**SDK**

- Moved API Structure and Data flow details from wireless to summary section in API Reference Guide  [RSCDEV-30291]
- Added documentation changes related to closing of sockets [RSCDEV-31767]
- Removed BRD2911A in all readmes [RSCDEV-33295]
- Fixed Compilation issue in Keil project for user gain table application[SI91X-17553]
- Fixed the clock scaling feature issue for OOB example [SI91X-17606]
- Refactored Wi-Fi provisioning for improved profile management [SI91X-17571]
- Removed 915 related documentation for 3.4.0 [RSCDEV-33423]
- Updated the readme of TCP Tx on periodic wake up demo [RSCDEV-33424]
- updated the readme for "mqtt_hostname" with the required hostname [SI91X-17591]
- Added readme support for multi thread sockets example [RSCDEV-30669]
- Updated the Readme of the WiFi commander [RSCDEV-33381]
- Update crypto PUF documentation [RSCDEV-33138]
- Updated the websocket API documentation[RSCDEV-33382]
- Addressed Documentation Drop-2 Apps Feedback [SI91X-17637]
- SQA-Bugs: SI91X-17553, SI91X-17591

**Wi-Fi & Network Stack**

- None

**BLE**

- Added BRD2708A details in the BLE application readme files

**CoEx**

- None

**System**

- None

**Recommendations**

**System**

- The current revision of SiWx917 B0 has:
  - RAM memory of 672k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_672K\_M4SS\_0K- This mode configures TA with 672k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By default EXT\_FEAT\_352K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_480K\_M4SS\_192K - This mode configures TA with 480k and M4 with 192K bytes of memory
    - EXT\_FEAT\_416K\_M4SS\_256K - This mode configures TA with 416k and M4 with 256K bytes of memory
    - EXT\_FEAT\_352K\_M4SS\_320K - This mode configures TA with 352k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 672K\_M4SS\_0K.
  - SoC mode should not use 672k\_M4SS\_0k memory configuration.
- Set the recommended Power Save Profile (PSP) type to Enhanced Max PSP.

**IDE**

- Download the latest version of Simplicity Studio
- Refer to the latest version of the SoC/NCP "Getting-Started-with-SiWx917" guide for more details

**Wi-Fi & Network Stack****

- The recommended embedded MQTT Publish payload is 1 kBytes.
- It is recommended to enable bit 16 of the 'Extended TCP IP Feature' bit map in the opermode command for all Wi-Fi Socket operations from the host to ensure graceful handling during asynchronous closures from the peer.
- Aggregation (bit 2 of feature\_bit\_map) is recommended to be enabled in opermode. This enables software to aggregate multiple packets to achieve better throughput
- TCP retransmission count value is recommended to be 30 or higher so that the TCP does not disconnect while the rejoin happens.
- To restart the module, the application needs to call sl\_wifi\_deinit() followed by sl\_wifi\_init().
- Register 'Join Fail Callback' function every time when join is called, as in the rejoin failure path the callback is deregistered. If not done, this might result in a scan not functioning on rejoin failure.
- User can enable SL\_SI91X\_EXT\_TCP\_IP\_SSL\_16K\_RECORD in 'Extended TCP IP Feature'bit map in opermode, if HTTPS download is failing after receiving HTTP headers..
- iTWT setup is recommended after IP assignment/TCP connection/application specific socket connections.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, increase TCP / ARP Timeouts at the remote side depending upon the configured TWT interval configured.
- In case of TWT+coex, when using sl\_wifi\_enable\_target\_wakeup\_time API, use TWT wake duration <= 16 ms and TWT wake interval >= 1 sec. If wake duration > 16 ms or TWT wake interval < 1sec, there might be performance issues.
- For iTWT GTK Interval Should be kept max possible value or zero. If GTK interval is not configurable, recommended TWT interval (in case of sl\_wifi\_enable\_target\_wakeup\_time API) or RX Latency (in case of sl\_wifi\_target\_wake\_time\_auto\_selection API) is less than 4sec.
- Disable Power Save for High Throughput Applications.
- The application needs to ensure that it sets RTC with the correct timestamp when the feature is enabled before establishing the SSL connection.
- The timeout value should not be less than 1 second for socket select and socket receive calls. Timeout value of less than 1 second is not currently supported.
- When sl\_wifi\_enable\_target\_wakeup\_time API is used, configuring TWT Wake interval beyond 1 min might lead to disconnections from the AP. Recommended to use TWT wakeup interval of less than or equal to 1 min.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, it is recommended to set missed\_beacon\_count of sl\_wifi\_set\_advanced\_client\_configuration API greater than 2 times of the configured TWT Interval.
- Disable power save and suspend any active TWT sessions before triggering HTTP OTAF.
- It is recommended to enable bit 31 of the 'TCP IP Feature' bit map in the opermode command to support multicast protocol

**BLE**

- In BLE, the recommended range of Connection Interval in
  - Power Save (BLE Only) - 100 ms to 1.28 s.
- In BLE, during Connection, the configuration of Scan Interval and Scan Window with the same value is not recommended. The suggested ratio of Scan Window to Scan Interval is 3:4.
- In BLE, if a device is acting as Central, the scan window (in set\_scan\_params and create\_connection commands) must be less than the existing Connection Interval. The suggested ratio of Scan Window to Connection Interval is 2:3.
- In BLE mode, if scanning and advertising are in progress on the SiWx91x module and it subsequently gets connected and moves to the central role, scanning stops else if it moves to the peripheral role, advertising stops. To further establish a connection to another peripheral device or to a central device, the application should give a command for starting advertising and scanning again.

**Co-Existence**

- For concurrent Wi-Fi + BLE, and while a Wi-Fi connection is active, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
- Wi-Fi + BLE Advertising
  - All standard advertising intervals are supported. As Wi-Fi throughput is increased, a slight difference in on-air advertisements compared to configured intervals may be observed.
  - BLE advertising is skipped if the advertising interval collides with Wi-Fi activity.
- Wi-Fi + BLE scanning
  - All standard scan intervals are supported. For better scan results, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
  - BLE scanning will be stopped for intervals that collide with Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Connections
  - All standard connection intervals are supported.
  - For a stable connection, use optimal connection intervals and max supervision timeout in the presence of Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Data Transfer
  - To achieve higher throughput for both Wi-Fi and BLE, use medium connection intervals, such as 45 to 80 ms with maximum supervision timeout.
  - Ensure Wi-Fi activity consumes lower intervals.

**MCU**

- It is not recommended to use the RO clock for Clock Configuration
- PSRAM examples are not supposed to be used with Non-PSRAM OPNs
- By default SYSrtc and wake on wireless wakeup resources enabled, please do not reinstall these two wakeup sources when tickless idle mode is enabled
- Minimum idle-time to Sleep 100ms, as configured in FreeRtos_config.h
- Recommended to enable DMA for better throughput numbers
- For I2C Fastplus and High speed modes, it is recommended to use High power instances from 80Mhz to 180Mhz core clock
- Not recommended to use switch_m4_frequency() for clock scaling. Refer to migration guide for more details on this
- When using this 32MHz source for the PLL, limit the maximum clock to 160MHz
- In RTOS environment, prefer Signaling mechanisms (Semaphore/Mutex/EventFlag etc.) instead of "Variables/Flags" from user callbacks to detect "*Transfer Complete*" for high speed communication peripherals
  - Refer Software Reference Manual for more details
- Install the 'device_needs_ram_execution' component for OPN-based firmware update and powersave examples
- It is not advisable to use the sl_si91x_m4_sleep_wakeup API for powersave applications, instead use sl_si91x_power_manager_sleep.

**Known Issues**

**Sensorhub**

- Support for ADC FIFO Mode and Multi channel is open
- PS1-state supports only ADC sensor
- Power transitions with AWS are not stable in Sensorhub
- The process of integrating the tickless component and power manager service into the Sensorhub app is currently underway

**Network Stack**

- Sometimes during SSL Handshake, ECC curve parameters generated are wrong, resulting in connection failure with BBD2 error. However, this recovers in the next attempt.
- Randomize the client port if using rapid connect/disconnect of the MQTT session on the same client port with the power save.
- Secure SSL renegotiation not supported in Embedded Networking Stack.
- Disable power save before making TCP connection for NCP-UART interface.
- In concurrent mode, if IP is configured for AP mode ahead of STA mode then IPv6 configuration may fail for STA mode.
- In concurrent mode, data transfer using the Link-local address will always use the first IP interface created by the application.

**Wi-Fi**

- TWT device (STA) may not go to sleep in between TWT intervals in case of burst data traffics with data size more than the configured 'average tx throughput', until completion of data transfer.
- There are performance and IOP issues with MU MIMO.
- WPA3 Connection with the Hunting and Pecking algorithm takes about 3-4 seconds.
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.
- Low Wi-Fi+BLE throughput
- TCP/UDP TX/RX Data stall observed in CoEx scenarios
- Observed HTTPS Continuous download fails with TA Power save
- Performance improvements are in progress for lower performance metrics.
- Observed interop issue (connectivity failure) with few AP's when device reset/reboot happens on active connection.
- In concurrent mode, AP restart fails after stopping it with ap\_stop command.
- DUT deep sleep will not work after stopping AP with ap\_stop command.
- Unable to get SNTP async events when coex mode and Power save is enabled
- Fine Tuning 802.11ax Spectral mask in Progress
- Fine Tuning 11b mask in Ch11 in progress
- DUT is unable to connect to the AP with WPA3 security when we enable coex mode (WLAN+BLE) in opermode
- Socket listen API is failing from the second iteration
- Disconnections observed with Netgear RAX120 AP in WPA3 security
- Observed connection failures with some AP's in more channel congestion open lab environment
- Firmware Upgrade example is not working in PSRAM boards
- deep sleep example is not supported with power manager
- AP fails to start when ACS is enabled on CZ100, CZ101 OPNS (SI91X-16507)

**BLE**

- HID profile data transfer is not working, when power save is enabled in SoC.
- BLE reconnection is not working in ble_multiconnection_gatt demo, when power save is enabled in SoC
- BLE throughputs are less with STM32 compared to EFR
- SI91X-17202 : BLE power numbers are high with power manager clock scaling feature

**Co-Existence**

- Observed HTTP continuous download is not happening in Powersave mode after BLE connection established using wifi\_https\_ble\_dual\_role application
- Observed DUT hang while Wi-Fi UDP/TCP Tx and BLE continuous scan.

**System**

- BRD8045A and BRD8045C does not have CTS and RTS pins routed from SiWx917 NCP, which are used for UART flow control

**MCU**

- Refer to the respective Radio board user guides for specific pinout details. Examples are targeted to a specific version mentioned in the respective readme
- Few(BOD and Comparator) wakeup resources are not working as expected in Power manager service
- Observed RO and BJT Temperature values are not as expected
- Character Timeout feature for all communication protocols is not supported
- UART instances does not support different FIFO Thresholds
- NVM3 dual flash application is not working as expected in the current release.
- ULP_I2C does not function as expected in low power mode when DMA is enabled
- Powersave Deep Sleep example for the siwg917m110lgtba OPN requires the installation of the device_need_ram_execution component.
- Sometimes TA processor hang occurs when M4 used XTAL clock with sleep enabled.
- The DAC program is not functioning as intended when the sample rate is <= 32ksps.

**Limitations and Unsupported Features**

**SDK**

- WiSeConnect3_SDK_3.1.3 and later versions are not compatible with firmware versions prior to 1711.2.10.1.2.0.4, due to enhancements in max transmit power configuration during Wi-Fi join/connection, need to be cautious while doing OTA firmware upgrade.

**Wi-Fi/Network Stack**

- TLS 1.3 Server is not supported
- In AP mode, IPv6 Router Advertisements are not supported. Although STA connected to the APUT can transfer IPv6 data to the peers by using SLAAC for address configuration.
- When sl\_wifi\_enable\_target\_wake\_time() API is used, observed occasional MQTT disconnections with longer TWT intervals (>30secs) with embedded MQTT + TWT.
- AMSDU TX is not supported.
- Fragmentation is not supported.
- AMSDUs within AMPDU is not supported.
- Currently, the module does not support Radio Measurement Requests feature of CCX V2
- 802.11k is not supported
- 40 MHz bandwidth for 2.4 GHz band is not supported.
- 802.11J channel 14 is not supported.
- MQTT versions 3 and 4 are supported.
- Maximum of 3 SSL connections are supported.
- In SSL ECC Curve ID supported is 23. SSL handshake with 3rd party clients depends on the SSL ECC Curve ID.
- LP mode is not supported.
- In iTWT mode, downlink data traffic should be limited. Disconnections may be observed if AP fails to send all the buffered data in the next TWT Service Period.
- Number of MBSSIDs processed is limited by the beacon length that can be processed by the stack (which is limited to 1024 bytes). Beacons greater than 1024 Bytes in length will not be processed.
- CoEx + EAP Security in 352K/320k is not feasible. This issue is observed due to a lack of memory in the 352k/320k Memory Configuration. It is supported with other EXT\_FEAT\_416K\_M4SS\_256K and EXT\_FEAT\_480K\_M4SS\_192K memory configurations.
- UL MUMIMO is not supported.
- The embedded HTTP server is not supported.
- Baremetal is not supported.
- Compared to SoC mode, NCP mode has fewer examples, but more will be enabled in upcoming releases.
- Maximum Supported length for Embedded MQTT username up to 120 bytes , topic length up to 200 bytes and password upto 62 bytes.
- UART 2 Debug prints are supported only on ULP_GPIO_9.
- WOW LAN feature is not supported.
- SA Query procedure is not supported in AP mode.
- Maximum Supported length for HTTP GET URL is up to 2048 bytes.
- Azure SDK with embedded MQTT is not supported.
- Power save is not supported in Azure MQTT.
- MDNS service discovery is currently not supported.
- sli_si91x_accept_async is not thread-safe
- Observed some background compatibility issues with coex and http in few corner cases
- AP mode does not support Tx and Rx aggregation in Concurrent mode.
- Concurrent STA mode, Rx aggregation is not supported. Tx aggregation is supported but it is not recommended.
- AP standalone mode does not support Tx aggregation. Rx aggregation is supported with limited number of BA sessions.
**For WPA3 Enterprise connection in station mode**
- Up to TLSV1.2 only supported.
- EAP-192 bit mode is not supported
- UOSC feature is not supported
- PEAPV1 is not supported
- PMK caching is not supported.
- Explicitly configured server certificate, server domain(FQDN), server domain suffix configuration are not supported for Server Certificate Validation.

**BLE**

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.
- BLE TX/RX throughput is less when tested with EFM as compared to EFR
- Maximum supported AE data length is 200 bytes.
- Supports only two ADV\_EXT sets.
- Supports only two BLE connections (1 Central and 1 Peripheral) with AE.
- Advertising Extension feature is not supported in Coexistence.
- The  ae\_central & ae\_peripheral applications are not supported with TA\_352K\_M4\_320K RAM configuration.
- Setting PLL mode as 1 is not supported in Coexistence

**MCU**

- Manual chip select option is not supported when using GSPI.
- Following peripherals/features are not functioning as expected
    - ADC Multichannel, SSI Dual and Quad mode, SIO and Temp sensors
- LittleFS example support is intended to work only with Dual flash
- PS1 state is not supported in Power Manager
- Power is same for PS4 and PS3 states with powersave mode of power manager
- When using Button_0 as wakeup source, it limits the button functionality at application layer. For using Button_0 for application specific functionality, enable 'SL_SI91X_NPSS_GPIO_BTN_HANDLER'
- XTAL 40MHz clock as a reference clock is not supported

**System**
- TA Connected sleep and M4 PS2 is not a possible mode of operation
- M4 PS2 active and sleep is not a possible mode when SL_SI91X_EXT_FEAT_FRONT_END_SWITCH_PINS_ULP_GPIO_4_5_0 is enabled in SoC mode

**Simplicity Studio and Commander**

- Default GDB debug configuration is not supported for SoC projects, work around details provided in "Getting-Started-with-SiWx917"
- Observing flash download failures(ERROR 108) for a few image sizes
- Simplicity commander does not support options under "Debug Lock tools".
- All projects in the package are compatible with GCC 10.3.1 version.

**Terminology**

|**Term**|**Description**|
| :- | :- |
|**New Features**|These items are new to this release|
|**Changes/Issues Fixed**|Changes made to existing features found in previous software releases.|
||Enhancements to existing product flow and feature set.|
||Bug fixes done in the release|
|**Deprecated Items**|Features or functions or APIs that are removed from the distributed release to align with the software roadmap|
|**Known Issues**|Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases|
|**Limitations/Recommendations**|Describes the limitations on product usage and recommendations for optimal use cases|

**Note**

- Change SPI frequency to 12.5Mhz while measuring BLE throughput with EFR32

<br>


**WiSeConnect3\_SDK\_3.4.0-cf1 Release Notes**

This SDK package supports SoC Mode and NCP Mode for B0:

- In SoC Mode: Customer applications can run on Cortex M4. Wireless, network, and security stacks run on the wireless subsystem.
- In NCP mode: Wireless, network, and security stacks run on the Wireless subsystem. Customer applications run on the external host MCU.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

**Note**: Use Simplicity Studio version SV5.8.0.1 onwards

**SoC Highlights**

- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support ultra low power Wi-Fi standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode
- **MCU examples** : GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers, Config Timers, ULP (Ultra Low Power) Timers, Sleeptimer, IOSTREAM, NVM3, MEMLCD, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, Sensorhub, Joystick, Relative Humidity and Temperature sensor (RHT), Analog Comparator, Digital to Analog Converter and Temperature sensors (RO and BJT), CRC, LittleFS, Power Manager with RTOS
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE whitelisting, and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack, All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS client
- **IDE** : Simplicity Studio with Windows 10(64-bit), Linux, Mac OS
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** :
  - Si-MB4002A Main board
  - SiWx917 Radio boards

|**RadioBoard Type**|**SiWx917B0 with Board Version**|
| :- | :- |
|Common flash|Si917-BRD4338A(2.0)|
|Dual flash|Si917-BRD4339B(2.0)|
|External PSRAM|Si917-BRD4340A(2.0), Si917-BRD4342A(2.0)|
|Internal PSRAM|Si917-BRD4339A(2.0)|
|Dev Kit|Si917-2605A|
|AC1 Module Explorer Kit|SiW917Y-EK2708A|
|Ezurio Veda SL917 Explorer Kit|SiW917Y-EK2911A|

**NCP Highlights**

- **Host Interface** : SPI, UART
- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode.
- **Wi-Fi** : 2.4GHz Wi-Fi Support, WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE Whitelisting and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack , BLE Stack , All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS Client.
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **Hardware kits to evaluate NCP Mode**
  - NCP EFR Expansion Kit with NCP Radio board (BRD4338A(NCP MBR) + BRD8045A)
  - Wireless Pro kit Mainboard BRD4002A Rev A06
  - EFR32xG24 Wireless 2.4 GHz +10 dBm Radio Board xG24-RB4186C

**Release Details**

|**Item**|**Details**|
| :- | :- |
|Release date|Nov 28th, 2024|
|SDK Version|3.4.0-cf1|
|Firmware Version Standard|1711\.2.13.3.0.0.11|
|Firmware Version Lite|1711\.2.13.3.0.2.11|
|Package Name|WiSeConnect3\_SDK\_3.4.0-cf1|
|GSDK Version |SiSDK-2024.12.0-rc2|
|Supported RTOS|FreeRTOS|
|Operating Modes Supported|Wi-Fi STA, Wi-Fi AP, Wi-Fi STA+BLE, Wi-Fi STA+AP|
|Build Quality|GA|

- SiWx917 release consists of two components
  - Wireless Firmware - SiWx917 Firmware Binaries
  - Wiseconnect3 Library - Wiseconnect3 SDK library runs on the external host in NCP mode and internal Cortex M4 in SoC Mode.
- This release is meant only for use with designs based on SiWx917 Silicon
- The firmware to load is available in the following format:
  - SiWG917-B.2.12.1.x.0.x.rps - B0 Full-featured firmware binary
  - SiWG917-B.2.12.1.x.2.x.rps - B0 lite firmware binary

**Features Supported**

**Sensorhub service**

- Support for ADC, SPI, SDC and I2C based sensors
- Support for PS2
- Support added for SDC

**MCU**

- ADC Single Channel, ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, GPIO, GSPI, I2C, I2S, NVM3, OPAMP, PSRAM, PWM, QEI, RTC, SDIO Secondary, SSI Master and Slave, UART, Micro DMA, USART, Watchdog Timer, Temperature Sensors (RO and BJT), USART Master and Slave, CRC, RNG, QEI
- UC Supported Peripherals - GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers , Config Timers, ULP (Ultra Low Power) Timers, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, MEMLCD, Analog Comparator and Digital to Analog Converter.
- Services - Sleeptimer, IOSTREAM, NVM3, Power Manager, LittleFS, Pin Tool (support for USART, I2C, SSI, GSPI, SIO, SCT, PWM, I2S, ADC, DAC and Analog Comparator)
- ULP (Ultra Low Power) Peripherals - ulp\_adc, ulp\_calender, ulp\_dac, ulp\_gpio, ulp\_i2c, ulp\_i2s, ulp\_timer, ulp\_uart, ulp\_dma
- Extended flash write support for NWP flash region and added read api to read from NWP flash region
- List of OPN's supported si917-sb00, siwg917m111mgtba, siwg917m100mgtba, siwg917m111xgtba, siwg917m121xgtba, siwg917m110lgtba and siwg917m141xgtba
- Support added for SiWG917 Dev Kit Board (BRD2605A)
- Support added for SiW917 AC1 Moddule Explorer Kit (BRD2708A)
- Added APIs to configure M4 SoC Clock, PLL clocks, read M4 SoC Clock

**Wi-Fi & Network Stack**

- WPA2/WPA3 Personal, WPS and WPA2-EAP Support for Station Mode
- TCP/IP stack with IPv4, IPv6, TCP, UDP, TLS, HTTP/HTTPS, DHCPv4, DHCPv6, MQTT Client, DNS Client, SNTP client.
- Support for SSL client versions TLSV1.0, TLSV1.2, TLSV1.3 and SSL server versions TLSV1.0 and TLSV1.2
- Wi-Fi STA (802.11n/802.11ax) + 802.11n AP Support
- HE (802.11ax) and Individual TWT Feature Support
- Multiple BSSID feature support as an STA
- Secure OTA support on B0 radio boards.
- Support for LWIP network stack
- Support for AWS MQTT library
- Support for Azure MQTT library
- Support for BSD and IoT sockets application programming interface(API)
- Support added to change the listen interval after association with Access Point
- New API sl_si91x_fwup_abort added to support aborting firmware upgrade
- Added feature to support Gain offset calibration in channel 14

**Bluetooth Low Energy**

- BLE central & peripheral connections are supported.
- Ultra-low power save is supported.

**Power Save**

- Max PSP, enhanced MAX PSP, Fast PSP, and 802.11ax TWT power save modes are supported in WiFi.
- Only Max PSP power save mode is supported in BLE

**Crypto Support**

- AES, SHA, AES-CCM, HMAC, GCM, Chacha-poly, ECDH and TRNG FW Crypto API support added.
- PSA enabled Mbed TLS support added
- NVM support added for key storage
- Symmetric and asymmetric key storage
- TRNG, AES, SHA, HMAC, GCM, Chacha-poly, ECDH and AES-CCM hardware crypto engine is integrated with PSA crypto.

**Changes and Fixes**

**MCU**

- Resolved issue with Mic driver example 917 Devkit [SI91X-17503]
- Fixed issues with MSG_QUEUE application [SI91X-17490, SI91X-17481]
- Documentation issues [SI91X-17485, SI91X-16382, RSCDEV-33055]
- Other SQA issues [SI91X-16786, SI91X-16099]

**SDK**

- Added a condition to check if the provided client interface is up or not [SI91X-15334]
- Addressed 3.4.0 drop1 documentation feedback in SOC mode [RSCDEV-32870 ]
- Updated OTP_Lock_1  description for bit 1 [RSCDEV-33097]
- Updated the documentation of socket send APIs [SI91X-17127]
- Fixed the issue where net_down and net_up of APUT interface is causing the UDP transfer to stop for STAUT interface [SI91X-16965]


**Wi-Fi & Network Stack**

- Updated the HTTP long URL documentation.( SI91X-16688)
- Updated the documentation for ICMP packets with large sizes.(SI91X-16752)
- SQA bugs : SI91X-16965,SI91X-17487,SI91X-17385,SI91X-17406

**BLE**

- SI91X-17314 : Fixed BLE LP chain range issue with ACx board
- SI91X-17205: Resolved DUT was unable to generate a passkey with passkey entry method.
- RSCDEV-32997: Fixed 3.4.0 documentation drop#1 issues.

**CoEx**

- None

**System**

- None

**Recommendations**

**System**

- The current revision of SiWx917 B0 has:
  - RAM memory of 672k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_672K\_M4SS\_0K- This mode configures TA with 672k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By default EXT\_FEAT\_352K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_480K\_M4SS\_192K - This mode configures TA with 480k and M4 with 192K bytes of memory
    - EXT\_FEAT\_416K\_M4SS\_256K - This mode configures TA with 416k and M4 with 256K bytes of memory
    - EXT\_FEAT\_352K\_M4SS\_320K - This mode configures TA with 352k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 672K\_M4SS\_0K.
  - SoC mode should not use 672k\_M4SS\_0k memory configuration.
- Set the recommended Power Save Profile (PSP) type to Enhanced Max PSP.

**IDE**

- Download the latest version of Simplicity Studio
- Refer to the latest version of the SoC/NCP "Getting-Started-with-SiWx917" guide for more details

**Wi-Fi & Network Stack****

- The recommended embedded MQTT Publish payload is 1 kBytes.
- It is recommended to enable bit 16 of the 'Extended TCP IP Feature' bit map in the opermode command for all Wi-Fi Socket operations from the host to ensure graceful handling during asynchronous closures from the peer.
- Aggregation (bit 2 of feature\_bit\_map) is recommended to be enabled in opermode. This enables software to aggregate multiple packets to achieve better throughput
- TCP retransmission count value is recommended to be 30 or higher so that the TCP does not disconnect while the rejoin happens.
- To restart the module, the application needs to call sl\_wifi\_deinit() followed by sl\_wifi\_init().
- Register 'Join Fail Callback' function every time when join is called, as in the rejoin failure path the callback is deregistered. If not done, this might result in a scan not functioning on rejoin failure.
- User can enable SL\_SI91X\_EXT\_TCP\_IP\_SSL\_16K\_RECORD in 'Extended TCP IP Feature'bit map in opermode, if HTTPS download is failing after receiving HTTP headers..
- iTWT setup is recommended after IP assignment/TCP connection/application specific socket connections.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, increase TCP / ARP Timeouts at the remote side depending upon the configured TWT interval configured.
- In case of TWT+coex, when using sl\_wifi\_enable\_target\_wakeup\_time API, use TWT wake duration <= 16 ms and TWT wake interval >= 1 sec. If wake duration > 16 ms or TWT wake interval < 1sec, there might be performance issues.
- For iTWT GTK Interval Should be kept max possible value or zero. If GTK interval is not configurable, recommended TWT interval (in case of sl\_wifi\_enable\_target\_wakeup\_time API) or RX Latency (in case of sl\_wifi\_target\_wake\_time\_auto\_selection API) is less than 4sec.
- Disable Power Save for High Throughput Applications.
- The application needs to ensure that it sets RTC with the correct timestamp when the feature is enabled before establishing the SSL connection.
- The timeout value should not be less than 1 second for socket select and socket receive calls. Timeout value of less than 1 second is not currently supported.
- When sl\_wifi\_enable\_target\_wakeup\_time API is used, configuring TWT Wake interval beyond 1 min might lead to disconnections from the AP. Recommended to use TWT wakeup interval of less than or equal to 1 min.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, it is recommended to set missed\_beacon\_count of sl\_wifi\_set\_advanced\_client\_configuration API greater than 2 times of the configured TWT Interval.
- Disable power save and suspend any active TWT sessions before triggering HTTP OTAF.
- It is recommended to enable bit 31 of the 'TCP IP Feature' bit map in the opermode command to support multicast protocol

**BLE**

- In BLE, the recommended range of Connection Interval in
  - Power Save (BLE Only) - 100 ms to 1.28 s.
- In BLE, during Connection, the configuration of Scan Interval and Scan Window with the same value is not recommended. The suggested ratio of Scan Window to Scan Interval is 3:4.
- In BLE, if a device is acting as Central, the scan window (in set\_scan\_params and create\_connection commands) must be less than the existing Connection Interval. The suggested ratio of Scan Window to Connection Interval is 2:3.
- In BLE mode, if scanning and advertising are in progress on the SiWx91x module and it subsequently gets connected and moves to the central role, scanning stops else if it moves to the peripheral role, advertising stops. To further establish a connection to another peripheral device or to a central device, the application should give a command for starting advertising and scanning again.

**Co-Existence**

- For concurrent Wi-Fi + BLE, and while a Wi-Fi connection is active, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
- Wi-Fi + BLE Advertising
  - All standard advertising intervals are supported. As Wi-Fi throughput is increased, a slight difference in on-air advertisements compared to configured intervals may be observed.
  - BLE advertising is skipped if the advertising interval collides with Wi-Fi activity.
- Wi-Fi + BLE scanning
  - All standard scan intervals are supported. For better scan results, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
  - BLE scanning will be stopped for intervals that collide with Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Connections
  - All standard connection intervals are supported.
  - For a stable connection, use optimal connection intervals and max supervision timeout in the presence of Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Data Transfer
  - To achieve higher throughput for both Wi-Fi and BLE, use medium connection intervals, such as 45 to 80 ms with maximum supervision timeout.
  - Ensure Wi-Fi activity consumes lower intervals.

**MCU**

- It is not recommended to use the RO clock for Clock Configuration
- PSRAM examples are not supposed to be used with Non-PSRAM OPNs
- By default SYSrtc and wake on wireless wakeup resources enabled, please do not reinstall these two wakeup sources when tickless idle mode is enabled
- Minimum idle-time to Sleep 100ms, as configured in FreeRtos_config.h
- Recommended to enable DMA for better throughput numbers
- For I2C Fastplus and High speed modes, it is recommended to use High power instances from 80Mhz to 180Mhz core clock
- Not recommended to use switch_m4_frequency() for clock scaling. Refer to migration guide for more details on this
- When using this 32MHz source for the PLL, limit the maximum clock to 160MHz
- In RTOS environment, prefer Signaling mechanisms (Semaphore/Mutex/EventFlag etc.) instead of "Variables/Flags" from user callbacks to detect "*Transfer Complete*" for high speed communication peripherals
  - Refer Software Reference Manual for more details
- It is recommended to install device_needs_ram_execution component for OPN based firmware update examples and ULP applications
- It is not advisable to use the sl_si91x_m4_sleep_wakeup API for powersave applications, instead use sl_si91x_power_manager_sleep.

**Known Issues**

**Sensorhub**

- Support for ADC FIFO Mode and Multi channel is open
- PS1-state supports only ADC sensor
- Power transitions with AWS are not stable in Sensorhub
- The process of integrating the tickless component and power manager service into the Sensorhub app is currently underway

**Network Stack**

- Sometimes during SSL Handshake, ECC curve parameters generated are wrong, resulting in connection failure with BBD2 error. However, this recovers in the next attempt.
- Randomize the client port if using rapid connect/disconnect of the MQTT session on the same client port with the power save.
- Secure SSL renegotiation not supported in Embedded Networking Stack.
- Disable power save before making TCP connection for NCP-UART interface.
- In concurrent mode, if IP is configured for AP mode ahead of STA mode then IPv6 configuration may fail for STA mode.
- In concurrent mode, data transfer using the Link-local address will always use the first IP interface created by the application.

**Wi-Fi**

- TWT device (STA) may not go to sleep in between TWT intervals in case of burst data traffics with data size more than the configured 'average tx throughput', until completion of data transfer.
- There are performance and IOP issues with MU MIMO.
- WPA3 Connection with the Hunting and Pecking algorithm takes about 3-4 seconds.
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.
- Low Wi-Fi+BLE throughput
- TCP/UDP TX/RX Data stall observed in CoEx scenarios
- Observed HTTPS Continuous download fails with TA Power save
- Performance improvements are in progress for lower performance metrics.
- Observed interop issue (connectivity failure) with few AP's when device reset/reboot happens on active connection.
- In concurrent mode, AP restart fails after stopping it with ap\_stop command.
- DUT deep sleep will not work after stopping AP with ap\_stop command.
- Unable to get SNTP async events when coex mode and Power save is enabled
- Fine Tuning 802.11ax Spectral mask in Progress
- Fine Tuning 11b mask in Ch11 in progress
- DUT is unable to connect to the AP with WPA3 security when we enable coex mode (WLAN+BLE) in opermode
- Socket listen API is failing from the second iteration
- Disconnections observed with Netgear RAX120 AP in WPA3 security
- Observed connection failures with some AP's in more channel congestion open lab environment
- Firmware Upgrade example is not working in PSRAM boards
- deep sleep example is not supported with power manager
- AP fails to start when ACS is enabled on CZ100, CZ101 OPNS (SI91X-16507)

**BLE**

- HID profile data transfer is not working, when power save is enabled in SoC.
- BLE reconnection is not working in ble_multiconnection_gatt demo, when power save is enabled in SoC
- BLE throughputs are less with STM32 compared to EFR
- SI91X-17202 : BLE power numbers are high with power manager clock scaling feature

**Co-Existence**

- Observed HTTP continuous download is not happening in Powersave mode after BLE connection established using wifi\_https\_ble\_dual\_role application
- Observed DUT hang while Wi-Fi UDP/TCP Tx and BLE continuous scan.

**System**

- BRD8045A and BRD8045C does not have CTS and RTS pins routed from SiWx917 NCP, which are used for UART flow control

**MCU**

- Refer to the respective Radio board user guides for specific pinout details. Examples are targeted to a specific version mentioned in the respective readme
- Few(BOD and Comparator) wakeup resources are not working as expected in Power manager service
- Observed RO and BJT Temperature values are not as expected
- Character Timeout feature for all communication protocols is not supported
- UART instances does not support different FIFO Thresholds
- NVM3 dual flash application is not working as expected in the current release.
- ULP_I2C does not function as expected in low power mode when DMA is enabled
- Powersave Deep Sleep example for the siwg917m110lgtba OPN requires the installation of the device_need_ram_execution component.
- Sometimes TA processor hang occurs when M4 used XTAL clock with sleep enabled.
- The DAC program is not functioning as intended when the sample rate is <= 32ksps.

**Limitations and Unsupported Features**

**SDK**

- WiSeConnect3_SDK_3.1.3 and later versions are not compatible with firmware versions prior to 1711.2.10.1.2.0.4, due to enhancements in max transmit power configuration during Wi-Fi join/connection, need to be cautious while doing OTA firmware upgrade.

**Wi-Fi/Network Stack**

- TLS 1.3 Server is not supported
- In AP mode, IPv6 Router Advertisements are not supported. Although STA connected to the APUT can transfer IPv6 data to the peers by using SLAAC for address configuration.
- When sl\_wifi\_enable\_target\_wake\_time() API is used, observed occasional MQTT disconnections with longer TWT intervals (>30secs) with embedded MQTT + TWT.
- AMSDU TX is not supported.
- Fragmentation is not supported.
- AMSDUs within AMPDU is not supported.
- Currently, the module does not support Radio Measurement Requests feature of CCX V2
- 802.11k is not supported
- 40 MHz bandwidth for 2.4 GHz band is not supported.
- 802.11J channel 14 is not supported.
- MQTT versions 3 and 4 are supported.
- Maximum of 3 SSL connections are supported.
- In SSL ECC Curve ID supported is 23. SSL handshake with 3rd party clients depends on the SSL ECC Curve ID.
- LP mode is not supported.
- In iTWT mode, downlink data traffic should be limited. Disconnections may be observed if AP fails to send all the buffered data in the next TWT Service Period.
- Number of MBSSIDs processed is limited by the beacon length that can be processed by the stack (which is limited to 1024 bytes). Beacons greater than 1024 Bytes in length will not be processed.
- CoEx + EAP Security in 352K/320k is not feasible. This issue is observed due to a lack of memory in the 352k/320k Memory Configuration. It is supported with other EXT\_FEAT\_416K\_M4SS\_256K and EXT\_FEAT\_480K\_M4SS\_192K memory configurations.
- UL MUMIMO is not supported.
- The embedded HTTP server is not supported.
- Baremetal is not supported.
- Compared to SoC mode, NCP mode has fewer examples, but more will be enabled in upcoming releases.
- Maximum Supported length for Embedded MQTT username up to 120 bytes , topic length up to 200 bytes and password upto 62 bytes.
- UART 2 Debug prints are supported only on ULP_GPIO_9.
- WOW LAN feature is not supported.
- SA Query procedure is not supported in AP mode.
- Maximum Supported length for HTTP GET URL is up to 2048 bytes.
- Azure SDK with embedded MQTT is not supported.
- Power save is not supported in Azure MQTT.
- MDNS service discovery is currently not supported.
- sli_si91x_accept_async is not thread-safe
- Observed some background compatibility issues with coex and http in few corner cases
- AP mode does not support Tx and Rx aggregation in Concurrent mode.
- Concurrent STA mode, Rx aggregation is not supported. Tx aggregation is supported but it is not recommended.
- AP standalone mode does not support Tx aggregation. Rx aggregation is supported with limited number of BA sessions.
**For WPA3 Enterprise connection in station mode**
- Up to TLSV1.2 only supported.
- EAP-192 bit mode is not supported
- UOSC feature is not supported
- PEAPV1 is not supported
- PMK caching is not supported.
- Explicitly configured server certificate, server domain(FQDN), server domain suffix configuration are not supported for Server Certificate Validation.

**BLE**

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.
- BLE TX/RX throughput is less when tested with EFM as compared to EFR
- Maximum supported AE data length is 200 bytes.
- Supports only two ADV\_EXT sets.
- Supports only two BLE connections (1 Central and 1 Peripheral) with AE.
- Advertising Extension feature is not supported in Coexistence.
- The  ae\_central & ae\_peripheral applications are not supported with TA\_352K\_M4\_320K RAM configuration.
- Setting PLL mode as 1 is not supported in Coexistence

**MCU**

- Manual chip select option is not supported when using GSPI.
- Following peripherals/features are not functioning as expected
    - ADC Multichannel, SSI Dual and Quad mode, SIO and Temp sensors
- LittleFS example support is intended to work only with Dual flash
- PS1 state is not supported in Power Manager
- Power is same for PS4 and PS3 states with powersave mode of power manager
- When using Button_0 as wakeup source, it limits the button functionality at application layer. For using Button_0 for application specific functionality, enable 'SL_SI91X_NPSS_GPIO_BTN_HANDLER'
- XTAL 40MHz clock as a reference clock is not supported

**System**
- TA Connected sleep and M4 PS2 is not a possible mode of operation
- M4 PS2 active and sleep is not a possible mode when SL_SI91X_EXT_FEAT_FRONT_END_SWITCH_PINS_ULP_GPIO_4_5_0 is enabled in SoC mode

**Simplicity Studio and Commander**

- Default GDB debug configuration is not supported for SoC projects, work around details provided in "Getting-Started-with-SiWx917"
- Observing flash download failures(ERROR 108) for a few image sizes
- Simplicity commander does not support options under "Debug Lock tools".
- All projects in the package are compatible with GCC 10.3.1 version.

**Terminology**

|**Term**|**Description**|
| :- | :- |
|**New Features**|These items are new to this release|
|**Changes/Issues Fixed**|Changes made to existing features found in previous software releases.|
||Enhancements to existing product flow and feature set.|
||Bug fixes done in the release|
|**Deprecated Items**|Features or functions or APIs that are removed from the distributed release to align with the software roadmap|
|**Known Issues**|Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases|
|**Limitations/Recommendations**|Describes the limitations on product usage and recommendations for optimal use cases|

**Note**

- Change SPI frequency to 12.5Mhz while measuring BLE throughput with EFR32

<br>


**WiSeConnect3\_SDK\_3.4.0-cf Release Notes**

This SDK package supports SoC Mode and NCP Mode for B0:

- In SoC Mode: Customer applications can run on Cortex M4. Wireless, network, and security stacks run on the wireless subsystem.
- In NCP mode: Wireless, network, and security stacks run on the Wireless subsystem. Customer applications run on the external host MCU.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

**Note**: Use Simplicity Studio version SV5.8.0.1 onwards

**SoC Highlights**

- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support ultra low power Wi-Fi standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode
- **MCU examples** : GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers, Config Timers, ULP (Ultra Low Power) Timers, Sleeptimer, IOSTREAM, NVM3, MEMLCD, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, Sensorhub, Joystick, Relative Humidity and Temperature sensor (RHT), Analog Comparator, Digital to Analog Converter and Temperature sensors (RO and BJT), CRC, LittleFS, Power Manager with RTOS
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE whitelisting, and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack, All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS client
- **IDE** : Simplicity Studio with Windows 10(64-bit), Linux, Mac OS
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** :
  - Si-MB4002A Main board
  - SiWx917 Radio boards

|**RadioBoard Type**|**SiWx917B0 with Board Version**|
| :- | :- |
|Common flash|Si917-BRD4338A(2.0)|
|Dual flash|Si917-BRD4339B(2.0)|
|External PSRAM|Si917-BRD4340A(2.0), Si917-BRD4342A(2.0)|
|Internal PSRAM|Si917-BRD4339A(2.0)|
|Dev Kit|Si917-2605A|
|AC1 Module Explorer Kit|SiW917Y-EK2708A|
|Ezurio Veda SL917 Explorer Kit|SiW917Y-EK2911A|

**NCP Highlights**

- **Host Interface** : SPI, UART
- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode.
- **Wi-Fi** : 2.4GHz Wi-Fi Support, WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE Whitelisting and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack , BLE Stack , All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS Client.
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **Hardware kits to evaluate NCP Mode**
  - NCP EFR Expansion Kit with NCP Radio board (BRD4338A(NCP MBR) + BRD8045A)
  - Wireless Pro kit Mainboard BRD4002A Rev A06
  - EFR32xG24 Wireless 2.4 GHz +10 dBm Radio Board xG24-RB4186C

**Release Details**

|**Item**|**Details**|
| :- | :- |
|Release date|Nov 21st, 2024|
|SDK Version|3.4.0-cf|
|Firmware Version Standard|1711\.2.13.3.0.0.10|
|Firmware Version Lite|1711\.2.13.3.0.2.10|
|Package Name|WiSeConnect3\_SDK\_3.4.0-cf|
|GSDK Version |SiSDK-2024.12.0-fc1|
|Supported RTOS|FreeRTOS|
|Operating Modes Supported|Wi-Fi STA, Wi-Fi AP, Wi-Fi STA+BLE, Wi-Fi STA+AP|
|Build Quality|GA|

- SiWx917 release consists of two components
  - Wireless Firmware - SiWx917 Firmware Binaries
  - Wiseconnect3 Library - Wiseconnect3 SDK library runs on the external host in NCP mode and internal Cortex M4 in SoC Mode.
- This release is meant only for use with designs based on SiWx917 Silicon
- The firmware to load is available in the following format:
  - SiWG917-B.2.12.1.x.0.x.rps - B0 Full-featured firmware binary
  - SiWG917-B.2.12.1.x.2.x.rps - B0 lite firmware binary

**Features Supported**

**Sensorhub service**

- Support for ADC, SPI, SDC and I2C based sensors
- Support for PS2
- Support added for SDC

**MCU**

- ADC Single Channel, ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, GPIO, GSPI, I2C, I2S, NVM3, OPAMP, PSRAM, PWM, QEI, RTC, SDIO Secondary, SSI Master and Slave, UART, Micro DMA, USART, Watchdog Timer, Temperature Sensors (RO and BJT), USART Master and Slave, CRC, RNG, QEI
- UC Supported Peripherals - GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers , Config Timers, ULP (Ultra Low Power) Timers, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, MEMLCD, Analog Comparator and Digital to Analog Converter.
- Services - Sleeptimer, IOSTREAM, NVM3, Power Manager, LittleFS, Pin Tool (support for USART, I2C, SSI, GSPI, SIO, SCT, PWM, I2S, ADC, DAC and Analog Comparator)
- ULP (Ultra Low Power) Peripherals - ulp\_adc, ulp\_calender, ulp\_dac, ulp\_gpio, ulp\_i2c, ulp\_i2s, ulp\_timer, ulp\_uart, ulp\_dma
- Extended flash write support for NWP flash region and added read api to read from NWP flash region
- List of OPN's supported si917-sb00, siwg917m111mgtba, siwg917m100mgtba, siwg917m111xgtba, siwg917m121xgtba, siwg917m110lgtba and siwg917m141xgtba
- Support added for SiWG917 Dev Kit Board (BRD2605A)
- Support added for SiW917 AC1 Moddule Explorer Kit (BRD2708A)
- Added APIs to configure M4 SoC Clock, PLL clocks, read M4 SoC Clock

**Wi-Fi & Network Stack**

- WPA2/WPA3 Personal, WPS and WPA2-EAP Support for Station Mode
- TCP/IP stack with IPv4, IPv6, TCP, UDP, TLS, HTTP/HTTPS, DHCPv4, DHCPv6, MQTT Client, DNS Client, SNTP client.
- Support for SSL client versions TLSV1.0, TLSV1.2, TLSV1.3 and SSL server versions TLSV1.0 and TLSV1.2
- Wi-Fi STA (802.11n/802.11ax) + 802.11n AP Support
- HE (802.11ax) and Individual TWT Feature Support
- Multiple BSSID feature support as an STA
- Secure OTA support on B0 radio boards.
- Support for LWIP network stack
- Support for AWS MQTT library
- Support for Azure MQTT library
- Support for BSD and IoT sockets application programming interface(API)
- Support added to change the listen interval after association with Access Point
- New API sl_si91x_fwup_abort added to support aborting firmware upgrade
- Added feature to support Gain offset calibration in channel 14

**Bluetooth Low Energy**

- BLE central & peripheral connections are supported.
- Ultra-low power save is supported.

**Power Save**

- Max PSP, enhanced MAX PSP, Fast PSP, and 802.11ax TWT power save modes are supported in WiFi.
- Only Max PSP power save mode is supported in BLE

**Crypto Support**

- AES, SHA, AES-CCM, HMAC, GCM, Chacha-poly, ECDH and TRNG FW Crypto API support added.
- PSA enabled Mbed TLS support added
- NVM support added for key storage
- Symmetric and asymmetric key storage
- TRNG, AES, SHA, HMAC, GCM, Chacha-poly, ECDH and AES-CCM hardware crypto engine is integrated with PSA crypto.

**Changes and Fixes**

**MCU**

- Resolved an issue in the sample application caused by sisdk_12.0 sl_memory [SI91X-17435]
- Fixed GSPI default application not functioning correctly in master and slave modes [SI91X-17430]
- Addressed data comparison failure in the I2S primary-secondary configuration when transmitting and receiving data continuously, after configuring TX and RX only once during initialization [SI91X-17415]
- Resolved high power consumption observed in different power states on the Power Manager M4 Wireless [SI91X-17377]
- Fixed higher-than-expected power readings in certain ULP examples on version 3.4.0-RC1 [SI91X-17374]
- Updated documentation about pin_config.h for improved pintool support [SI91X-17336]
- Reduced BLE power consumption when using the power manager clock scaling feature [SI91X-17202]
- Corrected the default clock configuration to reflect 32 MHz instead of 40 MHz for the 917 SoC [SI91X-16972]
- Resolved an issue where timer callbacks were being triggered even when the counter's initial count was greater than the match value [SI91X-16921]
- Fixed inconsistencies and incorrect documentation in the UULP GPIO interrupt configuration [SI91X-16865]
- Addressed an issue where Button 0 interrupts were not functioning in Sensorhub [SI91X-16847]
- Improved API Reference Guide based on feedback for the Si917 SoC [SI91X-16744]
- Fixed an issue where ULP SSI Non-DMA transfers were not working as expected [SI91X-16388]
- Resolved feedback concerns regarding the SL ULP DMA example for GA3 [SI91X-16147]
- Addressed clock drift issues when using XTAL as the clock source [SI91X-16138]
- Fixed a failure in the GSPI application when GSPI_MASTER_MOSI was configured to GPIO_12 and GSPI_MASTER_MISO to GPIO_11 using RTE_Device_917.h and the pintool file [SI91X-16109]
- Resolved an issue where the ULP timer was not resetting the timer value after a reset command was issued [SI91X-15151]

**SDK**

- Fixed the issue in sl_si91x_recvfrom() API [SI91X-17391]
- Added GenAI checklist [WIFI_TECH_DEVOPS-23 ]
- Implemented get_init_status xAPI command [RSCDEV-32290]
- Added a command to get SSID, ap_config, channel, ip_config, ipv4_config and ipv6_config for Wi-Fi Commander [RSCDEV-32658]
- Implemented set_device_config and get_device_config xapi commands [RSCDEV-32277 ]
- Fixed an issue in the firmware update example for NCP SPI and NCP UART modes [SI91X-17339]
- Created a separate internal SQA extension [WIFI_TECH_DEVOPS-55]
- Deleted and cleaned the supporting cmd_lock semaphore  [SI91X-17426]
- Fixed build error found while updating the project from older sdk to wsdk 3.3.3 [SI91X-17255 ]
- Added the Raspberry PI setup instructions to ExpressLink Serial readme [RSCDEV-29125] 
- Revised the logic to skip calling `sl_net_set_credential()` in OPEN security mode [SI91X-17301]
- Updated the logic in sl_si91x_host_get_credentials() API  [SI91X-17345]
- Fixed MSS calculation for TCP sockets in get_socket_mss implementation [SI91X-17413]
- Fixed slow response Issue with net_intf_up [RSCDEV-32265]
- Fixed the issue with receiving more than 800 bytes of data from the Azure cloud server [SI91X-17452]
- Added PSRAM support for m4_firmware_update example [SI91X-17271]
- Fixed AWS MQTT application which is getting struck when running in a loop [SI91X-17261]
- Updated the powersave_standby_associated application for configurable data transfer [SI91X-17005]
- Removed SL_SI91X_TCP_IP_FEAT_MDNSD feature bit map from default_ap_configuration [RSCDEV-32998]
- Fixed HTTP client extended header loading for sl_http_client_add_header() [SI91X-17091]
- Added error events for failure scenarios in Wi-Fi commander [RSCDEV-33002]
- Added Wi-Fi commander demo asset [RSCDEV-31632]
- Modified SL_SI91X_WAIT_FOR_COMMAND_SUCCESS default timeout to 3000(3 Sec) in case of NCP [RSCDEV-31767]
- Renamed `sl_net_host_get_by_name` to `sl_net_dns_resolve_hostname` [SI91X-17459]
- Added documentation for the Wi-Fi Commander [RSCDEV-32953]
- Fixed sl_wifi_deinit() API failure with "0x1" error [SI91X-17399]
- Corrected baud rate in Firmware_flashing_from_host_uart_Xmodem example readme [SI91X-16652]
- Fixed the 0x22 error for bg_scan [SI91X-17468]
- Updated README images for Wi-Fi Commander [RSCDEV-32294]
- Fixed the prefixes for transceiver and HTTP server configuration macros [RSCDEV-32912]
- Addressed the Readme feedback for firmware_flashing_using_xmodem demo [RSCDEV-32768]
- Updated the socket state in concurrent/AP mode [RSCDEV-31767]
- Updated documentation for xAPI commands[RSCDEV-32953]
- Addressed the 3.4.0 drop1 documentation feedback for NCP mode [RSCDEV-32883 ]
- Updated the websocket to support SSL [RSCDEV-33033]
- Updated migration guide with deprecation notice [RSCDEV-32912]
- SQA Bugs: SI91X-17391,  SI91X-17339, SI91X-17426, SI91X-17301,  SI91X-17345,  SI91X-17413, SI91X-17452, SI91X-17399


**Wi-Fi & Network Stack**

- SQA bugs: SI91X-17416, SI91X-17194, SI91X-17400

**BLE**

- SI91X-17205: Resolved issue where DUT could not generate a passkey using the passkey entry method.

**CoEx**

- None

**System**

- None

**Recommendations**

**System**

- The current revision of SiWx917 B0 has:
  - RAM memory of 672k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_672K\_M4SS\_0K- This mode configures TA with 672k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By default EXT\_FEAT\_352K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_480K\_M4SS\_192K - This mode configures TA with 480k and M4 with 192K bytes of memory
    - EXT\_FEAT\_416K\_M4SS\_256K - This mode configures TA with 416k and M4 with 256K bytes of memory
    - EXT\_FEAT\_352K\_M4SS\_320K - This mode configures TA with 352k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 672K\_M4SS\_0K.
  - SoC mode should not use 672k\_M4SS\_0k memory configuration.
- Set the recommended Power Save Profile (PSP) type to Enhanced Max PSP.

**IDE**

- Download the latest version of Simplicity Studio
- Refer to the latest version of the SoC/NCP "Getting-Started-with-SiWx917" guide for more details

**Wi-Fi & Network Stack****

- The recommended embedded MQTT Publish payload is 1 kBytes.
- It is recommended to enable bit 16 of the 'Extended TCP IP Feature' bit map in the opermode command for all Wi-Fi Socket operations from the host to ensure graceful handling during asynchronous closures from the peer.
- Aggregation (bit 2 of feature\_bit\_map) is recommended to be enabled in opermode. This enables software to aggregate multiple packets to achieve better throughput
- TCP retransmission count value is recommended to be 30 or higher so that the TCP does not disconnect while the rejoin happens.
- To restart the module, the application needs to call sl\_wifi\_deinit() followed by sl\_wifi\_init().
- Register 'Join Fail Callback' function every time when join is called, as in the rejoin failure path the callback is deregistered. If not done, this might result in a scan not functioning on rejoin failure.
- User can enable SL\_SI91X\_EXT\_TCP\_IP\_SSL\_16K\_RECORD in 'Extended TCP IP Feature'bit map in opermode, if HTTPS download is failing after receiving HTTP headers..
- iTWT setup is recommended after IP assignment/TCP connection/application specific socket connections.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, increase TCP / ARP Timeouts at the remote side depending upon the configured TWT interval configured.
- In case of TWT+coex, when using sl\_wifi\_enable\_target\_wakeup\_time API, use TWT wake duration <= 16 ms and TWT wake interval >= 1 sec. If wake duration > 16 ms or TWT wake interval < 1sec, there might be performance issues.
- For iTWT GTK Interval Should be kept max possible value or zero. If GTK interval is not configurable, recommended TWT interval (in case of sl\_wifi\_enable\_target\_wakeup\_time API) or RX Latency (in case of sl\_wifi\_target\_wake\_time\_auto\_selection API) is less than 4sec.
- Disable Power Save for High Throughput Applications.
- The application needs to ensure that it sets RTC with the correct timestamp when the feature is enabled before establishing the SSL connection.
- The timeout value should not be less than 1 second for socket select and socket receive calls. Timeout value of less than 1 second is not currently supported.
- When sl\_wifi\_enable\_target\_wakeup\_time API is used, configuring TWT Wake interval beyond 1 min might lead to disconnections from the AP. Recommended to use TWT wakeup interval of less than or equal to 1 min.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, it is recommended to set missed\_beacon\_count of sl\_wifi\_set\_advanced\_client\_configuration API greater than 2 times of the configured TWT Interval.
- Disable power save and suspend any active TWT sessions before triggering HTTP OTAF.
- It is recommended to enable bit 31 of the 'TCP IP Feature' bit map in the opermode command to support multicast protocol

**BLE**

- In BLE, the recommended range of Connection Interval in
  - Power Save (BLE Only) - 100 ms to 1.28 s.
- In BLE, during Connection, the configuration of Scan Interval and Scan Window with the same value is not recommended. The suggested ratio of Scan Window to Scan Interval is 3:4.
- In BLE, if a device is acting as Central, the scan window (in set\_scan\_params and create\_connection commands) must be less than the existing Connection Interval. The suggested ratio of Scan Window to Connection Interval is 2:3.
- In BLE mode, if scanning and advertising are in progress on the SiWx91x module and it subsequently gets connected and moves to the central role, scanning stops else if it moves to the peripheral role, advertising stops. To further establish a connection to another peripheral device or to a central device, the application should give a command for starting advertising and scanning again.

**Co-Existence**

- For concurrent Wi-Fi + BLE, and while a Wi-Fi connection is active, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
- Wi-Fi + BLE Advertising
  - All standard advertising intervals are supported. As Wi-Fi throughput is increased, a slight difference in on-air advertisements compared to configured intervals may be observed.
  - BLE advertising is skipped if the advertising interval collides with Wi-Fi activity.
- Wi-Fi + BLE scanning
  - All standard scan intervals are supported. For better scan results, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
  - BLE scanning will be stopped for intervals that collide with Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Connections
  - All standard connection intervals are supported.
  - For a stable connection, use optimal connection intervals and max supervision timeout in the presence of Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Data Transfer
  - To achieve higher throughput for both Wi-Fi and BLE, use medium connection intervals, such as 45 to 80 ms with maximum supervision timeout.
  - Ensure Wi-Fi activity consumes lower intervals.

**MCU**

- It is not recommended to use the RO clock for Clock Configuration
- PSRAM examples are not supposed to be used with Non-PSRAM OPNs
- By default SYSrtc and wake on wireless wakeup resources enabled, please do not reinstall these two wakeup sources when tickless idle mode is enabled
- Minimum idle-time to Sleep 100ms, as configured in FreeRtos_config.h
- Recommended to enable DMA for better throughput numbers
- For I2C Fastplus and High speed modes, it is recommended to use High power instances from 80Mhz to 180Mhz core clock
- Not recommended to use switch_m4_frequency() for clock scaling. Refer to migration guide for more details on this
- When using this 32MHz source for the PLL, limit the maximum clock to 160MHz
- In RTOS environment, prefer Signaling mechanisms (Semaphore/Mutex/EventFlag etc.) instead of "Variables/Flags" from user callbacks to detect "*Transfer Complete*" for high speed communication peripherals
  - Refer Software Reference Manual for more details
- It is recommended to install device_needs_ram_execution component for OPN based firmware update examples and ULP applications
- It is not advisable to use the sl_si91x_m4_sleep_wakeup API for powersave applications, instead use sl_si91x_power_manager_sleep.

**Known Issues**

**Sensorhub**

- Support for ADC FIFO Mode and Multi channel is open
- PS1-state supports only ADC sensor
- Power transitions with AWS are not stable in Sensorhub
- The process of integrating the tickless component and power manager service into the Sensorhub app is currently underway

**Network Stack**

- Sometimes during SSL Handshake, ECC curve parameters generated are wrong, resulting in connection failure with BBD2 error. However, this recovers in the next attempt.
- Randomize the client port if using rapid connect/disconnect of the MQTT session on the same client port with the power save.
- Secure SSL renegotiation not supported in Embedded Networking Stack.
- Disable power save before making TCP connection for NCP-UART interface.
- In concurrent mode, if IP is configured for AP mode ahead of STA mode then IPv6 configuration may fail for STA mode.
- In concurrent mode, data transfer using the Link-local address will always use the first IP interface created by the application.

**Wi-Fi**

- TWT device (STA) may not go to sleep in between TWT intervals in case of burst data traffics with data size more than the configured 'average tx throughput', until completion of data transfer.
- There are performance and IOP issues with MU MIMO.
- WPA3 Connection with the Hunting and Pecking algorithm takes about 3-4 seconds.
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.
- Low Wi-Fi+BLE throughput
- TCP/UDP TX/RX Data stall observed in CoEx scenarios
- Observed HTTPS Continuous download fails with TA Power save
- Performance improvements are in progress for lower performance metrics.
- Observed interop issue (connectivity failure) with few AP's when device reset/reboot happens on active connection.
- In concurrent mode, AP restart fails after stopping it with ap\_stop command.
- DUT deep sleep will not work after stopping AP with ap\_stop command.
- Unable to get SNTP async events when coex mode and Power save is enabled
- Fine Tuning 802.11ax Spectral mask in Progress
- Fine Tuning 11b mask in Ch11 in progress
- DUT is unable to connect to the AP with WPA3 security when we enable coex mode (WLAN+BLE) in opermode
- Socket listen API is failing from the second iteration
- Disconnections observed with Netgear RAX120 AP in WPA3 security
- Observed connection failures with some AP's in more channel congestion open lab environment
- Firmware Upgrade example is not working in PSRAM boards
- deep sleep example is not supported with power manager
- AP fails to start when ACS is enabled on CZ100, CZ101 OPNS (SI91X-16507)

**BLE**

- HID profile data transfer is not working, when power save is enabled in SoC.
- BLE reconnection is not working in ble_multiconnection_gatt demo, when power save is enabled in SoC
- BLE throughputs are less with STM32 compared to EFR
- SI91X-17202 : BLE power numbers are high with power manager clock scaling feature

**Co-Existence**

- Observed HTTP continuous download is not happening in Powersave mode after BLE connection established using wifi\_https\_ble\_dual\_role application
- Observed DUT hang while Wi-Fi UDP/TCP Tx and BLE continuous scan.

**System**

- BRD8045A and BRD8045C does not have CTS and RTS pins routed from SiWx917 NCP, which are used for UART flow control

**MCU**

- Refer to the respective Radio board user guides for specific pinout details. Examples are targeted to a specific version mentioned in the respective readme
- Few(BOD and Comparator) wakeup resources are not working as expected in Power manager service
- Observed RO and BJT Temperature values are not as expected
- Character Timeout feature for all communication protocols is not supported
- UART instances does not support different FIFO Thresholds
- NVM3 dual flash application is not working as expected in the current release.
- ULP_I2C does not function as expected in low power mode when DMA is enabled
- Powersave Deep Sleep example for the siwg917m110lgtba OPN requires the installation of the device_need_ram_execution component.
- Sometimes TA processor hang occurs when M4 used XTAL clock with sleep enabled.
- The DAC program is not functioning as intended when the sample rate is <= 32ksps.

**Limitations and Unsupported Features**

**SDK**

- WiSeConnect3_SDK_3.1.3 and later versions are not compatible with firmware versions prior to 1711.2.10.1.2.0.4, due to enhancements in max transmit power configuration during Wi-Fi join/connection, need to be cautious while doing OTA firmware upgrade.

**Wi-Fi/Network Stack**

- TLS 1.3 Server is not supported
- In AP mode, IPv6 Router Advertisements are not supported. Although STA connected to the APUT can transfer IPv6 data to the peers by using SLAAC for address configuration.
- When sl\_wifi\_enable\_target\_wake\_time() API is used, observed occasional MQTT disconnections with longer TWT intervals (>30secs) with embedded MQTT + TWT.
- AMSDU TX is not supported.
- Fragmentation is not supported.
- AMSDUs within AMPDU is not supported.
- Currently, the module does not support Radio Measurement Requests feature of CCX V2
- 802.11k is not supported
- 40 MHz bandwidth for 2.4 GHz band is not supported.
- 802.11J channel 14 is not supported.
- MQTT versions 3 and 4 are supported.
- Maximum of 3 SSL connections are supported.
- In SSL ECC Curve ID supported is 23. SSL handshake with 3rd party clients depends on the SSL ECC Curve ID.
- LP mode is not supported.
- In iTWT mode, downlink data traffic should be limited. Disconnections may be observed if AP fails to send all the buffered data in the next TWT Service Period.
- Number of MBSSIDs processed is limited by the beacon length that can be processed by the stack (which is limited to 1024 bytes). Beacons greater than 1024 Bytes in length will not be processed.
- CoEx + EAP Security in 352K/320k is not feasible. This issue is observed due to a lack of memory in the 352k/320k Memory Configuration. It is supported with other EXT\_FEAT\_416K\_M4SS\_256K and EXT\_FEAT\_480K\_M4SS\_192K memory configurations.
- UL MUMIMO is not supported.
- The embedded HTTP server is not supported.
- Baremetal is not supported.
- Compared to SoC mode, NCP mode has fewer examples, but more will be enabled in upcoming releases.
- Maximum Supported length for Embedded MQTT username up to 120 bytes , topic length up to 200 bytes and password upto 62 bytes.
- UART 2 Debug prints are supported only on ULP_GPIO_9.
- WOW LAN feature is not supported.
- SA Query procedure is not supported in AP mode.
- Maximum Supported length for HTTP GET URL is up to 2048 bytes.
- Azure SDK with embedded MQTT is not supported.
- Power save is not supported in Azure MQTT.
- MDNS service discovery is currently not supported.
- sli_si91x_accept_async is not thread-safe
- Observed some background compatibility issues with coex and http in few corner cases
- AP mode does not support Tx and Rx aggregation in Concurrent mode.
- Concurrent STA mode, Rx aggregation is not supported. Tx aggregation is supported but it is not recommended.
- AP standalone mode does not support Tx aggregation. Rx aggregation is supported with limited number of BA sessions.
**For WPA3 Enterprise connection in station mode**
- Up to TLSV1.2 only supported.
- EAP-192 bit mode is not supported
- UOSC feature is not supported
- PEAPV1 is not supported
- PMK caching is not supported.
- Explicitly configured server certificate, server domain(FQDN), server domain suffix configuration are not supported for Server Certificate Validation.

**BLE**

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.
- BLE TX/RX throughput is less when tested with EFM as compared to EFR
- Maximum supported AE data length is 200 bytes.
- Supports only two ADV\_EXT sets.
- Supports only two BLE connections (1 Central and 1 Peripheral) with AE.
- Advertising Extension feature is not supported in Coexistence.
- The  ae\_central & ae\_peripheral applications are not supported with TA\_352K\_M4\_320K RAM configuration.
- Setting PLL mode as 1 is not supported in Coexistence

**MCU**

- Manual chip select option is not supported when using GSPI.
- Following peripherals/features are not functioning as expected
    - ADC Multichannel, SSI Dual and Quad mode, SIO and Temp sensors
- LittleFS example support is intended to work only with Dual flash
- PS1 state is not supported in Power Manager
- Power is same for PS4 and PS3 states with powersave mode of power manager
- When using Button_0 as wakeup source, it limits the button functionality at application layer. For using Button_0 for application specific functionality, enable 'SL_SI91X_NPSS_GPIO_BTN_HANDLER'
- XTAL 40MHz clock as a reference clock is not supported

**System**
- TA Connected sleep and M4 PS2 is not a possible mode of operation
- M4 PS2 active and sleep is not a possible mode when SL_SI91X_EXT_FEAT_FRONT_END_SWITCH_PINS_ULP_GPIO_4_5_0 is enabled in SoC mode

**Simplicity Studio and Commander**

- Default GDB debug configuration is not supported for SoC projects, work around details provided in "Getting-Started-with-SiWx917"
- Observing flash download failures(ERROR 108) for a few image sizes
- Simplicity commander does not support options under "Debug Lock tools".
- All projects in the package are compatible with GCC 10.3.1 version.

**Terminology**

|**Term**|**Description**|
| :- | :- |
|**New Features**|These items are new to this release|
|**Changes/Issues Fixed**|Changes made to existing features found in previous software releases.|
||Enhancements to existing product flow and feature set.|
||Bug fixes done in the release|
|**Deprecated Items**|Features or functions or APIs that are removed from the distributed release to align with the software roadmap|
|**Known Issues**|Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases|
|**Limitations/Recommendations**|Describes the limitations on product usage and recommendations for optimal use cases|

**Note**

- Change SPI frequency to 12.5Mhz while measuring BLE throughput with EFR32

<br>


**WiSeConnect3\_SDK\_3.4.0-rc3 Release Notes**

This SDK package supports SoC Mode and NCP Mode for B0:

- In SoC Mode: Customer applications can run on Cortex M4. Wireless, network, and security stacks run on the wireless subsystem.
- In NCP mode: Wireless, network, and security stacks run on the Wireless subsystem. Customer applications run on the external host MCU.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

**Note**: Use Simplicity Studio version SV5.8.0.1 onwards

**SoC Highlights**

- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support ultra low power Wi-Fi standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode
- **MCU examples** : GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers, Config Timers, ULP (Ultra Low Power) Timers, Sleeptimer, IOSTREAM, NVM3, MEMLCD, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, Sensorhub, Joystick, Relative Humidity and Temperature sensor (RHT), Analog Comparator, Digital to Analog Converter and Temperature sensors (RO and BJT), CRC, LittleFS, Power Manager with RTOS
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE whitelisting, and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack, All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS client
- **IDE** : Simplicity Studio with Windows 10(64-bit), Linux, Mac OS
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** :
  - Si-MB4002A Main board
  - SiWx917 Radio boards

|**RadioBoard Type**|**SiWx917B0 with Board Version**|
| :- | :- |
|Common flash|Si917-BRD4338A(2.0)|
|Dual flash|Si917-BRD4339B(2.0)|
|External PSRAM|Si917-BRD4340A(2.0), Si917-BRD4342A(2.0)|
|Internal PSRAM|Si917-BRD4339A(2.0)|
|Dev Kit|Si917-2605A|
|AC1 Module Explorer Kit|SiW917Y-EK2708A|
|Ezurio Veda SL917 Explorer Kit|SiW917Y-EK2911A|

**NCP Highlights**

- **Host Interface** : SPI, UART
- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode.
- **Wi-Fi** : 2.4GHz Wi-Fi Support, WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE Whitelisting and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack , BLE Stack , All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS Client.
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **Hardware kits to evaluate NCP Mode**
  - NCP EFR Expansion Kit with NCP Radio board (BRD4338A(NCP MBR) + BRD8045A)
  - Wireless Pro kit Mainboard BRD4002A Rev A06
  - EFR32xG24 Wireless 2.4 GHz +10 dBm Radio Board xG24-RB4186C

**Release Details**

|**Item**|**Details**|
| :- | :- |
|Release date|Nov 13th, 2024|
|SDK Version|3.4.0-rc3|
|Firmware Version Standard|1711\.2.13.3.0.0.9|
|Firmware Version Lite|1711\.2.13.3.0.2.9|
|Package Name|WiSeConnect3\_SDK\_3.4.0-rc3|
|GSDK Version | SiSDK-2024.12.0-fcrc0|
|Supported RTOS|FreeRTOS|
|Operating Modes Supported|Wi-Fi STA, Wi-Fi AP, Wi-Fi STA+BLE, Wi-Fi STA+AP|
|Build Quality|GA|

- SiWx917 release consists of two components
  - Wireless Firmware - SiWx917 Firmware Binaries
  - Wiseconnect3 Library - Wiseconnect3 SDK library runs on the external host in NCP mode and internal Cortex M4 in SoC Mode.
- This release is meant only for use with designs based on SiWx917 Silicon
- The firmware to load is available in the following format:
  - SiWG917-B.2.12.1.x.0.x.rps - B0 Full-featured firmware binary
  - SiWG917-B.2.12.1.x.2.x.rps - B0 lite firmware binary

**Features Supported**

**Sensorhub service**

- Support for ADC, SPI, SDC and I2C based sensors
- Support for PS2
- Support added for SDC

**MCU**

- ADC Single Channel, ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, GPIO, GSPI, I2C, I2S, NVM3, OPAMP, PSRAM, PWM, QEI, RTC, SDIO Secondary, SSI Master and Slave, UART, Micro DMA, USART, Watchdog Timer, Temperature Sensors (RO and BJT), USART Master and Slave, CRC, RNG, QEI
- UC Supported Peripherals - GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers , Config Timers, ULP (Ultra Low Power) Timers, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, MEMLCD, Analog Comparator and Digital to Analog Converter.
- Services - Sleeptimer, IOSTREAM, NVM3, Power Manager, LittleFS, Pin Tool (support for USART, I2C, SSI, GSPI, SIO, SCT, PWM, I2S, ADC, DAC and Analog Comparator)
- ULP (Ultra Low Power) Peripherals - ulp\_adc, ulp\_calender, ulp\_dac, ulp\_gpio, ulp\_i2c, ulp\_i2s, ulp\_timer, ulp\_uart, ulp\_dma
- Extended flash write support for NWP flash region and added read api to read from NWP flash region
- List of OPN's supported si917-sb00, siwg917m111mgtba, siwg917m100mgtba, siwg917m111xgtba, siwg917m121xgtba, siwg917m110lgtba and siwg917m141xgtba
- Support added for SiWG917 Dev Kit Board (BRD2605A)
- Support added for SiW917 AC1 Moddule Explorer Kit (BRD2708A)
- Added APIs to configure M4 SoC Clock, PLL clocks, read M4 SoC Clock

**Wi-Fi & Network Stack**

- WPA2/WPA3 Personal, WPS and WPA2-EAP Support for Station Mode
- TCP/IP stack with IPv4, IPv6, TCP, UDP, TLS, HTTP/HTTPS, DHCPv4, DHCPv6, MQTT Client, DNS Client, SNTP client.
- Support for SSL client versions TLSV1.0, TLSV1.2, TLSV1.3 and SSL server versions TLSV1.0 and TLSV1.2
- Wi-Fi STA (802.11n/802.11ax) + 802.11n AP Support
- HE (802.11ax) and Individual TWT Feature Support
- Multiple BSSID feature support as an STA
- Secure OTA support on B0 radio boards.
- Support for LWIP network stack
- Support for AWS MQTT library
- Support for Azure MQTT library
- Support for BSD and IoT sockets application programming interface(API)
- Support added to change the listen interval after association with Access Point
- New API sl_si91x_fwup_abort added to support aborting firmware upgrade
- Added feature to support Gain offset calibration in channel 14

**Bluetooth Low Energy**

- BLE central & peripheral connections are supported.
- Ultra-low power save is supported.

**Power Save**

- Max PSP, enhanced MAX PSP, Fast PSP, and 802.11ax TWT power save modes are supported in WiFi.
- Only Max PSP power save mode is supported in BLE

**Crypto Support**

- AES, SHA, AES-CCM, HMAC, GCM, Chacha-poly, ECDH and TRNG FW Crypto API support added.
- PSA enabled Mbed TLS support added
- NVM support added for key storage
- Symmetric and asymmetric key storage
- TRNG, AES, SHA, HMAC, GCM, Chacha-poly, ECDH and AES-CCM hardware crypto engine is integrated with PSA crypto.

**Changes and Fixes**

**MCU**

- Resolved an issue where the Out of Box (OOB) demo failed to build with the BRD2911A during CI/CD nightly runs [SI91X-17418]
- Relocated the XTAL turn-off API to the tickless API [SI91X-17352],[SI91X-16850],[RSCDEV-32095]
- Added Zlib license clause for Platform files [RSCDEV-31927]
- Fixed an issue where no examples were found when connecting to the SIWG917M111XGTBA board [SI91X-17410].
- Resolved a booting issue in the Matter application on the BRD4342A PSRAM board [SI91X-17394].
- Fixed a toggling issue where the PWM channel was not toggling when configured to channel_2 [SI91X-17389].
- Addressed a factory reset failure in Matter applications on all SoC boards[SI91X-17375].
- Resolved an initialization issue where sl_system_init failed to initialize system components with the Matter application [SI91X-17359].
- Fixed an issue where, after flashing the PSRAM blinky application, LED0 did not blink as expected [SI91X-17330].
- Updated and corrected the links for setup steps under the Getting Started section in README files of Peripheral examples (SDIO secondary, PSRAM, etc.) [SI91X-17306].
- Resolved an issue in where the default power_manager_tickless_idle example was not functioning [SI91X-17293].
- Resolved Dhrystone benchmarking issue for the 917 SoC using Flash and SRAM [SI91X-17208].
- Fixed an issue where the UART Rx handler was not triggered when SLI_SI91X_MCU_INTR_BASED_RX_ON_UART was enabled in the wifi_station_ble_provisioning_aws_soc example [SI91X-17148].
- Resolved an issue where UART USART Asynchronous Rx failed when flow control was enabled and a baud rate of 921600 was set, with DMA disabled [SI91X-17137].
- Fixed a missing GSPI DMA interrupt issue that occurred when a context switch happened with a high-priority task [SI91X-17118].
- Resolved a data comparison failure in the QSPI application when QSPI was configured in QUAD mode [SI91X-16811].
- Fixed a GSPI loopback test issue where the MSB 2 bits of the first byte on MISO were lost [SI91X-16726].
- Addressed feedback on the guide for Developing with WiSeConnect™ SDK v3.x on the SiWx91x™ SoC for custom board implementations [SI91X-16382].
- Resolved an issue where no output prints were observed in the default SensorHub example [SI91X-17373]

**SDK**

- Added support for reset xAPI command [RSCDEV-32293]
- Added  code cleanup and multiple output fix for Expresslink [RSCDEV-31468][SI91X-17386] 
- Added bring up support for RaspPi setup with Si917 module and IoT ExpressLink test suite [RSCDEV-29124]
- Updated the readme for wifi_sta_ble_prov_aws demo [SI91X-16667 ]
- Added BRD2911A  board support for WLAN and COEX examples [RSCDEV-28703]
- Added PR review checklist [RSCDEV-31877]
- Added the document for raw socket limitation [SI91X-17392]
- Fixed the si91x_socket API signatures and data types according to coding standards and naming conventions [RSCDEV-32675]
- Added support for handling remote terminate in data transfer example [SI91X-17096]
- Added implement for set and get si91x boot config xAPI command [RSCDEV-32278, RSCDEV-32289]
- Removed legacy power save sl_si91x_m4_Sleep_wakeup API [RSCDEV-31902]
- Added documentation of BRD2708A for all WLAN & Coex example readme files [RSCDEV-31762]
- Added higher baud rate 921600 in Firmware_flashing_from_host_uart_Xmodem example [SI91X-16652]
- Added Expresslink internal documentation [RSCDEV-29125 ]
- Implemented Expresslink Wi-Fi diagnostic commands for ping and scan functionality [RSCDEV-32707]
- Removed all user callback registration implementation Wi-Fi Commander [RSCDEV-32276]
- SQA Bugs: SI91X-17096


**Wi-Fi & Network Stack**

- SQA bugs: SI91X-17184 ,SI91X-17272 ,SI91X-17281 ,SI91X-16730

**BLE**

- SI91X-17378: Fixed BLE indication and write with response data transfer issues with AE.
- SI91X-17305: Resolved displaying passkey during the connection with Just Works pairing method
- RSCDEV-32269: Replaced the legacy sl_si91x_m4_sleep_wakeup API with the sl_si91x_power_manager_sleep API in all BLE applications.
- RSCDEV-31856: Resolved SonarQube BLE duplicate lines warnings
- Validated BLE functionality using "Ezurio AC1 Explorer Kit(BRD2911A)", added corresponding application changes in all BLE applications

**CoEx**

- None

**System**

- None

**Recommendations**

**System**

- The current revision of SiWx917 B0 has:
  - RAM memory of 672k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_672K\_M4SS\_0K- This mode configures TA with 672k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By default EXT\_FEAT\_352K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_480K\_M4SS\_192K - This mode configures TA with 480k and M4 with 192K bytes of memory
    - EXT\_FEAT\_416K\_M4SS\_256K - This mode configures TA with 416k and M4 with 256K bytes of memory
    - EXT\_FEAT\_352K\_M4SS\_320K - This mode configures TA with 352k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 672K\_M4SS\_0K.
  - SoC mode should not use 672k\_M4SS\_0k memory configuration.
- Set the recommended Power Save Profile (PSP) type to Enhanced Max PSP.

**IDE**

- Download the latest version of Simplicity Studio
- Refer to the latest version of the SoC/NCP "Getting-Started-with-SiWx917" guide for more details

**Wi-Fi & Network Stack****

- The recommended embedded MQTT Publish payload is 1 kBytes.
- It is recommended to enable bit 16 of the 'Extended TCP IP Feature' bit map in the opermode command for all Wi-Fi Socket operations from the host to ensure graceful handling during asynchronous closures from the peer.
- Aggregation (bit 2 of feature\_bit\_map) is recommended to be enabled in opermode. This enables software to aggregate multiple packets to achieve better throughput
- TCP retransmission count value is recommended to be 30 or higher so that the TCP does not disconnect while the rejoin happens.
- To restart the module, the application needs to call sl\_wifi\_deinit() followed by sl\_wifi\_init().
- Register 'Join Fail Callback' function every time when join is called, as in the rejoin failure path the callback is deregistered. If not done, this might result in a scan not functioning on rejoin failure.
- User can enable SL\_SI91X\_EXT\_TCP\_IP\_SSL\_16K\_RECORD in 'Extended TCP IP Feature'bit map in opermode, if HTTPS download is failing after receiving HTTP headers..
- iTWT setup is recommended after IP assignment/TCP connection/application specific socket connections.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, increase TCP / ARP Timeouts at the remote side depending upon the configured TWT interval configured.
- In case of TWT+coex, when using sl\_wifi\_enable\_target\_wakeup\_time API, use TWT wake duration <= 16 ms and TWT wake interval >= 1 sec. If wake duration > 16 ms or TWT wake interval < 1sec, there might be performance issues.
- For iTWT GTK Interval Should be kept max possible value or zero. If GTK interval is not configurable, recommended TWT interval (in case of sl\_wifi\_enable\_target\_wakeup\_time API) or RX Latency (in case of sl\_wifi\_target\_wake\_time\_auto\_selection API) is less than 4sec.
- Disable Power Save for High Throughput Applications.
- The application needs to ensure that it sets RTC with the correct timestamp when the feature is enabled before establishing the SSL connection.
- The timeout value should not be less than 1 second for socket select and socket receive calls. Timeout value of less than 1 second is not currently supported.
- When sl\_wifi\_enable\_target\_wakeup\_time API is used, configuring TWT Wake interval beyond 1 min might lead to disconnections from the AP. Recommended to use TWT wakeup interval of less than or equal to 1 min.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, it is recommended to set missed\_beacon\_count of sl\_wifi\_set\_advanced\_client\_configuration API greater than 2 times of the configured TWT Interval.
- Disable power save and suspend any active TWT sessions before triggering HTTP OTAF.
- It is recommended to enable bit 31 of the 'TCP IP Feature' bit map in the opermode command to support multicast protocol

**BLE**

- In BLE, the recommended range of Connection Interval in
  - Power Save (BLE Only) - 100 ms to 1.28 s.
- In BLE, during Connection, the configuration of Scan Interval and Scan Window with the same value is not recommended. The suggested ratio of Scan Window to Scan Interval is 3:4.
- In BLE, if a device is acting as Central, the scan window (in set\_scan\_params and create\_connection commands) must be less than the existing Connection Interval. The suggested ratio of Scan Window to Connection Interval is 2:3.
- In BLE mode, if scanning and advertising are in progress on the SiWx91x module and it subsequently gets connected and moves to the central role, scanning stops else if it moves to the peripheral role, advertising stops. To further establish a connection to another peripheral device or to a central device, the application should give a command for starting advertising and scanning again.

**Co-Existence**

- For concurrent Wi-Fi + BLE, and while a Wi-Fi connection is active, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
- Wi-Fi + BLE Advertising
  - All standard advertising intervals are supported. As Wi-Fi throughput is increased, a slight difference in on-air advertisements compared to configured intervals may be observed.
  - BLE advertising is skipped if the advertising interval collides with Wi-Fi activity.
- Wi-Fi + BLE scanning
  - All standard scan intervals are supported. For better scan results, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
  - BLE scanning will be stopped for intervals that collide with Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Connections
  - All standard connection intervals are supported.
  - For a stable connection, use optimal connection intervals and max supervision timeout in the presence of Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Data Transfer
  - To achieve higher throughput for both Wi-Fi and BLE, use medium connection intervals, such as 45 to 80 ms with maximum supervision timeout.
  - Ensure Wi-Fi activity consumes lower intervals.

**MCU**

- It is not recommended to use the RO clock for Clock Configuration
- PSRAM examples are not supposed to be used with Non-PSRAM OPNs
- By default SYSrtc and wake on wireless wakeup resources enabled, please do not reinstall these two wakeup sources when tickless idle mode is enabled
- Minimum idle-time to Sleep 100ms, as configured in FreeRtos_config.h
- Recommended to enable DMA for better throughput numbers
- For I2C Fastplus and High speed modes, it is recommended to use High power instances from 80Mhz to 180Mhz core clock
- Not recommended to use switch_m4_frequency() for clock scaling. Refer to migration guide for more details on this
- When using this 32MHz source for the PLL, limit the maximum clock to 160MHz
- In RTOS environment, prefer Signaling mechanisms (Semaphore/Mutex/EventFlag etc.) instead of "Variables/Flags" from user callbacks to detect "*Transfer Complete*" for high speed communication peripherals
  - Refer Software Reference Manual for more details
- It is recommended to install device_needs_ram_execution component for OPN based firmware update examples and ULP applications
- It is not advisable to use the sl_si91x_m4_sleep_wakeup API for powersave applications, instead use sl_si91x_power_manager_sleep.

**Known Issues**

**Sensorhub**

- Support for ADC FIFO Mode and Multi channel is open
- PS1-state supports only ADC sensor
- Power transitions with AWS are not stable in Sensorhub
- The process of integrating the tickless component and power manager service into the Sensorhub app is currently underway

**Network Stack**

- Sometimes during SSL Handshake, ECC curve parameters generated are wrong, resulting in connection failure with BBD2 error. However, this recovers in the next attempt.
- Randomize the client port if using rapid connect/disconnect of the MQTT session on the same client port with the power save.
- Secure SSL renegotiation not supported in Embedded Networking Stack.
- Disable power save before making TCP connection for NCP-UART interface.
- In concurrent mode, if IP is configured for AP mode ahead of STA mode then IPv6 configuration may fail for STA mode.
- In concurrent mode, data transfer using the Link-local address will always use the first IP interface created by the application.

**Wi-Fi**

- TWT device (STA) may not go to sleep in between TWT intervals in case of burst data traffics with data size more than the configured 'average tx throughput', until completion of data transfer.
- There are performance and IOP issues with MU MIMO.
- WPA3 Connection with the Hunting and Pecking algorithm takes about 3-4 seconds.
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.
- Low Wi-Fi+BLE throughput
- TCP/UDP TX/RX Data stall observed in CoEx scenarios
- Observed HTTPS Continuous download fails with TA Power save
- Performance improvements are in progress for lower performance metrics.
- Observed interop issue (connectivity failure) with few AP's when device reset/reboot happens on active connection.
- In concurrent mode, AP restart fails after stopping it with ap\_stop command.
- DUT deep sleep will not work after stopping AP with ap\_stop command.
- Unable to get SNTP async events when coex mode and Power save is enabled
- Fine Tuning 802.11ax Spectral mask in Progress
- Fine Tuning 11b mask in Ch11 in progress
- DUT is unable to connect to the AP with WPA3 security when we enable coex mode (WLAN+BLE) in opermode
- Socket listen API is failing from the second iteration
- Disconnections observed with Netgear RAX120 AP in WPA3 security
- Observed connection failures with some AP's in more channel congestion open lab environment
- Firmware Upgrade example is not working in PSRAM boards
- deep sleep example is not supported with power manager
- AP fails to start when ACS is enabled on CZ100, CZ101 OPNS (SI91X-16507)

**BLE**

- HID profile data transfer is not working, when power save is enabled in SoC.
- BLE reconnection is not working in ble_multiconnection_gatt demo, when power save is enabled in SoC
- BLE throughputs are less with STM32 compared to EFR
- SI91X-17202 : BLE power numbers are high with power manager clock scaling feature

**Co-Existence**

- Observed HTTP continuous download is not happening in Powersave mode after BLE connection established using wifi\_https\_ble\_dual\_role application
- Observed DUT hang while Wi-Fi UDP/TCP Tx and BLE continuous scan.

**System**

- BRD8045A and BRD8045C does not have CTS and RTS pins routed from SiWx917 NCP, which are used for UART flow control

**MCU**

- Refer to the respective Radio board user guides for specific pinout details. Examples are targeted to a specific version mentioned in the respective readme
- Few(BOD and Comparator) wakeup resources are not working as expected in Power manager service
- Observed RO and BJT Temperature values are not as expected
- Character Timeout feature for all communication protocols is not supported
- UART instances does not support different FIFO Thresholds
- NVM3 dual flash application is not working as expected in the current release.
- ULP_I2C does not function as expected in low power mode when DMA is enabled
- Powersave Deep Sleep example for the siwg917m110lgtba OPN requires the installation of the device_need_ram_execution component.
- Sometimes TA processor hang occurs when M4 used XTAL clock with sleep enabled.
- The DAC program is not functioning as intended when the sample rate is <= 32ksps.
- NVM3 common flash application is not working as expected in lie image board

**Limitations and Unsupported Features**

**SDK**

- WiSeConnect3_SDK_3.1.3 and later versions are not compatible with firmware versions prior to 1711.2.10.1.2.0.4, due to enhancements in max transmit power configuration during Wi-Fi join/connection, need to be cautious while doing OTA firmware upgrade.

**Wi-Fi/Network Stack**

- TLS 1.3 Server is not supported
- In AP mode, IPv6 Router Advertisements are not supported. Although STA connected to the APUT can transfer IPv6 data to the peers by using SLAAC for address configuration.
- When sl\_wifi\_enable\_target\_wake\_time() API is used, observed occasional MQTT disconnections with longer TWT intervals (>30secs) with embedded MQTT + TWT.
- AMSDU TX is not supported.
- Fragmentation is not supported.
- AMSDUs within AMPDU is not supported.
- Currently, the module does not support Radio Measurement Requests feature of CCX V2
- 802.11k is not supported
- 40 MHz bandwidth for 2.4 GHz band is not supported.
- 802.11J channel 14 is not supported.
- MQTT versions 3 and 4 are supported.
- Maximum of 3 SSL connections are supported.
- In SSL ECC Curve ID supported is 23. SSL handshake with 3rd party clients depends on the SSL ECC Curve ID.
- LP mode is not supported.
- In iTWT mode, downlink data traffic should be limited. Disconnections may be observed if AP fails to send all the buffered data in the next TWT Service Period.
- Number of MBSSIDs processed is limited by the beacon length that can be processed by the stack (which is limited to 1024 bytes). Beacons greater than 1024 Bytes in length will not be processed.
- CoEx + EAP Security in 352K/320k is not feasible. This issue is observed due to a lack of memory in the 352k/320k Memory Configuration. It is supported with other EXT\_FEAT\_416K\_M4SS\_256K and EXT\_FEAT\_480K\_M4SS\_192K memory configurations.
- UL MUMIMO is not supported.
- The embedded HTTP server is not supported.
- Baremetal is not supported.
- Compared to SoC mode, NCP mode has fewer examples, but more will be enabled in upcoming releases.
- Maximum Supported length for Embedded MQTT username up to 120 bytes , topic length up to 200 bytes and password upto 62 bytes.
- UART 2 Debug prints are supported only on ULP_GPIO_9.
- WOW LAN feature is not supported.
- SA Query procedure is not supported in AP mode.
- Maximum Supported length for HTTP GET URL is up to 2048 bytes.
- Azure SDK with embedded MQTT is not supported.
- Power save is not supported in Azure MQTT.
- MDNS service discovery is currently not supported.
- sli_si91x_accept_async is not thread-safe
- Observed some background compatibility issues with coex and http in few corner cases
- AP mode does not support Tx and Rx aggregation in Concurrent mode.
- Concurrent STA mode, Rx aggregation is not supported. Tx aggregation is supported but it is not recommended.
- AP standalone mode does not support Tx aggregation. Rx aggregation is supported with limited number of BA sessions.
**For WPA3 Enterprise connection in station mode**
- Up to TLSV1.2 only supported.
- EAP-192 bit mode is not supported
- UOSC feature is not supported
- PEAPV1 is not supported
- PMK caching is not supported.
- Explicitly configured server certificate, server domain(FQDN), server domain suffix configuration are not supported for Server Certificate Validation.

**BLE**

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.
- BLE TX/RX throughput is less when tested with EFM as compared to EFR
- Maximum supported AE data length is 200 bytes.
- Supports only two ADV\_EXT sets.
- Supports only two BLE connections (1 Central and 1 Peripheral) with AE.
- Advertising Extension feature is not supported in Coexistence.
- The  ae\_central & ae\_peripheral applications are not supported with TA\_352K\_M4\_320K RAM configuration.
- Setting PLL mode as 1 is not supported in Coexistence

**MCU**

- Manual chip select option is not supported when using GSPI.
- Following peripherals/features are not functioning as expected
    - ADC Multichannel, SSI Dual and Quad mode, SIO and Temp sensors
- LittleFS example support is intended to work only with Dual flash
- PS1 state is not supported in Power Manager
- Power is same for PS4 and PS3 states with powersave mode of power manager
- When using Button_0 as wakeup source, it limits the button functionality at application layer. For using Button_0 for application specific functionality, enable 'SL_SI91X_NPSS_GPIO_BTN_HANDLER'
- XTAL 40MHz clock as a reference clock is not supported

**System**
- TA Connected sleep and M4 PS2 is not a possible mode of operation
- M4 PS2 active and sleep is not a possible mode when SL_SI91X_EXT_FEAT_FRONT_END_SWITCH_PINS_ULP_GPIO_4_5_0 is enabled in SoC mode

**Simplicity Studio and Commander**

- Default GDB debug configuration is not supported for SoC projects, work around details provided in "Getting-Started-with-SiWx917"
- Observing flash download failures(ERROR 108) for a few image sizes
- Simplicity commander does not support options under "Debug Lock tools".
- All projects in the package are compatible with GCC 10.3.1 version.

**Terminology**

|**Term**|**Description**|
| :- | :- |
|**New Features**|These items are new to this release|
|**Changes/Issues Fixed**|Changes made to existing features found in previous software releases.|
||Enhancements to existing product flow and feature set.|
||Bug fixes done in the release|
|**Deprecated Items**|Features or functions or APIs that are removed from the distributed release to align with the software roadmap|
|**Known Issues**|Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases|
|**Limitations/Recommendations**|Describes the limitations on product usage and recommendations for optimal use cases|

**Note**

- Change SPI frequency to 12.5Mhz while measuring BLE throughput with EFR32

<br>



**WiSeConnect3\_SDK\_3.4.0-rc2 Release Notes**

This SDK package supports SoC Mode and NCP Mode for B0:

- In SoC Mode: Customer applications can run on Cortex M4. Wireless, network, and security stacks run on the wireless subsystem.
- In NCP mode: Wireless, network, and security stacks run on the Wireless subsystem. Customer applications run on the external host MCU.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

**Note**: Use Simplicity Studio version SV5.8.0.1 onwards

**SoC Highlights**

- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support ultra low power Wi-Fi standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode
- **MCU examples** : GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers, Config Timers, ULP (Ultra Low Power) Timers, Sleeptimer, IOSTREAM, NVM3, MEMLCD, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, Sensorhub, Joystick, Relative Humidity and Temperature sensor (RHT), Analog Comparator, Digital to Analog Converter and Temperature sensors (RO and BJT), CRC, LittleFS, Power Manager with RTOS
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE whitelisting, and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack, All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS client
- **IDE** : Simplicity Studio with Windows 10(64-bit), Linux, Mac OS
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** :
  - Si-MB4002A Main board
  - SiWx917 Radio boards

|**RadioBoard Type**|**SiWx917B0 with Board Version**|
| :- | :- |
|Common flash|Si917-BRD4338A(2.0)|
|Dual flash|Si917-BRD4339B(2.0)|
|External PSRAM|Si917-BRD4340A(2.0), Si917-BRD4342A(2.0)|
|Internal PSRAM|Si917-BRD4339A(2.0)|
|Dev Kit|Si917-2605A|
|AC1 Module Explorer Kit|SiW917Y-EK2708A|

**NCP Highlights**

- **Host Interface** : SPI, UART
- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode.
- **Wi-Fi** : 2.4GHz Wi-Fi Support, WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE Whitelisting and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack , BLE Stack , All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS Client.
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **Hardware kits to evaluate NCP Mode**
  - NCP EFR Expansion Kit with NCP Radio board (BRD4338A(NCP MBR) + BRD8045A)
  - Wireless Pro kit Mainboard BRD4002A Rev A06
  - EFR32xG24 Wireless 2.4 GHz +10 dBm Radio Board xG24-RB4186C

**Release Details**

|**Item**|**Details**|
| :- | :- |
|Release date|Nov 7th, 2024|
|SDK Version|3.4.0-rc2|
|Firmware Version Standard|1711\.2.13.3.0.0.8|
|Firmware Version Lite|1711\.2.13.3.0.2.8|
|Package Name|WiSeConnect3\_SDK\_3.4.0-rc2|
|GSDK Version | SiSDK-2024.12.0-fcrc0|
|Supported RTOS|FreeRTOS|
|Operating Modes Supported|Wi-Fi STA, Wi-Fi AP, Wi-Fi STA+BLE, Wi-Fi STA+AP|
|Build Quality|GA|

- SiWx917 release consists of two components
  - Wireless Firmware - SiWx917 Firmware Binaries
  - Wiseconnect3 Library - Wiseconnect3 SDK library runs on the external host in NCP mode and internal Cortex M4 in SoC Mode.
- This release is meant only for use with designs based on SiWx917 Silicon
- The firmware to load is available in the following format:
  - SiWG917-B.2.12.1.x.0.x.rps - B0 Full-featured firmware binary
  - SiWG917-B.2.12.1.x.2.x.rps - B0 lite firmware binary

**Features Supported**

**Sensorhub service**

- Support for ADC, SPI, SDC and I2C based sensors
- Support for PS2
- Support added for SDC

**MCU**

- ADC Single Channel, ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, GPIO, GSPI, I2C, I2S, NVM3, OPAMP, PSRAM, PWM, QEI, RTC, SDIO Secondary, SSI Master and Slave, UART, Micro DMA, USART, Watchdog Timer, Temperature Sensors (RO and BJT), USART Master and Slave, CRC, RNG, QEI
- UC Supported Peripherals - GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers , Config Timers, ULP (Ultra Low Power) Timers, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, MEMLCD, Analog Comparator and Digital to Analog Converter.
- Services - Sleeptimer, IOSTREAM, NVM3, Power Manager, LittleFS, Pin Tool (support for USART, I2C, SSI, GSPI, SIO, SCT, PWM, I2S, ADC, DAC and Analog Comparator)
- ULP (Ultra Low Power) Peripherals - ulp\_adc, ulp\_calender, ulp\_dac, ulp\_gpio, ulp\_i2c, ulp\_i2s, ulp\_timer, ulp\_uart, ulp\_dma
- Extended flash write support for NWP flash region and added read api to read from NWP flash region
- List of OPN's supported si917-sb00, siwg917m111mgtba, siwg917m100mgtba, siwg917m111xgtba, siwg917m121xgtba, siwg917m110lgtba and siwg917m141xgtba
- Support added for SiWG917 Dev Kit Board (BRD2605A)
- Support added for SiW917 AC1 Moddule Explorer Kit (BRD2708A)
- Added APIs to configure M4 SoC Clock, PLL clocks, read M4 SoC Clock

**Wi-Fi & Network Stack**

- WPA2/WPA3 Personal, WPS and WPA2-EAP Support for Station Mode
- TCP/IP stack with IPv4, IPv6, TCP, UDP, TLS, HTTP/HTTPS, DHCPv4, DHCPv6, MQTT Client, DNS Client, SNTP client.
- Support for SSL client versions TLSV1.0, TLSV1.2, TLSV1.3 and SSL server versions TLSV1.0 and TLSV1.2
- Wi-Fi STA (802.11n/802.11ax) + 802.11n AP Support
- HE (802.11ax) and Individual TWT Feature Support
- Multiple BSSID feature support as an STA
- Secure OTA support on B0 radio boards.
- Support for LWIP network stack
- Support for AWS MQTT library
- Support for Azure MQTT library
- Support for BSD and IoT sockets application programming interface(API)
- Support added to change the listen interval after association with Access Point
- New API sl_si91x_fwup_abort added to support aborting firmware upgrade
- Added feature to support Gain offset calibration in channel 14

**Bluetooth Low Energy**

- BLE central & peripheral connections are supported.
- Ultra-low power save is supported.

**Power Save**

- Max PSP, enhanced MAX PSP, Fast PSP, and 802.11ax TWT power save modes are supported in WiFi.
- Only Max PSP power save mode is supported in BLE

**Crypto Support**

- AES, SHA, AES-CCM, HMAC, GCM, Chacha-poly, ECDH and TRNG FW Crypto API support added.
- PSA enabled Mbed TLS support added
- NVM support added for key storage
- Symmetric and asymmetric key storage
- TRNG, AES, SHA, HMAC, GCM, Chacha-poly, ECDH and AES-CCM hardware crypto engine is integrated with PSA crypto.

**Changes and Fixes**

**MCU**

- Resolved an issue where sl_system_init failed to initialize system components within the Matter application [SI91X-17359]
- Fixed an issue causing the default ULP SSI example to fail [SI91X-17333]
- Added support for NVIC reset functionality on module boards [SI91X-17321]
- Addressed an issue in the wifi_station_ble_provisioning_aws_soc example where the UART Rx handler was not triggered when SLI_SI91X_MCU_INTR_BASED_RX_ON_UART was enabled. [SI91X-17148]
- Resolved UART USART asynchronous Rx failure when flow control was enabled at a baud rate of 921600 with DMA disabled [SI91X-17137]
- Corrected functionality of the SL_GPIO_INTERRUPT_RISE_FALL_EDGE enum value, which was previously non-functional [SI91X-16863]
- Updated Developing with WiSeConnect™ SDK v3.x with the SiWx91x™ system-on-chip on a Custom Board documentation [SI91X-16382]
- Fixed analog comparator functionality for specific INV_INP_SEL and NON_INV_INP_SEL configurations, ensuring proper operation as expected [SI91X-17251]
- Fixed a missing GSPI DMA interrupt that occurred during context switching with high-priority tasks [RSCDEV-31969] [SI91X-17118]
- Resolved PSRAM blink application LED issue [SI91X-17330]
- Resolved GDB SEGGER J-Link Debugging issue in Simplicity Studio [SI91X-17350]
- Fixed an issue in power_maneger_tickless_idle example[SI91X-17293]
- Resolved Sensorhub app prints issue [SI91X-17373]

**SDK**

- Added the implementation and documentation of crypto PUF and AES commands [RSCDEV-28510, RSCDEV-28511, RSCDEV-30484]
- Added Jenkins automatic dev sanity retry [RSCDEV-31162]
- Included OPN based SLCP buids in nightly build [RSCDEV-30641]
- Added Support for NWP and M4 Update on SoC [SI91X-17030]
- Added Zlib license clause for Zephyr integration files [RSCDEV-31975]
- Fixed error  0x7 which is observed when Secured combined Image is flashed through http_otaf example [SI91X-16838]
- Modified buffer component to sl_si91x_mem_pool_buffers_with_quota in slcp's of example for fg25 - BRD4271A  [SI91X-16816]
- Updated migration guide for sl_wifi_event_t [RSCDEV-31977]
- Added WiFi Commander Implementation [RSCDEV-31980]
- Added support to compile docs at nightly build [RSCDEV-30430 ]
- Modified SLEEP and TIME commands for Expresslink [RSCDEV-31926] 
- Fixed HTTP OTAF firmware upgrade issue which is failing with combined certificate [SI91X-17343]
- Updated the websocket host and resource structure [SI91X-17328]
- Updated the description of socket ID with same name across all types of sockets documentation [SI91X-17176]
- Refactor enum names in WiFi commander [RSCDEV-32264 ]
- Added feasibility check for GSDK 4.3.2 (host EFR23FG25) for Melco customer  [RSCDEV-31972]
- Modified the logic for setting the flags based on CERTIFICATE_INDEX in in HTTP OTAF example [SI91X-16736]
- SQA Bugs: SI91X-16816, SI91X-17343,  SI91X-17328


**Wi-Fi & Network Stack**

- SQA bugs: SI91X-17166, SI91X-16764, SI91X-17324

**BLE**

- None

**CoEx**

- None

**System**

- None

**Recommendations**

**System**

- The current revision of SiWx917 B0 has:
  - RAM memory of 672k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_672K\_M4SS\_0K- This mode configures TA with 672k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By default EXT\_FEAT\_352K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_480K\_M4SS\_192K - This mode configures TA with 480k and M4 with 192K bytes of memory
    - EXT\_FEAT\_416K\_M4SS\_256K - This mode configures TA with 416k and M4 with 256K bytes of memory
    - EXT\_FEAT\_352K\_M4SS\_320K - This mode configures TA with 352k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 672K\_M4SS\_0K.
  - SoC mode should not use 672k\_M4SS\_0k memory configuration.
- Set the recommended Power Save Profile (PSP) type to Enhanced Max PSP.

**IDE**

- Download the latest version of Simplicity Studio
- Refer to the latest version of the SoC/NCP "Getting-Started-with-SiWx917" guide for more details

**Wi-Fi & Network Stack****

- The recommended embedded MQTT Publish payload is 1 kBytes.
- It is recommended to enable bit 16 of the 'Extended TCP IP Feature' bit map in the opermode command for all Wi-Fi Socket operations from the host to ensure graceful handling during asynchronous closures from the peer.
- Aggregation (bit 2 of feature\_bit\_map) is recommended to be enabled in opermode. This enables software to aggregate multiple packets to achieve better throughput
- TCP retransmission count value is recommended to be 30 or higher so that the TCP does not disconnect while the rejoin happens.
- To restart the module, the application needs to call sl\_wifi\_deinit() followed by sl\_wifi\_init().
- Register 'Join Fail Callback' function every time when join is called, as in the rejoin failure path the callback is deregistered. If not done, this might result in a scan not functioning on rejoin failure.
- User can enable SL\_SI91X\_EXT\_TCP\_IP\_SSL\_16K\_RECORD in 'Extended TCP IP Feature'bit map in opermode, if HTTPS download is failing after receiving HTTP headers..
- iTWT setup is recommended after IP assignment/TCP connection/application specific socket connections.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, increase TCP / ARP Timeouts at the remote side depending upon the configured TWT interval configured.
- In case of TWT+coex, when using sl\_wifi\_enable\_target\_wakeup\_time API, use TWT wake duration <= 16 ms and TWT wake interval >= 1 sec. If wake duration > 16 ms or TWT wake interval < 1sec, there might be performance issues.
- For iTWT GTK Interval Should be kept max possible value or zero. If GTK interval is not configurable, recommended TWT interval (in case of sl\_wifi\_enable\_target\_wakeup\_time API) or RX Latency (in case of sl\_wifi\_target\_wake\_time\_auto\_selection API) is less than 4sec.
- Disable Power Save for High Throughput Applications.
- The application needs to ensure that it sets RTC with the correct timestamp when the feature is enabled before establishing the SSL connection.
- The timeout value should not be less than 1 second for socket select and socket receive calls. Timeout value of less than 1 second is not currently supported.
- When sl\_wifi\_enable\_target\_wakeup\_time API is used, configuring TWT Wake interval beyond 1 min might lead to disconnections from the AP. Recommended to use TWT wakeup interval of less than or equal to 1 min.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, it is recommended to set missed\_beacon\_count of sl\_wifi\_set\_advanced\_client\_configuration API greater than 2 times of the configured TWT Interval.
- Disable power save and suspend any active TWT sessions before triggering HTTP OTAF.
- It is recommended to enable bit 31 of the 'TCP IP Feature' bit map in the opermode command to support multicast protocol

**BLE**

- In BLE, the recommended range of Connection Interval in
  - Power Save (BLE Only) - 100 ms to 1.28 s.
- In BLE, during Connection, the configuration of Scan Interval and Scan Window with the same value is not recommended. The suggested ratio of Scan Window to Scan Interval is 3:4.
- In BLE, if a device is acting as Central, the scan window (in set\_scan\_params and create\_connection commands) must be less than the existing Connection Interval. The suggested ratio of Scan Window to Connection Interval is 2:3.
- In BLE mode, if scanning and advertising are in progress on the SiWx91x module and it subsequently gets connected and moves to the central role, scanning stops else if it moves to the peripheral role, advertising stops. To further establish a connection to another peripheral device or to a central device, the application should give a command for starting advertising and scanning again.

**Co-Existence**

- For concurrent Wi-Fi + BLE, and while a Wi-Fi connection is active, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
- Wi-Fi + BLE Advertising
  - All standard advertising intervals are supported. As Wi-Fi throughput is increased, a slight difference in on-air advertisements compared to configured intervals may be observed.
  - BLE advertising is skipped if the advertising interval collides with Wi-Fi activity.
- Wi-Fi + BLE scanning
  - All standard scan intervals are supported. For better scan results, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
  - BLE scanning will be stopped for intervals that collide with Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Connections
  - All standard connection intervals are supported.
  - For a stable connection, use optimal connection intervals and max supervision timeout in the presence of Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Data Transfer
  - To achieve higher throughput for both Wi-Fi and BLE, use medium connection intervals, such as 45 to 80 ms with maximum supervision timeout.
  - Ensure Wi-Fi activity consumes lower intervals.

**MCU**

- It is not recommended to use the RO clock for Clock Configuration
- PSRAM examples are not supposed to be used with Non-PSRAM OPNs
- By default SYSrtc and wake on wireless wakeup resources enabled, please do not reinstall these two wakeup sources when tickless idle mode is enabled
- Minimum idle-time to Sleep 100ms, as configured in FreeRtos_config.h
- Recommended to enable DMA for better throughput numbers
- For I2C Fastplus and High speed modes, it is recommended to use High power instances from 80Mhz to 180Mhz core clock
- Not recommended to use switch_m4_frequency() for clock scaling. Refer to migration guide for more details on this
- When using this 32MHz source for the PLL, limit the maximum clock to 160MHz
- In RTOS environment, prefer Signaling mechanisms (Semaphore/Mutex/EventFlag etc.) instead of "Variables/Flags" from user callbacks to detect "*Transfer Complete*" for high speed communication peripherals
  - Refer Software Reference Manual for more details
- It is recommended to install device_needs_ram_execution component for OPN based firmware update examples and ULP applications
- It is not advisable to use the sl_si91x_m4_sleep_wakeup API for powersave applications, instead use sl_si91x_power_manager_sleep.

**Known Issues**

**Sensorhub**

- Support for ADC FIFO Mode and Multi channel is open
- PS1-state supports only ADC sensor
- Power transitions with AWS are not stable in Sensorhub
- The process of integrating the tickless component and power manager service into the Sensorhub app is currently underway

**Network Stack**

- Sometimes during SSL Handshake, ECC curve parameters generated are wrong, resulting in connection failure with BBD2 error. However, this recovers in the next attempt.
- Randomize the client port if using rapid connect/disconnect of the MQTT session on the same client port with the power save.
- Secure SSL renegotiation not supported in Embedded Networking Stack.
- Disable power save before making TCP connection for NCP-UART interface.
- In concurrent mode, if IP is configured for AP mode ahead of STA mode then IPv6 configuration may fail for STA mode.
- In concurrent mode, data transfer using the Link-local address will always use the first IP interface created by the application.

**Wi-Fi**

- TWT device (STA) may not go to sleep in between TWT intervals in case of burst data traffics with data size more than the configured 'average tx throughput', until completion of data transfer.
- There are performance and IOP issues with MU MIMO.
- WPA3 Connection with the Hunting and Pecking algorithm takes about 3-4 seconds.
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.
- Low Wi-Fi+BLE throughput
- TCP/UDP TX/RX Data stall observed in CoEx scenarios
- Observed HTTPS Continuous download fails with TA Power save
- Performance improvements are in progress for lower performance metrics.
- Observed interop issue (connectivity failure) with few AP's when device reset/reboot happens on active connection.
- In concurrent mode, AP restart fails after stopping it with ap\_stop command.
- DUT deep sleep will not work after stopping AP with ap\_stop command.
- Unable to get SNTP async events when coex mode and Power save is enabled
- Fine Tuning 802.11ax Spectral mask in Progress
- Fine Tuning 11b mask in Ch11 in progress
- DUT is unable to connect to the AP with WPA3 security when we enable coex mode (WLAN+BLE) in opermode
- Socket listen API is failing from the second iteration
- Disconnections observed with Netgear RAX120 AP in WPA3 security
- Observed connection failures with some AP's in more channel congestion open lab environment
- Firmware Upgrade example is not working in PSRAM boards
- deep sleep example is not supported with power manager
- AP fails to start when ACS is enabled on CZ100, CZ101 OPNS (SI91X-16507)

**BLE**

- HID profile data transfer is not working, when power save is enabled in SoC.
- BLE reconnection is not working in ble_multiconnection_gatt demo, when power save is enabled in SoC
- BLE throughputs are less with STM32 compared to EFR
- SI91X-17202 : BLE power numbers are high with power manager clock scaling feature

**Co-Existence**

- Observed HTTP continuous download is not happening in Powersave mode after BLE connection established using wifi\_https\_ble\_dual\_role application
- Observed DUT hang while Wi-Fi UDP/TCP Tx and BLE continuous scan.

**System**

- BRD8045A and BRD8045C does not have CTS and RTS pins routed from SiWx917 NCP, which are used for UART flow control

**MCU**

- Refer to the respective Radio board user guides for specific pinout details. Examples are targeted to a specific version mentioned in the respective readme
- Few(BOD and Comparator) wakeup resources are not working as expected in Power manager service
- Observed RO and BJT Temperature values are not as expected
- Character Timeout feature for all communication protocols is not supported
- UART instances does not support different FIFO Thresholds
- NVM3 dual flash application is not working as expected in the current release.
- ULP_I2C does not function as expected in low power mode when DMA is enabled
- Powersave Deep Sleep example for the siwg917m110lgtba OPN requires the installation of the device_need_ram_execution component.
- Sometimes TA processor hang occurs when M4 used XTAL clock with sleep enabled.
- The DAC program is not functioning as intended when the sample rate is <= 32ksps.
- NVM3 common flash application is not working as expected in lie image board

**Limitations and Unsupported Features**

**SDK**

- WiSeConnect3_SDK_3.1.3 and later versions are not compatible with firmware versions prior to 1711.2.10.1.2.0.4, due to enhancements in max transmit power configuration during Wi-Fi join/connection, need to be cautious while doing OTA firmware upgrade.

**Wi-Fi/Network Stack**

- TLS 1.3 Server is not supported
- In AP mode, IPv6 Router Advertisements are not supported. Although STA connected to the APUT can transfer IPv6 data to the peers by using SLAAC for address configuration.
- When sl\_wifi\_enable\_target\_wake\_time() API is used, observed occasional MQTT disconnections with longer TWT intervals (>30secs) with embedded MQTT + TWT.
- AMSDU TX is not supported.
- Fragmentation is not supported.
- AMSDUs within AMPDU is not supported.
- Currently, the module does not support Radio Measurement Requests feature of CCX V2
- 802.11k is not supported
- 40 MHz bandwidth for 2.4 GHz band is not supported.
- 802.11J channel 14 is not supported.
- MQTT versions 3 and 4 are supported.
- Maximum of 3 SSL connections are supported.
- In SSL ECC Curve ID supported is 23. SSL handshake with 3rd party clients depends on the SSL ECC Curve ID.
- LP mode is not supported.
- In iTWT mode, downlink data traffic should be limited. Disconnections may be observed if AP fails to send all the buffered data in the next TWT Service Period.
- Number of MBSSIDs processed is limited by the beacon length that can be processed by the stack (which is limited to 1024 bytes). Beacons greater than 1024 Bytes in length will not be processed.
- CoEx + EAP Security in 352K/320k is not feasible. This issue is observed due to a lack of memory in the 352k/320k Memory Configuration. It is supported with other EXT\_FEAT\_416K\_M4SS\_256K and EXT\_FEAT\_480K\_M4SS\_192K memory configurations.
- UL MUMIMO is not supported.
- The embedded HTTP server is not supported.
- Baremetal is not supported.
- Compared to SoC mode, NCP mode has fewer examples, but more will be enabled in upcoming releases.
- Maximum Supported length for Embedded MQTT username up to 120 bytes , topic length up to 200 bytes and password upto 62 bytes.
- UART 2 Debug prints are supported only on ULP_GPIO_9.
- WOW LAN feature is not supported.
- SA Query procedure is not supported in AP mode.
- Maximum Supported length for HTTP GET URL is up to 2048 bytes.
- Azure SDK with embedded MQTT is not supported.
- Power save is not supported in Azure MQTT.
- MDNS service discovery is currently not supported.
- sli_si91x_accept_async is not thread-safe
- Observed some background compatibility issues with coex and http in few corner cases
- AP mode does not support Tx and Rx aggregation in Concurrent mode.
- Concurrent STA mode, Rx aggregation is not supported. Tx aggregation is supported but it is not recommended.
- AP standalone mode does not support Tx aggregation. Rx aggregation is supported with limited number of BA sessions.
**For WPA3 Enterprise connection in station mode**
- Up to TLSV1.2 only supported.
- EAP-192 bit mode is not supported
- UOSC feature is not supported
- PEAPV1 is not supported
- PMK caching is not supported.
- Explicitly configured server certificate, server domain(FQDN), server domain suffix configuration are not supported for Server Certificate Validation.

**BLE**

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.
- BLE TX/RX throughput is less when tested with EFM as compared to EFR
- Maximum supported AE data length is 200 bytes.
- Supports only two ADV\_EXT sets.
- Supports only two BLE connections (1 Central and 1 Peripheral) with AE.
- Advertising Extension feature is not supported in Coexistence.
- The  ae\_central & ae\_peripheral applications are not supported with TA\_352K\_M4\_320K RAM configuration.
- Setting PLL mode as 1 is not supported in Coexistence

**MCU**

- Manual chip select option is not supported when using GSPI.
- Following peripherals/features are not functioning as expected
    - ADC Multichannel, SSI Dual and Quad mode, SIO and Temp sensors
- LittleFS example support is intended to work only with Dual flash
- PS1 state is not supported in Power Manager
- Power is same for PS4 and PS3 states with powersave mode of power manager
- When using Button_0 as wakeup source, it limits the button functionality at application layer. For using Button_0 for application specific functionality, enable 'SL_SI91X_NPSS_GPIO_BTN_HANDLER'
- XTAL 40MHz clock as a reference clock is not supported

**System**
- TA Connected sleep and M4 PS2 is not a possible mode of operation
- M4 PS2 active and sleep is not a possible mode when SL_SI91X_EXT_FEAT_FRONT_END_SWITCH_PINS_ULP_GPIO_4_5_0 is enabled in SoC mode

**Simplicity Studio and Commander**

- Default GDB debug configuration is not supported for SoC projects, work around details provided in "Getting-Started-with-SiWx917"
- Observing flash download failures(ERROR 108) for a few image sizes
- Simplicity commander does not support options under "Debug Lock tools".
- All projects in the package are compatible with GCC 10.3.1 version.

**Terminology**

|**Term**|**Description**|
| :- | :- |
|**New Features**|These items are new to this release|
|**Changes/Issues Fixed**|Changes made to existing features found in previous software releases.|
||Enhancements to existing product flow and feature set.|
||Bug fixes done in the release|
|**Deprecated Items**|Features or functions or APIs that are removed from the distributed release to align with the software roadmap|
|**Known Issues**|Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases|
|**Limitations/Recommendations**|Describes the limitations on product usage and recommendations for optimal use cases|

**Note**

- Change SPI frequency to 12.5Mhz while measuring BLE throughput with EFR32

<br>


**WiSeConnect3\_SDK\_3.4.0-rc1 Release Notes**

This SDK package supports SoC Mode and NCP Mode for B0:

- In SoC Mode: Customer applications can run on Cortex M4. Wireless, network, and security stacks run on the wireless subsystem.
- In NCP mode: Wireless, network, and security stacks run on the Wireless subsystem. Customer applications run on the external host MCU.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

**Note**: Use Simplicity Studio version SV5.8.0.1 onwards

**SoC Highlights**

- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support ultra low power Wi-Fi standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode
- **MCU examples** : GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers, Config Timers, ULP (Ultra Low Power) Timers, Sleeptimer, IOSTREAM, NVM3, MEMLCD, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, Sensorhub, Joystick, Relative Humidity and Temperature sensor (RHT), Analog Comparator, Digital to Analog Converter and Temperature sensors (RO and BJT), CRC, LittleFS, Power Manager with RTOS
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE whitelisting, and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack, All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS client
- **IDE** : Simplicity Studio with Windows 10(64-bit), Linux, Mac OS
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** :
  - Si-MB4002A Main board
  - SiWx917 Radio boards

|**RadioBoard Type**|**SiWx917B0 with Board Version**|
| :- | :- |
|Common flash|Si917-BRD4338A(2.0)|
|Dual flash|Si917-BRD4339B(2.0)|
|External PSRAM|Si917-BRD4340A(2.0), Si917-BRD4342A(2.0)|
|Internal PSRAM|Si917-BRD4339A(2.0)|
|Dev Kit|Si917-2605A|
|AC1 Module Explorer Kit|SiW917Y-EK2708A|

**NCP Highlights**

- **Host Interface** : SPI, UART
- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode.
- **Wi-Fi** : 2.4GHz Wi-Fi Support, WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE Whitelisting and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack , BLE Stack , All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS Client.
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **Hardware kits to evaluate NCP Mode**
  - NCP EFR Expansion Kit with NCP Radio board (BRD4338A(NCP MBR) + BRD8045A)
  - Wireless Pro kit Mainboard BRD4002A Rev A06
  - EFR32xG24 Wireless 2.4 GHz +10 dBm Radio Board xG24-RB4186C

**Release Details**

|**Item**|**Details**|
| :- | :- |
|Release date|Oct 30th, 2024|
|SDK Version|3.4.0-rc1|
|Firmware Version Standard|1711\.2.13.3.0.0.7|
|Firmware Version Lite|1711\.2.13.3.0.2.7|
|Package Name|WiSeConnect3\_SDK\_3.4.0-rc1|
|GSDK Version | SiSDK-2024.12.0-fcrc0|
|Supported RTOS|FreeRTOS|
|Operating Modes Supported|Wi-Fi STA, Wi-Fi AP, Wi-Fi STA+BLE, Wi-Fi STA+AP|
|Build Quality|GA|

- SiWx917 release consists of two components
  - Wireless Firmware - SiWx917 Firmware Binaries
  - Wiseconnect3 Library - Wiseconnect3 SDK library runs on the external host in NCP mode and internal Cortex M4 in SoC Mode.
- This release is meant only for use with designs based on SiWx917 Silicon
- The firmware to load is available in the following format:
  - SiWG917-B.2.12.1.x.0.x.rps - B0 Full-featured firmware binary
  - SiWG917-B.2.12.1.x.2.x.rps - B0 lite firmware binary

**Features Supported**

**Sensorhub service**

- Support for ADC, SPI, SDC and I2C based sensors
- Support for PS2
- Support added for SDC

**MCU**

- ADC Single Channel, ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, GPIO, GSPI, I2C, I2S, NVM3, OPAMP, PSRAM, PWM, QEI, RTC, SDIO Secondary, SSI Master and Slave, UART, Micro DMA, USART, Watchdog Timer, Temperature Sensors (RO and BJT), USART Master and Slave, CRC, RNG, QEI
- UC Supported Peripherals - GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers , Config Timers, ULP (Ultra Low Power) Timers, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, MEMLCD, Analog Comparator and Digital to Analog Converter.
- Services - Sleeptimer, IOSTREAM, NVM3, Power Manager, LittleFS, Pin Tool (support for USART, I2C, SSI, GSPI, SIO, SCT, PWM, I2S, ADC, DAC and Analog Comparator)
- ULP (Ultra Low Power) Peripherals - ulp\_adc, ulp\_calender, ulp\_dac, ulp\_gpio, ulp\_i2c, ulp\_i2s, ulp\_timer, ulp\_uart, ulp\_dma
- Extended flash write support for NWP flash region and added read api to read from NWP flash region
- List of OPN's supported si917-sb00, siwg917m111mgtba, siwg917m100mgtba, siwg917m111xgtba, siwg917m121xgtba, siwg917m110lgtba and siwg917m141xgtba
- Support added for SiWG917 Dev Kit Board (BRD2605A)
- Support added for SiW917 AC1 Moddule Explorer Kit (BRD2708A)
- Added APIs to configure M4 SoC Clock, PLL clocks, read M4 SoC Clock

**Wi-Fi & Network Stack**

- WPA2/WPA3 Personal, WPS and WPA2-EAP Support for Station Mode
- TCP/IP stack with IPv4, IPv6, TCP, UDP, TLS, HTTP/HTTPS, DHCPv4, DHCPv6, MQTT Client, DNS Client, SNTP client.
- Support for SSL client versions TLSV1.0, TLSV1.2, TLSV1.3 and SSL server versions TLSV1.0 and TLSV1.2
- Wi-Fi STA (802.11n/802.11ax) + 802.11n AP Support
- HE (802.11ax) and Individual TWT Feature Support
- Multiple BSSID feature support as an STA
- Secure OTA support on B0 radio boards.
- Support for LWIP network stack
- Support for AWS MQTT library
- Support for Azure MQTT library
- Support for BSD and IoT sockets application programming interface(API)
- Support added to change the listen interval after association with Access Point
- New API sl_si91x_fwup_abort added to support aborting firmware upgrade
- Added feature to support Gain offset calibration in channel 14

**Bluetooth Low Energy**

- BLE central & peripheral connections are supported.
- Ultra-low power save is supported.

**Power Save**

- Max PSP, enhanced MAX PSP, Fast PSP, and 802.11ax TWT power save modes are supported in WiFi.
- Only Max PSP power save mode is supported in BLE

**Crypto Support**

- AES, SHA, AES-CCM, HMAC, GCM, Chacha-poly, ECDH and TRNG FW Crypto API support added.
- PSA enabled Mbed TLS support added
- NVM support added for key storage
- Symmetric and asymmetric key storage
- TRNG, AES, SHA, HMAC, GCM, Chacha-poly, ECDH and AES-CCM hardware crypto engine is integrated with PSA crypto.

**Changes and Fixes**

**MCU**

- Resolved an issue where the psram_security_segments_valid bit had no impact when verifying PSRAM secure segments on the external PSRAM board (BRD4342A) [SI91X-17280]
- Fixed build error issue that occurred when updating projects from an older SDK to WSDK 3.3.3. [SI91X-17255]
- Updated the LittleFS example README by removing BD4339B from the hardware requirements section. [SI91X-17226]
- Addressed "Copy Contents" failure due to missing header files in the GitHub repository. [SI91X-17210]
- Resolved an issue preventing the installation of the NVM3 component when using memory pool buffers in wireless examples. [SI91X-16951]
- Fixed an I2S loopback failure when continuously sending and receiving data with single initialization of TX and RX configurations. [SI91X-16903]
- Resolved an issue with sl_gpio_set_port_output_value(), which could not clear specific GPIO pins. [SI91X-16864]
- Updated documentation on using SWD to flash application and firmware binaries in ISP mode. [SI91X-16957]
- Fixed an issue where GPIO_8 on the SiW917 SoC was not functioning as ULP UART RX. [SI91X-16508]
- Updated Board RTE config files to resolve issues with I2C0 and 1 instances [SI9X-17173]
- Resolved an issue where timer callbacks were triggered even when the counter's initial count exceeded the match value. [SI91X-16921]
- Updated SDIO secondary application documentation [SI91X-16625]
- Addressed QSPI application documentation issue [SI91X-16739]

**SDK**

- Added 915 board support ( 4344A and 4344B ) for Wi-Fi and COEX demos
- Modified socket APIs [SI91X-17124 ,  SI91X-17125]
- Added documentation for BRD4353A in all WLAN & COEX readme files [RSCDEV-25425]
- Added the Amazon Root CA 1 certificate to the AWS applications [SI91X-17242]
- Mainlined 3.3.4 fixes into 3.4.0  [RSCDEV-31959]
- Fixed the run duration and throughput calculation issue with wifi_sta_ble_throughput_app [SI91X-17275]
- Fixed AP mode issue with sl_wifi_set_max_tx_power API  [SI91X-16955]
- Updated the Web Socket API names and Readme file [SI91X-17290 ]
- SQA Bugs: SI91X-17290


**Wi-Fi & Network Stack**

- SQA bugs: SI91X-17049

**BLE**

- Resolved SonarQube BLE security hotspots issues.

**CoEx**

- None

**System**

- None

**Recommendations**

**System**

- The current revision of SiWx917 B0 has:
  - RAM memory of 672k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_672K\_M4SS\_0K- This mode configures TA with 672k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By default EXT\_FEAT\_352K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_480K\_M4SS\_192K - This mode configures TA with 480k and M4 with 192K bytes of memory
    - EXT\_FEAT\_416K\_M4SS\_256K - This mode configures TA with 416k and M4 with 256K bytes of memory
    - EXT\_FEAT\_352K\_M4SS\_320K - This mode configures TA with 352k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 672K\_M4SS\_0K.
  - SoC mode should not use 672k\_M4SS\_0k memory configuration.
- Set the recommended Power Save Profile (PSP) type to Enhanced Max PSP.

**IDE**

- Download the latest version of Simplicity Studio
- Refer to the latest version of the SoC/NCP "Getting-Started-with-SiWx917" guide for more details

**Wi-Fi & Network Stack****

- The recommended embedded MQTT Publish payload is 1 kBytes.
- It is recommended to enable bit 16 of the 'Extended TCP IP Feature' bit map in the opermode command for all Wi-Fi Socket operations from the host to ensure graceful handling during asynchronous closures from the peer.
- Aggregation (bit 2 of feature\_bit\_map) is recommended to be enabled in opermode. This enables software to aggregate multiple packets to achieve better throughput
- TCP retransmission count value is recommended to be 30 or higher so that the TCP does not disconnect while the rejoin happens.
- To restart the module, the application needs to call sl\_wifi\_deinit() followed by sl\_wifi\_init().
- Register 'Join Fail Callback' function every time when join is called, as in the rejoin failure path the callback is deregistered. If not done, this might result in a scan not functioning on rejoin failure.
- User can enable SL\_SI91X\_EXT\_TCP\_IP\_SSL\_16K\_RECORD in 'Extended TCP IP Feature'bit map in opermode, if HTTPS download is failing after receiving HTTP headers..
- iTWT setup is recommended after IP assignment/TCP connection/application specific socket connections.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, increase TCP / ARP Timeouts at the remote side depending upon the configured TWT interval configured.
- In case of TWT+coex, when using sl\_wifi\_enable\_target\_wakeup\_time API, use TWT wake duration <= 16 ms and TWT wake interval >= 1 sec. If wake duration > 16 ms or TWT wake interval < 1sec, there might be performance issues.
- For iTWT GTK Interval Should be kept max possible value or zero. If GTK interval is not configurable, recommended TWT interval (in case of sl\_wifi\_enable\_target\_wakeup\_time API) or RX Latency (in case of sl\_wifi\_target\_wake\_time\_auto\_selection API) is less than 4sec.
- Disable Power Save for High Throughput Applications.
- The application needs to ensure that it sets RTC with the correct timestamp when the feature is enabled before establishing the SSL connection.
- The timeout value should not be less than 1 second for socket select and socket receive calls. Timeout value of less than 1 second is not currently supported.
- When sl\_wifi\_enable\_target\_wakeup\_time API is used, configuring TWT Wake interval beyond 1 min might lead to disconnections from the AP. Recommended to use TWT wakeup interval of less than or equal to 1 min.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, it is recommended to set missed\_beacon\_count of sl\_wifi\_set\_advanced\_client\_configuration API greater than 2 times of the configured TWT Interval.
- Disable power save and suspend any active TWT sessions before triggering HTTP OTAF.
- It is recommended to enable bit 31 of the 'TCP IP Feature' bit map in the opermode command to support multicast protocol

**BLE**

- In BLE, the recommended range of Connection Interval in
  - Power Save (BLE Only) - 100 ms to 1.28 s.
- In BLE, during Connection, the configuration of Scan Interval and Scan Window with the same value is not recommended. The suggested ratio of Scan Window to Scan Interval is 3:4.
- In BLE, if a device is acting as Central, the scan window (in set\_scan\_params and create\_connection commands) must be less than the existing Connection Interval. The suggested ratio of Scan Window to Connection Interval is 2:3.
- In BLE mode, if scanning and advertising are in progress on the SiWx91x module and it subsequently gets connected and moves to the central role, scanning stops else if it moves to the peripheral role, advertising stops. To further establish a connection to another peripheral device or to a central device, the application should give a command for starting advertising and scanning again.

**Co-Existence**

- For concurrent Wi-Fi + BLE, and while a Wi-Fi connection is active, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
- Wi-Fi + BLE Advertising
  - All standard advertising intervals are supported. As Wi-Fi throughput is increased, a slight difference in on-air advertisements compared to configured intervals may be observed.
  - BLE advertising is skipped if the advertising interval collides with Wi-Fi activity.
- Wi-Fi + BLE scanning
  - All standard scan intervals are supported. For better scan results, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
  - BLE scanning will be stopped for intervals that collide with Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Connections
  - All standard connection intervals are supported.
  - For a stable connection, use optimal connection intervals and max supervision timeout in the presence of Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Data Transfer
  - To achieve higher throughput for both Wi-Fi and BLE, use medium connection intervals, such as 45 to 80 ms with maximum supervision timeout.
  - Ensure Wi-Fi activity consumes lower intervals.

**MCU**

- It is not recommended to use the RO clock for Clock Configuration
- PSRAM examples are not supposed to be used with Non-PSRAM OPNs
- By default SYSrtc and wake on wireless wakeup resources enabled, please do not reinstall these two wakeup sources when tickless idle mode is enabled
- Minimum idle-time to Sleep 100ms, as configured in FreeRtos_config.h
- Recommended to enable DMA for better throughput numbers
- For I2C Fastplus and High speed modes, it is recommended to use High power instances from 80Mhz to 180Mhz core clock
- Not recommended to use switch_m4_frequency() for clock scaling. Refer to migration guide for more details on this
- When using this 32MHz source for the PLL, limit the maximum clock to 160MHz
- In RTOS environment, prefer Signaling mechanisms (Semaphore/Mutex/EventFlag etc.) instead of "Variables/Flags" from user callbacks to detect "*Transfer Complete*" for high speed communication peripherals
  - Refer Software Reference Manual for more details
- It is recommended to install device_needs_ram_execution component for OPN based firmware update examples and ULP applications
- It is not advisable to use the sl_si91x_m4_sleep_wakeup API for powersave applications, instead use sl_si91x_power_manager_sleep.

**Known Issues**

**Sensorhub**

- Support for ADC FIFO Mode and Multi channel is open
- PS1-state supports only ADC sensor
- Power transitions with AWS are not stable in Sensorhub
- The process of integrating the tickless component and power manager service into the Sensorhub app is currently underway

**Network Stack**

- Sometimes during SSL Handshake, ECC curve parameters generated are wrong, resulting in connection failure with BBD2 error. However, this recovers in the next attempt.
- Randomize the client port if using rapid connect/disconnect of the MQTT session on the same client port with the power save.
- Secure SSL renegotiation not supported in Embedded Networking Stack.
- Disable power save before making TCP connection for NCP-UART interface.
- In concurrent mode, if IP is configured for AP mode ahead of STA mode then IPv6 configuration may fail for STA mode.
- In concurrent mode, data transfer using the Link-local address will always use the first IP interface created by the application.

**Wi-Fi**

- TWT device (STA) may not go to sleep in between TWT intervals in case of burst data traffics with data size more than the configured 'average tx throughput', until completion of data transfer.
- There are performance and IOP issues with MU MIMO.
- WPA3 Connection with the Hunting and Pecking algorithm takes about 3-4 seconds.
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.
- Low Wi-Fi+BLE throughput
- TCP/UDP TX/RX Data stall observed in CoEx scenarios
- Observed HTTPS Continuous download fails with TA Power save
- Performance improvements are in progress for lower performance metrics.
- Observed interop issue (connectivity failure) with few AP's when device reset/reboot happens on active connection.
- In concurrent mode, AP restart fails after stopping it with ap\_stop command.
- DUT deep sleep will not work after stopping AP with ap\_stop command.
- Unable to get SNTP async events when coex mode and Power save is enabled
- Fine Tuning 802.11ax Spectral mask in Progress
- Fine Tuning 11b mask in Ch11 in progress
- DUT is unable to connect to the AP with WPA3 security when we enable coex mode (WLAN+BLE) in opermode
- Socket listen API is failing from the second iteration
- Disconnections observed with Netgear RAX120 AP in WPA3 security
- Observed connection failures with some AP's in more channel congestion open lab environment
- Firmware Upgrade example is not working in PSRAM boards
- deep sleep example is not supported with power manager
- AP fails to start when ACS is enabled on CZ100, CZ101 OPNS (SI91X-16507)

**BLE**

- HID profile data transfer is not working, when power save is enabled in SoC.
- BLE reconnection is not working in ble_multiconnection_gatt demo, when power save is enabled in SoC
- BLE throughputs are less with STM32 compared to EFR
- SI91X-17202 : BLE power numbers are high with power manager clock scaling feature

**Co-Existence**

- Observed HTTP continuous download is not happening in Powersave mode after BLE connection established using wifi\_https\_ble\_dual\_role application
- Observed DUT hang while Wi-Fi UDP/TCP Tx and BLE continuous scan.

**System**

- BRD8045A and BRD8045C does not have CTS and RTS pins routed from SiWx917 NCP, which are used for UART flow control

**MCU**

- Refer to the respective Radio board user guides for specific pinout details. Examples are targeted to a specific version mentioned in the respective readme
- Few(BOD and Comparator) wakeup resources are not working as expected in Power manager service
- Observed RO and BJT Temperature values are not as expected
- Character Timeout feature for all communication protocols is not supported
- UART instances does not support different FIFO Thresholds
- NVM3 dual flash application is not working as expected in the current release.
- ULP_I2C does not function as expected in low power mode when DMA is enabled
- Powersave Deep Sleep example for the siwg917m110lgtba OPN requires the installation of the device_need_ram_execution component.
- Sometimes TA processor hang occurs when M4 used XTAL clock with sleep enabled.
- The DAC program is not functioning as intended when the sample rate is <= 32ksps.
- NVM3 common flash application is not working as expected in lie image board

**Limitations and Unsupported Features**

**SDK**

- WiSeConnect3_SDK_3.1.3 and later versions are not compatible with firmware versions prior to 1711.2.10.1.2.0.4, due to enhancements in max transmit power configuration during Wi-Fi join/connection, need to be cautious while doing OTA firmware upgrade.

**Wi-Fi/Network Stack**

- TLS 1.3 Server is not supported
- In AP mode, IPv6 Router Advertisements are not supported. Although STA connected to the APUT can transfer IPv6 data to the peers by using SLAAC for address configuration.
- When sl\_wifi\_enable\_target\_wake\_time() API is used, observed occasional MQTT disconnections with longer TWT intervals (>30secs) with embedded MQTT + TWT.
- AMSDU TX is not supported.
- Fragmentation is not supported.
- AMSDUs within AMPDU is not supported.
- Currently, the module does not support Radio Measurement Requests feature of CCX V2
- 802.11k is not supported
- 40 MHz bandwidth for 2.4 GHz band is not supported.
- 802.11J channel 14 is not supported.
- MQTT versions 3 and 4 are supported.
- Maximum of 3 SSL connections are supported.
- In SSL ECC Curve ID supported is 23. SSL handshake with 3rd party clients depends on the SSL ECC Curve ID.
- LP mode is not supported.
- In iTWT mode, downlink data traffic should be limited. Disconnections may be observed if AP fails to send all the buffered data in the next TWT Service Period.
- Number of MBSSIDs processed is limited by the beacon length that can be processed by the stack (which is limited to 1024 bytes). Beacons greater than 1024 Bytes in length will not be processed.
- CoEx + EAP Security in 352K/320k is not feasible. This issue is observed due to a lack of memory in the 352k/320k Memory Configuration. It is supported with other EXT\_FEAT\_416K\_M4SS\_256K and EXT\_FEAT\_480K\_M4SS\_192K memory configurations.
- UL MUMIMO is not supported.
- The embedded HTTP server is not supported.
- Baremetal is not supported.
- Compared to SoC mode, NCP mode has fewer examples, but more will be enabled in upcoming releases.
- Maximum Supported length for Embedded MQTT username up to 120 bytes , topic length up to 200 bytes and password upto 62 bytes.
- UART 2 Debug prints are supported only on ULP_GPIO_9.
- WOW LAN feature is not supported.
- SA Query procedure is not supported in AP mode.
- Maximum Supported length for HTTP GET URL is up to 2048 bytes.
- Azure SDK with embedded MQTT is not supported.
- Power save is not supported in Azure MQTT.
- MDNS service discovery is currently not supported.
- sli_si91x_accept_async is not thread-safe
- Observed some background compatibility issues with coex and http in few corner cases
- AP mode does not support Tx and Rx aggregation in Concurrent mode.
- Concurrent STA mode, Rx aggregation is not supported. Tx aggregation is supported but it is not recommended.
- AP standalone mode does not support Tx aggregation. Rx aggregation is supported with limited number of BA sessions.
**For WPA3 Enterprise connection in station mode**
- Up to TLSV1.2 only supported.
- EAP-192 bit mode is not supported
- UOSC feature is not supported
- PEAPV1 is not supported
- PMK caching is not supported.
- Explicitly configured server certificate, server domain(FQDN), server domain suffix configuration are not supported for Server Certificate Validation.

**BLE**

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.
- BLE TX/RX throughput is less when tested with EFM as compared to EFR
- Maximum supported AE data length is 200 bytes.
- Supports only two ADV\_EXT sets.
- Supports only two BLE connections (1 Central and 1 Peripheral) with AE.
- Advertising Extension feature is not supported in Coexistence.
- The  ae\_central & ae\_peripheral applications are not supported with TA\_352K\_M4\_320K RAM configuration.
- Setting PLL mode as 1 is not supported in Coexistence

**MCU**

- Manual chip select option is not supported when using GSPI.
- Following peripherals/features are not functioning as expected
    - ADC Multichannel, SSI Dual and Quad mode, SIO and Temp sensors
- LittleFS example support is intended to work only with Dual flash
- PS1 state is not supported in Power Manager
- Power is same for PS4 and PS3 states with powersave mode of power manager
- When using Button_0 as wakeup source, it limits the button functionality at application layer. For using Button_0 for application specific functionality, enable 'SL_SI91X_NPSS_GPIO_BTN_HANDLER'
- XTAL 40MHz clock as a reference clock is not supported

**System**
- TA Connected sleep and M4 PS2 is not a possible mode of operation
- M4 PS2 active and sleep is not a possible mode when SL_SI91X_EXT_FEAT_FRONT_END_SWITCH_PINS_ULP_GPIO_4_5_0 is enabled in SoC mode

**Simplicity Studio and Commander**

- Default GDB debug configuration is not supported for SoC projects, work around details provided in "Getting-Started-with-SiWx917"
- Observing flash download failures(ERROR 108) for a few image sizes
- Simplicity commander does not support options under "Debug Lock tools".
- All projects in the package are compatible with GCC 10.3.1 version.

**Terminology**

|**Term**|**Description**|
| :- | :- |
|**New Features**|These items are new to this release|
|**Changes/Issues Fixed**|Changes made to existing features found in previous software releases.|
||Enhancements to existing product flow and feature set.|
||Bug fixes done in the release|
|**Deprecated Items**|Features or functions or APIs that are removed from the distributed release to align with the software roadmap|
|**Known Issues**|Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases|
|**Limitations/Recommendations**|Describes the limitations on product usage and recommendations for optimal use cases|

**Note**

- Change SPI frequency to 12.5Mhz while measuring BLE throughput with EFR32

<br>


**WiSeConnect3\_SDK\_3.4.0-fc Release Notes**

This SDK package supports SoC Mode and NCP Mode for B0:

- In SoC Mode: Customer applications can run on Cortex M4. Wireless, network, and security stacks run on the wireless subsystem.
- In NCP mode: Wireless, network, and security stacks run on the Wireless subsystem. Customer applications run on the external host MCU.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

**Note**: Use Simplicity Studio version SV5.8.0.1 onwards

**SoC Highlights**

- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support ultra low power Wi-Fi standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode
- **MCU examples** : GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers, Config Timers, ULP (Ultra Low Power) Timers, Sleeptimer, IOSTREAM, NVM3, MEMLCD, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, Sensorhub, Joystick, Relative Humidity and Temperature sensor (RHT), Analog Comparator, Digital to Analog Converter and Temperature sensors (RO and BJT), CRC, LittleFS, Power Manager with RTOS
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE whitelisting, and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack, All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS client
- **IDE** : Simplicity Studio with Windows 10(64-bit), Linux, Mac OS
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** :
  - Si-MB4002A Main board
  - SiWx917 Radio boards

|**RadioBoard Type**|**SiWx917B0 with Board Version**|
| :- | :- |
|Common flash|Si917-BRD4338A(2.0)|
|Dual flash|Si917-BRD4339B(2.0)|
|External PSRAM|Si917-BRD4340A(2.0), Si917-BRD4342A(2.0)|
|Internal PSRAM|Si917-BRD4339A(2.0)|
|Dev Kit|Si917-2605A|
|AC1 Module Explorer Kit|SiW917Y-EK2708A|

**NCP Highlights**

- **Host Interface** : SPI, UART
- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode.
- **Wi-Fi** : 2.4GHz Wi-Fi Support, WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE Whitelisting and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack , BLE Stack , All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS Client.
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **Hardware kits to evaluate NCP Mode**
  - NCP EFR Expansion Kit with NCP Radio board (BRD4338A(NCP MBR) + BRD8045A)
  - Wireless Pro kit Mainboard BRD4002A Rev A06
  - EFR32xG24 Wireless 2.4 GHz +10 dBm Radio Board xG24-RB4186C

**Release Details**

|**Item**|**Details**|
| :- | :- |
|Release date|Oct 25th, 2024|
|SDK Version|3.4.0-fc|
|Firmware Version Standard|1711\.2.13.3.0.0.6|
|Firmware Version Lite|1711\.2.13.3.0.2.6|
|Package Name|WiSeConnect3\_SDK\_3.4.0-fc|
|GSDK Version | SiSDK-2024.12.0-ifc3rc4|
|Supported RTOS|FreeRTOS|
|Operating Modes Supported|Wi-Fi STA, Wi-Fi AP, Wi-Fi STA+BLE, Wi-Fi STA+AP|
|Build Quality|GA|

- SiWx917 release consists of two components
  - Wireless Firmware - SiWx917 Firmware Binaries
  - Wiseconnect3 Library - Wiseconnect3 SDK library runs on the external host in NCP mode and internal Cortex M4 in SoC Mode.
- This release is meant only for use with designs based on SiWx917 Silicon
- The firmware to load is available in the following format:
  - SiWG917-B.2.12.1.x.0.x.rps - B0 Full-featured firmware binary
  - SiWG917-B.2.12.1.x.2.x.rps - B0 lite firmware binary

**Features Supported**

**Sensorhub service**

- Support for ADC, SPI, SDC and I2C based sensors
- Support for PS2
- Support added for SDC

**MCU**

- ADC Single Channel, ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, GPIO, GSPI, I2C, I2S, NVM3, OPAMP, PSRAM, PWM, QEI, RTC, SDIO Secondary, SSI Master and Slave, UART, Micro DMA, USART, Watchdog Timer, Temperature Sensors (RO and BJT), USART Master and Slave, CRC, RNG, QEI
- UC Supported Peripherals - GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers , Config Timers, ULP (Ultra Low Power) Timers, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, MEMLCD, Analog Comparator and Digital to Analog Converter.
- Services - Sleeptimer, IOSTREAM, NVM3, Power Manager, LittleFS, Pin Tool (support for USART, I2C, SSI, GSPI, SIO, SCT, PWM, I2S, ADC, DAC and Analog Comparator)
- ULP (Ultra Low Power) Peripherals - ulp\_adc, ulp\_calender, ulp\_dac, ulp\_gpio, ulp\_i2c, ulp\_i2s, ulp\_timer, ulp\_uart, ulp\_dma
- Extended flash write support for NWP flash region and added read api to read from NWP flash region
- List of OPN's supported si917-sb00, siwg917m111mgtba, siwg917m100mgtba, siwg917m111xgtba, siwg917m121xgtba, siwg917m110lgtba and siwg917m141xgtba
- Support added for SiWG917 Dev Kit Board (BRD2605A)
- Support added for SiW917 AC1 Moddule Explorer Kit (BRD2708A)
- Added APIs to configure M4 SoC Clock, PLL clocks, read M4 SoC Clock

**Wi-Fi & Network Stack**

- WPA2/WPA3 Personal, WPS and WPA2-EAP Support for Station Mode
- TCP/IP stack with IPv4, IPv6, TCP, UDP, TLS, HTTP/HTTPS, DHCPv4, DHCPv6, MQTT Client, DNS Client, SNTP client.
- Support for SSL client versions TLSV1.0, TLSV1.2, TLSV1.3 and SSL server versions TLSV1.0 and TLSV1.2
- Wi-Fi STA (802.11n/802.11ax) + 802.11n AP Support
- HE (802.11ax) and Individual TWT Feature Support
- Multiple BSSID feature support as an STA
- Secure OTA support on B0 radio boards.
- Support for LWIP network stack
- Support for AWS MQTT library
- Support for Azure MQTT library
- Support for BSD and IoT sockets application programming interface(API)
- Support added to change the listen interval after association with Access Point
- New API sl_si91x_fwup_abort added to support aborting firmware upgrade
- Added feature to support Gain offset calibration in channel 14

**Bluetooth Low Energy**

- BLE central & peripheral connections are supported.
- Ultra-low power save is supported.

**Power Save**

- Max PSP, enhanced MAX PSP, Fast PSP, and 802.11ax TWT power save modes are supported in WiFi.
- Only Max PSP power save mode is supported in BLE

**Crypto Support**

- AES, SHA, AES-CCM, HMAC, GCM, Chacha-poly, ECDH and TRNG FW Crypto API support added.
- PSA enabled Mbed TLS support added
- NVM support added for key storage
- Symmetric and asymmetric key storage
- TRNG, AES, SHA, HMAC, GCM, Chacha-poly, ECDH and AES-CCM hardware crypto engine is integrated with PSA crypto.

**Changes and Fixes**

**MCU**

- Added Si917 Explorer Kit Support in the SDK [RSCDEV-23454]
- Added QEI peripheral support [RSCDEV-29074]
- Added pintool support for DAC, ADC, Analog Comparator, and Config_Timer [RSCDEV-30148]
- Added sample application demonstrating basic file operations using LittleFS [RSCDEV-28967]
- Moved the QSPI example from the internal directory to si91x_soc/peripheral and improved the example code [RSCDEV-19382]
- Added interrupt API for icm40627 sensor [RSCDEV-31790]
- Added SBOM fields to every applicable platform slc component [RSCDEV-24439]
- Optimized the time taken for M4-TA handshake with XTAL frame work [RSCDEV-30370]
- Implemented the ability to use SCDC or LDO mode based on temperature and fixed the retention LDO voltage issue at -40 degrees [RSCDEV-31661]
- Provided PS2 State support in Power Manager Tickless idle example [RSCDEV-31831]
- Resolved NVM3 project creation issue for 111x, 21x, and 141x Flash-less OPNs [SI91X-17227, SI91X-16340]
- Addressed known issues(I2C FastPlus Blocking API fail, PS0 state) from WC-3.4.0-IFC5 [SI91X-17212]
- Fixed discrepancies with I2C-based applications (Combo, RTOS Message Queue) in WiseConnect 3.3.3-CF on SiWG917Y111MGNBA [SI91X-17143]
- Corrected the implementation of the sl_si91x_gpio_clear_uulp_npss_wakeup_interrupt API [SI91X-16968]
- Resolved the issue where PWM mode was not functioning as expected in the Config Timer application [SI91X-16848]
- Fixed the ULP SSI Non-DMA transfer functionality [SI91X-16388]
- Resolved the build issue with the MatterLockOverWiFi solution project on the brd4338a board using Studio 5.9.1.1 rel 3210 and VSC 1.3.0 with WiseConnect 3.3.1 [SI91X-16256]
- All the powersave applications will begin in the PS3 state powersave mode, using a 40MHz XTAL as the clock source for the core
- Resolved issue where some examples were getting junk prints in Docklight [SI91X-17254]
- Resolved an issue where the application did not enter the PS0 state when using the ULP UART instance [SI91X-17191]
- Fixed HRNG app build fail issue with IOSTREAM component [SI91X-17248]
- SSI Slave application was previously missing from the examples list and has now been added [SI91X-17168]

**SDK**

- Fixed reconnect issue with MQTT broker after MQTT connect failed with error -13 [SI91X-16933]
- Added cleanup of packets in the queue when Wi-Fi events occur [RSCDEV-30694]
- Handled RSI_BUFFER_FULL clear interrupt in M4 [RSCDEV-30815]
- Added support for WiFi Provisioning sample app on NCP UART [RSCDEV-31351]
- Updated the OPNs list for test agent [SI91X-17002]
- Updated the documentation for Sockets [SI91X-16745]
- Added BRD2708A board support for missing OOB example [RSCDEV-31760]
- Fixed DUT is in hang issue in NCP SPI mode[SI91X-17206]
- Skipped 4 BLE test cases in nightly runs [WIFI_BT_UTFHELP-4602]
- Fixed issue with the device not going to sleep immediately after the power save API is called [SI91X-16809 / RSCDEV-31476]
- Added the SDK support for WPA3_ENTERPRISE in STA [RSCDEV-25734]
- Added support for WebSockets [RSCDEV-31124]
- Added implementation of Amazon Express Link AT commands for AWS cloud connectivity [RSCDEV-31460]
- Added an internal function to handle select API's rejoin failure [RSCDEV-31451]
- Renamed HTTP_OTAF to HTTPS_OTAF [SI91X-16918]
- Added board bringup support on 915 siwg915m000mgtba [RSCDEV-31259]
- Updated GSDK_ARTIFACTORY_PATH in PR.Jenkinsfile [RSCDEV-30517 ]
- Modified Readme.md of wifi_station_ble_provisioning_aws example [SI91X-17079]
- Added build demo assets for brd2708a [SI91X-17094]
- SQA Bugs - SI91X-16933
- Melco Bugs: SI91X-16849, SI91X-17197, SI91X-16898, SI91X-16965, SI91X-17234

**Wi-Fi & Network Stack**

- Alternate certification chains support is added. With this as opposed to requiring full chain validation, only the peer certificate must validate to a trusted certificate. This allows loading intermediate root CA's as trusted.
- SQA bugs: SI91X-17037

**BLE**

- None

**CoEx**

- None

**System**

- None

**Recommendations**

**System**

- The current revision of SiWx917 B0 has:
  - RAM memory of 672k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_672K\_M4SS\_0K- This mode configures TA with 672k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By default EXT\_FEAT\_352K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_480K\_M4SS\_192K - This mode configures TA with 480k and M4 with 192K bytes of memory
    - EXT\_FEAT\_416K\_M4SS\_256K - This mode configures TA with 416k and M4 with 256K bytes of memory
    - EXT\_FEAT\_352K\_M4SS\_320K - This mode configures TA with 352k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 672K\_M4SS\_0K.
  - SoC mode should not use 672k\_M4SS\_0k memory configuration.
- Set the recommended Power Save Profile (PSP) type to Enhanced Max PSP.

**IDE**

- Download the latest version of Simplicity Studio
- Refer to the latest version of the SoC/NCP "Getting-Started-with-SiWx917" guide for more details

**Wi-Fi & Network Stack****

- The recommended embedded MQTT Publish payload is 1 kBytes.
- It is recommended to enable bit 16 of the 'Extended TCP IP Feature' bit map in the opermode command for all Wi-Fi Socket operations from the host to ensure graceful handling during asynchronous closures from the peer.
- Aggregation (bit 2 of feature\_bit\_map) is recommended to be enabled in opermode. This enables software to aggregate multiple packets to achieve better throughput
- TCP retransmission count value is recommended to be 30 or higher so that the TCP does not disconnect while the rejoin happens.
- To restart the module, the application needs to call sl\_wifi\_deinit() followed by sl\_wifi\_init().
- Register 'Join Fail Callback' function every time when join is called, as in the rejoin failure path the callback is deregistered. If not done, this might result in a scan not functioning on rejoin failure.
- User can enable SL\_SI91X\_EXT\_TCP\_IP\_SSL\_16K\_RECORD in 'Extended TCP IP Feature'bit map in opermode, if HTTPS download is failing after receiving HTTP headers..
- iTWT setup is recommended after IP assignment/TCP connection/application specific socket connections.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, increase TCP / ARP Timeouts at the remote side depending upon the configured TWT interval configured.
- In case of TWT+coex, when using sl\_wifi\_enable\_target\_wakeup\_time API, use TWT wake duration <= 16 ms and TWT wake interval >= 1 sec. If wake duration > 16 ms or TWT wake interval < 1sec, there might be performance issues.
- For iTWT GTK Interval Should be kept max possible value or zero. If GTK interval is not configurable, recommended TWT interval (in case of sl\_wifi\_enable\_target\_wakeup\_time API) or RX Latency (in case of sl\_wifi\_target\_wake\_time\_auto\_selection API) is less than 4sec.
- Disable Power Save for High Throughput Applications.
- The application needs to ensure that it sets RTC with the correct timestamp when the feature is enabled before establishing the SSL connection.
- The timeout value should not be less than 1 second for socket select and socket receive calls. Timeout value of less than 1 second is not currently supported.
- When sl\_wifi\_enable\_target\_wakeup\_time API is used, configuring TWT Wake interval beyond 1 min might lead to disconnections from the AP. Recommended to use TWT wakeup interval of less than or equal to 1 min.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, it is recommended to set missed\_beacon\_count of sl\_wifi\_set\_advanced\_client\_configuration API greater than 2 times of the configured TWT Interval.
- Disable power save and suspend any active TWT sessions before triggering HTTP OTAF.
- It is recommended to enable bit 31 of the 'TCP IP Feature' bit map in the opermode command to support multicast protocol

**BLE**

- In BLE, the recommended range of Connection Interval in
  - Power Save (BLE Only) - 100 ms to 1.28 s.
- In BLE, during Connection, the configuration of Scan Interval and Scan Window with the same value is not recommended. The suggested ratio of Scan Window to Scan Interval is 3:4.
- In BLE, if a device is acting as Central, the scan window (in set\_scan\_params and create\_connection commands) must be less than the existing Connection Interval. The suggested ratio of Scan Window to Connection Interval is 2:3.
- In BLE mode, if scanning and advertising are in progress on the SiWx91x module and it subsequently gets connected and moves to the central role, scanning stops else if it moves to the peripheral role, advertising stops. To further establish a connection to another peripheral device or to a central device, the application should give a command for starting advertising and scanning again.

**Co-Existence**

- For concurrent Wi-Fi + BLE, and while a Wi-Fi connection is active, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
- Wi-Fi + BLE Advertising
  - All standard advertising intervals are supported. As Wi-Fi throughput is increased, a slight difference in on-air advertisements compared to configured intervals may be observed.
  - BLE advertising is skipped if the advertising interval collides with Wi-Fi activity.
- Wi-Fi + BLE scanning
  - All standard scan intervals are supported. For better scan results, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
  - BLE scanning will be stopped for intervals that collide with Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Connections
  - All standard connection intervals are supported.
  - For a stable connection, use optimal connection intervals and max supervision timeout in the presence of Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Data Transfer
  - To achieve higher throughput for both Wi-Fi and BLE, use medium connection intervals, such as 45 to 80 ms with maximum supervision timeout.
  - Ensure Wi-Fi activity consumes lower intervals.

**MCU**

- It is not recommended to use the RO clock for Clock Configuration
- PSRAM examples are not supposed to be used with Non-PSRAM OPNs
- By default SYSrtc and wake on wireless wakeup resources enabled, please do not reinstall these two wakeup sources when tickless idle mode is enabled
- Minimum idle-time to Sleep 100ms, as configured in FreeRtos_config.h
- Recommended to enable DMA for better throughput numbers
- For I2C Fastplus and High speed modes, it is recommended to use High power instances from 80Mhz to 180Mhz core clock
- Not recommended to use switch_m4_frequency() for clock scaling. Refer to migration guide for more details on this
- When using this 32MHz source for the PLL, limit the maximum clock to 160MHz
- In RTOS environment, prefer Signaling mechanisms (Semaphore/Mutex/EventFlag etc.) instead of "Variables/Flags" from user callbacks to detect "*Transfer Complete*" for high speed communication peripherals
  - Refer Software Reference Manual for more details
- It is recommended to install device_needs_ram_execution component for OPN based firmware update examples and ULP applications
- It is not advisable to use the sl_si91x_m4_sleep_wakeup API for powersave applications, instead use sl_si91x_power_manager_sleep.

**Known Issues**

**Sensorhub**

- Support for ADC FIFO Mode and Multi channel is open
- PS1-state supports only ADC sensor
- Power transitions with AWS are not stable in Sensorhub
- The process of integrating the tickless component and power manager service into the Sensorhub app is currently underway

**Network Stack**

- Sometimes during SSL Handshake, ECC curve parameters generated are wrong, resulting in connection failure with BBD2 error. However, this recovers in the next attempt.
- Randomize the client port if using rapid connect/disconnect of the MQTT session on the same client port with the power save.
- Secure SSL renegotiation not supported in Embedded Networking Stack.
- Disable power save before making TCP connection for NCP-UART interface.
- In concurrent mode, if IP is configured for AP mode ahead of STA mode then IPv6 configuration may fail for STA mode.
- In concurrent mode, data transfer using the Link-local address will always use the first IP interface created by the application.

**Wi-Fi**

- TWT device (STA) may not go to sleep in between TWT intervals in case of burst data traffics with data size more than the configured 'average tx throughput', until completion of data transfer.
- There are performance and IOP issues with MU MIMO.
- WPA3 Connection with the Hunting and Pecking algorithm takes about 3-4 seconds.
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.
- Low Wi-Fi+BLE throughput
- TCP/UDP TX/RX Data stall observed in CoEx scenarios
- Observed HTTPS Continuous download fails with TA Power save
- Performance improvements are in progress for lower performance metrics.
- Observed interop issue (connectivity failure) with few AP's when device reset/reboot happens on active connection.
- In concurrent mode, AP restart fails after stopping it with ap\_stop command.
- DUT deep sleep will not work after stopping AP with ap\_stop command.
- Unable to get SNTP async events when coex mode and Power save is enabled
- Fine Tuning 802.11ax Spectral mask in Progress
- Fine Tuning 11b mask in Ch11 in progress
- DUT is unable to connect to the AP with WPA3 security when we enable coex mode (WLAN+BLE) in opermode
- Socket listen API is failing from the second iteration
- Disconnections observed with Netgear RAX120 AP in WPA3 security
- Observed connection failures with some AP's in more channel congestion open lab environment
- Firmware Upgrade example is not working in PSRAM boards
- deep sleep example is not supported with power manager
- AP fails to start when ACS is enabled on CZ100, CZ101 OPNS (SI91X-16507)

**BLE**

- HID profile data transfer is not working, when power save is enabled in SoC.
- BLE reconnection is not working in ble_multiconnection_gatt demo, when power save is enabled in SoC
- BLE throughputs are less with STM32 compared to EFR
- SI91X-17202 : BLE power numbers are high with power manager clock scaling feature

**Co-Existence**

- Observed HTTP continuous download is not happening in Powersave mode after BLE connection established using wifi\_https\_ble\_dual\_role application
- Observed DUT hang while Wi-Fi UDP/TCP Tx and BLE continuous scan.

**System**

- BRD8045A and BRD8045C does not have CTS and RTS pins routed from SiWx917 NCP, which are used for UART flow control

**MCU**

- Refer to the respective Radio board user guides for specific pinout details. Examples are targeted to a specific version mentioned in the respective readme
- Few(BOD and Comparator) wakeup resources are not working as expected in Power manager service
- Observed RO and BJT Temperature values are not as expected
- Character Timeout feature for all communication protocols is not supported
- UART instances does not support different FIFO Thresholds
- NVM3 dual flash application is not working as expected in the current release.
- ULP_I2C does not function as expected in low power mode when DMA is enabled
- Powersave Deep Sleep example for the siwg917m110lgtba OPN requires the installation of the device_need_ram_execution component.
- Sometimes TA processor hang occurs when M4 used XTAL clock with sleep enabled.
- The DAC program is not functioning as intended when the sample rate is <= 32ksps.
- NVM3 common flash application is not working as expected in lie image board

**Limitations and Unsupported Features**

**SDK**

- WiSeConnect3_SDK_3.1.3 and later versions are not compatible with firmware versions prior to 1711.2.10.1.2.0.4, due to enhancements in max transmit power configuration during Wi-Fi join/connection, need to be cautious while doing OTA firmware upgrade.

**Wi-Fi/Network Stack**

- TLS 1.3 Server is not supported
- In AP mode, IPv6 Router Advertisements are not supported. Although STA connected to the APUT can transfer IPv6 data to the peers by using SLAAC for address configuration.
- When sl\_wifi\_enable\_target\_wake\_time() API is used, observed occasional MQTT disconnections with longer TWT intervals (>30secs) with embedded MQTT + TWT.
- AMSDU TX is not supported.
- Fragmentation is not supported.
- AMSDUs within AMPDU is not supported.
- Currently, the module does not support Radio Measurement Requests feature of CCX V2
- 802.11k is not supported
- 40 MHz bandwidth for 2.4 GHz band is not supported.
- 802.11J channel 14 is not supported.
- MQTT versions 3 and 4 are supported.
- Maximum of 3 SSL connections are supported.
- In SSL ECC Curve ID supported is 23. SSL handshake with 3rd party clients depends on the SSL ECC Curve ID.
- LP mode is not supported.
- In iTWT mode, downlink data traffic should be limited. Disconnections may be observed if AP fails to send all the buffered data in the next TWT Service Period.
- Number of MBSSIDs processed is limited by the beacon length that can be processed by the stack (which is limited to 1024 bytes). Beacons greater than 1024 Bytes in length will not be processed.
- CoEx + EAP Security in 352K/320k is not feasible. This issue is observed due to a lack of memory in the 352k/320k Memory Configuration. It is supported with other EXT\_FEAT\_416K\_M4SS\_256K and EXT\_FEAT\_480K\_M4SS\_192K memory configurations.
- UL MUMIMO is not supported.
- The embedded HTTP server is not supported.
- Baremetal is not supported.
- Compared to SoC mode, NCP mode has fewer examples, but more will be enabled in upcoming releases.
- Maximum Supported length for Embedded MQTT username up to 120 bytes , topic length up to 200 bytes and password upto 62 bytes.
- UART 2 Debug prints are supported only on ULP_GPIO_9.
- WOW LAN feature is not supported.
- SA Query procedure is not supported in AP mode.
- Maximum Supported length for HTTP GET URL is up to 2048 bytes.
- Azure SDK with embedded MQTT is not supported.
- Power save is not supported in Azure MQTT.
- MDNS service discovery is currently not supported.
- sli_si91x_accept_async is not thread-safe
- Observed some background compatibility issues with coex and http in few corner cases
- AP mode does not support Tx and Rx aggregation in Concurrent mode.
- Concurrent STA mode, Rx aggregation is not supported. Tx aggregation is supported but it is not recommended.
- AP standalone mode does not support Tx aggregation. Rx aggregation is supported with limited number of BA sessions.
**For WPA3 Enterprise connection in station mode**
- Up to TLSV1.2 only supported.
- EAP-192 bit mode is not supported
- UOSC feature is not supported
- PEAPV1 is not supported
- PMK caching is not supported.
- Explicitly configured server certificate, server domain(FQDN), server domain suffix configuration are not supported for Server Certificate Validation.

**BLE**

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.
- BLE TX/RX throughput is less when tested with EFM as compared to EFR
- Maximum supported AE data length is 200 bytes.
- Supports only two ADV\_EXT sets.
- Supports only two BLE connections (1 Central and 1 Peripheral) with AE.
- Advertising Extension feature is not supported in Coexistence.
- The  ae\_central & ae\_peripheral applications are not supported with TA\_352K\_M4\_320K RAM configuration.
- Setting PLL mode as 1 is not supported in Coexistence

**MCU**

- Manual chip select option is not supported when using GSPI.
- Following peripherals/features are not functioning as expected
    - ADC Multichannel, SSI Dual and Quad mode, SIO and Temp sensors
- LittleFS example support is intended to work only with Dual flash
- PS1 state is not supported in Power Manager
- Power is same for PS4 and PS3 states with powersave mode of power manager
- When using Button_0 as wakeup source, it limits the button functionality at application layer. For using Button_0 for application specific functionality, enable 'SL_SI91X_NPSS_GPIO_BTN_HANDLER'
- XTAL 40MHz clock as a reference clock is not supported

**System**
- TA Connected sleep and M4 PS2 is not a possible mode of operation
- M4 PS2 active and sleep is not a possible mode when SL_SI91X_EXT_FEAT_FRONT_END_SWITCH_PINS_ULP_GPIO_4_5_0 is enabled in SoC mode

**Simplicity Studio and Commander**

- Default GDB debug configuration is not supported for SoC projects, work around details provided in "Getting-Started-with-SiWx917"
- Observing flash download failures(ERROR 108) for a few image sizes
- While creating project through Simplicity Studio, "copy contents" option not supported.
- Simplicity commander does not support options under "Debug Lock tools".
- All projects in the package are compatible with GCC 10.3.1 version.

**Terminology**

|**Term**|**Description**|
| :- | :- |
|**New Features**|These items are new to this release|
|**Changes/Issues Fixed**|Changes made to existing features found in previous software releases.|
||Enhancements to existing product flow and feature set.|
||Bug fixes done in the release|
|**Deprecated Items**|Features or functions or APIs that are removed from the distributed release to align with the software roadmap|
|**Known Issues**|Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases|
|**Limitations/Recommendations**|Describes the limitations on product usage and recommendations for optimal use cases|

**Note**

- Change SPI frequency to 12.5Mhz while measuring BLE throughput with EFR32

<br>


**WiSeConnect3\_SDK\_3.4.0-ifc5 Release Notes**

This SDK package supports SoC Mode and NCP Mode for B0:

- In SoC Mode: Customer applications can run on Cortex M4. Wireless, network, and security stacks run on the wireless subsystem.
- In NCP mode: Wireless, network, and security stacks run on the Wireless subsystem. Customer applications run on the external host MCU.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

**Note**: Use Simplicity Studio version SV5.8.0.1 onwards

**SoC Highlights**

- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support ultra low power Wi-Fi standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode
- **MCU examples** : GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers, Config Timers, ULP (Ultra Low Power) Timers, Sleeptimer, IOSTREAM, NVM3, MEMLCD, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, Sensorhub, Joystick, Relative Humidity and Temperature sensor (RHT), Analog Comparator, Digital to Analog Converter and Temperature sensors (RO and BJT), CRC, LittleFS, Power Manager with RTOS
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE whitelisting, and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack, All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS client
- **IDE** : Simplicity Studio with Windows 10(64-bit), Linux, Mac OS
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** :
  - Si-MB4002A Main board
  - SiWx917 Radio boards

|**RadioBoard Type**|**SiWx917B0 with Board Version**|
| :- | :- |
|Common flash|Si917-BRD4338A(2.0)|
|Dual flash|Si917-BRD4339B(2.0)|
|External PSRAM|Si917-BRD4340A(2.0), Si917-BRD4342A(2.0)|
|Internal PSRAM|Si917-BRD4339A(2.0)|
|Dev Kit|Si917-2605A|

**NCP Highlights**

- **Host Interface** : SPI, UART
- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode.
- **Wi-Fi** : 2.4GHz Wi-Fi Support, WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE Whitelisting and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack , BLE Stack , All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS Client.
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **Hardware kits to evaluate NCP Mode**
  - NCP EFR Expansion Kit with NCP Radio board (BRD4338A(NCP MBR) + BRD8045A)
  - Wireless Pro kit Mainboard BRD4002A Rev A06
  - EFR32xG24 Wireless 2.4 GHz +10 dBm Radio Board xG24-RB4186C

**Release Details**

|**Item**|**Details**|
| :- | :- |
|Release date|Oct 18th, 2024|
|SDK Version|3.4.0-ifc5|
|Firmware Version Standard|1711\.2.13.3.0.0.5|
|Firmware Version Lite|1711\.2.13.3.0.2.5|
|Package Name|WiSeConnect3\_SDK\_3.4.0-ifc5|
|GSDK Version | SiSDK-2024.6.2|
|Supported RTOS|FreeRTOS|
|Operating Modes Supported|Wi-Fi STA, Wi-Fi AP, Wi-Fi STA+BLE, Wi-Fi STA+AP|
|Build Quality|GA|

- SiWx917 release consists of two components
  - Wireless Firmware - SiWx917 Firmware Binaries
  - Wiseconnect3 Library - Wiseconnect3 SDK library runs on the external host in NCP mode and internal Cortex M4 in SoC Mode.
- This release is meant only for use with designs based on SiWx917 Silicon
- The firmware to load is available in the following format:
  - SiWG917-B.2.12.1.x.0.x.rps - B0 Full-featured firmware binary
  - SiWG917-B.2.12.1.x.2.x.rps - B0 lite firmware binary

**Features Supported**

**Sensorhub service**

- Support for ADC, SPI, SDC and I2C based sensors
- Support for PS2
- Support added for SDC

**MCU**

- ADC Single Channel, ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, GPIO, GSPI, I2C, I2S, NVM3, OPAMP, PSRAM, PWM, QEI, RTC, SDIO Secondary, SSI Master and Slave, UART, Micro DMA, USART, Watchdog Timer, Temperature Sensors (RO and BJT), USART Master and Slave, CRC
- UC Supported Peripherals - GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers , Config Timers, ULP (Ultra Low Power) Timers, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, MEMLCD, Analog Comparator and Digital to Analog Converter.
- Services - Sleeptimer, IOSTREAM, NVM3, Power Manager, LittleFS, Pin Tool (support for USART, I2C, SSI, GSPI, SIO, SCT, PWM, I2S, ADC, DAC and Analog Comparator)
- ULP (Ultra Low Power) Peripherals - ulp\_adc, ulp\_calender, ulp\_dac, ulp\_gpio, ulp\_i2c, ulp\_i2s, ulp\_timer, ulp\_uart, ulp\_dma
- Extended flash write support for NWP flash region and added read api to read from NWP flash region
- List of OPN's supported si917-sb00, siwg917m111mgtba, siwg917m100mgtba, siwg917m111xgtba, siwg917m121xgtba, siwg917m110lgtba and siwg917m141xgtba
- Support added for SiWG917 Dev Kit Board (BRD2605A)
- Added APIs to configure M4 SoC Clock, PLL clocks, read M4 SoC Clock

**Wi-Fi**

- WPA2/WPA3 Personal, WPS and WPA2-EAP Support for Station Mode
- TCP/IP stack with IPv4, IPv6, TCP, UDP, TLS, HTTP/HTTPS, DHCPv4, DHCPv6, MQTT Client, DNS Client, SNTP client.
- Support for SSL client versions TLSV1.0, TLSV1.2, TLSV1.3 and SSL server versions TLSV1.0 and TLSV1.2
- Wi-Fi STA (802.11n/802.11ax) + 802.11n AP Support
- HE (802.11ax) and Individual TWT Feature Support
- Multiple BSSID feature support as an STA
- Secure OTA support on B0 radio boards.
- Support for LWIP network stack
- Support for AWS MQTT library
- Support for Azure MQTT library
- Support for BSD and IoT sockets application programming interface(API)
- Support added to change the listen interval after association with Access Point
- New API sl_si91x_fwup_abort added to support aborting firmware upgrade
- Added feature to support Gain offset calibration in channel 14

**Bluetooth Low Energy**

- BLE central & peripheral connections are supported.
- Ultra-low power save is supported.

**Power Save**

- Max PSP, enhanced MAX PSP, Fast PSP, and 802.11ax TWT power save modes are supported in WiFi.
- Only Max PSP power save mode is supported in BLE

**Crypto Support**

- AES, SHA, AES-CCM, HMAC, GCM, Chacha-poly, ECDH and TRNG FW Crypto API support added.
- PSA enabled Mbed TLS support added
- NVM support added for key storage
- Symmetric and asymmetric key storage
- TRNG, AES, SHA, HMAC, GCM, Chacha-poly, ECDH and AES-CCM hardware crypto engine is integrated with PSA crypto.

**Changes and Fixes**

**MCU**
- MIC driver has been modified and relocated outside the internal folder [SI91X-17031]
- RNG Peripheral support has been added [RSCDEV-31382]
- Separate examples have been created for I2C blocking and non-blocking calls [RSCDEV-31363]
- Added Power manager clock scaling feature [RSCDEV-28820 & RSCDEV-29026]
- The `bt_stack_bypass` example now works correctly when using UART1 instead of USART0 for the HCI interface [SI91X-17156]
- The SSI application is now functioning as expected on SiWG917Y111MGNBA in Wiseconnect 3.3.3-CF [SI91X-17145]
- Resolved negative values issue in the BJT Temperature example for Wiseconnect 3.3.3-precf on 4343Q [SI91X-17087]
- Fixed issue of negative values in the BJT Temperature example on Wiseconnect 3.3.3-FC [SI91X-17073]
- Addressed random output characters issue observed in DUT prints with LwIP Apps in Power Save Mode [SI91X-17064]
- Timer application discrepancies on SiWG917Y111MGNBA BRD4343A in Wiseconnect 3.4.0-IFC3 have been corrected [SI91X-17063]
- Resolved the issue with the BLE_POWER_SAVE PSRAM application not working on the 4343Q board [SI91X-17008]
- Fixed M4 hang issue while printing Wi-Fi scan results in the Test Agent example [SI91X-16966]
- I2S loopback is now functioning properly when continuously sending and receiving data after TX and RX configuration during initialization [SI91X-16903]
- The `sl_i2c_driver_transfer_data` API no longer enters an infinite loop [SI91X-16840]
- Resolved the issue where `sl_gpio_set_configuration` was incorrectly setting GPIO to HIGH [SI91X-16721]
- ADC sensors in the SensorHub example are now working as expected [SI91X-16598]
- Fixed issue where I2C data transfer stopped after porting a customer project from 3.3.0.fc to 3.3.0-GA or later versions [SI91X-16338]
- Resolved app/SDK hang issue when performing HTTP POST data transfer in conjunction with peripheral operation [SI91X-16250]
- The `sl_i2c_driver_send_data_non_blocking` API no longer goes into blocking mode when sending data to a different address [SI91X-15698]
- Callback unregistration now works correctly with the 32KHZ_XTAL clock source in the ULP_Timer [SI91X-14375]
- The function `sl_si91x_soc_soft_reset()` has been removed from the `sl_si91x_hal_soft_reset.c` file [SI91X-17082]

**SDK**

- Fixed the MQTT publish message issue in negative scenario [SI91X-16633]
- Fixed check_sdk_versions.sh on release/3.4.0 [HOTFIX-0]
- Updated sl_si91x_select() return status [SI91X-16787]
- Automated SonarQube scan on sl_net PR [RSCDEV-31644]
- Implemented the code changes to support wifi provisioning sample app phase2 [RSCDEV-30901 ]
- Fixed sonarqube scan path [HOTFIX-0]
- Added an option to select the harness for regression tests from jenkins [RSCDEV-31674]
- Added necessary checks in get_si91x_socket API [SI91X-17117]
- Updated documentation of sl_si91x_set_device_region for ACX boards changes [SI91X-17033]
- Merge the changes from sqa 3.4.0 ifc4 branch to release 3.4.0 branch [RSCDEV-31798 ]
- Added the missing features in RF TEST CLI [RSCDEV-31378]
- Resolved Power Save Modes Terminology conflict in SDK, example names and 917 NCP & SoC datasheets[SI91X-17044]
- Added SDK support for BRD2708A [RSCDEV-31760]
- Refactored firmware status index 'sli_fw_status_storage_index' to prevent data overwrites [SI91X-16959]
- Removed throughput check for RX testcases as it is effecting existing testcases [SI91X-17182 ]
- RSCDEV-31812 Restrict the no.of harnesses for the non-nightly regression branches.
- Removed the dependency of network-manager component from wifi component[SI91X-15890]
- Reverted the SQA test agent commits causing regressions [RSCDEV-31813]
- Restricted the number of harnesses for the non-nightly regression branches [RSCDEV-31812]
- Added support for validating 40MHz crystal changes in all WLAN throughput examples [RSCDEV-30994]
- SQA Bugs: SI91X-16633, SI91X-17033

**Wi-Fi & Network Stack**

- Added WPA3 Enterprise support in STA [RSCDEV-25741]
- SQA bugs: SI91X-16939, SI91X-16771

**BLE**

- SQA bugs :SI91X-17165 , SI91X-17078 and SI91X-16977
**CoEx**

- None

**System**

- None

**Recommendations**

**System**

- The current revision of SiWx917 B0 has:
  - RAM memory of 672k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_672K\_M4SS\_0K- This mode configures TA with 672k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By default EXT\_FEAT\_352K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_480K\_M4SS\_192K - This mode configures TA with 480k and M4 with 192K bytes of memory
    - EXT\_FEAT\_416K\_M4SS\_256K - This mode configures TA with 416k and M4 with 256K bytes of memory
    - EXT\_FEAT\_352K\_M4SS\_320K - This mode configures TA with 352k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 672K\_M4SS\_0K.
  - SoC mode should not use 672k\_M4SS\_0k memory configuration.
- Set the recommended Power Save Profile (PSP) type to Enhanced Max PSP.

**IDE**

- Download the latest version of Simplicity Studio
- Refer to the latest version of the SoC/NCP "Getting-Started-with-SiWx917" guide for more details

**Wi-Fi & Network Stack****

- The recommended embedded MQTT Publish payload is 1 kBytes.
- It is recommended to enable bit 16 of the 'Extended TCP IP Feature' bit map in the opermode command for all Wi-Fi Socket operations from the host to ensure graceful handling during asynchronous closures from the peer.
- Aggregation (bit 2 of feature\_bit\_map) is recommended to be enabled in opermode. This enables software to aggregate multiple packets to achieve better throughput
- TCP retransmission count value is recommended to be 30 or higher so that the TCP does not disconnect while the rejoin happens.
- To restart the module, the application needs to call sl\_wifi\_deinit() followed by sl\_wifi\_init().
- Register 'Join Fail Callback' function every time when join is called, as in the rejoin failure path the callback is deregistered. If not done, this might result in a scan not functioning on rejoin failure.
- User can enable SL\_SI91X\_EXT\_TCP\_IP\_SSL\_16K\_RECORD in 'Extended TCP IP Feature'bit map in opermode, if HTTPS download is failing after receiving HTTP headers..
- iTWT setup is recommended after IP assignment/TCP connection/application specific socket connections.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, increase TCP / ARP Timeouts at the remote side depending upon the configured TWT interval configured.
- In case of TWT+coex, when using sl\_wifi\_enable\_target\_wakeup\_time API, use TWT wake duration <= 16 ms and TWT wake interval >= 1 sec. If wake duration > 16 ms or TWT wake interval < 1sec, there might be performance issues.
- For iTWT GTK Interval Should be kept max possible value or zero. If GTK interval is not configurable, recommended TWT interval (in case of sl\_wifi\_enable\_target\_wakeup\_time API) or RX Latency (in case of sl\_wifi\_target\_wake\_time\_auto\_selection API) is less than 4sec.
- Disable Power Save for High Throughput Applications.
- The application needs to ensure that it sets RTC with the correct timestamp when the feature is enabled before establishing the SSL connection.
- The timeout value should not be less than 1 second for socket select and socket receive calls. Timeout value of less than 1 second is not currently supported.
- When sl\_wifi\_enable\_target\_wakeup\_time API is used, configuring TWT Wake interval beyond 1 min might lead to disconnections from the AP. Recommended to use TWT wakeup interval of less than or equal to 1 min.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, it is recommended to set missed\_beacon\_count of sl\_wifi\_set\_advanced\_client\_configuration API greater than 2 times of the configured TWT Interval.
- Disable power save and suspend any active TWT sessions before triggering HTTP OTAF.
- It is recommended to enable bit 31 of the 'TCP IP Feature' bit map in the opermode command to support multicast protocol

**BLE**

- In BLE, the recommended range of Connection Interval in
  - Power Save (BLE Only) - 100 ms to 1.28 s.
- In BLE, during Connection, the configuration of Scan Interval and Scan Window with the same value is not recommended. The suggested ratio of Scan Window to Scan Interval is 3:4.
- In BLE, if a device is acting as Central, the scan window (in set\_scan\_params and create\_connection commands) must be less than the existing Connection Interval. The suggested ratio of Scan Window to Connection Interval is 2:3.
- In BLE mode, if scanning and advertising are in progress on the SiWx91x module and it subsequently gets connected and moves to the central role, scanning stops else if it moves to the peripheral role, advertising stops. To further establish a connection to another peripheral device or to a central device, the application should give a command for starting advertising and scanning again.

**Co-Existence**

- For concurrent Wi-Fi + BLE, and while a Wi-Fi connection is active, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
- Wi-Fi + BLE Advertising
  - All standard advertising intervals are supported. As Wi-Fi throughput is increased, a slight difference in on-air advertisements compared to configured intervals may be observed.
  - BLE advertising is skipped if the advertising interval collides with Wi-Fi activity.
- Wi-Fi + BLE scanning
  - All standard scan intervals are supported. For better scan results, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
  - BLE scanning will be stopped for intervals that collide with Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Connections
  - All standard connection intervals are supported.
  - For a stable connection, use optimal connection intervals and max supervision timeout in the presence of Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Data Transfer
  - To achieve higher throughput for both Wi-Fi and BLE, use medium connection intervals, such as 45 to 80 ms with maximum supervision timeout.
  - Ensure Wi-Fi activity consumes lower intervals.

**MCU**

- It is not recommended to use the RO clock for Clock Configuration
- PSRAM examples are not supposed to be used with Non-PSRAM OPNs
- By default SYSrtc and wake on wireless wakeup resources enabled, please do not reinstall these two wakeup sources when tickless idle mode is enabled
- Minimum idle-time to Sleep 100ms, as configured in FreeRtos_config.h
- Recommended to enable DMA for better throughput numbers
- For I2C Fastplus and High speed modes, it is recommended to use High power instances from 80Mhz to 180Mhz core clock
- Not recommended to use switch_m4_frequency() for clock scaling. Refer to migration guide for more details on this
- When using this 32MHz source for the PLL, limit the maximum clock to 160MHz
- In RTOS environment, prefer Signaling mechanisms (Semaphore/Mutex/EventFlag etc.) instead of "Variables/Flags" from user callbacks to detect "*Transfer Complete*" for high speed communication peripherals
  - Refer Software Reference Manual for more details
- It is recommended to install device_needs_ram_execution component for OPN based firmware update examples

**Known Issues**

**Sensorhub**

- Support for ADC FIFO Mode and Multi channel is open
- PS1-state supports only ADC sensor
- Power transitions with AWS are not stable in Sensorhub
- The process of integrating the tickless component and power manager service into the Sensorhub app is currently underway

**Network Stack**

- Sometimes during SSL Handshake, ECC curve parameters generated are wrong, resulting in connection failure with BBD2 error. However, this recovers in the next attempt.
- Randomize the client port if using rapid connect/disconnect of the MQTT session on the same client port with the power save.
- Secure SSL renegotiation not supported in Embedded Networking Stack.
- Disable power save before making TCP connection for NCP-UART interface.
- In concurrent mode, if IP is configured for AP mode ahead of STA mode then IPv6 configuration may fail for STA mode.
- In concurrent mode, data transfer using the Link-local address will always use the first IP interface created by the application.

**Wi-Fi**

- TWT device (STA) may not go to sleep in between TWT intervals in case of burst data traffics with data size more than the configured 'average tx throughput', until completion of data transfer.
- There are performance and IOP issues with MU MIMO.
- WPA3 Connection with the Hunting and Pecking algorithm takes about 3-4 seconds.
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.
- Low Wi-Fi+BLE throughput
- TCP/UDP TX/RX Data stall observed in CoEx scenarios
- Observed HTTPS Continuous download fails with TA Power save
- Performance improvements are in progress for lower performance metrics.
- Observed interop issue (connectivity failure) with few AP's when device reset/reboot happens on active connection.
- In concurrent mode, AP restart fails after stopping it with ap\_stop command.
- DUT deep sleep will not work after stopping AP with ap\_stop command.
- Unable to get SNTP async events when coex mode and Power save is enabled
- Fine Tuning 802.11ax Spectral mask in Progress
- Fine Tuning 11b mask in Ch11 in progress
- DUT is unable to connect to the AP with WPA3 security when we enable coex mode (WLAN+BLE) in opermode
- Socket listen API is failing from the second iteration
- Disconnections observed with Netgear RAX120 AP in WPA3 security
- Observed connection failures with some AP's in more channel congestion open lab environment
- Firmware Upgrade example is not working in PSRAM boards
- deep sleep example is not supported with power manager
- AP fails to start when ACS is enabled on CZ100, CZ101 OPNS (SI91X-16507)

**BLE**

- HID profile data transfer is not working, when power save is enabled in SoC.
- BLE reconnection is not working in ble_multiconnection_gatt demo, when power save is enabled in SoC
- BLE throughputs are less with STM32 compared to EFR
- SI91X-17202 : BLE power numbers are high with power manager clock scaling feature

**Co-Existence**

- Observed HTTP continuous download is not happening in Powersave mode after BLE connection established using wifi\_https\_ble\_dual\_role application
- Observed DUT hang while Wi-Fi UDP/TCP Tx and BLE continuous scan.

**System**

- BRD8045A and BRD8045C does not have CTS and RTS pins routed from SiWx917 NCP, which are used for UART flow control

**MCU**

- Refer to the respective Radio board user guides for specific pinout details. Examples are targeted to a specific version mentioned in the respective readme
- Few(BOD and Comparator) wakeup resources are not working as expected in Power manager service
- Observed RO and BJT Temperature values are not as expected
- Character Timeout feature for all communication protocols is not supported
- UART instances does not support different FIFO Thresholds
- NVM3 dual flash application is not working as expected in the current release.
- ULP_I2C does not function as expected in low power mode when DMA is enabled
- Powersave Deep Sleep example for the siwg917m110lgtba OPN requires the installation of the device_need_ram_execution component.
- Sometimes TA processor hang occurs when M4 used XTAL clock with sleep enabled.
- In ULP SSI application, non-dma transfer is not working as expected.

**Limitations and Unsupported Features**

**SDK**

- WiSeConnect3_SDK_3.1.3 and later versions are not compatible with firmware versions prior to 1711.2.10.1.2.0.4, due to enhancements in max transmit power configuration during Wi-Fi join/connection, need to be cautious while doing OTA firmware upgrade.

**Wi-Fi/Network Stack**

- TLS 1.3 Server is not supported
- In AP mode, IPv6 Router Advertisements are not supported. Although STA connected to the APUT can transfer IPv6 data to the peers by using SLAAC for address configuration.
- When sl\_wifi\_enable\_target\_wake\_time() API is used, observed occasional MQTT disconnections with longer TWT intervals (>30secs) with embedded MQTT + TWT.
- AMSDU TX is not supported.
- Fragmentation is not supported.
- AMSDUs within AMPDU is not supported.
- Currently, the module does not support Radio Measurement Requests feature of CCX V2
- 802.11k is not supported
- 40 MHz bandwidth for 2.4 GHz band is not supported.
- 802.11J channel 14 is not supported.
- MQTT versions 3 and 4 are supported.
- Maximum of 3 SSL connections are supported.
- In SSL ECC Curve ID supported is 23. SSL handshake with 3rd party clients depends on the SSL ECC Curve ID.
- LP mode is not supported.
- In iTWT mode, downlink data traffic should be limited. Disconnections may be observed if AP fails to send all the buffered data in the next TWT Service Period.
- Number of MBSSIDs processed is limited by the beacon length that can be processed by the stack (which is limited to 1024 bytes). Beacons greater than 1024 Bytes in length will not be processed.
- CoEx + EAP Security in 352K/320k is not feasible. This issue is observed due to a lack of memory in the 352k/320k Memory Configuration. It is supported with other EXT\_FEAT\_416K\_M4SS\_256K and EXT\_FEAT\_480K\_M4SS\_192K memory configurations.
- UL MUMIMO is not supported.
- The embedded HTTP server is not supported.
- Baremetal is not supported.
- Compared to SoC mode, NCP mode has fewer examples, but more will be enabled in upcoming releases.
- Maximum Supported length for Embedded MQTT username up to 120 bytes , topic length up to 200 bytes and password upto 62 bytes.
- UART 2 Debug prints are supported only on ULP_GPIO_9.
- WOW LAN feature is not supported.
- SA Query procedure is not supported in AP mode.
- Maximum Supported length for HTTP GET URL is up to 2048 bytes.
- Azure SDK with embedded MQTT is not supported.
- Power save is not supported in Azure MQTT.
- MDNS service discovery is currently not supported.
- sli_si91x_accept_async is not thread-safe
- Observed some background compatibility issues with coex and http in few corner cases
- AP mode does not support Tx and Rx aggregation in Concurrent mode.
- Concurrent STA mode, Rx aggregation is not supported. Tx aggregation is supported but it is not recommended.
- AP standalone mode does not support Tx aggregation. Rx aggregation is supported with limited number of BA sessions.

**BLE**

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.
- BLE TX/RX throughput is less when tested with EFM as compared to EFR
- Maximum supported AE data length is 200 bytes.
- Supports only two ADV\_EXT sets.
- Supports only two BLE connections (1 Central and 1 Peripheral) with AE.
- Advertising Extension feature is not supported in Coexistence.
- The  ae\_central & ae\_peripheral applications are not supported with TA\_352K\_M4\_320K RAM configuration.
- Setting PLL mode as 1 is not supported in Coexistence

**MCU**

- Manual chip select option is not supported when using GSPI.
- Following peripherals/features are not functioning as expected
    - ADC Multichannel, SSI Dual and Quad mode, SIO and Temp sensors
- LittleFS example support is intended to work only with Dual flash
- PS1 state is not supported in Power Manager
- Power is same for PS4 and PS3 states with powersave mode of power manager
- When using Button_0 as wakeup source, it limits the button functionality at application layer. For using Button_0 for application specific functionality, enable 'SL_SI91X_NPSS_GPIO_BTN_HANDLER'
- XTAL 40MHz clock as a reference clock is not supported

**System**
- TA Connected sleep and M4 PS2 is not a possible mode of operation
- M4 PS2 active and sleep is not a possible mode when SL_SI91X_EXT_FEAT_FRONT_END_SWITCH_PINS_ULP_GPIO_4_5_0 is enabled in SoC mode

**Simplicity Studio and Commander**

- Default GDB debug configuration is not supported for SoC projects, work around details provided in "Getting-Started-with-SiWx917"
- Observing flash download failures(ERROR 108) for a few image sizes
- While creating project through Simplicity Studio, "copy contents" option not supported.
- Simplicity commander does not support options under "Debug Lock tools".
- All projects in the package are compatible with GCC 10.3.1 version.

**Terminology**

|**Term**|**Description**|
| :- | :- |
|**New Features**|These items are new to this release|
|**Changes/Issues Fixed**|Changes made to existing features found in previous software releases.|
||Enhancements to existing product flow and feature set.|
||Bug fixes done in the release|
|**Deprecated Items**|Features or functions or APIs that are removed from the distributed release to align with the software roadmap|
|**Known Issues**|Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases|
|**Limitations/Recommendations**|Describes the limitations on product usage and recommendations for optimal use cases|

**Note**

- Change SPI frequency to 12.5Mhz while measuring BLE throughput with EFR32

<br>

**WiSeConnect3\_SDK\_3.3.3-cf2 Release Notes**

This SDK package supports SoC Mode and NCP Mode for B0:

- In SoC Mode: Customer applications can run on Cortex M4. Wireless, network, and security stacks run on the wireless subsystem.
- In NCP mode: Wireless, network, and security stacks run on the Wireless subsystem. Customer applications run on the external host MCU.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

**Note**: Use Simplicity Studio version SV5.8.0.1 onwards

**SoC Highlights**

- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support ultra low power Wi-Fi standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode
- **MCU examples** : GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers, Config Timers, ULP (Ultra Low Power) Timers, Sleeptimer, IOSTREAM, NVM3, MEMLCD, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, Sensorhub, Joystick, Relative Humidity and Temperature sensor (RHT), Analog Comparator, Digital to Analog Converter and Temperature sensors (RO and BJT), CRC, LittleFS, Power Manager with RTOS
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE whitelisting, and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack, All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS client
- **IDE** : Simplicity Studio with Windows 10(64-bit), Linux, Mac OS
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** :
  - Si-MB4002A Main board
  - SiWx917 Radio boards

|**RadioBoard Type**|**SiWx917B0 with Board Version**|
| :- | :- |
|Common flash|Si917-BRD4338A(2.0)|
|Dual flash|Si917-BRD4339B(2.0)|
|External PSRAM|Si917-BRD4340A(2.0), Si917-BRD4342A(2.0)|
|Internal PSRAM|Si917-BRD4339A(2.0)|
|Dev Kit|Si917-2605A|

**NCP Highlights**

- **Host Interface** : SPI, UART
- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode.
- **Wi-Fi** : 2.4GHz Wi-Fi Support, WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE Whitelisting and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack , BLE Stack , All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS Client.
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **Hardware kits to evaluate NCP Mode**
  - NCP EFR Expansion Kit with NCP Radio board (BRD4338A(NCP MBR) + BRD8045A)
  - Wireless Pro kit Mainboard BRD4002A Rev A06
  - EFR32xG24 Wireless 2.4 GHz +10 dBm Radio Board xG24-RB4186C

**Release Details**

|**Item**|**Details**|
| :- | :- |
|Release date|Oct 8th, 2024|
|SDK Version|3.3.3-cf2|
|Firmware Version Standard|1711\.2.12.3.3.0.3|
|Firmware Version Lite|1711\.2.12.3.3.2.3|
|Package Name|WiSeConnect3\_SDK\_3.3.3-cf2|
|GSDK Version | SiSDK-2024.6.2|
|Supported RTOS|FreeRTOS|
|Operating Modes Supported|Wi-Fi STA, Wi-Fi AP, Wi-Fi STA+BLE, Wi-Fi STA+AP|
|Build Quality|GA|

- SiWx917 release consists of two components
  - Wireless Firmware - SiWx917 Firmware Binaries
  - Wiseconnect3 Library - Wiseconnect3 SDK library runs on the external host in NCP mode and internal Cortex M4 in SoC Mode.
- This release is meant only for use with designs based on SiWx917 Silicon
- The firmware to load is available in the following format:
  - SiWG917-B.2.12.3.x.0.x.rps - B0 Full-featured firmware binary
  - SiWG917-B.2.12.3.x.2.x.rps - B0 lite firmware binary

**Features Supported**

**Sensorhub service**

- Support for ADC, SPI, SDC and I2C based sensors
- Support for PS2
- Support added for SDC

**MCU**

- ADC Single Channel, ADC Static Mode, Analog Comparator, Blinky, Bod, CRC, CTS, DAC FIFO, DAC Static, GPIO, GSPI, I2C, I2S, NVM3, OPAMP, PSRAM, PWM, QEI, RTC, SDIO Secondary, SSI Master and Slave, UART, Micro DMA, USART, Watchdog Timer, BJT Temperature Sensor, USART Master and Slave
- UC Supported Peripherals - GPIO, I2C, Calendar,  SPI, SSI, Micro DMA, UART/USART, Watchdog Timer, Timers , Config Timers, ULP (Ultra Low Power) Timers, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, MEMLCD, Analog Comparator and Digital to Analog Converter.
- Services - Sleeptimer, IOSTREAM, NVM3, Power Manager, LittleFS, Pin Tool (support for USART, I2C, SSI, GSPI, SCT, PWM, I2S, ADC, DAC and Analog Comparator)
- ULP (Ultra Low Power) Peripherals - ulp\_adc, ulp\_calender, ulp\_dac, ulp\_gpio, ulp\_i2c, ulp\_i2s, ulp\_timer, ulp\_uart, ulp\_dma, ulp\_ssi
- Extended flash write support for NWP flash region and added read api to read from NWP flash region
- List of OPN's supported si917-sb00, siwg917m111mgtba, siwg917m100mgtba, siwg917m111xgtba, siwg917m121xgtba, siwg917m110lgtba, siwg917m141xgtba, siwg917y111mgnba, siwg917y110lgnba, siwg917y111xgnba and siwg917y121mgnba
- Support added for SiWG917 Dev Kit Board (BRD2605A)
- Added APIs to configure M4 SoC Clock, PLL clocks, read M4 SoC Clock

**Wi-Fi**

- WPA2/WPA3 Personal, WPS and WPA2-EAP Support for Station Mode
- TCP/IP stack with IPv4, IPv6, TCP, UDP, TLS, HTTP/HTTPS, DHCPv4, DHCPv6, MQTT Client, DNS Client, SNTP client.
- Support for SSL client versions TLSV1.0, TLSV1.2, TLSV1.3 and SSL server versions TLSV1.0 and TLSV1.2
- Wi-Fi STA (802.11n/802.11ax) + 802.11n AP Support
- HE (802.11ax) and Individual TWT Feature Support
- Multiple BSSID feature support as an STA
- Secure OTA support on B0 radio boards.
- Support for LWIP network stack
- Support for AWS MQTT library
- Support for Azure MQTT library
- Support for BSD and IoT sockets application programming interface(API)
- Support added to change the listen interval after association with Access Point
- New API sl_si91x_fwup_abort added to support aborting firmware upgrade
- Added feature to support Gain offset calibration in channel 14

**Bluetooth Low Energy**

- BLE central & peripheral connections are supported.
- Ultra-low power save is supported.

**Power Save**

- Max PSP, enhanced MAX PSP, Fast PSP, and 802.11ax TWT power save modes are supported in WiFi.
- Only Max PSP power save mode is supported in BLE

**Crypto Support**

- AES, SHA, AES-CCM, HMAC, GCM, Chacha-poly, ECDH and TRNG FW Crypto API support added.
- PSA enabled Mbed TLS support added
- NVM support added for key storage
- Symmetric and asymmetric key storage
- TRNG, AES, SHA, HMAC, GCM, Chacha-poly, ECDH and AES-CCM hardware crypto engine is integrated with PSA crypto.

**Changes and Fixes**

**MCU**

- Added the ulp_gpio_5 for memlcd for the module boards [SI91X-17135]
- Fixed initialization order for C++ applications(Matter) [SI91X-17147]
- Updated crypto readme files [SI91X-17093]
- updated the psram header for Reorganize PSRAM Sections [RSCDEV-31469]
- Updated missing 121X and 111X parts in slsdk file [SI91X-17077]
- Resolved issues with ULP SSI example [SI91X-17080]

**SDK**

- Added Connectivity Firmware to Assets
- Remove variable declaration below switch case [SI91X-17114]
- Address APPS team feedback on documentation drop [RSCDEV-31552]

**Wi-Fi & Network Stack**

- None

**BLE**

- None

**CoEx**

- None

**System**

- None

**Recommendations**

**System**

- The current revision of SiWx917 B0 has:
  - RAM memory of 672k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_672K\_M4SS\_0K- This mode configures TA with 672k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By default EXT\_FEAT\_352K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_480K\_M4SS\_192K - This mode configures TA with 480k and M4 with 192K bytes of memory
    - EXT\_FEAT\_416K\_M4SS\_256K - This mode configures TA with 416k and M4 with 256K bytes of memory
    - EXT\_FEAT\_352K\_M4SS\_320K - This mode configures TA with 352k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 672K\_M4SS\_0K.
  - SoC mode should not use 672k\_M4SS\_0k memory configuration.
- Set the recommended Power Save Profile (PSP) type to Enhanced Max PSP.

**IDE**

- Download the latest version of Simplicity Studio
- Refer to the latest version of the SoC/NCP "Getting-Started-with-SiWx917" guide for more details

**Wi-Fi & Network Stack****

- The recommended embedded MQTT Publish payload is 1 kBytes.
- It is recommended to enable bit 16 of the 'Extended TCP IP Feature' bit map in the opermode command for all Wi-Fi Socket operations from the host to ensure graceful handling during asynchronous closures from the peer.
- Aggregation (bit 2 of feature\_bit\_map) is recommended to be enabled in opermode. This enables software to aggregate multiple packets to achieve better throughput
- TCP retransmission count value is recommended to be 30 or higher so that the TCP does not disconnect while the rejoin happens.
- To restart the module, the application needs to call sl\_wifi\_deinit() followed by sl\_wifi\_init().
- Register 'Join Fail Callback' function every time when join is called, as in the rejoin failure path the callback is deregistered. If not done, this might result in a scan not functioning on rejoin failure.
- User can enable SL\_SI91X\_EXT\_TCP\_IP\_SSL\_16K\_RECORD in 'Extended TCP IP Feature'bit map in opermode, if HTTPS download is failing after receiving HTTP headers..
- iTWT setup is recommended after IP assignment/TCP connection/application specific socket connections.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, increase TCP / ARP Timeouts at the remote side depending upon the configured TWT interval configured.
- In case of TWT+coex, when using sl\_wifi\_enable\_target\_wakeup\_time API, use TWT wake duration <= 16 ms and TWT wake interval >= 1 sec. If wake duration > 16 ms or TWT wake interval < 1sec, there might be performance issues.
- For iTWT GTK Interval Should be kept max possible value or zero. If GTK interval is not configurable, recommended TWT interval (in case of sl\_wifi\_enable\_target\_wakeup\_time API) or RX Latency (in case of sl\_wifi\_target\_wake\_time\_auto\_selection API) is less than 4sec.
- Disable Power Save for High Throughput Applications.
- The application needs to ensure that it sets RTC with the correct timestamp when the feature is enabled before establishing the SSL connection.
- The timeout value should not be less than 1 second for socket select and socket receive calls. Timeout value of less than 1 second is not currently supported.
- When sl\_wifi\_enable\_target\_wakeup\_time API is used, configuring TWT Wake interval beyond 1 min might lead to disconnections from the AP. Recommended to use TWT wakeup interval of less than or equal to 1 min.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, it is recommended to set missed\_beacon\_count of sl\_wifi\_set\_advanced\_client\_configuration API greater than 2 times of the configured TWT Interval.
- Disable power save and suspend any active TWT sessions before triggering HTTP OTAF.
- It is recommended to enable bit 31 of the 'TCP IP Feature' bit map in the opermode command to support multicast protocol

**BLE**

- In BLE, the recommended range of Connection Interval in
  - Power Save (BLE Only) - 100 ms to 1.28 s.
- In BLE, during Connection, the configuration of Scan Interval and Scan Window with the same value is not recommended. The suggested ratio of Scan Window to Scan Interval is 3:4.
- In BLE, if a device is acting as Central, the scan window (in set\_scan\_params and create\_connection commands) must be less than the existing Connection Interval. The suggested ratio of Scan Window to Connection Interval is 2:3.
- In BLE mode, if scanning and advertising are in progress on the SiWx91x module and it subsequently gets connected and moves to the central role, scanning stops else if it moves to the peripheral role, advertising stops. To further establish a connection to another peripheral device or to a central device, the application should give a command for starting advertising and scanning again.

**Co-Existence**

- For concurrent Wi-Fi + BLE, and while a Wi-Fi connection is active, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
- Wi-Fi + BLE Advertising
  - All standard advertising intervals are supported. As Wi-Fi throughput is increased, a slight difference in on-air advertisements compared to configured intervals may be observed.
  - BLE advertising is skipped if the advertising interval collides with Wi-Fi activity.
- Wi-Fi + BLE scanning
  - All standard scan intervals are supported. For better scan results, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
  - BLE scanning will be stopped for intervals that collide with Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Connections
  - All standard connection intervals are supported.
  - For a stable connection, use optimal connection intervals and max supervision timeout in the presence of Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Data Transfer
  - To achieve higher throughput for both Wi-Fi and BLE, use medium connection intervals, such as 45 to 80 ms with maximum supervision timeout.
  - Ensure Wi-Fi activity consumes lower intervals.

**MCU**

- Use RO clock only if accuracy is not crucial otherwise use crystal clock
- PSRAM examples are not supposed to be used with Non-PSRAM OPNs
- SYSrtc and wake on wireless wakeup resources are enabled by default when tickeless idle mode is enabled. Do not reinstall these two wakeup sources 
- Avoid installing sleeptimer component in power save applications
- Minimum idle-time to Sleep 100ms, as configured in FreeRtos_config.h
- Enable DMA to achieve better throughput numbers
- For I2C Fastplus and High speed modes, use High power instances with core clock frequencies between 80MHz and 180MHz
- Use blocking calls instead of non-blocking calls for I2C leader in ULP_I2C while receiving data
- In RTOS environment, prefer Signaling mechanisms (Semaphore/Mutex/EventFlag etc.) instead of "Variables/Flags" from user callbacks to detect "*Transfer Complete*" for high speed communication peripherals
    - Refer Software Reference Manual for more details
- Install the device_needs_ram_execution component for OPN-based firmware update examples.
- Use the sl_si91x_power_manager_sleep() API instead of the sl_si91x_m4_sleep_wakeup() API
- Enable RSI_TIMEPERIOD_TimerClkSel(), only when using Calendar (RTC) or DeepSleep timer as wakeup sources in Power Manager
- For ACx Modules, it is necessary to initialize the Internal 32kHz RC clock specifically for the LF_FSM domain. GPIO oscillator clock does not propagate to the LF_FSM. This may lead to timer accuracy issues when using the 32kHz RC clock.

**Known Issues**

**Sensorhub**

- Support for ADC FIFO Mode and Multi channel is open
- PS1-state supports only ADC sensor
- Power transitions with AWS are not stable in Sensorhub
- The process of integrating the tickless component and power manager service into the Sensorhub app is currently underway

**Network Stack**

- Sometimes during SSL Handshake, ECC curve parameters generated are wrong, resulting in connection failure with BBD2 error. However, this recovers in the next attempt.
- Randomize the client port if using rapid connect/disconnect of the MQTT session on the same client port with the power save.
- Secure SSL renegotiation not supported in Embedded Networking Stack.
- Disable power save before making TCP connection for NCP-UART interface.
- In concurrent mode, if IP is configured for AP mode ahead of STA mode then IPv6 configuration may fail for STA mode.
- In concurrent mode, data transfer using the Link-local address will always use the first IP interface created by the application.

**Wi-Fi**

- TWT device (STA) may not go to sleep in between TWT intervals in case of burst data traffics with data size more than the configured 'average tx throughput', until completion of data transfer.
- There are performance and IOP issues with MU MIMO.
- WPA3 Connection with the Hunting and Pecking algorithm takes about 3-4 seconds.
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.
- Low Wi-Fi+BLE throughput
- TCP/UDP TX/RX Data stall observed in CoEx scenarios
- Observed HTTPS Continuous download fails with TA Power save
- Performance improvements are in progress for lower performance metrics.
- Observed interop issue (connectivity failure) with few AP's when device reset/reboot happens on active connection.
- In concurrent mode, AP restart fails after stopping it with ap\_stop command.
- DUT deep sleep will not work after stopping AP with ap\_stop command.
- Unable to get SNTP async events when coex mode and Power save is enabled
- Fine Tuning 802.11ax Spectral mask in Progress
- Fine Tuning 11b mask in Ch11 in progress
- DUT is unable to connect to the AP with WPA3 security when we enable coex mode (WLAN+BLE) in opermode
- Socket listen API is failing from the second iteration
- Disconnections observed with Netgear RAX120 AP in WPA3 security
- Observed connection failures with some AP's in more channel congestion open lab environment
- Firmware Upgrade example is not working in PSRAM boards
- deep sleep example is not supported with power manager
- AP fails to start when ACS is enabled on CZ100, CZ101 OPNS (SI91X-16507)

**BLE**

- HID profile data transfer is not working, when power save is enabled in SoC.
- BLE reconnection is not working in ble_multiconnection_gatt demo, when power save is enabled in SoC
- BLE throughputs are less with STM32 compared to EFR
- BLE throughputs are less with Lite firmware

**Co-Existence**

- Observed HTTP continuous download is not happening in Powersave mode after BLE connection established using wifi\_https\_ble\_dual\_role application
- Observed DUT hang while Wi-Fi UDP/TCP Tx and BLE continuous scan

**System**

- BRD8045A and BRD8045C does not have CTS and RTS pins routed from SiWx917 NCP, which are used for UART flow control

**MCU**

- Refer to the respective Radio board user guides for specific pinout details. Examples are targeted to a specific version mentioned in the respective readme
- Some wakeup resources (BOD and Comparator) are experiencing issues in the Power Manager service. Refer to Chapter "Wakeup sources" in HRM for more details
- BJT Temperature sensor values are inconsistent with expectations
- UART instances do not support different FIFO Thresholds
- Powersave Deep Sleep example for the OPNs requires the installation of the device_need_ram_execution component
- TA processor hang can occur when the M4 uses the XTAL clock with sleep enabled
- In ULP SSI application, non-dma transfer is not working as expected

**Limitations and Unsupported Features**

**SDK**

- WiSeConnect3_SDK_3.1.3 and later versions are not compatible with firmware versions prior to 1711.2.10.1.2.0.4, due to enhancements in max transmit power configuration during Wi-Fi join/connection, need to be cautious while doing OTA firmware upgrade.

**Wi-Fi/Network Stack**

- TLS 1.3 Server is not supported
- In AP mode, IPv6 Router Advertisements are not supported. Although STA connected to the APUT can transfer IPv6 data to the peers by using SLAAC for address configuration.
- When sl\_wifi\_enable\_target\_wake\_time() API is used, observed occasional MQTT disconnections with longer TWT intervals (>30secs) with embedded MQTT + TWT.
- AMSDU TX is not supported.
- Fragmentation is not supported.
- AMSDUs within AMPDU is not supported.
- Currently, the module does not support Radio Measurement Requests feature of CCX V2
- 802.11k is not supported
- 40 MHz bandwidth for 2.4 GHz band is not supported.
- 802.11J channel 14 is not supported.
- MQTT versions 3 and 4 are supported.
- Maximum of 3 SSL connections are supported.
- In SSL ECC Curve ID supported is 23. SSL handshake with 3rd party clients depends on the SSL ECC Curve ID.
- LP mode is not supported.
- In iTWT mode, downlink data traffic should be limited. Disconnections may be observed if AP fails to send all the buffered data in the next TWT Service Period.
- Number of MBSSIDs processed is limited by the beacon length that can be processed by the stack (which is limited to 1024 bytes). Beacons greater than 1024 Bytes in length will not be processed.
- CoEx + EAP Security in 352K/320k is not feasible. This issue is observed due to a lack of memory in the 352k/320k Memory Configuration. It is supported with other EXT\_FEAT\_416K\_M4SS\_256K and EXT\_FEAT\_480K\_M4SS\_192K memory configurations.
- UL MUMIMO is not supported.
- The embedded HTTP server is not supported.
- Baremetal is not supported.
- Compared to SoC mode, NCP mode has fewer examples, but more will be enabled in upcoming releases.
- Maximum Supported length for Embedded MQTT username up to 120 bytes , topic length up to 200 bytes and password upto 62 bytes.
- UART 2 Debug prints are supported only on ULP_GPIO_9.
- WOW LAN feature is not supported.
- SA Query procedure is not supported in AP mode.
- Maximum Supported length for HTTP GET URL is up to 2048 bytes.
- Azure SDK with embedded MQTT is not supported.
- Power save is not supported in Azure MQTT.
- MDNS service discovery is currently not supported.
- sli_si91x_accept_async is not thread-safe
- Observed some background compatibility issues with coex and http in few corner cases
- AP mode does not support Tx and Rx aggregation in Concurrent mode.
- Concurrent STA mode, Rx aggregation is not supported. Tx aggregation is supported but it is not recommended.
- AP standalone mode does not support Tx aggregation. Rx aggregation is supported with limited number of BA sessions.

**BLE**

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.
- BLE TX/RX throughput is less when tested with EFM as compared to EFR
- Maximum supported AE data length is 200 bytes.
- Supports only two ADV\_EXT sets.
- Supports only two BLE connections (1 Central and 1 Peripheral) with AE.
- Advertising Extension feature is not supported in Coexistence.
- The  ae\_central & ae\_peripheral applications are not supported with TA\_352K\_M4\_320K RAM configuration.
- Setting PLL mode as 1 is not supported in Coexistence

**MCU**

- Manual chip select option is not supported when using GSPI
- LittleFS example support is intended to work only with Dual flash
- PS1 state is not supported in Power Manager
- Power is same for PS4 and PS3 states with powersave mode of power manager
- When using Button_0 as wakeup source, it limits the button functionality at application layer. For using Button_0 for application specific functionality, enable 'SL_SI91X_NPSS_GPIO_BTN_HANDLER'
- XTAL 40MHz clock as a reference clock is not supported

**System**
- TA Connected sleep and M4 PS2 is not a possible mode of operation
- M4 PS2 active and sleep is not a possible mode when SL_SI91X_EXT_FEAT_FRONT_END_SWITCH_PINS_ULP_GPIO_4_5_0 is enabled in SoC mode

**Simplicity Studio and Commander**

- Default GDB debug configuration is not supported for SoC projects, work around details provided in "Getting-Started-with-SiWx917"
- Observing flash download failures(ERROR 108) for a few image sizes
- While creating project through Simplicity Studio, "copy contents" option not supported.
- Simplicity commander does not support options under "Debug Lock tools".
- All projects in the package are compatible with GCC 10.3.1 version.

**Terminology**

|**Term**|**Description**|
| :- | :- |
|**New Features**|These items are new to this release|
|**Changes/Issues Fixed**|Changes made to existing features found in previous software releases.|
||Enhancements to existing product flow and feature set.|
||Bug fixes done in the release|
|**Deprecated Items**|Features or functions or APIs that are removed from the distributed release to align with the software roadmap|
|**Known Issues**|Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases|
|**Limitations/Recommendations**|Describes the limitations on product usage and recommendations for optimal use cases|

**Note**

- Change SPI frequency to 12.5Mhz while measuring BLE throughput with EFR32

<br>


This SDK package supports SoC Mode and NCP Mode for B0:

- In SoC Mode: Customer applications can run on Cortex M4. Wireless, network, and security stacks run on the wireless subsystem.
- In NCP mode: Wireless, network, and security stacks run on the Wireless subsystem. Customer applications run on the external host MCU.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

**Note**: Use Simplicity Studio version SV5.8.0.1 onwards

**SoC Highlights**

- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support ultra low power Wi-Fi standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode
- **MCU examples** : GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers, Config Timers, ULP (Ultra Low Power) Timers, Sleeptimer, IOSTREAM, NVM3, MEMLCD, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, Sensorhub, Joystick, Relative Humidity and Temperature sensor (RHT), Analog Comparator, Digital to Analog Converter and Temperature sensors (RO and BJT), CRC, LittleFS, Power Manager with RTOS
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE whitelisting, and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack, All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS client
- **IDE** : Simplicity Studio with Windows 10(64-bit), Linux, Mac OS
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** :
  - Si-MB4002A Main board
  - SiWx917 Radio boards

|**RadioBoard Type**|**SiWx917B0 with Board Version**|
| :- | :- |
|Common flash|Si917-BRD4338A(2.0)|
|Dual flash|Si917-BRD4339B(2.0)|
|External PSRAM|Si917-BRD4340A(2.0), Si917-BRD4342A(2.0)|
|Internal PSRAM|Si917-BRD4339A(2.0)|
|Dev Kit|Si917-2605A|

**NCP Highlights**

- **Host Interface** : SPI, UART
- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode.
- **Wi-Fi** : 2.4GHz Wi-Fi Support, WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE Whitelisting and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack , BLE Stack , All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS Client.
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **Hardware kits to evaluate NCP Mode**
  - NCP EFR Expansion Kit with NCP Radio board (BRD4338A(NCP MBR) + BRD8045A)
  - Wireless Pro kit Mainboard BRD4002A Rev A06
  - EFR32xG24 Wireless 2.4 GHz +10 dBm Radio Board xG24-RB4186C

**Release Details**

|**Item**|**Details**|
| :- | :- |
|Release date|Oct 4th, 2024|
|SDK Version|3.4.0-ifc4|
|Firmware Version Standard|1711\.2.13.3.0.0.4|
|Firmware Version Lite|1711\.2.13.3.0.2.4|
|Package Name|WiSeConnect3\_SDK\_3.4.0-ifc4|
|GSDK Version | SiSDK-2024.6.2|
|Supported RTOS|FreeRTOS|
|Operating Modes Supported|Wi-Fi STA, Wi-Fi AP, Wi-Fi STA+BLE, Wi-Fi STA+AP|
|Build Quality|GA|

- SiWx917 release consists of two components
  - Wireless Firmware - SiWx917 Firmware Binaries
  - Wiseconnect3 Library - Wiseconnect3 SDK library runs on the external host in NCP mode and internal Cortex M4 in SoC Mode.
- This release is meant only for use with designs based on SiWx917 Silicon
- The firmware to load is available in the following format:
  - SiWG917-B.2.12.1.x.0.x.rps - B0 Full-featured firmware binary
  - SiWG917-B.2.12.1.x.2.x.rps - B0 lite firmware binary

**Features Supported**

**Sensorhub service**

- Support for ADC, SPI, SDC and I2C based sensors
- Support for PS2
- Support added for SDC

**MCU**

- ADC Single Channel, ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, GPIO, GSPI, I2C, I2S, NVM3, OPAMP, PSRAM, PWM, QEI, RTC, SDIO Secondary, SSI Master and Slave, UART, Micro DMA, USART, Watchdog Timer, Temperature Sensors (RO and BJT), USART Master and Slave, CRC
- UC Supported Peripherals - GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers , Config Timers, ULP (Ultra Low Power) Timers, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, MEMLCD, Analog Comparator and Digital to Analog Converter.
- Services - Sleeptimer, IOSTREAM, NVM3, Power Manager, LittleFS, Pin Tool (support for USART, I2C, SSI, GSPI, SIO, SCT, PWM, I2S, ADC, DAC and Analog Comparator)
- ULP (Ultra Low Power) Peripherals - ulp\_adc, ulp\_calender, ulp\_dac, ulp\_gpio, ulp\_i2c, ulp\_i2s, ulp\_timer, ulp\_uart, ulp\_dma
- Extended flash write support for NWP flash region and added read api to read from NWP flash region
- List of OPN's supported si917-sb00, siwg917m111mgtba, siwg917m100mgtba, siwg917m111xgtba, siwg917m121xgtba, siwg917m110lgtba and siwg917m141xgtba
- Support added for SiWG917 Dev Kit Board (BRD2605A)
- Added APIs to configure M4 SoC Clock, PLL clocks, read M4 SoC Clock

**Wi-Fi**

- WPA2/WPA3 Personal, WPS and WPA2-EAP Support for Station Mode
- TCP/IP stack with IPv4, IPv6, TCP, UDP, TLS, HTTP/HTTPS, DHCPv4, DHCPv6, MQTT Client, DNS Client, SNTP client.
- Support for SSL client versions TLSV1.0, TLSV1.2, TLSV1.3 and SSL server versions TLSV1.0 and TLSV1.2
- Wi-Fi STA (802.11n/802.11ax) + 802.11n AP Support
- HE (802.11ax) and Individual TWT Feature Support
- Multiple BSSID feature support as an STA
- Secure OTA support on B0 radio boards.
- Support for LWIP network stack
- Support for AWS MQTT library
- Support for Azure MQTT library
- Support for BSD and IoT sockets application programming interface(API)
- Support added to change the listen interval after association with Access Point
- New API sl_si91x_fwup_abort added to support aborting firmware upgrade
- Added feature to support Gain offset calibration in channel 14

**Bluetooth Low Energy**

- BLE central & peripheral connections are supported.
- Ultra-low power save is supported.

**Power Save**

- Max PSP, enhanced MAX PSP, Fast PSP, and 802.11ax TWT power save modes are supported in WiFi.
- Only Max PSP power save mode is supported in BLE

**Crypto Support**

- AES, SHA, AES-CCM, HMAC, GCM, Chacha-poly, ECDH and TRNG FW Crypto API support added.
- PSA enabled Mbed TLS support added
- NVM support added for key storage
- Symmetric and asymmetric key storage
- TRNG, AES, SHA, HMAC, GCM, Chacha-poly, ECDH and AES-CCM hardware crypto engine is integrated with PSA crypto.

**Changes and Fixes**

**MCU**

- Created MCU power state examples (PS4, PS3, PS2, PS1, PS0) to match the datasheet numbers [SI91X-16948]
- Added Dev-kit microphone driver example support [RSCDEV-24246]
- Aadded low power configurations in hardware low power function[RSCDEV-30369]
- Removed dual flash board(brd4339b) from PR Jenkins build [SI91X-17072]
- Added PSRAM execution support for NVM3 application [SI91X-16350]
- Resolved Sysrtc application issue [SI91X-17045]
- SQA bugs: [SI91X-16950]

**SDK**

- Typecasted the bytes transferred as float to accommodate the larger values than uint32_t [SI91X-16844]
- Added documentation for sl_wifi_set_transmit_rate() [RSCDEV-31200]
- Fixed issue by flushing synchronous events if their timeout has expired. [SI91X-16572]
- Added new example for Wi-Fi provisioning on SoC [RSCDEV-24290]
- Sonarqube reported issues in the wifi module phase-2 [RSCDEV-30893]
- Adding TOS option -S 0xC8 in readme file [SI91X-15636]
- Adding NCP support for requested examples [RSCDEV-26044]
- On closing sever socket close all associated client sockets [SI91X-16523]
- Updated the logic for handling http response data [SI91X-16684]
- Added documentation for customized socket options [SI91X-15588]
- Flush pending TX request packets from the network command queue in case of mqtt disconnected event [RSCDEV-31120]
- Skip setting device region for boards supporting SL_SI91X_ACX_MODULE [SI91X-17033]
- make socket select api thread safe [RSCDEV-30670]
- Fixed the issue with the wifi_power_save_deep_sleep_uart_ncp application [SI91X-15191]

**Wi-Fi & Network Stack**

- SQA bugs: SI91X-15748, SI91X-16085

**BLE**

- Resolved DUT hang issue while BLE advertising and scanning with power save and encryption enabled[SI91X-16862]
- Fixed Periodic cancel/terminate Sync API issue[SI91X-16919]

**CoEx**

- None

**System**

- None

**Recommendations**

**System**

- The current revision of SiWx917 B0 has:
  - RAM memory of 672k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_672K\_M4SS\_0K- This mode configures TA with 672k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By default EXT\_FEAT\_352K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_480K\_M4SS\_192K - This mode configures TA with 480k and M4 with 192K bytes of memory
    - EXT\_FEAT\_416K\_M4SS\_256K - This mode configures TA with 416k and M4 with 256K bytes of memory
    - EXT\_FEAT\_352K\_M4SS\_320K - This mode configures TA with 352k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 672K\_M4SS\_0K.
  - SoC mode should not use 672k\_M4SS\_0k memory configuration.
- Set the recommended Power Save Profile (PSP) type to Enhanced Max PSP.

**IDE**

- Download the latest version of Simplicity Studio
- Refer to the latest version of the SoC/NCP "Getting-Started-with-SiWx917" guide for more details

**Wi-Fi & Network Stack****

- The recommended embedded MQTT Publish payload is 1 kBytes.
- It is recommended to enable bit 16 of the 'Extended TCP IP Feature' bit map in the opermode command for all Wi-Fi Socket operations from the host to ensure graceful handling during asynchronous closures from the peer.
- Aggregation (bit 2 of feature\_bit\_map) is recommended to be enabled in opermode. This enables software to aggregate multiple packets to achieve better throughput
- TCP retransmission count value is recommended to be 30 or higher so that the TCP does not disconnect while the rejoin happens.
- To restart the module, the application needs to call sl\_wifi\_deinit() followed by sl\_wifi\_init().
- Register 'Join Fail Callback' function every time when join is called, as in the rejoin failure path the callback is deregistered. If not done, this might result in a scan not functioning on rejoin failure.
- User can enable SL\_SI91X\_EXT\_TCP\_IP\_SSL\_16K\_RECORD in 'Extended TCP IP Feature'bit map in opermode, if HTTPS download is failing after receiving HTTP headers..
- iTWT setup is recommended after IP assignment/TCP connection/application specific socket connections.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, increase TCP / ARP Timeouts at the remote side depending upon the configured TWT interval configured.
- In case of TWT+coex, when using sl\_wifi\_enable\_target\_wakeup\_time API, use TWT wake duration <= 16 ms and TWT wake interval >= 1 sec. If wake duration > 16 ms or TWT wake interval < 1sec, there might be performance issues.
- For iTWT GTK Interval Should be kept max possible value or zero. If GTK interval is not configurable, recommended TWT interval (in case of sl\_wifi\_enable\_target\_wakeup\_time API) or RX Latency (in case of sl\_wifi\_target\_wake\_time\_auto\_selection API) is less than 4sec.
- Disable Power Save for High Throughput Applications.
- The application needs to ensure that it sets RTC with the correct timestamp when the feature is enabled before establishing the SSL connection.
- The timeout value should not be less than 1 second for socket select and socket receive calls. Timeout value of less than 1 second is not currently supported.
- When sl\_wifi\_enable\_target\_wakeup\_time API is used, configuring TWT Wake interval beyond 1 min might lead to disconnections from the AP. Recommended to use TWT wakeup interval of less than or equal to 1 min.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, it is recommended to set missed\_beacon\_count of sl\_wifi\_set\_advanced\_client\_configuration API greater than 2 times of the configured TWT Interval.
- Disable power save and suspend any active TWT sessions before triggering HTTP OTAF.
- It is recommended to enable bit 31 of the 'TCP IP Feature' bit map in the opermode command to support multicast protocol

**BLE**

- In BLE, the recommended range of Connection Interval in
  - Power Save (BLE Only) - 100 ms to 1.28 s.
- In BLE, during Connection, the configuration of Scan Interval and Scan Window with the same value is not recommended. The suggested ratio of Scan Window to Scan Interval is 3:4.
- In BLE, if a device is acting as Central, the scan window (in set\_scan\_params and create\_connection commands) must be less than the existing Connection Interval. The suggested ratio of Scan Window to Connection Interval is 2:3.
- In BLE mode, if scanning and advertising are in progress on the SiWx91x module and it subsequently gets connected and moves to the central role, scanning stops else if it moves to the peripheral role, advertising stops. To further establish a connection to another peripheral device or to a central device, the application should give a command for starting advertising and scanning again.

**Co-Existence**

- For concurrent Wi-Fi + BLE, and while a Wi-Fi connection is active, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
- Wi-Fi + BLE Advertising
  - All standard advertising intervals are supported. As Wi-Fi throughput is increased, a slight difference in on-air advertisements compared to configured intervals may be observed.
  - BLE advertising is skipped if the advertising interval collides with Wi-Fi activity.
- Wi-Fi + BLE scanning
  - All standard scan intervals are supported. For better scan results, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
  - BLE scanning will be stopped for intervals that collide with Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Connections
  - All standard connection intervals are supported.
  - For a stable connection, use optimal connection intervals and max supervision timeout in the presence of Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Data Transfer
  - To achieve higher throughput for both Wi-Fi and BLE, use medium connection intervals, such as 45 to 80 ms with maximum supervision timeout.
  - Ensure Wi-Fi activity consumes lower intervals.

**MCU**

- It is not recommended to use the RO clock for Clock Configuration
- PSRAM examples are not supposed to be used with Non-PSRAM OPNs
- By default SYSrtc and wake on wireless wakeup resources enabled, please do not reinstall these two wakeup sources when tickless idle mode is enabled
- Minimum idle-time to Sleep 100ms, as configured in FreeRtos_config.h
- Recommended to enable DMA for better throughput numbers
- For I2C Fastplus and High speed modes, it is recommended to use High power instances from 80Mhz to 180Mhz core clock
- Not recommended to use switch_m4_frequency() for clock scaling. Refer to migration guide for more details on this
- When using this 32MHz source for the PLL, limit the maximum clock to 160MHz
- In RTOS environment, prefer Signaling mechanisms (Semaphore/Mutex/EventFlag etc.) instead of "Variables/Flags" from user callbacks to detect "*Transfer Complete*" for high speed communication peripherals
  - Refer Software Reference Manual for more details
- It is recommended to install device_needs_ram_execution component for OPN based firmware update examples

**Known Issues**

**Sensorhub**

- Support for ADC FIFO Mode and Multi channel is open
- PS1-state supports only ADC sensor
- Power transitions with AWS are not stable in Sensorhub
- The process of integrating the tickless component and power manager service into the Sensorhub app is currently underway

**Network Stack**

- Sometimes during SSL Handshake, ECC curve parameters generated are wrong, resulting in connection failure with BBD2 error. However, this recovers in the next attempt.
- Randomize the client port if using rapid connect/disconnect of the MQTT session on the same client port with the power save.
- Secure SSL renegotiation not supported in Embedded Networking Stack.
- Disable power save before making TCP connection for NCP-UART interface.
- In concurrent mode, if IP is configured for AP mode ahead of STA mode then IPv6 configuration may fail for STA mode.
- In concurrent mode, data transfer using the Link-local address will always use the first IP interface created by the application.

**Wi-Fi**

- TWT device (STA) may not go to sleep in between TWT intervals in case of burst data traffics with data size more than the configured 'average tx throughput', until completion of data transfer.
- There are performance and IOP issues with MU MIMO.
- WPA3 Connection with the Hunting and Pecking algorithm takes about 3-4 seconds.
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.
- Low Wi-Fi+BLE throughput
- TCP/UDP TX/RX Data stall observed in CoEx scenarios
- Observed HTTPS Continuous download fails with TA Power save
- Performance improvements are in progress for lower performance metrics.
- Observed interop issue (connectivity failure) with few AP's when device reset/reboot happens on active connection.
- In concurrent mode, AP restart fails after stopping it with ap\_stop command.
- DUT deep sleep will not work after stopping AP with ap\_stop command.
- Unable to get SNTP async events when coex mode and Power save is enabled
- Fine Tuning 802.11ax Spectral mask in Progress
- Fine Tuning 11b mask in Ch11 in progress
- DUT is unable to connect to the AP with WPA3 security when we enable coex mode (WLAN+BLE) in opermode
- Socket listen API is failing from the second iteration
- Disconnections observed with Netgear RAX120 AP in WPA3 security
- Observed connection failures with some AP's in more channel congestion open lab environment
- Firmware Upgrade example is not working in PSRAM boards
- deep sleep example is not supported with power manager
- AP fails to start when ACS is enabled on CZ100, CZ101 OPNS (SI91X-16507)

**BLE**

- HID profile data transfer is not working, when power save is enabled in SoC.
- BLE reconnection is not working in ble_multiconnection_gatt demo, when power save is enabled in SoC
- BLE throughputs are less with STM32 compared to EFR

**Co-Existence**

- Observed HTTP continuous download is not happening in Powersave mode after BLE connection established using wifi\_https\_ble\_dual\_role application
- Observed DUT hang while Wi-Fi UDP/TCP Tx and BLE continuous scan.

**System**

- BRD8045A and BRD8045C does not have CTS and RTS pins routed from SiWx917 NCP, which are used for UART flow control

**MCU**

- Refer to the respective Radio board user guides for specific pinout details. Examples are targeted to a specific version mentioned in the respective readme
- Few(BOD and Comparator) wakeup resources are not working as expected in Power manager service
- Observed RO and BJT Temperature values are not as expected
- Character Timeout feature for all communication protocols is not supported
- UART instances does not support different FIFO Thresholds
- NVM3 dual flash application is not working as expected in the current release.
- ULP_I2C does not function as expected in low power mode when DMA is enabled
- Powersave Deep Sleep example for the siwg917m110lgtba OPN requires the installation of the device_need_ram_execution component.
- Sometimes TA processor hang occurs when M4 used XTAL clock with sleep enabled.
- In ULP SSI application, non-dma transfer is not working as expected.

**Limitations and Unsupported Features**

**SDK**

- WiSeConnect3_SDK_3.1.3 and later versions are not compatible with firmware versions prior to 1711.2.10.1.2.0.4, due to enhancements in max transmit power configuration during Wi-Fi join/connection, need to be cautious while doing OTA firmware upgrade.

**Wi-Fi/Network Stack**

- TLS 1.3 Server is not supported
- In AP mode, IPv6 Router Advertisements are not supported. Although STA connected to the APUT can transfer IPv6 data to the peers by using SLAAC for address configuration.
- When sl\_wifi\_enable\_target\_wake\_time() API is used, observed occasional MQTT disconnections with longer TWT intervals (>30secs) with embedded MQTT + TWT.
- AMSDU TX is not supported.
- Fragmentation is not supported.
- AMSDUs within AMPDU is not supported.
- Currently, the module does not support Radio Measurement Requests feature of CCX V2
- 802.11k is not supported
- 40 MHz bandwidth for 2.4 GHz band is not supported.
- 802.11J channel 14 is not supported.
- MQTT versions 3 and 4 are supported.
- Maximum of 3 SSL connections are supported.
- In SSL ECC Curve ID supported is 23. SSL handshake with 3rd party clients depends on the SSL ECC Curve ID.
- LP mode is not supported.
- In iTWT mode, downlink data traffic should be limited. Disconnections may be observed if AP fails to send all the buffered data in the next TWT Service Period.
- Number of MBSSIDs processed is limited by the beacon length that can be processed by the stack (which is limited to 1024 bytes). Beacons greater than 1024 Bytes in length will not be processed.
- CoEx + EAP Security in 352K/320k is not feasible. This issue is observed due to a lack of memory in the 352k/320k Memory Configuration. It is supported with other EXT\_FEAT\_416K\_M4SS\_256K and EXT\_FEAT\_480K\_M4SS\_192K memory configurations.
- UL MUMIMO is not supported.
- The embedded HTTP server is not supported.
- Baremetal is not supported.
- Compared to SoC mode, NCP mode has fewer examples, but more will be enabled in upcoming releases.
- Maximum Supported length for Embedded MQTT username up to 120 bytes , topic length up to 200 bytes and password upto 62 bytes.
- UART 2 Debug prints are supported only on ULP_GPIO_9.
- WOW LAN feature is not supported.
- SA Query procedure is not supported in AP mode.
- Maximum Supported length for HTTP GET URL is up to 2048 bytes.
- Azure SDK with embedded MQTT is not supported.
- Power save is not supported in Azure MQTT.
- MDNS service discovery is currently not supported.
- sli_si91x_accept_async is not thread-safe
- Observed some background compatibility issues with coex and http in few corner cases
- AP mode does not support Tx and Rx aggregation in Concurrent mode.
- Concurrent STA mode, Rx aggregation is not supported. Tx aggregation is supported but it is not recommended.
- AP standalone mode does not support Tx aggregation. Rx aggregation is supported with limited number of BA sessions.

**BLE**

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.
- BLE TX/RX throughput is less when tested with EFM as compared to EFR
- Maximum supported AE data length is 200 bytes.
- Supports only two ADV\_EXT sets.
- Supports only two BLE connections (1 Central and 1 Peripheral) with AE.
- Advertising Extension feature is not supported in Coexistence.
- The  ae\_central & ae\_peripheral applications are not supported with TA\_352K\_M4\_320K RAM configuration.
- Setting PLL mode as 1 is not supported in Coexistence

**MCU**

- Manual chip select option is not supported when using GSPI.
- Following peripherals/features are not functioning as expected
    - ADC Multichannel, SSI Dual and Quad mode, SIO and Temp sensors
- LittleFS example support is intended to work only with Dual flash
- PS1 state is not supported in Power Manager
- Power is same for PS4 and PS3 states with powersave mode of power manager
- When using Button_0 as wakeup source, it limits the button functionality at application layer. For using Button_0 for application specific functionality, enable 'SL_SI91X_NPSS_GPIO_BTN_HANDLER'
- XTAL 40MHz clock as a reference clock is not supported

**System**
- TA Connected sleep and M4 PS2 is not a possible mode of operation
- M4 PS2 active and sleep is not a possible mode when SL_SI91X_EXT_FEAT_FRONT_END_SWITCH_PINS_ULP_GPIO_4_5_0 is enabled in SoC mode

**Simplicity Studio and Commander**

- Default GDB debug configuration is not supported for SoC projects, work around details provided in "Getting-Started-with-SiWx917"
- Observing flash download failures(ERROR 108) for a few image sizes
- While creating project through Simplicity Studio, "copy contents" option not supported.
- Simplicity commander does not support options under "Debug Lock tools".
- All projects in the package are compatible with GCC 10.3.1 version.

**Terminology**

|**Term**|**Description**|
| :- | :- |
|**New Features**|These items are new to this release|
|**Changes/Issues Fixed**|Changes made to existing features found in previous software releases.|
||Enhancements to existing product flow and feature set.|
||Bug fixes done in the release|
|**Deprecated Items**|Features or functions or APIs that are removed from the distributed release to align with the software roadmap|
|**Known Issues**|Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases|
|**Limitations/Recommendations**|Describes the limitations on product usage and recommendations for optimal use cases|

**Note**

- Change SPI frequency to 12.5Mhz while measuring BLE throughput with EFR32

<br>

**WiSeConnect3\_SDK\_3.3.3-cf Release Notes**

This SDK package supports SoC Mode and NCP Mode for B0:

- In SoC Mode: Customer applications can run on Cortex M4. Wireless, network, and security stacks run on the wireless subsystem.
- In NCP mode: Wireless, network, and security stacks run on the Wireless subsystem. Customer applications run on the external host MCU.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

**Note**: Use Simplicity Studio version SV5.8.0.1 onwards

**SoC Highlights**

- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support ultra low power Wi-Fi standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode
- **MCU examples** : GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers, Config Timers, ULP (Ultra Low Power) Timers, Sleeptimer, IOSTREAM, NVM3, MEMLCD, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, Sensorhub, Joystick, Relative Humidity and Temperature sensor (RHT), Analog Comparator, Digital to Analog Converter and Temperature sensors (RO and BJT), CRC, LittleFS, Power Manager with RTOS
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE whitelisting, and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack, All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS client
- **IDE** : Simplicity Studio with Windows 10(64-bit), Linux, Mac OS
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** :
  - Si-MB4002A Main board
  - SiWx917 Radio boards

|**RadioBoard Type**|**SiWx917B0 with Board Version**|
| :- | :- |
|Common flash|Si917-BRD4338A(2.0)|
|Dual flash|Si917-BRD4339B(2.0)|
|External PSRAM|Si917-BRD4340A(2.0), Si917-BRD4342A(2.0)|
|Internal PSRAM|Si917-BRD4339A(2.0)|
|Dev Kit|Si917-2605A|

**NCP Highlights**

- **Host Interface** : SPI, UART
- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode.
- **Wi-Fi** : 2.4GHz Wi-Fi Support, WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE Whitelisting and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack , BLE Stack , All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS Client.
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **Hardware kits to evaluate NCP Mode**
  - NCP EFR Expansion Kit with NCP Radio board (BRD4338A(NCP MBR) + BRD8045A)
  - Wireless Pro kit Mainboard BRD4002A Rev A06
  - EFR32xG24 Wireless 2.4 GHz +10 dBm Radio Board xG24-RB4186C

**Release Details**

|**Item**|**Details**|
| :- | :- |
|Release date|Oct 1st, 2024|
|SDK Version|3.3.3-cf|
|Firmware Version Standard|1711\.2.12.3.3.0.3|
|Firmware Version Lite|1711\.2.12.3.3.2.3|
|Package Name|WiSeConnect3\_SDK\_3.3.3-cf|
|GSDK Version | SiSDK-2024.6.2|
|Supported RTOS|FreeRTOS|
|Operating Modes Supported|Wi-Fi STA, Wi-Fi AP, Wi-Fi STA+BLE, Wi-Fi STA+AP|
|Build Quality|GA|

- SiWx917 release consists of two components
  - Wireless Firmware - SiWx917 Firmware Binaries
  - Wiseconnect3 Library - Wiseconnect3 SDK library runs on the external host in NCP mode and internal Cortex M4 in SoC Mode.
- This release is meant only for use with designs based on SiWx917 Silicon
- The firmware to load is available in the following format:
  - SiWG917-B.2.12.3.x.0.x.rps - B0 Full-featured firmware binary
  - SiWG917-B.2.12.3.x.2.x.rps - B0 lite firmware binary

**Features Supported**

**Sensorhub service**

- Support for ADC, SPI, SDC and I2C based sensors
- Support for PS2
- Support added for SDC

**MCU**

- ADC Single Channel, ADC Static Mode, Analog Comparator, Blinky, Bod, CRC, CTS, DAC FIFO, DAC Static, GPIO, GSPI, I2C, I2S, NVM3, OPAMP, PSRAM, PWM, QEI, RTC, SDIO Secondary, SSI Master and Slave, UART, Micro DMA, USART, Watchdog Timer, BJT Temperature Sensor, USART Master and Slave
- UC Supported Peripherals - GPIO, I2C, Calendar,  SPI, SSI, Micro DMA, UART/USART, Watchdog Timer, Timers , Config Timers, ULP (Ultra Low Power) Timers, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, MEMLCD, Analog Comparator and Digital to Analog Converter.
- Services - Sleeptimer, IOSTREAM, NVM3, Power Manager, LittleFS, Pin Tool (support for USART, I2C, SSI, GSPI, SCT, PWM, I2S, ADC, DAC and Analog Comparator)
- ULP (Ultra Low Power) Peripherals - ulp\_adc, ulp\_calender, ulp\_dac, ulp\_gpio, ulp\_i2c, ulp\_i2s, ulp\_timer, ulp\_uart, ulp\_dma, ulp\_ssi
- Extended flash write support for NWP flash region and added read api to read from NWP flash region
- List of OPN's supported si917-sb00, siwg917m111mgtba, siwg917m100mgtba, siwg917m111xgtba, siwg917m121xgtba, siwg917m110lgtba, siwg917m141xgtba, siwg917y111mgnba, siwg917y110lgnba, siwg917y111xgnba and siwg917y121mgnba
- Support added for SiWG917 Dev Kit Board (BRD2605A)
- Added APIs to configure M4 SoC Clock, PLL clocks, read M4 SoC Clock

**Wi-Fi**

- WPA2/WPA3 Personal, WPS and WPA2-EAP Support for Station Mode
- TCP/IP stack with IPv4, IPv6, TCP, UDP, TLS, HTTP/HTTPS, DHCPv4, DHCPv6, MQTT Client, DNS Client, SNTP client.
- Support for SSL client versions TLSV1.0, TLSV1.2, TLSV1.3 and SSL server versions TLSV1.0 and TLSV1.2
- Wi-Fi STA (802.11n/802.11ax) + 802.11n AP Support
- HE (802.11ax) and Individual TWT Feature Support
- Multiple BSSID feature support as an STA
- Secure OTA support on B0 radio boards.
- Support for LWIP network stack
- Support for AWS MQTT library
- Support for Azure MQTT library
- Support for BSD and IoT sockets application programming interface(API)
- Support added to change the listen interval after association with Access Point
- New API sl_si91x_fwup_abort added to support aborting firmware upgrade
- Added feature to support Gain offset calibration in channel 14

**Bluetooth Low Energy**

- BLE central & peripheral connections are supported.
- Ultra-low power save is supported.

**Power Save**

- Max PSP, enhanced MAX PSP, Fast PSP, and 802.11ax TWT power save modes are supported in WiFi.
- Only Max PSP power save mode is supported in BLE

**Crypto Support**

- AES, SHA, AES-CCM, HMAC, GCM, Chacha-poly, ECDH and TRNG FW Crypto API support added.
- PSA enabled Mbed TLS support added
- NVM support added for key storage
- Symmetric and asymmetric key storage
- TRNG, AES, SHA, HMAC, GCM, Chacha-poly, ECDH and AES-CCM hardware crypto engine is integrated with PSA crypto.

**Changes and Fixes**

**MCU**

- Added UC support for DEBUGINIT to configure UART instance and pins required [SI91X-15158/SI91X-16716]
- SQA bugs: [SI91X-16593]

**SDK**

- Fixed issue where DUT takes 2–4 minutes to re-connect with the AP & Si-connect app shuts down in mid-iterations  [SI91X-17035]
- Fixed issue with the device not going to sleep immediately after the power save API is called [SI91X-16809]
- Updated doc tech pub edit release 3.3.3 [TECHDOCS-1034]
- SQA Bug: SI91X-17035


**Wi-Fi & Network Stack**

- Added gaintable for worldsafe, SRRC regions for ACx modules to allow modules to use tx power more than 7dBm.

**BLE**

- PGSUTLEJ-1626: Fixed 2Mbps AE connection issue
- RSCDEV-31391/PGSUTLEJ-1397: Limited the Tx power to 4dBm for WORLDSAFE and SRRC regions. And also removed the option for users to modify BLE Gain tables for the Acx modules
- SQA bugs: SI91X-17060

**CoEx**

- None

**System**

- None

**Recommendations**

**System**

- The current revision of SiWx917 B0 has:
  - RAM memory of 672k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_672K\_M4SS\_0K- This mode configures TA with 672k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By default EXT\_FEAT\_352K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_480K\_M4SS\_192K - This mode configures TA with 480k and M4 with 192K bytes of memory
    - EXT\_FEAT\_416K\_M4SS\_256K - This mode configures TA with 416k and M4 with 256K bytes of memory
    - EXT\_FEAT\_352K\_M4SS\_320K - This mode configures TA with 352k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 672K\_M4SS\_0K.
  - SoC mode should not use 672k\_M4SS\_0k memory configuration.
- Set the recommended Power Save Profile (PSP) type to Enhanced Max PSP.

**IDE**

- Download the latest version of Simplicity Studio
- Refer to the latest version of the SoC/NCP "Getting-Started-with-SiWx917" guide for more details

**Wi-Fi & Network Stack****

- The recommended embedded MQTT Publish payload is 1 kBytes.
- It is recommended to enable bit 16 of the 'Extended TCP IP Feature' bit map in the opermode command for all Wi-Fi Socket operations from the host to ensure graceful handling during asynchronous closures from the peer.
- Aggregation (bit 2 of feature\_bit\_map) is recommended to be enabled in opermode. This enables software to aggregate multiple packets to achieve better throughput
- TCP retransmission count value is recommended to be 30 or higher so that the TCP does not disconnect while the rejoin happens.
- To restart the module, the application needs to call sl\_wifi\_deinit() followed by sl\_wifi\_init().
- Register 'Join Fail Callback' function every time when join is called, as in the rejoin failure path the callback is deregistered. If not done, this might result in a scan not functioning on rejoin failure.
- User can enable SL\_SI91X\_EXT\_TCP\_IP\_SSL\_16K\_RECORD in 'Extended TCP IP Feature'bit map in opermode, if HTTPS download is failing after receiving HTTP headers..
- iTWT setup is recommended after IP assignment/TCP connection/application specific socket connections.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, increase TCP / ARP Timeouts at the remote side depending upon the configured TWT interval configured.
- In case of TWT+coex, when using sl\_wifi\_enable\_target\_wakeup\_time API, use TWT wake duration <= 16 ms and TWT wake interval >= 1 sec. If wake duration > 16 ms or TWT wake interval < 1sec, there might be performance issues.
- For iTWT GTK Interval Should be kept max possible value or zero. If GTK interval is not configurable, recommended TWT interval (in case of sl\_wifi\_enable\_target\_wakeup\_time API) or RX Latency (in case of sl\_wifi\_target\_wake\_time\_auto\_selection API) is less than 4sec.
- Disable Power Save for High Throughput Applications.
- The application needs to ensure that it sets RTC with the correct timestamp when the feature is enabled before establishing the SSL connection.
- The timeout value should not be less than 1 second for socket select and socket receive calls. Timeout value of less than 1 second is not currently supported.
- When sl\_wifi\_enable\_target\_wakeup\_time API is used, configuring TWT Wake interval beyond 1 min might lead to disconnections from the AP. Recommended to use TWT wakeup interval of less than or equal to 1 min.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, it is recommended to set missed\_beacon\_count of sl\_wifi\_set\_advanced\_client\_configuration API greater than 2 times of the configured TWT Interval.
- Disable power save and suspend any active TWT sessions before triggering HTTP OTAF.
- It is recommended to enable bit 31 of the 'TCP IP Feature' bit map in the opermode command to support multicast protocol

**BLE**

- In BLE, the recommended range of Connection Interval in
  - Power Save (BLE Only) - 100 ms to 1.28 s.
- In BLE, during Connection, the configuration of Scan Interval and Scan Window with the same value is not recommended. The suggested ratio of Scan Window to Scan Interval is 3:4.
- In BLE, if a device is acting as Central, the scan window (in set\_scan\_params and create\_connection commands) must be less than the existing Connection Interval. The suggested ratio of Scan Window to Connection Interval is 2:3.
- In BLE mode, if scanning and advertising are in progress on the SiWx91x module and it subsequently gets connected and moves to the central role, scanning stops else if it moves to the peripheral role, advertising stops. To further establish a connection to another peripheral device or to a central device, the application should give a command for starting advertising and scanning again.

**Co-Existence**

- For concurrent Wi-Fi + BLE, and while a Wi-Fi connection is active, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
- Wi-Fi + BLE Advertising
  - All standard advertising intervals are supported. As Wi-Fi throughput is increased, a slight difference in on-air advertisements compared to configured intervals may be observed.
  - BLE advertising is skipped if the advertising interval collides with Wi-Fi activity.
- Wi-Fi + BLE scanning
  - All standard scan intervals are supported. For better scan results, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
  - BLE scanning will be stopped for intervals that collide with Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Connections
  - All standard connection intervals are supported.
  - For a stable connection, use optimal connection intervals and max supervision timeout in the presence of Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Data Transfer
  - To achieve higher throughput for both Wi-Fi and BLE, use medium connection intervals, such as 45 to 80 ms with maximum supervision timeout.
  - Ensure Wi-Fi activity consumes lower intervals.

**MCU**

- Use RO clock only if accuracy is not crucial otherwise use crystal clock
- PSRAM examples are not supposed to be used with Non-PSRAM OPNs
- SYSrtc and wake on wireless wakeup resources are enabled by default when tickeless idle mode is enabled. Do not reinstall these two wakeup sources 
- Avoid installing sleeptimer component in power save applications
- Minimum idle-time to Sleep 100ms, as configured in FreeRtos_config.h
- Enable DMA to achieve better throughput numbers
- For I2C Fastplus and High speed modes, use High power instances with core clock frequencies between 80MHz and 180MHz
- Use blocking calls instead of non-blocking calls for I2C leader in ULP_I2C while receiving data
- In RTOS environment, prefer Signaling mechanisms (Semaphore/Mutex/EventFlag etc.) instead of "Variables/Flags" from user callbacks to detect "*Transfer Complete*" for high speed communication peripherals
    - Refer Software Reference Manual for more details
- Install the device_needs_ram_execution component for OPN-based firmware update examples.
- Use the sl_si91x_power_manager_sleep() API instead of the sl_si91x_m4_sleep_wakeup() API
- Enable RSI_TIMEPERIOD_TimerClkSel(), only when using Calendar (RTC) or DeepSleep timer as wakeup sources in Power Manager
- For ACx Modules, it is necessary to initialize the Internal 32kHz RC clock specifically for the LF_FSM domain. GPIO oscillator clock does not propagate to the LF_FSM. This may lead to timer accuracy issues when using the 32kHz RC clock.

**Known Issues**

**Sensorhub**

- Support for ADC FIFO Mode and Multi channel is open
- PS1-state supports only ADC sensor
- Power transitions with AWS are not stable in Sensorhub
- The process of integrating the tickless component and power manager service into the Sensorhub app is currently underway

**Network Stack**

- Sometimes during SSL Handshake, ECC curve parameters generated are wrong, resulting in connection failure with BBD2 error. However, this recovers in the next attempt.
- Randomize the client port if using rapid connect/disconnect of the MQTT session on the same client port with the power save.
- Secure SSL renegotiation not supported in Embedded Networking Stack.
- Disable power save before making TCP connection for NCP-UART interface.
- In concurrent mode, if IP is configured for AP mode ahead of STA mode then IPv6 configuration may fail for STA mode.
- In concurrent mode, data transfer using the Link-local address will always use the first IP interface created by the application.

**Wi-Fi**

- TWT device (STA) may not go to sleep in between TWT intervals in case of burst data traffics with data size more than the configured 'average tx throughput', until completion of data transfer.
- There are performance and IOP issues with MU MIMO.
- WPA3 Connection with the Hunting and Pecking algorithm takes about 3-4 seconds.
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.
- Low Wi-Fi+BLE throughput
- TCP/UDP TX/RX Data stall observed in CoEx scenarios
- Observed HTTPS Continuous download fails with TA Power save
- Performance improvements are in progress for lower performance metrics.
- Observed interop issue (connectivity failure) with few AP's when device reset/reboot happens on active connection.
- In concurrent mode, AP restart fails after stopping it with ap\_stop command.
- DUT deep sleep will not work after stopping AP with ap\_stop command.
- Unable to get SNTP async events when coex mode and Power save is enabled
- Fine Tuning 802.11ax Spectral mask in Progress
- Fine Tuning 11b mask in Ch11 in progress
- DUT is unable to connect to the AP with WPA3 security when we enable coex mode (WLAN+BLE) in opermode
- Socket listen API is failing from the second iteration
- Disconnections observed with Netgear RAX120 AP in WPA3 security
- Observed connection failures with some AP's in more channel congestion open lab environment
- Firmware Upgrade example is not working in PSRAM boards
- deep sleep example is not supported with power manager
- AP fails to start when ACS is enabled on CZ100, CZ101 OPNS (SI91X-16507)

**BLE**

- HID profile data transfer is not working, when power save is enabled in SoC.
- BLE reconnection is not working in ble_multiconnection_gatt demo, when power save is enabled in SoC
- BLE throughputs are less with STM32 compared to EFR
- BLE throughputs are less with Lite firmware

**Co-Existence**

- Observed HTTP continuous download is not happening in Powersave mode after BLE connection established using wifi\_https\_ble\_dual\_role application
- Observed DUT hang while Wi-Fi UDP/TCP Tx and BLE continuous scan

**System**

- BRD8045A and BRD8045C does not have CTS and RTS pins routed from SiWx917 NCP, which are used for UART flow control

**MCU**

- Refer to the respective Radio board user guides for specific pinout details. Examples are targeted to a specific version mentioned in the respective readme
- Some wakeup resources (BOD and Comparator) are experiencing issues in the Power Manager service. Refer to Chapter "Wakeup sources" in HRM for more details
- BJT Temperature sensor values are inconsistent with expectations
- UART instances do not support different FIFO Thresholds
- Powersave Deep Sleep example for the OPNs requires the installation of the device_need_ram_execution component
- TA processor hang can occur when the M4 uses the XTAL clock with sleep enabled
- In ULP SSI application, non-dma transfer is not working as expected

**Limitations and Unsupported Features**

**SDK**

- WiSeConnect3_SDK_3.1.3 and later versions are not compatible with firmware versions prior to 1711.2.10.1.2.0.4, due to enhancements in max transmit power configuration during Wi-Fi join/connection, need to be cautious while doing OTA firmware upgrade.

**Wi-Fi/Network Stack**

- TLS 1.3 Server is not supported
- In AP mode, IPv6 Router Advertisements are not supported. Although STA connected to the APUT can transfer IPv6 data to the peers by using SLAAC for address configuration.
- When sl\_wifi\_enable\_target\_wake\_time() API is used, observed occasional MQTT disconnections with longer TWT intervals (>30secs) with embedded MQTT + TWT.
- AMSDU TX is not supported.
- Fragmentation is not supported.
- AMSDUs within AMPDU is not supported.
- Currently, the module does not support Radio Measurement Requests feature of CCX V2
- 802.11k is not supported
- 40 MHz bandwidth for 2.4 GHz band is not supported.
- 802.11J channel 14 is not supported.
- MQTT versions 3 and 4 are supported.
- Maximum of 3 SSL connections are supported.
- In SSL ECC Curve ID supported is 23. SSL handshake with 3rd party clients depends on the SSL ECC Curve ID.
- LP mode is not supported.
- In iTWT mode, downlink data traffic should be limited. Disconnections may be observed if AP fails to send all the buffered data in the next TWT Service Period.
- Number of MBSSIDs processed is limited by the beacon length that can be processed by the stack (which is limited to 1024 bytes). Beacons greater than 1024 Bytes in length will not be processed.
- CoEx + EAP Security in 352K/320k is not feasible. This issue is observed due to a lack of memory in the 352k/320k Memory Configuration. It is supported with other EXT\_FEAT\_416K\_M4SS\_256K and EXT\_FEAT\_480K\_M4SS\_192K memory configurations.
- UL MUMIMO is not supported.
- The embedded HTTP server is not supported.
- Baremetal is not supported.
- Compared to SoC mode, NCP mode has fewer examples, but more will be enabled in upcoming releases.
- Maximum Supported length for Embedded MQTT username up to 120 bytes , topic length up to 200 bytes and password upto 62 bytes.
- UART 2 Debug prints are supported only on ULP_GPIO_9.
- WOW LAN feature is not supported.
- SA Query procedure is not supported in AP mode.
- Maximum Supported length for HTTP GET URL is up to 2048 bytes.
- Azure SDK with embedded MQTT is not supported.
- Power save is not supported in Azure MQTT.
- MDNS service discovery is currently not supported.
- sli_si91x_accept_async is not thread-safe
- Observed some background compatibility issues with coex and http in few corner cases
- AP mode does not support Tx and Rx aggregation in Concurrent mode.
- Concurrent STA mode, Rx aggregation is not supported. Tx aggregation is supported but it is not recommended.
- AP standalone mode does not support Tx aggregation. Rx aggregation is supported with limited number of BA sessions.

**BLE**

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.
- BLE TX/RX throughput is less when tested with EFM as compared to EFR
- Maximum supported AE data length is 200 bytes.
- Supports only two ADV\_EXT sets.
- Supports only two BLE connections (1 Central and 1 Peripheral) with AE.
- Advertising Extension feature is not supported in Coexistence.
- The  ae\_central & ae\_peripheral applications are not supported with TA\_352K\_M4\_320K RAM configuration.
- Setting PLL mode as 1 is not supported in Coexistence

**MCU**

- Manual chip select option is not supported when using GSPI
- LittleFS example support is intended to work only with Dual flash
- PS1 state is not supported in Power Manager
- Power is same for PS4 and PS3 states with powersave mode of power manager
- When using Button_0 as wakeup source, it limits the button functionality at application layer. For using Button_0 for application specific functionality, enable 'SL_SI91X_NPSS_GPIO_BTN_HANDLER'
- XTAL 40MHz clock as a reference clock is not supported

**System**
- TA Connected sleep and M4 PS2 is not a possible mode of operation
- M4 PS2 active and sleep is not a possible mode when SL_SI91X_EXT_FEAT_FRONT_END_SWITCH_PINS_ULP_GPIO_4_5_0 is enabled in SoC mode

**Simplicity Studio and Commander**

- Default GDB debug configuration is not supported for SoC projects, work around details provided in "Getting-Started-with-SiWx917"
- Observing flash download failures(ERROR 108) for a few image sizes
- While creating project through Simplicity Studio, "copy contents" option not supported.
- Simplicity commander does not support options under "Debug Lock tools".
- All projects in the package are compatible with GCC 10.3.1 version.

**Terminology**

|**Term**|**Description**|
| :- | :- |
|**New Features**|These items are new to this release|
|**Changes/Issues Fixed**|Changes made to existing features found in previous software releases.|
||Enhancements to existing product flow and feature set.|
||Bug fixes done in the release|
|**Deprecated Items**|Features or functions or APIs that are removed from the distributed release to align with the software roadmap|
|**Known Issues**|Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases|
|**Limitations/Recommendations**|Describes the limitations on product usage and recommendations for optimal use cases|

**Note**

- Change SPI frequency to 12.5Mhz while measuring BLE throughput with EFR32

<br>


This SDK package supports SoC Mode and NCP Mode for B0:

- In SoC Mode: Customer applications can run on Cortex M4. Wireless, network, and security stacks run on the wireless subsystem.
- In NCP mode: Wireless, network, and security stacks run on the Wireless subsystem. Customer applications run on the external host MCU.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

**Note**: Use Simplicity Studio version SV5.8.0.1 onwards

**SoC Highlights**

- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support ultra low power Wi-Fi standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode
- **MCU examples** : GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers, Config Timers, ULP (Ultra Low Power) Timers, Sleeptimer, IOSTREAM, NVM3, MEMLCD, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, Sensorhub, Joystick, Relative Humidity and Temperature sensor (RHT), Analog Comparator, Digital to Analog Converter and Temperature sensors (RO and BJT), CRC, LittleFS, Power Manager with RTOS
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE whitelisting, and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack, All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS client
- **IDE** : Simplicity Studio with Windows 10(64-bit), Linux, Mac OS
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** :
  - Si-MB4002A Main board
  - SiWx917 Radio boards

|**RadioBoard Type**|**SiWx917B0 with Board Version**|
| :- | :- |
|Common flash|Si917-BRD4338A(2.0)|
|Dual flash|Si917-BRD4339B(2.0)|
|External PSRAM|Si917-BRD4340A(2.0), Si917-BRD4342A(2.0)|
|Internal PSRAM|Si917-BRD4339A(2.0)|
|Dev Kit|Si917-2605A|

**NCP Highlights**

- **Host Interface** : SPI, UART
- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode.
- **Wi-Fi** : 2.4GHz Wi-Fi Support, WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE Whitelisting and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack , BLE Stack , All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS Client.
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **Hardware kits to evaluate NCP Mode**
  - NCP EFR Expansion Kit with NCP Radio board (BRD4338A(NCP MBR) + BRD8045A)
  - Wireless Pro kit Mainboard BRD4002A Rev A06
  - EFR32xG24 Wireless 2.4 GHz +10 dBm Radio Board xG24-RB4186C

**Release Details**

|**Item**|**Details**|
| :- | :- |
|Release date|Sept 20th, 2024|
|SDK Version|3.3.3-fc|
|Firmware Version Standard|1711\.2.12.3.3.0.1|
|Firmware Version Lite|1711\.2.12.3.3.2.1|
|Package Name|WiSeConnect3\_SDK\_3.3.3-fc|
|GSDK Version | SiSDK-2024.6.2|
|Supported RTOS|FreeRTOS|
|Operating Modes Supported|Wi-Fi STA, Wi-Fi AP, Wi-Fi STA+BLE, Wi-Fi STA+AP|
|Build Quality|GA|

- SiWx917 release consists of two components
  - Wireless Firmware - SiWx917 Firmware Binaries
  - Wiseconnect3 Library - Wiseconnect3 SDK library runs on the external host in NCP mode and internal Cortex M4 in SoC Mode.
- This release is meant only for use with designs based on SiWx917 Silicon
- The firmware to load is available in the following format:
  - SiWG917-B.2.12.3.x.0.x.rps - B0 Full-featured firmware binary
  - SiWG917-B.2.12.3.x.2.x.rps - B0 lite firmware binary

**Features Supported**

**Sensorhub service**

- Support for ADC, SPI, SDC and I2C based sensors
- Support for PS2
- Support added for SDC

**MCU**

- ADC Single Channel, ADC Static Mode, Analog Comparator, Blinky, Bod, CRC, CTS, DAC FIFO, DAC Static, GPIO, GSPI, I2C, I2S, NVM3, OPAMP, PSRAM, PWM, QEI, RTC, SDIO Secondary, SSI Master and Slave, UART, Micro DMA, USART, Watchdog Timer, BJT Temperature Sensor, USART Master and Slave
- UC Supported Peripherals - GPIO, I2C, Calendar,  SPI, SSI, Micro DMA, UART/USART, Watchdog Timer, Timers , Config Timers, ULP (Ultra Low Power) Timers, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, MEMLCD, Analog Comparator and Digital to Analog Converter.
- Services - Sleeptimer, IOSTREAM, NVM3, Power Manager, LittleFS, Pin Tool (support for USART, I2C, SSI, GSPI, SCT, PWM, I2S, ADC, DAC and Analog Comparator)
- ULP (Ultra Low Power) Peripherals - ulp\_adc, ulp\_calender, ulp\_dac, ulp\_gpio, ulp\_i2c, ulp\_i2s, ulp\_timer, ulp\_uart, ulp\_dma, ulp\_ssi
- Extended flash write support for NWP flash region and added read api to read from NWP flash region
- List of OPN's supported si917-sb00, siwg917m111mgtba, siwg917m100mgtba, siwg917m111xgtba, siwg917m121xgtba, siwg917m110lgtba, siwg917m141xgtba, siwg917y111mgnba, siwg917y110lgnba, siwg917y111xgnba and siwg917y121mgnba
- Support added for SiWG917 Dev Kit Board (BRD2605A)
- Added APIs to configure M4 SoC Clock, PLL clocks, read M4 SoC Clock

**Wi-Fi**

- WPA2/WPA3 Personal, WPS and WPA2-EAP Support for Station Mode
- TCP/IP stack with IPv4, IPv6, TCP, UDP, TLS, HTTP/HTTPS, DHCPv4, DHCPv6, MQTT Client, DNS Client, SNTP client.
- Support for SSL client versions TLSV1.0, TLSV1.2, TLSV1.3 and SSL server versions TLSV1.0 and TLSV1.2
- Wi-Fi STA (802.11n/802.11ax) + 802.11n AP Support
- HE (802.11ax) and Individual TWT Feature Support
- Multiple BSSID feature support as an STA
- Secure OTA support on B0 radio boards.
- Support for LWIP network stack
- Support for AWS MQTT library
- Support for Azure MQTT library
- Support for BSD and IoT sockets application programming interface(API)
- Support added to change the listen interval after association with Access Point
- New API sl_si91x_fwup_abort added to support aborting firmware upgrade
- Added feature to support Gain offset calibration in channel 14

**Bluetooth Low Energy**

- BLE central & peripheral connections are supported.
- Ultra-low power save is supported.

**Power Save**

- Max PSP, enhanced MAX PSP, Fast PSP, and 802.11ax TWT power save modes are supported in WiFi.
- Only Max PSP power save mode is supported in BLE

**Crypto Support**

- AES, SHA, AES-CCM, HMAC, GCM, Chacha-poly, ECDH and TRNG FW Crypto API support added.
- PSA enabled Mbed TLS support added
- NVM support added for key storage
- Symmetric and asymmetric key storage
- TRNG, AES, SHA, HMAC, GCM, Chacha-poly, ECDH and AES-CCM hardware crypto engine is integrated with PSA crypto.

**Changes and Fixes**

**MCU**

- Added platform examples support for below SiWG917Y Module OPNs [RSCDEV-29462]
    - siwg917y111mgnba, siwg917y110lgnba, siwg917y111xgnba, siwg917y121mgnba, siwg917y111mgaba, siwg917y110lgaba, siwg917y111xgaba, siwg917y121mgaba
- Added Pin-Annotation support for the following components [RSCDEV-30148]
    - sl_si91x_button_917, sl_icm40627, sl_si70xx, iostream_si91x, memlcd_917, sl_joystick
- Resolved Calendar/RTC clock drift issue [SI91X-16626]
- Resolved M4_BBFF_STORAGE1 redefinition issue [SI91X-16683]
- Added UC support for DEBUGINIT to configure UART instance and pins required [SI91X-15158/SI91X-16716]
- Unix conversion issue for 1st Century's Year has been fixed [SI91X-16799]
- Fixed I2C functionality issues with different transfer types in leader and follower [SI91X-16483]
- Removed UC and Clock configuration support and calendar application cleanup [RSCDEV-30943]
- Removed hardcoded clock values from I2S driver [RSCDEV-31195]
- Added APIs in Calendar to convert Unit timestamp to Calendar datetime and vice-versa [SI91X-16429]
- Calendar datetime conversion issue has been resolved[SI91X-16860]
- Added the disable function in the MEM_LCD.c [SI91X-16619]
- Resolved ADC Deinit issue after M4 sleep wakeup [SI91X-16406]
- Added documentation image for initialization/deinitialization sequence [SI9X-16407]
- Updated ULP UART readme for GPIO 8 and 9 configuration as Rx and Tx [SI91X-16508]
- Removed SYSTICK from slcc to resolve SDIO secondary build errors [SI91X-16841]
- Fixed the issue of ADC channel instance choosing for Joystick [SI91X-16722]
- Modified the validation of sl dma init to resoleve I2C write faile issue after using osDelay [SI91X-16641]
-	LED1 PWM Config file added [SI91X-16718]
- Resolved issue where flashing/erasing the M4/TA firmware caused a Flash loader 102 error after updating from version 3.2.0 to 3.3.0 [SI91X-16533]
- Resolved issue with high sleep current (~100 µA) observed in Powersave standby mode in the associated example [SI91X-16774]
- Modified the driver code to set LED0 as the default instance to run the RGB LED application on the Devkit [SI91X-16606/RSCDEV-30679]
- Resolved build errors for Sleeptimer and sysrtc applications on Module boards [SI91X-16929]
- Resolved compilation error in Matter application [SI91X-16757]
- Updated documentation regarding ISP mode in truble shooting guide [SI91X-16732]
- Configured the QSPI2 clock before entering sleep mode and after waking up and removed clock configurartions from SQR, SQH and SQRH files for PSRAM[SI91X-16604]
- SQA bugs: [SI91X-16558], [SI91X-16615], [SI91X-16599], [SI91X-16476], [SI91X-16378]

**SDK**

- Added new AWS certificate chain migration [SI91X-16571]
- Fixed issue in wifi_power_save_deep_sleep_ncp example which is failing with error 0x11 [SI91X-16780]
- Updated SDK version as 3.3.3 [RSCDEV-31211]
- Fixed issue in HSTelnet&SPWF: MQTT state mismatch incase of Wi-Fi disconnection [SI91X-16803]
- Renamed call_back to callback in functions[SI91X-16714]
- Fixed Password confusion in the CLI demo sample application [SI91X-16693]
- Added the device need ram execution requirement for common flash [SI91X-16547]
- Fixed invalid command errror for correct command usign the wifi calibration soc project [SI91X-15410]
- Added combined image FW update to the existing sample examples [SI91X-16692]
- Moved the powersave standby associated into low power example folder [RSCDEV-30780]
- Added ALPN extension in TLS protocol so that 443 MQTT port for AWS can be used [SI91X-16608]
- Implemented extended scan to provide more than 11 scan results[SI91X-16298]
- Added OPN support for SiWG917Y110LGNBA board [RSCDEV-31185]
- Updated SL_WIFI_MAX_SCANNED_AP documentation [SI91X-16290]
- Fixed the Wi-Fi client disconnection issue in concurrent mode for socket connections [SI91X-16849]

**Wi-Fi & Network Stack**

- Addressed Netx Vulnerabilities (CVE-2023-48315 ,CVE-2023-48316 ,CVE-2023-48691 ,CVE-2023-48692 )
- Added Support for ALPN extension for TLS protocol
- New API sl_si91x_get_nwp_config_request added to get board OPN part number (SI91X-16601)
- CRYPTO_HARDWARE is now supported during rejoin process.
- Support added for error indication to SDK and to block RF transmissions when the host board is supplying a voltage outside of the 3V0 to 3V63 nominal range (RSCDEV-29141)
- Added limited roll back feature for firmware update (RSCDEV-30977)
- Support added for SRCC region configuration
- Added region configuration restrictions for ACx modules
- HAPI Release_v1p0_p86, Release_v1p0_p87, Release_v1p0_p87_1, Release_v1p0_p88:
    - BLE HP receive bootup calibration robustness
    - Improved max input power reception for BLE LP chain
    - BLE HP max power increases by 2dB
    - 11ax receive performance improvement with transmit ppm
    - Tx max powers for EVM limited data rates (like MCS7, MCS6, 54M,etc) will be reduced by 0.5dB
    - Improved receive sensitivity performance in the presence of transmitter CFO
    - ~2% increase in listen current, ~1% increase in standby associated current

**BLE**

- RSCDEV-30766/PGSUTLEJ-1508 ; Removed PER mode transmission in ch-39(2480MHz) for BLE 2M PHY rate.
- Added 4343Q board support for BLE examples

**CoEx**

- None

**System**

- None

**Recommendations**

**System**

- The current revision of SiWx917 B0 has:
  - RAM memory of 672k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_672K\_M4SS\_0K- This mode configures TA with 672k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By default EXT\_FEAT\_352K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_480K\_M4SS\_192K - This mode configures TA with 480k and M4 with 192K bytes of memory
    - EXT\_FEAT\_416K\_M4SS\_256K - This mode configures TA with 416k and M4 with 256K bytes of memory
    - EXT\_FEAT\_352K\_M4SS\_320K - This mode configures TA with 352k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 672K\_M4SS\_0K.
  - SoC mode should not use 672k\_M4SS\_0k memory configuration.
- Set the recommended Power Save Profile (PSP) type to Enhanced Max PSP.

**IDE**

- Download the latest version of Simplicity Studio
- Refer to the latest version of the SoC/NCP "Getting-Started-with-SiWx917" guide for more details

**Wi-Fi & Network Stack****

- The recommended embedded MQTT Publish payload is 1 kBytes.
- It is recommended to enable bit 16 of the 'Extended TCP IP Feature' bit map in the opermode command for all Wi-Fi Socket operations from the host to ensure graceful handling during asynchronous closures from the peer.
- Aggregation (bit 2 of feature\_bit\_map) is recommended to be enabled in opermode. This enables software to aggregate multiple packets to achieve better throughput
- TCP retransmission count value is recommended to be 30 or higher so that the TCP does not disconnect while the rejoin happens.
- To restart the module, the application needs to call sl\_wifi\_deinit() followed by sl\_wifi\_init().
- Register 'Join Fail Callback' function every time when join is called, as in the rejoin failure path the callback is deregistered. If not done, this might result in a scan not functioning on rejoin failure.
- User can enable SL\_SI91X\_EXT\_TCP\_IP\_SSL\_16K\_RECORD in 'Extended TCP IP Feature'bit map in opermode, if HTTPS download is failing after receiving HTTP headers..
- iTWT setup is recommended after IP assignment/TCP connection/application specific socket connections.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, increase TCP / ARP Timeouts at the remote side depending upon the configured TWT interval configured.
- In case of TWT+CoEx, when using sl\_wifi\_enable\_target\_wakeup\_time API, use TWT wake duration <= 16 ms and TWT wake interval >= 1 sec. If wake duration > 16 ms or TWT wake interval < 1sec, there might be performance issues.
- For iTWT GTK Interval Should be kept max possible value or zero. If GTK interval is not configurable, recommended TWT interval (in case of sl\_wifi\_enable\_target\_wakeup\_time API) or RX Latency (in case of sl\_wifi\_target\_wake\_time\_auto\_selection API) is less than 4sec.
- Disable Power Save for High Throughput Applications.
- The application needs to ensure that it sets RTC with the correct timestamp when the feature is enabled before establishing the SSL connection.
- The timeout value should not be less than 1 second for socket select and socket receive calls. Timeout value of less than 1 second is not currently supported.
- When sl\_wifi\_enable\_target\_wakeup\_time API is used, configuring TWT Wake interval beyond 1 min might lead to disconnections from the AP. Recommended to use TWT wakeup interval of less than or equal to 1 min.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, it is recommended to set missed\_beacon\_count of sl\_wifi\_set\_advanced\_client\_configuration API greater than 2 times of the configured TWT Interval.
- Disable power save and suspend any active TWT sessions before triggering HTTP OTAF.
- It is recommended to enable bit 31 of the 'TCP IP Feature' bit map in the opermode command to support multicast protocol

**BLE**

- In BLE, the recommended range of Connection Interval in
  - Power Save (BLE Only) - 100 ms to 1.28 s.
- In BLE, during Connection, the configuration of Scan Interval and Scan Window with the same value is not recommended. The suggested ratio of Scan Window to Scan Interval is 3:4.
- In BLE, if a device is acting as Central, the scan window (in set\_scan\_params and create\_connection commands) must be less than the existing Connection Interval. The suggested ratio of Scan Window to Connection Interval is 2:3.
- In BLE mode, if scanning and advertising are in progress on the SiWx91x module and it subsequently gets connected and moves to the central role, scanning stops else if it moves to the peripheral role, advertising stops. To further establish a connection to another peripheral device or to a central device, the application should give a command for starting advertising and scanning again.

**Co-Existence**

- For concurrent Wi-Fi + BLE, and while a Wi-Fi connection is active, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
- Wi-Fi + BLE Advertising
  - All standard advertising intervals are supported. As Wi-Fi throughput is increased, a slight difference in on-air advertisements compared to configured intervals may be observed.
  - BLE advertising is skipped if the advertising interval collides with Wi-Fi activity.
- Wi-Fi + BLE scanning
  - All standard scan intervals are supported. For better scan results, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
  - BLE scanning will be stopped for intervals that collide with Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Connections
  - All standard connection intervals are supported.
  - For a stable connection, use optimal connection intervals and max supervision timeout in the presence of Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Data Transfer
  - To achieve higher throughput for both Wi-Fi and BLE, use medium connection intervals, such as 45 to 80 ms with maximum supervision timeout.
  - Ensure Wi-Fi activity consumes lower intervals.

**MCU**

- Use RO clock only if accuracy is not crucial otherwise use crystal clock
- PSRAM examples are not supposed to be used with Non-PSRAM OPNs
- SYSrtc and wake on wireless wakeup resources are enabled by default when tickeless idle mode is enabled. Do not reinstall these two wakeup sources 
- Avoid installing sleeptimer component in power save applications
- Minimum idle-time to Sleep 100ms, as configured in FreeRtos_config.h
- Enable DMA to achieve better throughput numbers
- For I2C Fastplus and High speed modes, use High power instances with core clock frequencies between 80MHz and 180MHz
- Use blocking calls instead of non-blocking calls for I2C leader in ULP_I2C while receiving data
- In RTOS environment, prefer Signaling mechanisms (Semaphore/Mutex/EventFlag etc.) instead of "Variables/Flags" from user callbacks to detect "*Transfer Complete*" for high speed communication peripherals
    - Refer Software Reference Manual for more details
- Install the device_needs_ram_execution component for OPN-based firmware update examples.
- Use the sl_si91x_power_manager_sleep() API instead of the sl_si91x_m4_sleep_wakeup() API
- Enable RSI_TIMEPERIOD_TimerClkSel(), only when using Calendar (RTC) or DeepSleep timer as wakeup sources in Power Manager
- For ACx Modules, it is necessary to initialize the Internal 32kHz RC clock specifically for the LF_FSM domain. GPIO oscillator clock does not propagate to the LF_FSM. This may lead to timer accuracy issues when using the 32kHz RC clock.

**Known Issues**

**Sensorhub**

- Support for ADC FIFO Mode and Multi channel is open
- PS1-state supports only ADC sensor
- Power transitions with AWS are not stable in Sensorhub
- The process of integrating the tickless component and power manager service into the Sensorhub app is currently underway

**Network Stack**

- Sometimes during SSL Handshake, ECC curve parameters generated are wrong, resulting in connection failure with BBD2 error. However, this recovers in the next attempt.
- Randomize the client port if using rapid connect/disconnect of the MQTT session on the same client port with the power save.
- Secure SSL renegotiation not supported in Embedded Networking Stack.
- Disable power save before making TCP connection for NCP-UART interface.
- In concurrent mode, if IP is configured for AP mode ahead of STA mode then IPv6 configuration may fail for STA mode.
- In concurrent mode, data transfer using the Link-local address will always use the first IP interface created by the application.

**Wi-Fi**

- TWT device (STA) may not go to sleep in between TWT intervals in case of burst data traffics with data size more than the configured 'average tx throughput', until completion of data transfer.
- There are performance and IOP issues with MU MIMO.
- WPA3 Connection with the Hunting and Pecking algorithm takes about 3-4 seconds.
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.
- Low Wi-Fi+BLE throughput
- TCP/UDP TX/RX Data stall observed in CoEx scenarios
- Observed HTTPS Continuous download fails with TA Power save
- Performance improvements are in progress for lower performance metrics.
- Observed interop issue (connectivity failure) with few AP's when device reset/reboot happens on active connection.
- In concurrent mode, AP restart fails after stopping it with ap\_stop command.
- DUT deep sleep will not work after stopping AP with ap\_stop command.
- Unable to get SNTP async events when CoEx mode and Power save is enabled
- Fine Tuning 802.11ax Spectral mask in Progress
- Fine Tuning 11b mask in Ch11 in progress
- DUT is unable to connect to the AP with WPA3 security when we enable CoEx mode (WLAN+BLE) in opermode
- Socket listen API is failing from the second iteration
- Disconnections observed with Netgear RAX120 AP in WPA3 security
- Observed connection failures with some AP's in more channel congestion open lab environment
- Firmware Upgrade example is not working in PSRAM boards
- deep sleep example is not supported with power manager
- AP fails to start when ACS is enabled on CZ100, CZ101 OPNS (SI91X-16507)

**BLE**

- HID profile data transfer is not working, when power save is enabled in SoC.
- BLE reconnection is not working in ble_multiconnection_gatt demo, when power save is enabled in SoC
- BLE throughputs are less with STM32 compared to EFR

**Co-Existence**

- Observed HTTP continuous download is not happening in Powersave mode after BLE connection established using wifi\_https\_ble\_dual\_role application
- Observed DUT hang while Wi-Fi UDP/TCP Tx and BLE continuous scan

**System**

- BRD8045A and BRD8045C does not have CTS and RTS pins routed from SiWx917 NCP, which are used for UART flow control

**MCU**

- Refer to the respective Radio board user guides for specific pinout details. Examples are targeted to a specific version mentioned in the respective readme
- Some wakeup resources (BOD and Comparator) are experiencing issues in the Power Manager service. Refer to Chapter "Wakeup sources" in HRM for more details
- BJT Temperature sensor values are inconsistent with expectations
- UART instances do not support different FIFO Thresholds
- Powersave Deep Sleep example for the OPNs requires the installation of the device_need_ram_execution component
- TA processor hang can occur when the M4 uses the XTAL clock with sleep enabled
- In ULP SSI application, non-dma transfer is not working as expected

**Limitations and Unsupported Features**

**SDK**

- WiSeConnect3_SDK_3.1.3 and later versions are not compatible with firmware versions prior to 1711.2.10.1.2.0.4, due to enhancements in max transmit power configuration during Wi-Fi join/connection, need to be cautious while doing OTA firmware upgrade.

**Wi-Fi/Network Stack**

- TLS 1.3 Server is not supported
- In AP mode, IPv6 Router Advertisements are not supported. Although STA connected to the APUT can transfer IPv6 data to the peers by using SLAAC for address configuration.
- When sl\_wifi\_enable\_target\_wake\_time() API is used, observed occasional MQTT disconnections with longer TWT intervals (>30secs) with embedded MQTT + TWT.
- AMSDU TX is not supported.
- Fragmentation is not supported.
- AMSDUs within AMPDU is not supported.
- Currently, the module does not support Radio Measurement Requests feature of CCX V2
- 802.11k is not supported
- 40 MHz bandwidth for 2.4 GHz band is not supported.
- 802.11J channel 14 is not supported.
- MQTT versions 3 and 4 are supported.
- Maximum of 3 SSL connections are supported.
- In SSL ECC Curve ID supported is 23. SSL handshake with 3rd party clients depends on the SSL ECC Curve ID.
- LP mode is not supported.
- In iTWT mode, downlink data traffic should be limited. Disconnections may be observed if AP fails to send all the buffered data in the next TWT Service Period.
- Number of MBSSIDs processed is limited by the beacon length that can be processed by the stack (which is limited to 1024 bytes). Beacons greater than 1024 Bytes in length will not be processed.
- CoEx + EAP Security in 352K/320k is not feasible. This issue is observed due to a lack of memory in the 352k/320k Memory Configuration. It is supported with other EXT\_FEAT\_416K\_M4SS\_256K and EXT\_FEAT\_480K\_M4SS\_192K memory configurations.
- UL MUMIMO is not supported.
- The embedded HTTP server is not supported.
- Baremetal is not supported.
- Compared to SoC mode, NCP mode has fewer examples, but more will be enabled in upcoming releases.
- Maximum Supported length for Embedded MQTT username up to 120 bytes , topic length up to 200 bytes and password upto 62 bytes.
- UART 2 Debug prints are supported only on ULP_GPIO_9.
- WOW LAN feature is not supported.
- SA Query procedure is not supported in AP mode.
- Maximum Supported length for HTTP GET URL is up to 2048 bytes.
- Azure SDK with embedded MQTT is not supported.
- Power save is not supported in Azure MQTT.
- MDNS service discovery is currently not supported.
- sli_si91x_accept_async is not thread-safe
- Observed some background compatibility issues with CoEx and http in few corner cases
- AP mode does not support Tx and Rx aggregation in Concurrent mode.
- Concurrent STA mode, Rx aggregation is not supported. Tx aggregation is supported but it is not recommended.
- AP standalone mode does not support Tx aggregation. Rx aggregation is supported with limited number of BA sessions.

**BLE**

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.
- BLE TX/RX throughput is less when tested with EFM as compared to EFR
- Maximum supported AE data length is 200 bytes.
- Supports only two ADV\_EXT sets.
- Supports only two BLE connections (1 Central and 1 Peripheral) with AE.
- Advertising Extension feature is not supported in Co-Existence.
- The  ae\_central & ae\_peripheral applications are not supported with TA\_352K\_M4\_320K RAM configuration.
- Setting PLL mode as 1 is not supported in Co-Existence

**MCU**

- Manual chip select option is not supported when using GSPI
- LittleFS example support is intended to work only with Dual flash
- PS1 state is not supported in Power Manager
- Power is same for PS4 and PS3 states with powersave mode of power manager
- When using Button_0 as wakeup source, it limits the button functionality at application layer. For using Button_0 for application specific functionality, enable 'SL_SI91X_NPSS_GPIO_BTN_HANDLER'
- XTAL 40MHz clock as a reference clock is not supported

**System**
- TA Connected sleep and M4 PS2 is not a possible mode of operation
- M4 PS2 active and sleep is not a possible mode when SL_SI91X_EXT_FEAT_FRONT_END_SWITCH_PINS_ULP_GPIO_4_5_0 is enabled in SoC mode

**Simplicity Studio and Commander**

- Default GDB debug configuration is not supported for SoC projects, work around details provided in "Getting-Started-with-SiWx917"
- Observing flash download failures(ERROR 108) for a few image sizes
- While creating project through Simplicity Studio, "copy contents" option not supported.
- Simplicity commander does not support options under "Debug Lock tools".
- All projects in the package are compatible with GCC 10.3.1 version.

**Terminology**

|**Term**|**Description**|
| :- | :- |
|**New Features**|These items are new to this release|
|**Changes/Issues Fixed**|Changes made to existing features found in previous software releases.|
||Enhancements to existing product flow and feature set.|
||Bug fixes done in the release|
|**Deprecated Items**|Features or functions or APIs that are removed from the distributed release to align with the software roadmap|
|**Known Issues**|Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases|
|**Limitations/Recommendations**|Describes the limitations on product usage and recommendations for optimal use cases|

**Note**

- Change SPI frequency to 12.5Mhz while measuring BLE throughput with EFR32

<br>

**WiSeConnect3\_SDK\_3.3.2-cf Release Notes**

This SDK package supports SoC Mode and NCP Mode for B0:

- In SoC Mode: Customer applications can run on Cortex M4. Wireless, network, and security stacks run on the wireless subsystem.
- In NCP mode: Wireless, network, and security stacks run on the Wireless subsystem. Customer applications run on the external host MCU.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

**Note**: Use Simplicity Studio version SV5.8.0.1 onwards

**SoC Highlights**

- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support ultra low power Wi-Fi standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode
- **MCU examples** : GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers, Config Timers, ULP (Ultra Low Power) Timers, Sleeptimer, IOSTREAM, NVM3, MEMLCD, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, Sensorhub, Joystick, Relative Humidity and Temperature sensor (RHT), Analog Comparator, Digital to Analog Converter and Temperature sensors (RO and BJT), CRC, LittleFS, Power Manager with RTOS
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE whitelisting, and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack, All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS client
- **IDE** : Simplicity Studio with Windows 10(64-bit), Linux, Mac OS
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** :
  - Si-MB4002A Main board
  - SiWx917 Radio boards

|**RadioBoard Type**|**SiWx917B0 with Board Version**|
| :- | :- |
|Common flash|Si917-BRD4338A(2.0)|
|Dual flash|Si917-BRD4339B(2.0)|
|External PSRAM|Si917-BRD4340A(2.0), Si917-BRD4342A(2.0)|
|Internal PSRAM|Si917-BRD4339A(2.0)|
|Dev Kit|Si917-2605A|

**NCP Highlights**

- **Host Interface** : SPI, UART
- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode.
- **Wi-Fi** : 2.4GHz Wi-Fi Support, WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE Whitelisting and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack , BLE Stack , All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS Client.
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **Hardware kits to evaluate NCP Mode**
  - NCP EFR Expansion Kit with NCP Radio board (BRD4338A(NCP MBR) + BRD8045A)
  - Wireless Pro kit Mainboard BRD4002A Rev A06
  - EFR32xG24 Wireless 2.4 GHz +10 dBm Radio Board xG24-RB4186C

**Release Details**

|**Item**|**Details**|
| :- | :- |
|Release date|Sept 12, 2024|
|SDK Version|3.4.0-ifc3|
|Firmware Version Standard|1711\.2.13.2.0.0.3|
|Firmware Version Lite|1711\.2.13.2.0.2.3|
|Package Name|WiSeConnect3\_SDK\_3.4.0-ifc3|
|GSDK Version | SiSDK-2024.6.2-rc2|
|Supported RTOS|FreeRTOS|
|Operating Modes Supported|Wi-Fi STA, Wi-Fi AP, Wi-Fi STA+BLE, Wi-Fi STA+AP|
|Build Quality|GA|

- SiWx917 release consists of two components
  - Wireless Firmware - SiWx917 Firmware Binaries
  - Wiseconnect3 Library - Wiseconnect3 SDK library runs on the external host in NCP mode and internal Cortex M4 in SoC Mode.
- This release is meant only for use with designs based on SiWx917 Silicon
- The firmware to load is available in the following format:
  - SiWG917-B.2.12.1.x.0.x.rps - B0 Full-featured firmware binary
  - SiWG917-B.2.12.1.x.2.x.rps - B0 lite firmware binary

**Features Supported**

**Sensorhub service**

- Support for ADC, SPI, SDC and I2C based sensors
- Support for PS2
- Support added for SDC

**MCU**

- ADC Single Channel, ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, GPIO, GSPI, I2C, I2S, NVM3, OPAMP, PSRAM, PWM, QEI, RTC, SDIO Secondary, SSI Master and Slave, UART, Micro DMA, USART, Watchdog Timer, Temperature Sensors (RO and BJT), USART Master and Slave, CRC
- UC Supported Peripherals - GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers , Config Timers, ULP (Ultra Low Power) Timers, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, MEMLCD, Analog Comparator and Digital to Analog Converter.
- Services - Sleeptimer, IOSTREAM, NVM3, Power Manager, LittleFS, Pin Tool (support for USART, I2C, SSI, GSPI, SIO, SCT, PWM, I2S, ADC, DAC and Analog Comparator)
- ULP (Ultra Low Power) Peripherals - ulp\_adc, ulp\_calender, ulp\_dac, ulp\_gpio, ulp\_i2c, ulp\_i2s, ulp\_timer, ulp\_uart, ulp\_dma
- Extended flash write support for NWP flash region and added read api to read from NWP flash region
- List of OPN's supported si917-sb00, siwg917m111mgtba, siwg917m100mgtba, siwg917m111xgtba, siwg917m121xgtba, siwg917m110lgtba and siwg917m141xgtba
- Support added for SiWG917 Dev Kit Board (BRD2605A)
- Added APIs to configure M4 SoC Clock, PLL clocks, read M4 SoC Clock

**Wi-Fi**

- WPA2/WPA3 Personal, WPS and WPA2-EAP Support for Station Mode
- TCP/IP stack with IPv4, IPv6, TCP, UDP, TLS, HTTP/HTTPS, DHCPv4, DHCPv6, MQTT Client, DNS Client, SNTP client.
- Support for SSL client versions TLSV1.0, TLSV1.2, TLSV1.3 and SSL server versions TLSV1.0 and TLSV1.2
- Wi-Fi STA (802.11n/802.11ax) + 802.11n AP Support
- HE (802.11ax) and Individual TWT Feature Support
- Multiple BSSID feature support as an STA
- Secure OTA support on B0 radio boards.
- Support for LWIP network stack
- Support for AWS MQTT library
- Support for Azure MQTT library
- Support for BSD and IoT sockets application programming interface(API)
- Support added to change the listen interval after association with Access Point
- New API sl_si91x_fwup_abort added to support aborting firmware upgrade
- Added feature to support Gain offset calibration in channel 14

**Bluetooth Low Energy**

- BLE central & peripheral connections are supported.
- Ultra-low power save is supported.

**Power Save**

- Max PSP, enhanced MAX PSP, Fast PSP, and 802.11ax TWT power save modes are supported in WiFi.
- Only Max PSP power save mode is supported in BLE

**Crypto Support**

- AES, SHA, AES-CCM, HMAC, GCM, Chacha-poly, ECDH and TRNG FW Crypto API support added.
- PSA enabled Mbed TLS support added
- NVM support added for key storage
- Symmetric and asymmetric key storage
- TRNG, AES, SHA, HMAC, GCM, Chacha-poly, ECDH and AES-CCM hardware crypto engine is integrated with PSA crypto.

**Changes and Fixes**

**MCU**

- Added platform examples support for below SiWG917Y Module OPNs
  - siwg917y111mgnba, siwg917y110lgnba, siwg917y111xgnba, siwg917y121mgnba, siwg917y111mgaba, siwg917y110lgaba, siwg917y111xgaba, siwg917y121mgaba
- Added Pin-Annotation support for the led driver [RSCDEV-30148]
- Removed UC and Clock configuration support and calendar application cleanup [RSCDEV-30943]
- Removed clock selection options from the UC for sysRTC, WDTtimer, and ULP_timer applications[RSCDEV-30826]
- Added changes for putting M4 SOC default clock to 40MHZ XTAL [RSCDEV-30817]
- pintool changes for new peripheral and port additions[RSCDEV-30148]
- Updated I2C UC and DMA enumerations [RSCDEV-31004]
- Replaced I2C2 instance with ULP_I2C [RSCDEV-31003]
- Changed the TA ref clock clk to RC from XTAL [RSCDEV-31118]
- Calendar datetime conversion issue has been resolved[SI91X-16860]
- Resolved the issue in the ULP_ADC example where the ADC output was either 0 or 3.30 when the sampling rate was set to 100/1023 in PS2 state[SI91X-16769]
- Resolved ble_privacy powersave issue in Master role [SI91X-16604]
- Resolved low power reading with PS4 state in Performance clock and Power save clock modes [SI91X-16087]
- Handled WFI sleep properly when SYSRTC pending interrupts exists [SI91X-16344]
- Added UC support for DEBUGINIT to configure UART instance and pins required [SI91X-15158]
- SQA bugs: SI91X-16855, SI91X-16804, SI91X-16737, SI91X-16716

**SDK**

- Added SBOM changes to all the applicable SLC components of WiFi SDK [RSCDEV-29706]
- Fixed failure in 3.4.0 CI/CD dev sanity [HOTFIX-0 ]
- Added SBOM modifications Phase 2 [RSCDEV-30794]
- Removed xfail markers in CI/CD
- Moved Yakka data to SLCC [RSCDEV-30949]
- Fixed issue in wifi_power_save_deep_sleep_ncp example which is failing with error 0x11 [SI91X-16780]
- Fixed the build issue in sl_wifi_transceiver example on STM32 [RSCDEV-31012]
- Updated documentation: sl_wifi_stop_scan API is not supported in AP mode [SI91X-16679]
- Updated documentation regarding pre signed url in http otaf readme [SI91X-16735]
- Added Implementation of Neutral-less Wi-Fi Switch Support APIs [RSCDEV-25401]
- Fixed Password confusion in the CLI demo sample application [SI91X-16693]
- Fixed "sl_wifi_get_operational_statistics" API issue which is throwing wrong output for AP mode [SI91X-16111]
- Fixed TCP/UDP send failure with 55 error using Multithread Socket Example [SI91X-16834]
- Updated enterprise_client example with dhcp configuration for Neutral-less Wi-Fi Switch Support APIs [RSCDEV-30706]
- Added SBOM modifications to SLC files in WiFi SDK [RSCDEV-30794]
- Added support for non standard values and updated documentation for TOS values [SI91X-16823]
- Added more info about SL_WIFI_SCAN_TYPE_EXTENDED [SI91X-16290]
- Fixed Sonarqube Reported issues - wifi issues [RSCDEV-30892]
- Added the device need ram execution requirement for common flash [SI91X-16547]
- Updated all instances of "3.3.2" to "3.4.0" in the sl-net repository [RSCDEV-31155]
- Updated the sl_http_server_get_request_headers API [SI91X-16686]
- Updated dev sanity milestone63 branch for regression tests [RSCDEV-31121]
- Fixed issue in HSTelnet&SPWF: MQTT state mismatch incase of Wi-Fi disconnection [SI91X-16803]
- Updated documentation for BTR Tx/Rx application [RSCDEV-30645]
- Added combined image FW update to the existing sample examples [SI91X-16692]
- Fixed sudden dip from 62Mbps to 5Mbps while running UDP_TX using WLAN_throughput demo [SI91X-16844]
- SQA bugs: SI91X-16111, SI91X-16834, SI91X-16686, SI91X-16844

**Wi-Fi & Network Stack**

- Fix added to restrict the data rates to 1Mbps, 2Mbps when operating on channel 14 in both AP and STA mode.
- Deep sleep support in transceiver mode
- Support added for SRCC region
- SQA bugs : SI91X-14928 ,SI91X-16828 ,SI91X-16511 ,SI91X-16650 ,SI91X-16730, SI91X-16666, SI91X-16504, SI91X-16853

**BLE**

- RSCDEV-30766/PGSUTLEJ-1508 : Removed PER mode transmission in ch-39(2480MHz) for BLE 2M PHY rate.

**CoEx**

- None

**System**

- None

**Recommendations**

**System**

- The current revision of SiWx917 B0 has:
  - RAM memory of 672k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_672K\_M4SS\_0K- This mode configures TA with 672k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By default EXT\_FEAT\_352K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_480K\_M4SS\_192K - This mode configures TA with 480k and M4 with 192K bytes of memory
    - EXT\_FEAT\_416K\_M4SS\_256K - This mode configures TA with 416k and M4 with 256K bytes of memory
    - EXT\_FEAT\_352K\_M4SS\_320K - This mode configures TA with 352k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 672K\_M4SS\_0K.
  - SoC mode should not use 672k\_M4SS\_0k memory configuration.
- Set the recommended Power Save Profile (PSP) type to Enhanced Max PSP.

**IDE**

- Download the latest version of Simplicity Studio
- Refer to the latest version of the SoC/NCP "Getting-Started-with-SiWx917" guide for more details

**Wi-Fi & Network Stack****

- The recommended embedded MQTT Publish payload is 1 kBytes.
- It is recommended to enable bit 16 of the 'Extended TCP IP Feature' bit map in the opermode command for all Wi-Fi Socket operations from the host to ensure graceful handling during asynchronous closures from the peer.
- Aggregation (bit 2 of feature\_bit\_map) is recommended to be enabled in opermode. This enables software to aggregate multiple packets to achieve better throughput
- TCP retransmission count value is recommended to be 30 or higher so that the TCP does not disconnect while the rejoin happens.
- To restart the module, the application needs to call sl\_wifi\_deinit() followed by sl\_wifi\_init().
- Register 'Join Fail Callback' function every time when join is called, as in the rejoin failure path the callback is deregistered. If not done, this might result in a scan not functioning on rejoin failure.
- User can enable SL\_SI91X\_EXT\_TCP\_IP\_SSL\_16K\_RECORD in 'Extended TCP IP Feature'bit map in opermode, if HTTPS download is failing after receiving HTTP headers..
- iTWT setup is recommended after IP assignment/TCP connection/application specific socket connections.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, increase TCP / ARP Timeouts at the remote side depending upon the configured TWT interval configured.
- In case of TWT+coex, when using sl\_wifi\_enable\_target\_wakeup\_time API, use TWT wake duration <= 16 ms and TWT wake interval >= 1 sec. If wake duration > 16 ms or TWT wake interval < 1sec, there might be performance issues.
- For iTWT GTK Interval Should be kept max possible value or zero. If GTK interval is not configurable, recommended TWT interval (in case of sl\_wifi\_enable\_target\_wakeup\_time API) or RX Latency (in case of sl\_wifi\_target\_wake\_time\_auto\_selection API) is less than 4sec.
- Disable Power Save for High Throughput Applications.
- The application needs to ensure that it sets RTC with the correct timestamp when the feature is enabled before establishing the SSL connection.
- The timeout value should not be less than 1 second for socket select and socket receive calls. Timeout value of less than 1 second is not currently supported.
- When sl\_wifi\_enable\_target\_wakeup\_time API is used, configuring TWT Wake interval beyond 1 min might lead to disconnections from the AP. Recommended to use TWT wakeup interval of less than or equal to 1 min.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, it is recommended to set missed\_beacon\_count of sl\_wifi\_set\_advanced\_client\_configuration API greater than 2 times of the configured TWT Interval.
- Disable power save and suspend any active TWT sessions before triggering HTTP OTAF.
- It is recommended to enable bit 31 of the 'TCP IP Feature' bit map in the opermode command to support multicast protocol

**BLE**

- In BLE, the recommended range of Connection Interval in
  - Power Save (BLE Only) - 100 ms to 1.28 s.
- In BLE, during Connection, the configuration of Scan Interval and Scan Window with the same value is not recommended. The suggested ratio of Scan Window to Scan Interval is 3:4.
- In BLE, if a device is acting as Central, the scan window (in set\_scan\_params and create\_connection commands) must be less than the existing Connection Interval. The suggested ratio of Scan Window to Connection Interval is 2:3.
- In BLE mode, if scanning and advertising are in progress on the SiWx91x module and it subsequently gets connected and moves to the central role, scanning stops else if it moves to the peripheral role, advertising stops. To further establish a connection to another peripheral device or to a central device, the application should give a command for starting advertising and scanning again.

**Co-Existence**

- For concurrent Wi-Fi + BLE, and while a Wi-Fi connection is active, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
- Wi-Fi + BLE Advertising
  - All standard advertising intervals are supported. As Wi-Fi throughput is increased, a slight difference in on-air advertisements compared to configured intervals may be observed.
  - BLE advertising is skipped if the advertising interval collides with Wi-Fi activity.
- Wi-Fi + BLE scanning
  - All standard scan intervals are supported. For better scan results, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
  - BLE scanning will be stopped for intervals that collide with Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Connections
  - All standard connection intervals are supported.
  - For a stable connection, use optimal connection intervals and max supervision timeout in the presence of Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Data Transfer
  - To achieve higher throughput for both Wi-Fi and BLE, use medium connection intervals, such as 45 to 80 ms with maximum supervision timeout.
  - Ensure Wi-Fi activity consumes lower intervals.

**MCU**

- It is not recommended to use the RO clock for Clock Configuration
- PSRAM examples are not supposed to be used with Non-PSRAM OPNs
- By default SYSrtc and wake on wireless wakeup resources enabled, please do not reinstall these two wakeup sources when tickless idle mode is enabled
- Minimum idle-time to Sleep 100ms, as configured in FreeRtos_config.h
- Recommended to enable DMA for better throughput numbers
- For I2C Fastplus and High speed modes, it is recommended to use High power instances from 80Mhz to 180Mhz core clock
- Not recommended to use switch_m4_frequency() for clock scaling. Refer to migration guide for more details on this
- When using this 32MHz source for the PLL, limit the maximum clock to 160MHz
- In RTOS environment, prefer Signaling mechanisms (Semaphore/Mutex/EventFlag etc.) instead of "Variables/Flags" from user callbacks to detect "*Transfer Complete*" for high speed communication peripherals
  - Refer Software Reference Manual for more details
- It is recommended to install device_needs_ram_execution component for OPN based firmware update examples

**Known Issues**

**Sensorhub**

- Support for ADC FIFO Mode and Multi channel is open
- PS1-state supports only ADC sensor
- Power transitions with AWS are not stable in Sensorhub
- The process of integrating the tickless component and power manager service into the Sensorhub app is currently underway

**Network Stack**

- Sometimes during SSL Handshake, ECC curve parameters generated are wrong, resulting in connection failure with BBD2 error. However, this recovers in the next attempt.
- Randomize the client port if using rapid connect/disconnect of the MQTT session on the same client port with the power save.
- Secure SSL renegotiation not supported in Embedded Networking Stack.
- Disable power save before making TCP connection for NCP-UART interface.
- In concurrent mode, if IP is configured for AP mode ahead of STA mode then IPv6 configuration may fail for STA mode.
- In concurrent mode, data transfer using the Link-local address will always use the first IP interface created by the application.

**Wi-Fi**

- TWT device (STA) may not go to sleep in between TWT intervals in case of burst data traffics with data size more than the configured 'average tx throughput', until completion of data transfer.
- There are performance and IOP issues with MU MIMO.
- WPA3 Connection with the Hunting and Pecking algorithm takes about 3-4 seconds.
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.
- Low Wi-Fi+BLE throughput
- TCP/UDP TX/RX Data stall observed in CoEx scenarios
- Observed HTTPS Continuous download fails with TA Power save
- Performance improvements are in progress for lower performance metrics.
- Observed interop issue (connectivity failure) with few AP's when device reset/reboot happens on active connection.
- In concurrent mode, AP restart fails after stopping it with ap\_stop command.
- DUT deep sleep will not work after stopping AP with ap\_stop command.
- Unable to get SNTP async events when coex mode and Power save is enabled
- Fine Tuning 802.11ax Spectral mask in Progress
- Fine Tuning 11b mask in Ch11 in progress
- DUT is unable to connect to the AP with WPA3 security when we enable coex mode (WLAN+BLE) in opermode
- Socket listen API is failing from the second iteration
- Disconnections observed with Netgear RAX120 AP in WPA3 security
- Observed connection failures with some AP's in more channel congestion open lab environment
- Firmware Upgrade example is not working in PSRAM boards
- deep sleep example is not supported with power manager
- AP fails to start when ACS is enabled on CZ100, CZ101 OPNS (SI91X-16507)

**BLE**

- HID profile data transfer is not working, when power save is enabled in SoC.
- BLE reconnection is not working in ble_multiconnection_gatt demo, when power save is enabled in SoC
- BLE throughputs are less with STM32 compared to EFR

**Co-Existence**

- Observed HTTP continuous download is not happening in Powersave mode after BLE connection established using wifi\_https\_ble\_dual\_role application
- Observed DUT hang while Wi-Fi UDP/TCP Tx and BLE continuous scan.

**System**

- BRD8045A and BRD8045C does not have CTS and RTS pins routed from SiWx917 NCP, which are used for UART flow control

**MCU**

- Refer to the respective Radio board user guides for specific pinout details. Examples are targeted to a specific version mentioned in the respective readme
- Few(BOD and Comparator) wakeup resources are not working as expected in Power manager service
- Observed RO and BJT Temperature values are not as expected
- Character Timeout feature for all communication protocols is not supported
- UART instances does not support different FIFO Thresholds
- NVM3 dual flash application is not working as expected in the current release.
- ULP_I2C does not function as expected in low power mode when DMA is enabled
- Powersave Deep Sleep example for the siwg917m110lgtba OPN requires the installation of the device_need_ram_execution component.
- Sometimes TA processor hang occurs when M4 used XTAL clock with sleep enabled.
- In ULP SSI application, non-dma transfer is not working as expected.

**Limitations and Unsupported Features**

**SDK**

- WiSeConnect3_SDK_3.1.3 and later versions are not compatible with firmware versions prior to 1711.2.10.1.2.0.4, due to enhancements in max transmit power configuration during Wi-Fi join/connection, need to be cautious while doing OTA firmware upgrade.

**Wi-Fi/Network Stack**

- TLS 1.3 Server is not supported
- In AP mode, IPv6 Router Advertisements are not supported. Although STA connected to the APUT can transfer IPv6 data to the peers by using SLAAC for address configuration.
- When sl\_wifi\_enable\_target\_wake\_time() API is used, observed occasional MQTT disconnections with longer TWT intervals (>30secs) with embedded MQTT + TWT.
- AMSDU TX is not supported.
- Fragmentation is not supported.
- AMSDUs within AMPDU is not supported.
- Currently, the module does not support Radio Measurement Requests feature of CCX V2
- 802.11k is not supported
- 40 MHz bandwidth for 2.4 GHz band is not supported.
- 802.11J channel 14 is not supported.
- MQTT versions 3 and 4 are supported.
- Maximum of 3 SSL connections are supported.
- In SSL ECC Curve ID supported is 23. SSL handshake with 3rd party clients depends on the SSL ECC Curve ID.
- LP mode is not supported.
- In iTWT mode, downlink data traffic should be limited. Disconnections may be observed if AP fails to send all the buffered data in the next TWT Service Period.
- Number of MBSSIDs processed is limited by the beacon length that can be processed by the stack (which is limited to 1024 bytes). Beacons greater than 1024 Bytes in length will not be processed.
- CoEx + EAP Security in 352K/320k is not feasible. This issue is observed due to a lack of memory in the 352k/320k Memory Configuration. It is supported with other EXT\_FEAT\_416K\_M4SS\_256K and EXT\_FEAT\_480K\_M4SS\_192K memory configurations.
- UL MUMIMO is not supported.
- The embedded HTTP server is not supported.
- Baremetal is not supported.
- Compared to SoC mode, NCP mode has fewer examples, but more will be enabled in upcoming releases.
- Maximum Supported length for Embedded MQTT username up to 120 bytes , topic length up to 200 bytes and password upto 62 bytes.
- UART 2 Debug prints are supported only on ULP_GPIO_9.
- WOW LAN feature is not supported.
- SA Query procedure is not supported in AP mode.
- Maximum Supported length for HTTP GET URL is up to 2048 bytes.
- Azure SDK with embedded MQTT is not supported.
- Power save is not supported in Azure MQTT.
- MDNS service discovery is currently not supported.
- sli_si91x_accept_async is not thread-safe
- Observed some background compatibility issues with coex and http in few corner cases
- AP mode does not support Tx and Rx aggregation in Concurrent mode.
- Concurrent STA mode, Rx aggregation is not supported. Tx aggregation is supported but it is not recommended.
- AP standalone mode does not support Tx aggregation. Rx aggregation is supported with limited number of BA sessions.

**BLE**

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.
- BLE TX/RX throughput is less when tested with EFM as compared to EFR
- Maximum supported AE data length is 200 bytes.
- Supports only two ADV\_EXT sets.
- Supports only two BLE connections (1 Central and 1 Peripheral) with AE.
- Advertising Extension feature is not supported in Coexistence.
- The  ae\_central & ae\_peripheral applications are not supported with TA\_352K\_M4\_320K RAM configuration.
- Setting PLL mode as 1 is not supported in Coexistence

**MCU**

- Manual chip select option is not supported when using GSPI.
- Following peripherals/features are not functioning as expected
    - ADC Multichannel, SSI Dual and Quad mode, SIO and Temp sensors
- LittleFS example support is intended to work only with Dual flash
- PS1 state is not supported in Power Manager
- Power is same for PS4 and PS3 states with powersave mode of power manager
- When using Button_0 as wakeup source, it limits the button functionality at application layer. For using Button_0 for application specific functionality, enable 'SL_SI91X_NPSS_GPIO_BTN_HANDLER'
- XTAL 40MHz clock as a reference clock is not supported

**System**
- TA Connected sleep and M4 PS2 is not a possible mode of operation
- M4 PS2 active and sleep is not a possible mode when SL_SI91X_EXT_FEAT_FRONT_END_SWITCH_PINS_ULP_GPIO_4_5_0 is enabled in SoC mode

**Simplicity Studio and Commander**

- Default GDB debug configuration is not supported for SoC projects, work around details provided in "Getting-Started-with-SiWx917"
- Observing flash download failures(ERROR 108) for a few image sizes
- While creating project through Simplicity Studio, "copy contents" option not supported.
- Simplicity commander does not support options under "Debug Lock tools".
- All projects in the package are compatible with GCC 10.3.1 version.

**Terminology**

|**Term**|**Description**|
| :- | :- |
|**New Features**|These items are new to this release|
|**Changes/Issues Fixed**|Changes made to existing features found in previous software releases.|
||Enhancements to existing product flow and feature set.|
||Bug fixes done in the release|
|**Deprecated Items**|Features or functions or APIs that are removed from the distributed release to align with the software roadmap|
|**Known Issues**|Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases|
|**Limitations/Recommendations**|Describes the limitations on product usage and recommendations for optimal use cases|

**Note**

- Change SPI frequency to 12.5Mhz while measuring BLE throughput with EFR32

<br>


**WiSeConnect3\_SDK\_3.4.0-ifc2 Release Notes**

This SDK package supports SoC Mode and NCP Mode for B0:

- In SoC Mode: Customer applications can run on Cortex M4. Wireless, network, and security stacks run on the wireless subsystem.
- In NCP mode: Wireless, network, and security stacks run on the Wireless subsystem. Customer applications run on the external host MCU.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

**Note**: Use Simplicity Studio version SV5.8.0.1 onwards

**SoC Highlights**

- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support ultra low power Wi-Fi standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode
- **MCU examples** : GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers, Config Timers, ULP (Ultra Low Power) Timers, Sleeptimer, IOSTREAM, NVM3, MEMLCD, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, Sensorhub, Joystick, Relative Humidity and Temperature sensor (RHT), Analog Comparator, Digital to Analog Converter and Temperature sensors (RO and BJT), CRC, LittleFS, Power Manager with RTOS
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE whitelisting, and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack, All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS client
- **IDE** : Simplicity Studio with Windows 10(64-bit), Linux, Mac OS
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** :
  - Si-MB4002A Main board
  - SiWx917 Radio boards

|**RadioBoard Type**|**SiWx917B0 with Board Version**|
| :- | :- |
|Common flash|Si917-BRD4338A(2.0)|
|Dual flash|Si917-BRD4339B(2.0)|
|External PSRAM|Si917-BRD4340A(2.0), Si917-BRD4342A(2.0)|
|Internal PSRAM|Si917-BRD4339A(2.0)|
|Dev Kit|Si917-2605A|

**NCP Highlights**

- **Host Interface** : SPI, UART
- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode.
- **Wi-Fi** : 2.4GHz Wi-Fi Support, WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE Whitelisting and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack , BLE Stack , All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS Client.
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **Hardware kits to evaluate NCP Mode**
  - NCP EFR Expansion Kit with NCP Radio board (BRD4338A(NCP MBR) + BRD8045A)
  - Wireless Pro kit Mainboard BRD4002A Rev A06
  - EFR32xG24 Wireless 2.4 GHz +10 dBm Radio Board xG24-RB4186C

**Release Details**

|**Item**|**Details**|
| :- | :- |
|Release date|August 29, 2024|
|SDK Version|3.4.0-ifc2|
|Firmware Version Standard|1711\.2.13.2.0.0.2|
|Firmware Version Lite|1711\.2.13.2.0.2.2|
|Package Name|WiSeConnect3\_SDK\_3.4.0-ifc2|
|GSDK Version | SiSDK-2024.6.1|
|Supported RTOS|FreeRTOS|
|Operating Modes Supported|Wi-Fi STA, Wi-Fi AP, Wi-Fi STA+BLE, Wi-Fi STA+AP|
|Build Quality|GA|

- SiWx917 release consists of two components
  - Wireless Firmware - SiWx917 Firmware Binaries
  - Wiseconnect3 Library - Wiseconnect3 SDK library runs on the external host in NCP mode and internal Cortex M4 in SoC Mode.
- This release is meant only for use with designs based on SiWx917 Silicon
- The firmware to load is available in the following format:
  - SiWG917-B.2.12.1.x.0.x.rps - B0 Full-featured firmware binary
  - SiWG917-B.2.12.1.x.2.x.rps - B0 lite firmware binary

**Features Supported**

**Sensorhub service**

- Support for ADC, SPI, SDC and I2C based sensors
- Support for PS2
- Support added for SDC

**MCU**

- ADC Single Channel, ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, GPIO, GSPI, I2C, I2S, NVM3, OPAMP, PSRAM, PWM, QEI, RTC, SDIO Secondary, SSI Master and Slave, UART, Micro DMA, USART, Watchdog Timer, Temperature Sensors (RO and BJT), USART Master and Slave, CRC
- UC Supported Peripherals - GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers , Config Timers, ULP (Ultra Low Power) Timers, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, MEMLCD, Analog Comparator and Digital to Analog Converter.
- Services - Sleeptimer, IOSTREAM, NVM3, Power Manager, LittleFS, Pin Tool (support for USART, I2C, SSI, GSPI, SIO, SCT, PWM, I2S, ADC, DAC and Analog Comparator)
- ULP (Ultra Low Power) Peripherals - ulp\_adc, ulp\_calender, ulp\_dac, ulp\_gpio, ulp\_i2c, ulp\_i2s, ulp\_timer, ulp\_uart, ulp\_dma
- Extended flash write support for NWP flash region and added read api to read from NWP flash region
- List of OPN's supported si917-sb00, siwg917m111mgtba, siwg917m100mgtba, siwg917m111xgtba, siwg917m121xgtba, siwg917m110lgtba and siwg917m141xgtba
- Support added for SiWG917 Dev Kit Board (BRD2605A)
- Added APIs to configure M4 SoC Clock, PLL clocks, read M4 SoC Clock

**Wi-Fi**

- WPA2/WPA3 Personal, WPS and WPA2-EAP Support for Station Mode
- TCP/IP stack with IPv4, IPv6, TCP, UDP, TLS, HTTP/HTTPS, DHCPv4, DHCPv6, MQTT Client, DNS Client, SNTP client.
- Support for SSL client versions TLSV1.0, TLSV1.2, TLSV1.3 and SSL server versions TLSV1.0 and TLSV1.2
- Wi-Fi STA (802.11n/802.11ax) + 802.11n AP Support
- HE (802.11ax) and Individual TWT Feature Support
- Multiple BSSID feature support as an STA
- Secure OTA support on B0 radio boards.
- Support for LWIP network stack
- Support for AWS MQTT library
- Support for Azure MQTT library
- Support for BSD and IoT sockets application programming interface(API)
- Support added to change the listen interval after association with Access Point
- New API sl_si91x_fwup_abort added to support aborting firmware upgrade
- Added feature to support Gain offset calibration in channel 14

**Bluetooth Low Energy**

- BLE central & peripheral connections are supported.
- Ultra-low power save is supported.

**Power Save**

- Max PSP, enhanced MAX PSP, Fast PSP, and 802.11ax TWT power save modes are supported in WiFi.
- Only Max PSP power save mode is supported in BLE

**Crypto Support**

- AES, SHA, AES-CCM, HMAC, GCM, Chacha-poly, ECDH and TRNG FW Crypto API support added.
- PSA enabled Mbed TLS support added
- NVM support added for key storage
- Symmetric and asymmetric key storage
- TRNG, AES, SHA, HMAC, GCM, Chacha-poly, ECDH and AES-CCM hardware crypto engine is integrated with PSA crypto.

**Changes and Fixes**

**MCU**


- PMU good time has been increased from 725 microseconds to 900 microsecond [RSCDEV-30938]
- Added instructions on enabling the custom SysTick handler in the SRM [RSCDEV-29711]
- Added documentation image for initialization/deinitialization sequence [SI9X-16407]
- Resolved compilation error in Matter application [SI91X-16757]
- Fixed I2C functionality issues with different transfer types in leader and follower [RSCDEV-27154, SI91X-15693, SI91X-15658, SI91X-16483]
- Added documentation image for initialization/deinitialization sequence [SI9X-16407]
- Resolved Calendar/RTC clock drift issue [SI91X-16626]
- Updated ULP UART readme for GPIO 8 and 9 configuration as Rx and Tx [SI91X-16508]
- Unix conversion issue for 1st Century's Year has been fixed [SI91X-16799]
- Fixed ULP I2C DMA Send API [SI91X-16148]
- Addressed various bugs [SI91X-16615]

**SDK**

- Removed interface check in sl_wifi_set_listen_interval [SI91X-16482]
- Added a check for AP interface [SI91x-14129]
- Fixed Build fail error when the LOAD_CERTIFICATE macro is being removed in the HTTP OTAF example [SI91X-16070]
- Fixed issue with password confusion in the CLI demo sample application
- Added new example named "Wi-Fi Transceiver Mode - Powersave Deep Sleep (NCP)" [RSCDEV-30644]
- Added Implementation of ALPN extension in TLS protocol [RSCDEV-30709]
- Fixed higher throughput issues in si917_mem_config_3 for test agent in SOC mode
- Fixed test agent compilation issue which blocks regression tests[RSCDEV-30915]
- Fixed AP start failure (0xf) using SL_WIFI_WPA2 security and SL_WIFI_DEFAULT_ENCRYPTION [SI91X-15547]
- Fixed the compilation issues for test_agent and calibration app[RSCDEV-30932]
- updated examples for adding alpn extension in tls protocol [RSCDEV-30711 ]
- Fixed WLAN connection failure with 0x21 error when using enterprise security [SI91X-16781]
- Fixed disconnection issue with the Si Connect application when using the default wifi_station_ble_provisioning_aws_ncp demo [SI91X-16766]
- Updated documentation regarding pre-signed URL in HTTP OTAF readme [SI91X-16735]
- Renamed call_back to callback in functions[SI91X-16714]
- Fixed the issues in automation failures [SI91X-16790]
- Fixed Power save issue in standby powersave application with NCP mode
- Set the Event handler thread stack size using SL_SI91X_EVENT_HANDLER_STACK_SIZE [RSCDEV-26893]
- Removed internal stack component from common flash [SI91X-16761]
- Fixed sleep/wakeup issue due to bus_thread issue [SI91X-16791]
- SQA Bugs: SI91X-14129, SI91X-15547, SI91X-16781, SI91X-16766, SI91X-16762, SI91X-16762

**Wi-Fi & Network Stack**

- Added Support for ALPN extension for TLS protocol
- SQA bugs: SI91X-16601, SI91X-16756, SI91X-16758, SI91X-16699 ,SI91X-16672,SI91X-16600,SI91X-16410,SI91X-16322,SI91X-14649,SI91X-14559,SI91X-12019

**BLE**

- None

**CoEx**

- None

**System**

- None

**Recommendations**

**System**

- The current revision of SiWx917 B0 has:
  - RAM memory of 672k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_672K\_M4SS\_0K- This mode configures TA with 672k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By default EXT\_FEAT\_352K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_480K\_M4SS\_192K - This mode configures TA with 480k and M4 with 192K bytes of memory
    - EXT\_FEAT\_416K\_M4SS\_256K - This mode configures TA with 416k and M4 with 256K bytes of memory
    - EXT\_FEAT\_352K\_M4SS\_320K - This mode configures TA with 352k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 672K\_M4SS\_0K.
  - SoC mode should not use 672k\_M4SS\_0k memory configuration.
- Set the recommended Power Save Profile (PSP) type to Enhanced Max PSP.

**IDE**

- Download the latest version of Simplicity Studio
- Refer to the latest version of the SoC/NCP "Getting-Started-with-SiWx917" guide for more details

**Wi-Fi & Network Stack****

- The recommended embedded MQTT Publish payload is 1 kBytes.
- It is recommended to enable bit 16 of the 'Extended TCP IP Feature' bit map in the opermode command for all Wi-Fi Socket operations from the host to ensure graceful handling during asynchronous closures from the peer.
- Aggregation (bit 2 of feature\_bit\_map) is recommended to be enabled in opermode. This enables software to aggregate multiple packets to achieve better throughput
- TCP retransmission count value is recommended to be 30 or higher so that the TCP does not disconnect while the rejoin happens.
- To restart the module, the application needs to call sl\_wifi\_deinit() followed by sl\_wifi\_init().
- Register 'Join Fail Callback' function every time when join is called, as in the rejoin failure path the callback is deregistered. If not done, this might result in a scan not functioning on rejoin failure.
- User can enable SL\_SI91X\_EXT\_TCP\_IP\_SSL\_16K\_RECORD in 'Extended TCP IP Feature'bit map in opermode, if HTTPS download is failing after receiving HTTP headers..
- iTWT setup is recommended after IP assignment/TCP connection/application specific socket connections.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, increase TCP / ARP Timeouts at the remote side depending upon the configured TWT interval configured.
- In case of TWT+coex, when using sl\_wifi\_enable\_target\_wakeup\_time API, use TWT wake duration <= 16 ms and TWT wake interval >= 1 sec. If wake duration > 16 ms or TWT wake interval < 1sec, there might be performance issues.
- For iTWT GTK Interval Should be kept max possible value or zero. If GTK interval is not configurable, recommended TWT interval (in case of sl\_wifi\_enable\_target\_wakeup\_time API) or RX Latency (in case of sl\_wifi\_target\_wake\_time\_auto\_selection API) is less than 4sec.
- Disable Power Save for High Throughput Applications.
- The application needs to ensure that it sets RTC with the correct timestamp when the feature is enabled before establishing the SSL connection.
- The timeout value should not be less than 1 second for socket select and socket receive calls. Timeout value of less than 1 second is not currently supported.
- When sl\_wifi\_enable\_target\_wakeup\_time API is used, configuring TWT Wake interval beyond 1 min might lead to disconnections from the AP. Recommended to use TWT wakeup interval of less than or equal to 1 min.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, it is recommended to set missed\_beacon\_count of sl\_wifi\_set\_advanced\_client\_configuration API greater than 2 times of the configured TWT Interval.
- Disable power save and suspend any active TWT sessions before triggering HTTP OTAF.
- It is recommended to enable bit 31 of the 'TCP IP Feature' bit map in the opermode command to support multicast protocol

**BLE**

- In BLE, the recommended range of Connection Interval in
  - Power Save (BLE Only) - 100 ms to 1.28 s.
- In BLE, during Connection, the configuration of Scan Interval and Scan Window with the same value is not recommended. The suggested ratio of Scan Window to Scan Interval is 3:4.
- In BLE, if a device is acting as Central, the scan window (in set\_scan\_params and create\_connection commands) must be less than the existing Connection Interval. The suggested ratio of Scan Window to Connection Interval is 2:3.
- In BLE mode, if scanning and advertising are in progress on the SiWx91x module and it subsequently gets connected and moves to the central role, scanning stops else if it moves to the peripheral role, advertising stops. To further establish a connection to another peripheral device or to a central device, the application should give a command for starting advertising and scanning again.

**Co-Existence**

- For concurrent Wi-Fi + BLE, and while a Wi-Fi connection is active, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
- Wi-Fi + BLE Advertising
  - All standard advertising intervals are supported. As Wi-Fi throughput is increased, a slight difference in on-air advertisements compared to configured intervals may be observed.
  - BLE advertising is skipped if the advertising interval collides with Wi-Fi activity.
- Wi-Fi + BLE scanning
  - All standard scan intervals are supported. For better scan results, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
  - BLE scanning will be stopped for intervals that collide with Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Connections
  - All standard connection intervals are supported.
  - For a stable connection, use optimal connection intervals and max supervision timeout in the presence of Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Data Transfer
  - To achieve higher throughput for both Wi-Fi and BLE, use medium connection intervals, such as 45 to 80 ms with maximum supervision timeout.
  - Ensure Wi-Fi activity consumes lower intervals.

**MCU**

- It is not recommended to use the RO clock for Clock Configuration
- PSRAM examples are not supposed to be used with Non-PSRAM OPNs
- By default SYSrtc and wake on wireless wakeup resources enabled, please do not reinstall these two wakeup sources when tickless idle mode is enabled
- Minimum idle-time to Sleep 100ms, as configured in FreeRtos_config.h
- Recommended to enable DMA for better throughput numbers
- For I2C Fastplus and High speed modes, it is recommended to use High power instances from 80Mhz to 180Mhz core clock
- Not recommended to use switch_m4_frequency() for clock scaling. Refer to migration guide for more details on this
- When using this 32MHz source for the PLL, limit the maximum clock to 160MHz
- In RTOS environment, prefer Signaling mechanisms (Semaphore/Mutex/EventFlag etc.) instead of "Variables/Flags" from user callbacks to detect "*Transfer Complete*" for high speed communication peripherals
  - Refer Software Reference Manual for more details
- It is recommended to install device_needs_ram_execution component for OPN based firmware update examples

**Known Issues**

**Sensorhub**

- Support for ADC FIFO Mode and Multi channel is open
- PS1-state supports only ADC sensor
- Power transitions with AWS are not stable in Sensorhub
- The process of integrating the tickless component and power manager service into the Sensorhub app is currently underway

**Network Stack**

- Sometimes during SSL Handshake, ECC curve parameters generated are wrong, resulting in connection failure with BBD2 error. However, this recovers in the next attempt.
- Randomize the client port if using rapid connect/disconnect of the MQTT session on the same client port with the power save.
- Secure SSL renegotiation not supported in Embedded Networking Stack.
- Disable power save before making TCP connection for NCP-UART interface.
- In concurrent mode, if IP is configured for AP mode ahead of STA mode then IPv6 configuration may fail for STA mode.
- In concurrent mode, data transfer using the Link-local address will always use the first IP interface created by the application.

**Wi-Fi**

- TWT device (STA) may not go to sleep in between TWT intervals in case of burst data traffics with data size more than the configured 'average tx throughput', until completion of data transfer.
- There are performance and IOP issues with MU MIMO.
- WPA3 Connection with the Hunting and Pecking algorithm takes about 3-4 seconds.
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.
- Low Wi-Fi+BLE throughput
- TCP/UDP TX/RX Data stall observed in CoEx scenarios
- Observed HTTPS Continuous download fails with TA Power save
- Performance improvements are in progress for lower performance metrics.
- Observed interop issue (connectivity failure) with few AP's when device reset/reboot happens on active connection.
- In concurrent mode, AP restart fails after stopping it with ap\_stop command.
- DUT deep sleep will not work after stopping AP with ap\_stop command.
- Unable to get SNTP async events when coex mode and Power save is enabled
- Fine Tuning 802.11ax Spectral mask in Progress
- Fine Tuning 11b mask in Ch11 in progress
- DUT is unable to connect to the AP with WPA3 security when we enable coex mode (WLAN+BLE) in opermode
- Socket listen API is failing from the second iteration
- Disconnections observed with Netgear RAX120 AP in WPA3 security
- Observed connection failures with some AP's in more channel congestion open lab environment
- Firmware Upgrade example is not working in PSRAM boards
- deep sleep example is not supported with power manager
- AP fails to start when ACS is enabled on CZ100, CZ101 OPNS (SI91X-16507)

**BLE**

- HID profile data transfer is not working, when power save is enabled in SoC.
- BLE reconnection is not working in ble_multiconnection_gatt demo, when power save is enabled in SoC
- BLE throughputs are less with STM32 compared to EFR

**Co-Existence**

- Observed HTTP continuous download is not happening in Powersave mode after BLE connection established using wifi\_https\_ble\_dual\_role application
- Observed DUT hang while Wi-Fi UDP/TCP Tx and BLE continuous scan.

**System**

- BRD8045A and BRD8045C does not have CTS and RTS pins routed from SiWx917 NCP, which are used for UART flow control

**MCU**

- Refer to the respective Radio board user guides for specific pinout details. Examples are targeted to a specific version mentioned in the respective readme
- Few(BOD and Comparator) wakeup resources are not working as expected in Power manager service
- Observed RO and BJT Temperature values are not as expected
- Character Timeout feature for all communication protocols is not supported
- UART instances does not support different FIFO Thresholds
- NVM3 dual flash application is not working as expected in the current release.
- ULP_I2C does not function as expected in low power mode when DMA is enabled
- Powersave Deep Sleep example for the siwg917m110lgtba OPN requires the installation of the device_need_ram_execution component.
- Sometimes TA processor hang occurs when M4 used XTAL clock with sleep enabled.
- In ULP SSI application, non-dma transfer is not working as expected.

**Limitations and Unsupported Features**

**SDK**

- WiSeConnect3_SDK_3.1.3 and later versions are not compatible with firmware versions prior to 1711.2.10.1.2.0.4, due to enhancements in max transmit power configuration during Wi-Fi join/connection, need to be cautious while doing OTA firmware upgrade.

**Wi-Fi/Network Stack**

- TLS 1.3 Server is not supported
- In AP mode, IPv6 Router Advertisements are not supported. Although STA connected to the APUT can transfer IPv6 data to the peers by using SLAAC for address configuration.
- When sl\_wifi\_enable\_target\_wake\_time() API is used, observed occasional MQTT disconnections with longer TWT intervals (>30secs) with embedded MQTT + TWT.
- AMSDU TX is not supported.
- Fragmentation is not supported.
- AMSDUs within AMPDU is not supported.
- Currently, the module does not support Radio Measurement Requests feature of CCX V2
- 802.11k is not supported
- 40 MHz bandwidth for 2.4 GHz band is not supported.
- 802.11J channel 14 is not supported.
- MQTT versions 3 and 4 are supported.
- Maximum of 3 SSL connections are supported.
- In SSL ECC Curve ID supported is 23. SSL handshake with 3rd party clients depends on the SSL ECC Curve ID.
- LP mode is not supported.
- In iTWT mode, downlink data traffic should be limited. Disconnections may be observed if AP fails to send all the buffered data in the next TWT Service Period.
- Number of MBSSIDs processed is limited by the beacon length that can be processed by the stack (which is limited to 1024 bytes). Beacons greater than 1024 Bytes in length will not be processed.
- CoEx + EAP Security in 352K/320k is not feasible. This issue is observed due to a lack of memory in the 352k/320k Memory Configuration. It is supported with other EXT\_FEAT\_416K\_M4SS\_256K and EXT\_FEAT\_480K\_M4SS\_192K memory configurations.
- UL MUMIMO is not supported.
- The embedded HTTP server is not supported.
- Baremetal is not supported.
- Compared to SoC mode, NCP mode has fewer examples, but more will be enabled in upcoming releases.
- Maximum Supported length for Embedded MQTT username up to 120 bytes , topic length up to 200 bytes and password upto 62 bytes.
- UART 2 Debug prints are supported only on ULP_GPIO_9.
- WOW LAN feature is not supported.
- SA Query procedure is not supported in AP mode.
- Maximum Supported length for HTTP GET URL is up to 2048 bytes.
- Azure SDK with embedded MQTT is not supported.
- Power save is not supported in Azure MQTT.
- MDNS service discovery is currently not supported.
- sli_si91x_accept_async is not thread-safe
- Observed some background compatibility issues with coex and http in few corner cases
- AP mode does not support Tx and Rx aggregation in Concurrent mode.
- Concurrent STA mode, Rx aggregation is not supported. Tx aggregation is supported but it is not recommended.
- AP standalone mode does not support Tx aggregation. Rx aggregation is supported with limited number of BA sessions.

**BLE**

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.
- BLE TX/RX throughput is less when tested with EFM as compared to EFR
- Maximum supported AE data length is 200 bytes.
- Supports only two ADV\_EXT sets.
- Supports only two BLE connections (1 Central and 1 Peripheral) with AE.
- Advertising Extension feature is not supported in Coexistence.
- The  ae\_central & ae\_peripheral applications are not supported with TA\_352K\_M4\_320K RAM configuration.
- Setting PLL mode as 1 is not supported in Coexistence

**MCU**

- Manual chip select option is not supported when using GSPI.
- Following peripherals/features are not functioning as expected
    - ADC Multichannel, SSI Dual and Quad mode, SIO and Temp sensors
- LittleFS example support is intended to work only with Dual flash
- PS1 state is not supported in Power Manager
- Power is same for PS4 and PS3 states with powersave mode of power manager
- When using Button_0 as wakeup source, it limits the button functionality at application layer. For using Button_0 for application specific functionality, enable 'SL_SI91X_NPSS_GPIO_BTN_HANDLER'
- XTAL 40MHz clock as a reference clock is not supported

**System**
- TA Connected sleep and M4 PS2 is not a possible mode of operation
- M4 PS2 active and sleep is not a possible mode when SL_SI91X_EXT_FEAT_FRONT_END_SWITCH_PINS_ULP_GPIO_4_5_0 is enabled in SoC mode

**Simplicity Studio and Commander**

- Default GDB debug configuration is not supported for SoC projects, work around details provided in "Getting-Started-with-SiWx917"
- Observing flash download failures(ERROR 108) for a few image sizes
- While creating project through Simplicity Studio, "copy contents" option not supported.
- Simplicity commander does not support options under "Debug Lock tools".
- All projects in the package are compatible with GCC 10.3.1 version.

**Terminology**

|**Term**|**Description**|
| :- | :- |
|**New Features**|These items are new to this release|
|**Changes/Issues Fixed**|Changes made to existing features found in previous software releases.|
||Enhancements to existing product flow and feature set.|
||Bug fixes done in the release|
|**Deprecated Items**|Features or functions or APIs that are removed from the distributed release to align with the software roadmap|
|**Known Issues**|Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases|
|**Limitations/Recommendations**|Describes the limitations on product usage and recommendations for optimal use cases|

**Note**

- Change SPI frequency to 12.5Mhz while measuring BLE throughput with EFR32

<br>

**WiSeConnect3\_SDK\_3.4.0-ifc1 Release Notes**

This SDK package supports SoC Mode and NCP Mode for B0:

- In SoC Mode: Customer applications can run on Cortex M4. Wireless, network, and security stacks run on the wireless subsystem.
- In NCP mode: Wireless, network, and security stacks run on the Wireless subsystem. Customer applications run on the external host MCU.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

**Note**: Use Simplicity Studio version SV5.8.0.1 onwards

**SoC Highlights**

- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support ultra low power Wi-Fi standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode
- **MCU examples** : GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers, Config Timers, ULP (Ultra Low Power) Timers, Sleeptimer, IOSTREAM, NVM3, MEMLCD, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, Sensorhub, Joystick, Relative Humidity and Temperature sensor (RHT), Analog Comparator, Digital to Analog Converter and Temperature sensors (RO and BJT), CRC, LittleFS, Power Manager with RTOS
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE whitelisting, and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack, All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS client
- **IDE** : Simplicity Studio with Windows 10(64-bit), Linux, Mac OS
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** :
  - Si-MB4002A Main board
  - SiWx917 Radio boards

|**RadioBoard Type**|**SiWx917B0 with Board Version**|
| :- | :- |
|Common flash|Si917-BRD4338A(2.0)|
|Dual flash|Si917-BRD4339B(2.0)|
|External PSRAM|Si917-BRD4340A(2.0), Si917-BRD4342A(2.0)|
|Internal PSRAM|Si917-BRD4339A(2.0)|
|Dev Kit|Si917-2605A|

**NCP Highlights**

- **Host Interface** : SPI, UART
- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode.
- **Wi-Fi** : 2.4GHz Wi-Fi Support, WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE Whitelisting and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack , BLE Stack , All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS Client.
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **Hardware kits to evaluate NCP Mode**
  - NCP EFR Expansion Kit with NCP Radio board (BRD4338A(NCP MBR) + BRD8045A)
  - Wireless Pro kit Mainboard BRD4002A Rev A06
  - EFR32xG24 Wireless 2.4 GHz +10 dBm Radio Board xG24-RB4186C

**Release Details**

|**Item**|**Details**|
| :- | :- |
|Release date|August 21st, 2024|
|SDK Version|3.4.0-ifc1|
|Firmware Version Standard|1711\.2.13.2.0.0.1|
|Firmware Version Lite|1711\.2.13.2.0.2.1|
|Package Name|WiSeConnect3\_SDK\_3.4.0-ifc1|
|GSDK Version | SiSDK-2024.6.1|
|Supported RTOS|FreeRTOS|
|Operating Modes Supported|Wi-Fi STA, Wi-Fi AP, Wi-Fi STA+BLE, Wi-Fi STA+AP|
|Build Quality|GA|

- SiWx917 release consists of two components
  - Wireless Firmware - SiWx917 Firmware Binaries
  - Wiseconnect3 Library - Wiseconnect3 SDK library runs on the external host in NCP mode and internal Cortex M4 in SoC Mode.
- This release is meant only for use with designs based on SiWx917 Silicon
- The firmware to load is available in the following format:
  - SiWG917-B.2.12.1.x.0.x.rps - B0 Full-featured firmware binary
  - SiWG917-B.2.12.1.x.2.x.rps - B0 lite firmware binary

**Features Supported**

**Sensorhub service**

- Support for ADC, SPI, SDC and I2C based sensors
- Support for PS2
- Support added for SDC

**MCU**

- ADC Single Channel, ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, GPIO, GSPI, I2C, I2S, NVM3, OPAMP, PSRAM, PWM, QEI, RTC, SDIO Secondary, SSI Master and Slave, UART, Micro DMA, USART, Watchdog Timer, Temperature Sensors (RO and BJT), USART Master and Slave, CRC
- UC Supported Peripherals - GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers , Config Timers, ULP (Ultra Low Power) Timers, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, MEMLCD, Analog Comparator and Digital to Analog Converter.
- Services - Sleeptimer, IOSTREAM, NVM3, Power Manager, LittleFS, Pin Tool (support for USART, I2C, SSI, GSPI, SIO, SCT, PWM, I2S, ADC, DAC and Analog Comparator)
- ULP (Ultra Low Power) Peripherals - ulp\_adc, ulp\_calender, ulp\_dac, ulp\_gpio, ulp\_i2c, ulp\_i2s, ulp\_timer, ulp\_uart, ulp\_dma
- Extended flash write support for NWP flash region and added read api to read from NWP flash region
- List of OPN's supported si917-sb00, siwg917m111mgtba, siwg917m100mgtba, siwg917m111xgtba, siwg917m121xgtba, siwg917m110lgtba and siwg917m141xgtba
- Support added for SiWG917 Dev Kit Board (BRD2605A)
- Added APIs to configure M4 SoC Clock, PLL clocks, read M4 SoC Clock

**Wi-Fi**

- WPA2/WPA3 Personal, WPS and WPA2-EAP Support for Station Mode
- TCP/IP stack with IPv4, IPv6, TCP, UDP, TLS, HTTP/HTTPS, DHCPv4, DHCPv6, MQTT Client, DNS Client, SNTP client.
- Support for SSL client versions TLSV1.0, TLSV1.2, TLSV1.3 and SSL server versions TLSV1.0 and TLSV1.2
- Wi-Fi STA (802.11n/802.11ax) + 802.11n AP Support
- HE (802.11ax) and Individual TWT Feature Support
- Multiple BSSID feature support as an STA
- Secure OTA support on B0 radio boards.
- Support for LWIP network stack
- Support for AWS MQTT library
- Support for Azure MQTT library
- Support for BSD and IoT sockets application programming interface(API)
- Support added to change the listen interval after association with Access Point
- New API sl_si91x_fwup_abort added to support aborting firmware upgrade
- Added feature to support Gain offset calibration in channel 14

**Bluetooth Low Energy**

- BLE central & peripheral connections are supported.
- Ultra-low power save is supported.

**Power Save**

- Max PSP, enhanced MAX PSP, Fast PSP, and 802.11ax TWT power save modes are supported in WiFi.
- Only Max PSP power save mode is supported in BLE

**Crypto Support**

- AES, SHA, AES-CCM, HMAC, GCM, Chacha-poly, ECDH and TRNG FW Crypto API support added.
- PSA enabled Mbed TLS support added
- NVM support added for key storage
- Symmetric and asymmetric key storage
- TRNG, AES, SHA, HMAC, GCM, Chacha-poly, ECDH and AES-CCM hardware crypto engine is integrated with PSA crypto.

**Changes and Fixes**

**MCU**

- Added APIs in Calendar to convert Unit timestamp to Calendar datetime and vice-versa [SI91X-16429]
- ADC Deinit after M4 sleep wakeup [SI91X-16406] 
- ULP_ADC Sample duration update for different power state [SI91X-16577] 
- Added Stress test example [RSCDEV-30321]
- Added power manager support in sensorhub [RSCDEV-28077 ]
- Resolved M4_BBFF_STORAGE1 redefinition issue [SI91X-16683]
- Added the disable function in the MEM_LCD.c [SI91X-16619]
- Resolved Readme concerns in sl_si91x_littlefs application [SI91X-16156]
- Resolved Readme concerns in sl_si91x_power_manager_tickless_idle [SI91X-16155]
- Resolved multiple definitions of IRQ022_Handler conflicts error while installing PM ULP SysRTC [SI91X-16347]
- SQA Bugs: SI91X-16476, SI91X-16656

**SDK**

- Implemented per socket queue design for new bus thread [#SI91X-16260 #SI91X-14702 #RSCDEV-26765 RSCDEV-26809 ]
- Added the note in sl_net_set_credentials about the certificate format [SI91X-15394]
- Enabled nightly build for release/3.4.0 branch [RSCDEV-30808]
- Ported the existing wifi transceiver application to STM32 [RSCDEV-30643 ]
- Fixed the issue with string not cleared for next message [SI91X-14450]
- Fixed issue in wifi concurrent mode uart ncp udp tx which is throwing BSD error 9 [RSCDEV-30284]
- Fixed Sonarqube/Maintainability Issues Phase 19 [[RSCDEV-30182]
- Fixed the buffer dealloc issue [SI91X-16263]
- Fixed the Jenkins build error for wifi_mqtt_client_ble_dual_role [RSCDEV-30354]
- Added new example wlan multithreading socket application in sdk 3.0 [WIFISDK-1001]
- Fixed the issue with API sl_wifi_set_advanced_client_configuration [SI91X-15334]
- Added azureiotconfig KEEP_ALIVE_TIMEOUT_SECONDS in preprocessor settings [SI91X-16471]
- Reverted callback handler signature related sonarqube fixes [RSCDEV-30392]
- Added support for IPv6 change notification [SI91X-16146]
- Fixed the firmware flash issue via firmware_flashing_from_host_uart_xmodem[SI91X-16177]
- Added the WPA3 option in login page[WIFISDK-1285]
- Resolved the issue of BG_SCAN_DISABLE producing junk values [SI91X-15679]
- Fix melco memory alignment issues [SI91X-16269]
- Fixed failure in sl_si91x_select API with 10 TCP server sockets [SI91X-15904]
- Fixed the issue in sharing the wifi scan result with BLE module[SI91X-13146]
- Fixed the issue in concurrent http server app.c [SI91X-16516]
- Added application level support to modify the parameter in sl_si91x_set_region_ap_request_t structure [SI91X-16317]
- Fixed Sonarqube Reported Security Review Issues [RSCDEV-30483]
- Fixed the memory corruption issues in STM32 examples with the new socket design[RSCDEV-30487]
- Added Documentation changes for region_db_config [RSCDEV-30631]
- "Updated the TOS user input values to use standard macros and processed them accordingly[SI91X-15494]
- Implemented extended scan to provide more than 11 scan results[SI91X-16298]
- Updated SL_WIFI_MAX_SCANNED_AP documentation [SI91X-16290]
- Fixed error (-1) while keeping the ideal connection of Azure MQTT [SI91X-16477]
- Adding required opn's for NCP examples [SI91X-16635]
- Replaced all the macro reference SL_WIFI_STATS_AYSNC_EVENT with SL_WIFI_STATS_ASYNC_EVENT [RSCDEV-30743]
- Fixed unable to change LI configuration without changing the performance profile [SI91X-16435]
- Fixed invalid command errror for correct command usign the wifi calibration soc project [SI91X-15410]
- Moved the powersave standby associated into low power example folder [RSCDEV-30780]
- Fixed Sonarqube maintainability issues fixes in wifi module [RSCDEV-30729]
- Replaced use of yakka files with slcc files [RSCDEV-26961]- Implemented sl_si91x_debug_log [RSCDEV-28509]
- Added minimial iperf description in required examples [RSCDEV-26298]
- Fixed Sonarqube/Maintainability Issues Phase 21 [RSCDEV-30723]
- Updated the harness file for release/3.4.0 branch [RSCDEV-30808]
- Fixed docs compilation errors [HOTFIX-0 ]
- Updated the WLAN TPUT readme [SI91X-16332]
- SQA Bugs: SI91X-14450, SI91X-16263, SI91X-16471, SI91X-16146, SI91X-16516, SI91X-15494, SI91X-16477


**Wi-Fi & Network Stack**

- Resolved the TCP retries issue when the value is set to more than 31 for periodic retry
- Addressed Netx Vulnerabilities reported in Blackduck scan
- SQA bugs: SI91X-16285, SI91X-15925, SI91X-15631, SI91X-15470, SI91X-14712, SI91X-14038, SI91X-15382, SI91X-15748, SI91X-15846, SI91X-16563, SI91X-16450 ,SI91X-16453 ,SI91X-15906 ,SI91X-15983, SI91X-13898 ,SI91X-16529,SI91X-16627,SI91X-16419 ,SI91X-16531,SI91X-12938,SI91X-16413, SI91X-16259


**BLE**

- PGSUTLEJ-1508: Restricted PER mode transmission for ch-39 (2480MHz) in BLE 2Mbps rate.
- SI91X-15882: Resolved BLE and WLAN connection failure issue with SMP, when WLAN connect and HTTPS GET called in a loop
- SI91X-16126 : Resolved the BLE bonding failure issue during continuous HTTPS download
- SI91X-16582: Removed BT parameters and updated BLE feature bitmap description.
- Removed sl_si91x_hardware_setup API call from all BLE powersave applications, as it is handled in power manager.

**CoEx**

- None

**System**

- None

**Recommendations**

**System**

- The current revision of SiWx917 B0 has:
  - RAM memory of 672k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_672K\_M4SS\_0K- This mode configures TA with 672k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By default EXT\_FEAT\_352K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_480K\_M4SS\_192K - This mode configures TA with 480k and M4 with 192K bytes of memory
    - EXT\_FEAT\_416K\_M4SS\_256K - This mode configures TA with 416k and M4 with 256K bytes of memory
    - EXT\_FEAT\_352K\_M4SS\_320K - This mode configures TA with 352k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 672K\_M4SS\_0K.
  - SoC mode should not use 672k\_M4SS\_0k memory configuration.
- Set the recommended Power Save Profile (PSP) type to Enhanced Max PSP.

**IDE**

- Download the latest version of Simplicity Studio
- Refer to the latest version of the SoC/NCP "Getting-Started-with-SiWx917" guide for more details

**Wi-Fi & Network Stack****

- The recommended embedded MQTT Publish payload is 1 kBytes.
- It is recommended to enable bit 16 of the 'Extended TCP IP Feature' bit map in the opermode command for all Wi-Fi Socket operations from the host to ensure graceful handling during asynchronous closures from the peer.
- Aggregation (bit 2 of feature\_bit\_map) is recommended to be enabled in opermode. This enables software to aggregate multiple packets to achieve better throughput
- TCP retransmission count value is recommended to be 30 or higher so that the TCP does not disconnect while the rejoin happens.
- To restart the module, the application needs to call sl\_wifi\_deinit() followed by sl\_wifi\_init().
- Register 'Join Fail Callback' function every time when join is called, as in the rejoin failure path the callback is deregistered. If not done, this might result in a scan not functioning on rejoin failure.
- User can enable SL\_SI91X\_EXT\_TCP\_IP\_SSL\_16K\_RECORD in 'Extended TCP IP Feature'bit map in opermode, if HTTPS download is failing after receiving HTTP headers..
- iTWT setup is recommended after IP assignment/TCP connection/application specific socket connections.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, increase TCP / ARP Timeouts at the remote side depending upon the configured TWT interval configured.
- In case of TWT+coex, when using sl\_wifi\_enable\_target\_wakeup\_time API, use TWT wake duration <= 16 ms and TWT wake interval >= 1 sec. If wake duration > 16 ms or TWT wake interval < 1sec, there might be performance issues.
- For iTWT GTK Interval Should be kept max possible value or zero. If GTK interval is not configurable, recommended TWT interval (in case of sl\_wifi\_enable\_target\_wakeup\_time API) or RX Latency (in case of sl\_wifi\_target\_wake\_time\_auto\_selection API) is less than 4sec.
- Disable Power Save for High Throughput Applications.
- The application needs to ensure that it sets RTC with the correct timestamp when the feature is enabled before establishing the SSL connection.
- The timeout value should not be less than 1 second for socket select and socket receive calls. Timeout value of less than 1 second is not currently supported.
- When sl\_wifi\_enable\_target\_wakeup\_time API is used, configuring TWT Wake interval beyond 1 min might lead to disconnections from the AP. Recommended to use TWT wakeup interval of less than or equal to 1 min.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, it is recommended to set missed\_beacon\_count of sl\_wifi\_set\_advanced\_client\_configuration API greater than 2 times of the configured TWT Interval.
- Disable power save and suspend any active TWT sessions before triggering HTTP OTAF.
- It is recommended to enable bit 31 of the 'TCP IP Feature' bit map in the opermode command to support multicast protocol

**BLE**

- In BLE, the recommended range of Connection Interval in
  - Power Save (BLE Only) - 100 ms to 1.28 s.
- In BLE, during Connection, the configuration of Scan Interval and Scan Window with the same value is not recommended. The suggested ratio of Scan Window to Scan Interval is 3:4.
- In BLE, if a device is acting as Central, the scan window (in set\_scan\_params and create\_connection commands) must be less than the existing Connection Interval. The suggested ratio of Scan Window to Connection Interval is 2:3.
- In BLE mode, if scanning and advertising are in progress on the SiWx91x module and it subsequently gets connected and moves to the central role, scanning stops else if it moves to the peripheral role, advertising stops. To further establish a connection to another peripheral device or to a central device, the application should give a command for starting advertising and scanning again.

**Co-Existence**

- For concurrent Wi-Fi + BLE, and while a Wi-Fi connection is active, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
- Wi-Fi + BLE Advertising
  - All standard advertising intervals are supported. As Wi-Fi throughput is increased, a slight difference in on-air advertisements compared to configured intervals may be observed.
  - BLE advertising is skipped if the advertising interval collides with Wi-Fi activity.
- Wi-Fi + BLE scanning
  - All standard scan intervals are supported. For better scan results, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
  - BLE scanning will be stopped for intervals that collide with Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Connections
  - All standard connection intervals are supported.
  - For a stable connection, use optimal connection intervals and max supervision timeout in the presence of Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Data Transfer
  - To achieve higher throughput for both Wi-Fi and BLE, use medium connection intervals, such as 45 to 80 ms with maximum supervision timeout.
  - Ensure Wi-Fi activity consumes lower intervals.

**MCU**

- It is not recommended to use the RO clock for Clock Configuration
- PSRAM examples are not supposed to be used with Non-PSRAM OPNs
- By default SYSrtc and wake on wireless wakeup resources enabled, please do not reinstall these two wakeup sources when tickless idle mode is enabled
- Minimum idle-time to Sleep 100ms, as configured in FreeRtos_config.h
- Recommended to enable DMA for better throughput numbers
- For I2C Fastplus and High speed modes, it is recommended to use High power instances from 80Mhz to 180Mhz core clock
- Not recommended to use switch_m4_frequency() for clock scaling. Refer to migration guide for more details on this
- When using this 32MHz source for the PLL, limit the maximum clock to 160MHz
- In RTOS environment, prefer Signaling mechanisms (Semaphore/Mutex/EventFlag etc.) instead of "Variables/Flags" from user callbacks to detect "*Transfer Complete*" for high speed communication peripherals
  - Refer Software Reference Manual for more details
- It is recommended to install device_needs_ram_execution component for OPN based firmware update examples

**Known Issues**

**Sensorhub**

- Support for ADC FIFO Mode and Multi channel is open
- PS1-state supports only ADC sensor
- Power transitions with AWS are not stable in Sensorhub
- The process of integrating the tickless component and power manager service into the Sensorhub app is currently underway

**Network Stack**

- Sometimes during SSL Handshake, ECC curve parameters generated are wrong, resulting in connection failure with BBD2 error. However, this recovers in the next attempt.
- Randomize the client port if using rapid connect/disconnect of the MQTT session on the same client port with the power save.
- Secure SSL renegotiation not supported in Embedded Networking Stack.
- Disable power save before making TCP connection for NCP-UART interface.
- In concurrent mode, if IP is configured for AP mode ahead of STA mode then IPv6 configuration may fail for STA mode.
- In concurrent mode, data transfer using the Link-local address will always use the first IP interface created by the application.

**Wi-Fi**

- TWT device (STA) may not go to sleep in between TWT intervals in case of burst data traffics with data size more than the configured 'average tx throughput', until completion of data transfer.
- There are performance and IOP issues with MU MIMO.
- WPA3 Connection with the Hunting and Pecking algorithm takes about 3-4 seconds.
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.
- Low Wi-Fi+BLE throughput
- TCP/UDP TX/RX Data stall observed in CoEx scenarios
- Observed HTTPS Continuous download fails with TA Power save
- Performance improvements are in progress for lower performance metrics.
- Observed interop issue (connectivity failure) with few AP's when device reset/reboot happens on active connection.
- In concurrent mode, AP restart fails after stopping it with ap\_stop command.
- DUT deep sleep will not work after stopping AP with ap\_stop command.
- Unable to get SNTP async events when coex mode and Power save is enabled
- Fine Tuning 802.11ax Spectral mask in Progress
- Fine Tuning 11b mask in Ch11 in progress
- DUT is unable to connect to the AP with WPA3 security when we enable coex mode (WLAN+BLE) in opermode
- Socket listen API is failing from the second iteration
- Disconnections observed with Netgear RAX120 AP in WPA3 security
- Observed connection failures with some AP's in more channel congestion open lab environment
- Firmware Upgrade example is not working in PSRAM boards
- deep sleep example is not supported with power manager
- AP fails to start when ACS is enabled on CZ100, CZ101 OPNS (SI91X-16507)

**BLE**

- HID profile data transfer is not working, when power save is enabled in SoC.
- BLE reconnection is not working in ble_multiconnection_gatt demo, when power save is enabled in SoC
- BLE throughputs are less with STM32 compared to EFR

**Co-Existence**

- Observed HTTP continuous download is not happening in Powersave mode after BLE connection established using wifi\_https\_ble\_dual\_role application
- Observed DUT hang while Wi-Fi UDP/TCP Tx and BLE continuous scan.

**System**

- BRD8045A and BRD8045C does not have CTS and RTS pins routed from SiWx917 NCP, which are used for UART flow control

**MCU**

- Refer to the respective Radio board user guides for specific pinout details. Examples are targeted to a specific version mentioned in the respective readme
- Few(BOD and Comparator) wakeup resources are not working as expected in Power manager service
- Observed RO and BJT Temperature values are not as expected
- Character Timeout feature for all communication protocols is not supported
- UART instances does not support different FIFO Thresholds
- NVM3 dual flash application is not working as expected in the current release.
- ULP_I2C does not function as expected in low power mode when DMA is enabled
- Powersave Deep Sleep example for the siwg917m110lgtba OPN requires the installation of the device_need_ram_execution component.
- Sometimes TA processor hang occurs when M4 used XTAL clock with sleep enabled.
- In ULP SSI application, non-dma transfer is not working as expected.

**Limitations and Unsupported Features**

**SDK**

- WiSeConnect3_SDK_3.1.3 and later versions are not compatible with firmware versions prior to 1711.2.10.1.2.0.4, due to enhancements in max transmit power configuration during Wi-Fi join/connection, need to be cautious while doing OTA firmware upgrade.

**Wi-Fi/Network Stack**

- TLS 1.3 Server is not supported
- In AP mode, IPv6 Router Advertisements are not supported. Although STA connected to the APUT can transfer IPv6 data to the peers by using SLAAC for address configuration.
- When sl\_wifi\_enable\_target\_wake\_time() API is used, observed occasional MQTT disconnections with longer TWT intervals (>30secs) with embedded MQTT + TWT.
- AMSDU TX is not supported.
- Fragmentation is not supported.
- AMSDUs within AMPDU is not supported.
- Currently, the module does not support Radio Measurement Requests feature of CCX V2
- 802.11k is not supported
- 40 MHz bandwidth for 2.4 GHz band is not supported.
- 802.11J channel 14 is not supported.
- MQTT versions 3 and 4 are supported.
- Maximum of 3 SSL connections are supported.
- In SSL ECC Curve ID supported is 23. SSL handshake with 3rd party clients depends on the SSL ECC Curve ID.
- LP mode is not supported.
- In iTWT mode, downlink data traffic should be limited. Disconnections may be observed if AP fails to send all the buffered data in the next TWT Service Period.
- Number of MBSSIDs processed is limited by the beacon length that can be processed by the stack (which is limited to 1024 bytes). Beacons greater than 1024 Bytes in length will not be processed.
- CoEx + EAP Security in 352K/320k is not feasible. This issue is observed due to a lack of memory in the 352k/320k Memory Configuration. It is supported with other EXT\_FEAT\_416K\_M4SS\_256K and EXT\_FEAT\_480K\_M4SS\_192K memory configurations.
- UL MUMIMO is not supported.
- The embedded HTTP server is not supported.
- Baremetal is not supported.
- Compared to SoC mode, NCP mode has fewer examples, but more will be enabled in upcoming releases.
- Maximum Supported length for Embedded MQTT username up to 120 bytes , topic length up to 200 bytes and password upto 62 bytes.
- UART 2 Debug prints are supported only on ULP_GPIO_9.
- WOW LAN feature is not supported.
- SA Query procedure is not supported in AP mode.
- Maximum Supported length for HTTP GET URL is up to 2048 bytes.
- Azure SDK with embedded MQTT is not supported.
- Power save is not supported in Azure MQTT.
- MDNS service discovery is currently not supported.
- sli_si91x_accept_async is not thread-safe
- Observed some background compatibility issues with coex and http in few corner cases
- AP mode does not support Tx and Rx aggregation in Concurrent mode.
- Concurrent STA mode, Rx aggregation is not supported. Tx aggregation is supported but it is not recommended.
- AP standalone mode does not support Tx aggregation. Rx aggregation is supported with limited number of BA sessions.

**BLE**

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.
- BLE TX/RX throughput is less when tested with EFM as compared to EFR
- Maximum supported AE data length is 200 bytes.
- Supports only two ADV\_EXT sets.
- Supports only two BLE connections (1 Central and 1 Peripheral) with AE.
- Advertising Extension feature is not supported in Coexistence.
- The  ae\_central & ae\_peripheral applications are not supported with TA\_352K\_M4\_320K RAM configuration.
- Setting PLL mode as 1 is not supported in Coexistence

**MCU**

- Manual chip select option is not supported when using GSPI.
- Following peripherals/features are not functioning as expected
    - ADC Multichannel, SSI Dual and Quad mode, SIO and Temp sensors
- LittleFS example support is intended to work only with Dual flash
- PS1 state is not supported in Power Manager
- Power is same for PS4 and PS3 states with powersave mode of power manager
- When using Button_0 as wakeup source, it limits the button functionality at application layer. For using Button_0 for application specific functionality, enable 'SL_SI91X_NPSS_GPIO_BTN_HANDLER'
- XTAL 40MHz clock as a reference clock is not supported

**System**
- TA Connected sleep and M4 PS2 is not a possible mode of operation
- M4 PS2 active and sleep is not a possible mode when SL_SI91X_EXT_FEAT_FRONT_END_SWITCH_PINS_ULP_GPIO_4_5_0 is enabled in SoC mode

**Simplicity Studio and Commander**

- Default GDB debug configuration is not supported for SoC projects, work around details provided in "Getting-Started-with-SiWx917"
- Observing flash download failures(ERROR 108) for a few image sizes
- While creating project through Simplicity Studio, "copy contents" option not supported.
- Simplicity commander does not support options under "Debug Lock tools".
- All projects in the package are compatible with GCC 10.3.1 version.

**Terminology**

|**Term**|**Description**|
| :- | :- |
|**New Features**|These items are new to this release|
|**Changes/Issues Fixed**|Changes made to existing features found in previous software releases.|
||Enhancements to existing product flow and feature set.|
||Bug fixes done in the release|
|**Deprecated Items**|Features or functions or APIs that are removed from the distributed release to align with the software roadmap|
|**Known Issues**|Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases|
|**Limitations/Recommendations**|Describes the limitations on product usage and recommendations for optimal use cases|

**Note**

- Change SPI frequency to 12.5Mhz while measuring BLE throughput with EFR32

<br>

**WiSeConnect3\_SDK\_3.3.2-cf Release Notes**

This SDK package supports SoC Mode and NCP Mode for B0:

- In SoC Mode: Customer applications can run on Cortex M4. Wireless, network, and security stacks run on the wireless subsystem.
- In NCP mode: Wireless, network, and security stacks run on the Wireless subsystem. Customer applications run on the external host MCU.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

**Note**: Use Simplicity Studio version SV5.8.0.1 onwards

**SoC Highlights**

- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support ultra low power Wi-Fi standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode
- **MCU examples** : GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers, Config Timers, ULP (Ultra Low Power) Timers, Sleeptimer, IOSTREAM, NVM3, MEMLCD, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, Sensorhub, Joystick, Relative Humidity and Temperature sensor (RHT), Analog Comparator, Digital to Analog Converter and Temperature sensors (RO and BJT), CRC, LittleFS, Power Manager with RTOS
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE whitelisting, and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack, All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS client
- **IDE** : Simplicity Studio with Windows 10(64-bit), Linux, Mac OS
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** :
  - Si-MB4002A Main board
  - SiWx917 Radio boards

|**RadioBoard Type**|**SiWx917B0 with Board Version**|
| :- | :- |
|Common flash|Si917-BRD4338A(2.0)|
|Dual flash|Si917-BRD4339B(2.0)|
|External PSRAM|Si917-BRD4340A(2.0), Si917-BRD4342A(2.0)|
|Internal PSRAM|Si917-BRD4339A(2.0)|
|Dev Kit|Si917-2605A|

**NCP Highlights**

- **Host Interface** : SPI, UART
- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode.
- **Wi-Fi** : 2.4GHz Wi-Fi Support, WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE Whitelisting and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack , BLE Stack , All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS Client.
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **Hardware kits to evaluate NCP Mode**
  - NCP EFR Expansion Kit with NCP Radio board (BRD4338A(NCP MBR) + BRD8045A)
  - Wireless Pro kit Mainboard BRD4002A Rev A06
  - EFR32xG24 Wireless 2.4 GHz +10 dBm Radio Board xG24-RB4186C

**Release Details**

|**Item**|**Details**|
| :- | :- |
|Release date|August 28th, 2024|
|SDK Version|3.3.2-cf|
|Firmware Version Standard|1711\.2.12.2.1.0.9|
|Firmware Version Lite|1711\.2.12.2.1.2.9|
|Package Name|WiSeConnect3\_SDK\_3.3.2-cf|
|GSDK Version | SiSDK-2024.6.1|
|Supported RTOS|FreeRTOS|
|Operating Modes Supported|Wi-Fi STA, Wi-Fi AP, Wi-Fi STA+BLE, Wi-Fi STA+AP|
|Build Quality|GA|

- SiWx917 release consists of two components
  - Wireless Firmware - SiWx917 Firmware Binaries
  - Wiseconnect3 Library - Wiseconnect3 SDK library runs on the external host in NCP mode and internal Cortex M4 in SoC Mode.
- This release is meant only for use with designs based on SiWx917 Silicon
- The firmware to load is available in the following format:
  - SiWG917-B.2.12.1.x.0.x.rps - B0 Full-featured firmware binary
  - SiWG917-B.2.12.1.x.2.x.rps - B0 lite firmware binary

**Features Supported**

**Sensorhub service**

- Support for ADC, SPI, SDC and I2C based sensors
- Support for PS2
- Support added for SDC

**MCU**

- ADC Single Channel, ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, GPIO, GSPI, I2C, I2S, NVM3, OPAMP, PSRAM, PWM, QEI, RTC, SDIO Secondary, SSI Master and Slave, UART, Micro DMA, USART, Watchdog Timer, Temperature Sensors (RO and BJT), USART Master and Slave, CRC
- UC Supported Peripherals - GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers , Config Timers, ULP (Ultra Low Power) Timers, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, MEMLCD, Analog Comparator and Digital to Analog Converter.
- Services - Sleeptimer, IOSTREAM, NVM3, Power Manager, LittleFS, Pin Tool (support for USART, I2C, SSI, GSPI, SIO, SCT, PWM, I2S, ADC, DAC and Analog Comparator)
- ULP (Ultra Low Power) Peripherals - ulp\_adc, ulp\_calender, ulp\_dac, ulp\_gpio, ulp\_i2c, ulp\_i2s, ulp\_timer, ulp\_uart, ulp\_dma
- Extended flash write support for NWP flash region and added read api to read from NWP flash region
- List of OPN's supported si917-sb00, siwg917m111mgtba, siwg917m100mgtba, siwg917m111xgtba, siwg917m121xgtba, siwg917m110lgtba and siwg917m141xgtba
- Support added for SiWG917 Dev Kit Board (BRD2605A)
- Added APIs to configure M4 SoC Clock, PLL clocks, read M4 SoC Clock

**Wi-Fi**

- WPA2/WPA3 Personal, WPS and WPA2-EAP Support for Station Mode
- TCP/IP stack with IPv4, IPv6, TCP, UDP, TLS, HTTP/HTTPS, DHCPv4, DHCPv6, MQTT Client, DNS Client, SNTP client.
- Support for SSL client versions TLSV1.0, TLSV1.2, TLSV1.3 and SSL server versions TLSV1.0 and TLSV1.2
- Wi-Fi STA (802.11n/802.11ax) + 802.11n AP Support
- HE (802.11ax) and Individual TWT Feature Support
- Multiple BSSID feature support as an STA
- Secure OTA support on B0 radio boards.
- Support for LWIP network stack
- Support for AWS MQTT library
- Support for Azure MQTT library
- Support for BSD and IoT sockets application programming interface(API)
- Support added to change the listen interval after association with Access Point
- New API sl_si91x_fwup_abort added to support aborting firmware upgrade
- Added feature to support Gain offset calibration in channel 14

**Bluetooth Low Energy**

- BLE central & peripheral connections are supported.
- Ultra-low power save is supported.

**Power Save**

- Max PSP, enhanced MAX PSP, Fast PSP, and 802.11ax TWT power save modes are supported in WiFi.
- Only Max PSP power save mode is supported in BLE

**Crypto Support**

- AES, SHA, AES-CCM, HMAC, GCM, Chacha-poly, ECDH and TRNG FW Crypto API support added.
- PSA enabled Mbed TLS support added
- NVM support added for key storage
- Symmetric and asymmetric key storage
- TRNG, AES, SHA, HMAC, GCM, Chacha-poly, ECDH and AES-CCM hardware crypto engine is integrated with PSA crypto.

**Changes and Fixes**

**MCU**

- Added Disclaimer Regarding the Use of 32MHz Clock - RSCDEV-30866
- OOB_MM Bugfix: Updated supported and un-supported streams in IOstream Documentation - SI91X-16701
- Enhanced API Documentation of unified api peripherals, hardware driver and service - RSCDEV-30599
- Enhanced platform API Documentation using Github copilot - RSCDEV-30586

**SDK**

- Added API documentation enhancement for Wireless Wi-Fi wifi callback framework [RSCDEV-30421]
- Added documentation Enhancements for External host interface module  [RSCDEV-30425]
- Replaced references "TA" with "NWP" and "ThreadArch" with "Network Wireless Processor" [RSCDEV-30793]
- Added note for sl_wifi_update_gain_table() and sl_si91x_calibration_write() APIs [SI91X-16741]
- Updated boot configurations description [SI91X-16497]
- Modified the application label for fw upgrade [SI91X-16696]
- Added APIreference guide enhancements on common module [RSCDEV-29213]
- Documentation Enhancements: Status Code Wi-Fi module [RSCDEV-30428]
- Removed documentation of SL_SI91X_EVENT_HANDLER_STACK_SIZE in markdown files [RSCDEV-30872]
- Updated Feature bitmap documentation" [SI91X-16719]
- Added documentation enhancements for network protocols module [RSCDEV-30426]
- Added documentation enhancements applciation protocols module [RSCDEV-30427]
- Added mode description in async events [RSCDEV-30708]
- Restored permanent credentials [HOTFIX-0 ]
- Added SiWx917 ozone config files  [RSCDEV-30835]
- Added documentation enhancements for network management module [RSCDEV-30422]
- Added documentation enhancements applciation protocols module [RSCDEV-30427]
- Added BSD-sockets/documentation-enhancements-sockets-module  [RSCDEV-30423]
- Fix illegal character is XML [RSCDEV-30955 ]
- Update doxygen commnets in Wireless Wi-Fi - sl_wifi_types [RSCDEV-30850]
- Added documentation enhancements in sockets module [RSCDEV-30423 ]

**Wi-Fi & Network Stack**

- None

**BLE**

- Added few changes to the BLE API documentation
- Fixed the BLE doxygen warnings

**CoEx**

- None

**System**

- None

**Recommendations**

**System**

- The current revision of SiWx917 B0 has:
  - RAM memory of 672k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_672K\_M4SS\_0K- This mode configures TA with 672k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By default EXT\_FEAT\_352K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_480K\_M4SS\_192K - This mode configures TA with 480k and M4 with 192K bytes of memory
    - EXT\_FEAT\_416K\_M4SS\_256K - This mode configures TA with 416k and M4 with 256K bytes of memory
    - EXT\_FEAT\_352K\_M4SS\_320K - This mode configures TA with 352k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 672K\_M4SS\_0K.
  - SoC mode should not use 672k\_M4SS\_0k memory configuration.
- Set the recommended Power Save Profile (PSP) type to Enhanced Max PSP.

**IDE**

- Download the latest version of Simplicity Studio
- Refer to the latest version of the SoC/NCP "Getting-Started-with-SiWx917" guide for more details

**Wi-Fi & Network Stack****

- The recommended embedded MQTT Publish payload is 1 kBytes.
- It is recommended to enable bit 16 of the 'Extended TCP IP Feature' bit map in the opermode command for all Wi-Fi Socket operations from the host to ensure graceful handling during asynchronous closures from the peer.
- Aggregation (bit 2 of feature\_bit\_map) is recommended to be enabled in opermode. This enables software to aggregate multiple packets to achieve better throughput
- TCP retransmission count value is recommended to be 30 or higher so that the TCP does not disconnect while the rejoin happens.
- To restart the module, the application needs to call sl\_wifi\_deinit() followed by sl\_wifi\_init().
- Register 'Join Fail Callback' function every time when join is called, as in the rejoin failure path the callback is deregistered. If not done, this might result in a scan not functioning on rejoin failure.
- User can enable SL\_SI91X\_EXT\_TCP\_IP\_SSL\_16K\_RECORD in 'Extended TCP IP Feature'bit map in opermode, if HTTPS download is failing after receiving HTTP headers..
- iTWT setup is recommended after IP assignment/TCP connection/application specific socket connections.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, increase TCP / ARP Timeouts at the remote side depending upon the configured TWT interval configured.
- In case of TWT+coex, when using sl\_wifi\_enable\_target\_wakeup\_time API, use TWT wake duration <= 16 ms and TWT wake interval >= 1 sec. If wake duration > 16 ms or TWT wake interval < 1sec, there might be performance issues.
- For iTWT GTK Interval Should be kept max possible value or zero. If GTK interval is not configurable, recommended TWT interval (in case of sl\_wifi\_enable\_target\_wakeup\_time API) or RX Latency (in case of sl\_wifi\_target\_wake\_time\_auto\_selection API) is less than 4sec.
- Disable Power Save for High Throughput Applications.
- The application needs to ensure that it sets RTC with the correct timestamp when the feature is enabled before establishing the SSL connection.
- The timeout value should not be less than 1 second for socket select and socket receive calls. Timeout value of less than 1 second is not currently supported.
- When sl\_wifi\_enable\_target\_wakeup\_time API is used, configuring TWT Wake interval beyond 1 min might lead to disconnections from the AP. Recommended to use TWT wakeup interval of less than or equal to 1 min.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, it is recommended to set missed\_beacon\_count of sl\_wifi\_set\_advanced\_client\_configuration API greater than 2 times of the configured TWT Interval.
- Disable power save and suspend any active TWT sessions before triggering HTTP OTAF.
- It is recommended to enable bit 31 of the 'TCP IP Feature' bit map in the opermode command to support multicast protocol

**BLE**

- In BLE, the recommended range of Connection Interval in
  - Power Save (BLE Only) - 100 ms to 1.28 s.
- In BLE, during Connection, the configuration of Scan Interval and Scan Window with the same value is not recommended. The suggested ratio of Scan Window to Scan Interval is 3:4.
- In BLE, if a device is acting as Central, the scan window (in set\_scan\_params and create\_connection commands) must be less than the existing Connection Interval. The suggested ratio of Scan Window to Connection Interval is 2:3.
- In BLE mode, if scanning and advertising are in progress on the SiWx91x module and it subsequently gets connected and moves to the central role, scanning stops else if it moves to the peripheral role, advertising stops. To further establish a connection to another peripheral device or to a central device, the application should give a command for starting advertising and scanning again.

**Co-Existence**

- For concurrent Wi-Fi + BLE, and while a Wi-Fi connection is active, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
- Wi-Fi + BLE Advertising
  - All standard advertising intervals are supported. As Wi-Fi throughput is increased, a slight difference in on-air advertisements compared to configured intervals may be observed.
  - BLE advertising is skipped if the advertising interval collides with Wi-Fi activity.
- Wi-Fi + BLE scanning
  - All standard scan intervals are supported. For better scan results, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
  - BLE scanning will be stopped for intervals that collide with Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Connections
  - All standard connection intervals are supported.
  - For a stable connection, use optimal connection intervals and max supervision timeout in the presence of Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Data Transfer
  - To achieve higher throughput for both Wi-Fi and BLE, use medium connection intervals, such as 45 to 80 ms with maximum supervision timeout.
  - Ensure Wi-Fi activity consumes lower intervals.

**MCU**

- It is not recommended to use the RO clock for Clock Configuration
- PSRAM examples are not supposed to be used with Non-PSRAM OPNs
- By default SYSrtc and wake on wireless wakeup resources enabled, please do not reinstall these two wakeup sources when tickless idle mode is enabled
- Minimum idle-time to Sleep 100ms, as configured in FreeRtos_config.h
- Recommended to enable DMA for better throughput numbers
- For I2C Fastplus and High speed modes, it is recommended to use High power instances from 80Mhz to 180Mhz core clock
- Not recommended to use switch_m4_frequency() for clock scaling. Refer to migration guide for more details on this
- When using this 32MHz source for the PLL, limit the maximum clock to 160MHz
- In RTOS environment, prefer Signaling mechanisms (Semaphore/Mutex/EventFlag etc.) instead of "Variables/Flags" from user callbacks to detect "*Transfer Complete*" for high speed communication peripherals
  - Refer Software Reference Manual for more details
- It is recommended to install device_needs_ram_execution component for OPN based firmware update examples

**Known Issues**

**Sensorhub**

- Support for ADC FIFO Mode and Multi channel is open
- PS1-state supports only ADC sensor
- Power transitions with AWS are not stable in Sensorhub
- The process of integrating the tickless component and power manager service into the Sensorhub app is currently underway

**Network Stack**

- Sometimes during SSL Handshake, ECC curve parameters generated are wrong, resulting in connection failure with BBD2 error. However, this recovers in the next attempt.
- Randomize the client port if using rapid connect/disconnect of the MQTT session on the same client port with the power save.
- Secure SSL renegotiation not supported in Embedded Networking Stack.
- Disable power save before making TCP connection for NCP-UART interface.
- In concurrent mode, if IP is configured for AP mode ahead of STA mode then IPv6 configuration may fail for STA mode.
- In concurrent mode, data transfer using the Link-local address will always use the first IP interface created by the application.

**Wi-Fi**

- TWT device (STA) may not go to sleep in between TWT intervals in case of burst data traffics with data size more than the configured 'average tx throughput', until completion of data transfer.
- There are performance and IOP issues with MU MIMO.
- WPA3 Connection with the Hunting and Pecking algorithm takes about 3-4 seconds.
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.
- Low Wi-Fi+BLE throughput
- TCP/UDP TX/RX Data stall observed in CoEx scenarios
- Observed HTTPS Continuous download fails with TA Power save
- Performance improvements are in progress for lower performance metrics.
- Observed interop issue (connectivity failure) with few AP's when device reset/reboot happens on active connection.
- In concurrent mode, AP restart fails after stopping it with ap\_stop command.
- DUT deep sleep will not work after stopping AP with ap\_stop command.
- Unable to get SNTP async events when coex mode and Power save is enabled
- Fine Tuning 802.11ax Spectral mask in Progress
- Fine Tuning 11b mask in Ch11 in progress
- DUT is unable to connect to the AP with WPA3 security when we enable coex mode (WLAN+BLE) in opermode
- Socket listen API is failing from the second iteration
- Disconnections observed with Netgear RAX120 AP in WPA3 security
- Observed connection failures with some AP's in more channel congestion open lab environment
- Firmware Upgrade example is not working in PSRAM boards
- deep sleep example is not supported with power manager
- AP fails to start when ACS is enabled on CZ100, CZ101 OPNS (SI91X-16507)

**BLE**

- HID profile data transfer is not working, when power save is enabled in SoC.
- BLE reconnection is not working in ble_multiconnection_gatt demo, when power save is enabled in SoC
- BLE throughputs are less with STM32 compared to EFR

**Co-Existence**

- Observed HTTP continuous download is not happening in Powersave mode after BLE connection established using wifi\_https\_ble\_dual\_role application
- Observed DUT hang while Wi-Fi UDP/TCP Tx and BLE continuous scan.

**System**

- BRD8045A and BRD8045C does not have CTS and RTS pins routed from SiWx917 NCP, which are used for UART flow control

**MCU**

- Refer to the respective Radio board user guides for specific pinout details. Examples are targeted to a specific version mentioned in the respective readme
- Few(BOD and Comparator) wakeup resources are not working as expected in Power manager service
- Observed RO and BJT Temperature values are not as expected
- Character Timeout feature for all communication protocols is not supported
- UART instances does not support different FIFO Thresholds
- NVM3 dual flash application is not working as expected in the current release.
- ULP_I2C does not function as expected in low power mode when DMA is enabled
- Powersave Deep Sleep example for the siwg917m110lgtba OPN requires the installation of the device_need_ram_execution component.
- Sometimes TA processor hang occurs when M4 used XTAL clock with sleep enabled.
- In ULP SSI application, non-dma transfer is not working as expected.

**Limitations and Unsupported Features**

**SDK**

- WiSeConnect3_SDK_3.1.3 and later versions are not compatible with firmware versions prior to 1711.2.10.1.2.0.4, due to enhancements in max transmit power configuration during Wi-Fi join/connection, need to be cautious while doing OTA firmware upgrade.

**Wi-Fi/Network Stack**

- TLS 1.3 Server is not supported
- In AP mode, IPv6 Router Advertisements are not supported. Although STA connected to the APUT can transfer IPv6 data to the peers by using SLAAC for address configuration.
- When sl\_wifi\_enable\_target\_wake\_time() API is used, observed occasional MQTT disconnections with longer TWT intervals (>30secs) with embedded MQTT + TWT.
- AMSDU TX is not supported.
- Fragmentation is not supported.
- AMSDUs within AMPDU is not supported.
- Currently, the module does not support Radio Measurement Requests feature of CCX V2
- 802.11k is not supported
- 40 MHz bandwidth for 2.4 GHz band is not supported.
- 802.11J channel 14 is not supported.
- MQTT versions 3 and 4 are supported.
- Maximum of 3 SSL connections are supported.
- In SSL ECC Curve ID supported is 23. SSL handshake with 3rd party clients depends on the SSL ECC Curve ID.
- LP mode is not supported.
- In iTWT mode, downlink data traffic should be limited. Disconnections may be observed if AP fails to send all the buffered data in the next TWT Service Period.
- Number of MBSSIDs processed is limited by the beacon length that can be processed by the stack (which is limited to 1024 bytes). Beacons greater than 1024 Bytes in length will not be processed.
- CoEx + EAP Security in 352K/320k is not feasible. This issue is observed due to a lack of memory in the 352k/320k Memory Configuration. It is supported with other EXT\_FEAT\_416K\_M4SS\_256K and EXT\_FEAT\_480K\_M4SS\_192K memory configurations.
- UL MUMIMO is not supported.
- The embedded HTTP server is not supported.
- Baremetal is not supported.
- Compared to SoC mode, NCP mode has fewer examples, but more will be enabled in upcoming releases.
- Maximum Supported length for Embedded MQTT username up to 120 bytes , topic length up to 200 bytes and password upto 62 bytes.
- UART 2 Debug prints are supported only on ULP_GPIO_9.
- WOW LAN feature is not supported.
- SA Query procedure is not supported in AP mode.
- Maximum Supported length for HTTP GET URL is up to 2048 bytes.
- Azure SDK with embedded MQTT is not supported.
- Power save is not supported in Azure MQTT.
- MDNS service discovery is currently not supported.
- sli_si91x_accept_async is not thread-safe
- Observed some background compatibility issues with coex and http in few corner cases
- AP mode does not support Tx and Rx aggregation in Concurrent mode.
- Concurrent STA mode, Rx aggregation is not supported. Tx aggregation is supported but it is not recommended.
- AP standalone mode does not support Tx aggregation. Rx aggregation is supported with limited number of BA sessions.

**BLE**

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.
- BLE TX/RX throughput is less when tested with EFM as compared to EFR
- Maximum supported AE data length is 200 bytes.
- Supports only two ADV\_EXT sets.
- Supports only two BLE connections (1 Central and 1 Peripheral) with AE.
- Advertising Extension feature is not supported in Coexistence.
- The  ae\_central & ae\_peripheral applications are not supported with TA\_352K\_M4\_320K RAM configuration.
- Setting PLL mode as 1 is not supported in Coexistence

**MCU**

- Manual chip select option is not supported when using GSPI.
- Following peripherals/features are not functioning as expected
    - ADC Multichannel, SSI Dual and Quad mode, SIO and Temp sensors
- LittleFS example support is intended to work only with Dual flash
- PS1 state is not supported in Power Manager
- Power is same for PS4 and PS3 states with powersave mode of power manager
- When using Button_0 as wakeup source, it limits the button functionality at application layer. For using Button_0 for application specific functionality, enable 'SL_SI91X_NPSS_GPIO_BTN_HANDLER'
- XTAL 40MHz clock as a reference clock is not supported

**System**
- TA Connected sleep and M4 PS2 is not a possible mode of operation
- M4 PS2 active and sleep is not a possible mode when SL_SI91X_EXT_FEAT_FRONT_END_SWITCH_PINS_ULP_GPIO_4_5_0 is enabled in SoC mode

**Simplicity Studio and Commander**

- Default GDB debug configuration is not supported for SoC projects, work around details provided in "Getting-Started-with-SiWx917"
- Observing flash download failures(ERROR 108) for a few image sizes
- While creating project through Simplicity Studio, "copy contents" option not supported.
- Simplicity commander does not support options under "Debug Lock tools".
- All projects in the package are compatible with GCC 10.3.1 version.

**Terminology**

|**Term**|**Description**|
| :- | :- |
|**New Features**|These items are new to this release|
|**Changes/Issues Fixed**|Changes made to existing features found in previous software releases.|
||Enhancements to existing product flow and feature set.|
||Bug fixes done in the release|
|**Deprecated Items**|Features or functions or APIs that are removed from the distributed release to align with the software roadmap|
|**Known Issues**|Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases|
|**Limitations/Recommendations**|Describes the limitations on product usage and recommendations for optimal use cases|

**Note**

- Change SPI frequency to 12.5Mhz while measuring BLE throughput with EFR32

<br>

**WiSeConnect3\_SDK\_3.3.2-fc Release Notes**

This SDK package supports SoC Mode and NCP Mode for B0:

- In SoC Mode: Customer applications can run on Cortex M4. Wireless, network, and security stacks run on the wireless subsystem.
- In NCP mode: Wireless, network, and security stacks run on the Wireless subsystem. Customer applications run on the external host MCU.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

**Note**: Use Simplicity Studio version SV5.8.0.1 onwards

**SoC Highlights**

- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support ultra low power Wi-Fi standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode
- **MCU examples** : GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers, Config Timers, ULP (Ultra Low Power) Timers, Sleeptimer, IOSTREAM, NVM3, MEMLCD, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, Sensorhub, Joystick, Relative Humidity and Temperature sensor (RHT), Analog Comparator, Digital to Analog Converter and Temperature sensors (RO and BJT), CRC, LittleFS, Power Manager with RTOS
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE whitelisting, and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack, All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS client
- **IDE** : Simplicity Studio with Windows 10(64-bit), Linux, Mac OS
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** :
  - Si-MB4002A Main board
  - SiWx917 Radio boards

|**RadioBoard Type**|**SiWx917B0 with Board Version**|
| :- | :- |
|Common flash|Si917-BRD4338A(2.0)|
|Dual flash|Si917-BRD4339B(2.0)|
|External PSRAM|Si917-BRD4340A(2.0), Si917-BRD4342A(2.0)|
|Internal PSRAM|Si917-BRD4339A(2.0)|
|Dev Kit|Si917-2605A|

**NCP Highlights**

- **Host Interface** : SPI, UART
- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode.
- **Wi-Fi** : 2.4GHz Wi-Fi Support, WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE Whitelisting and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack , BLE Stack , All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS Client.
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **Hardware kits to evaluate NCP Mode**
  - NCP EFR Expansion Kit with NCP Radio board (BRD4338A(NCP MBR) + BRD8045A)
  - Wireless Pro kit Mainboard BRD4002A Rev A06
  - EFR32xG24 Wireless 2.4 GHz +10 dBm Radio Board xG24-RB4186C

**Release Details**

|**Item**|**Details**|
| :- | :- |
|Release date|August 21st, 2024|
|SDK Version|3.3.2-fc|
|Firmware Version Standard|1711\.2.12.2.1.0.9|
|Firmware Version Lite|1711\.2.12.2.1.2.9|
|Package Name|WiSeConnect3\_SDK\_3.3.2-fc|
|GSDK Version | SiSDK-2024.6.1|
|Supported RTOS|FreeRTOS|
|Operating Modes Supported|Wi-Fi STA, Wi-Fi AP, Wi-Fi STA+BLE, Wi-Fi STA+AP|
|Build Quality|GA|

- SiWx917 release consists of two components
  - Wireless Firmware - SiWx917 Firmware Binaries
  - Wiseconnect3 Library - Wiseconnect3 SDK library runs on the external host in NCP mode and internal Cortex M4 in SoC Mode.
- This release is meant only for use with designs based on SiWx917 Silicon
- The firmware to load is available in the following format:
  - SiWG917-B.2.12.1.x.0.x.rps - B0 Full-featured firmware binary
  - SiWG917-B.2.12.1.x.2.x.rps - B0 lite firmware binary

**Features Supported**

**Sensorhub service**

- Support for ADC, SPI, SDC and I2C based sensors
- Support for PS2
- Support added for SDC

**MCU**

- ADC Single Channel, ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, GPIO, GSPI, I2C, I2S, NVM3, OPAMP, PSRAM, PWM, QEI, RTC, SDIO Secondary, SSI Master and Slave, UART, Micro DMA, USART, Watchdog Timer, Temperature Sensors (RO and BJT), USART Master and Slave, CRC
- UC Supported Peripherals - GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers , Config Timers, ULP (Ultra Low Power) Timers, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, MEMLCD, Analog Comparator and Digital to Analog Converter.
- Services - Sleeptimer, IOSTREAM, NVM3, Power Manager, LittleFS, Pin Tool (support for USART, I2C, SSI, GSPI, SIO, SCT, PWM, I2S, ADC, DAC and Analog Comparator)
- ULP (Ultra Low Power) Peripherals - ulp\_adc, ulp\_calender, ulp\_dac, ulp\_gpio, ulp\_i2c, ulp\_i2s, ulp\_timer, ulp\_uart, ulp\_dma
- Extended flash write support for NWP flash region and added read api to read from NWP flash region
- List of OPN's supported si917-sb00, siwg917m111mgtba, siwg917m100mgtba, siwg917m111xgtba, siwg917m121xgtba, siwg917m110lgtba and siwg917m141xgtba
- Support added for SiWG917 Dev Kit Board (BRD2605A)
- Added APIs to configure M4 SoC Clock, PLL clocks, read M4 SoC Clock

**Wi-Fi**

- WPA2/WPA3 Personal, WPS and WPA2-EAP Support for Station Mode
- TCP/IP stack with IPv4, IPv6, TCP, UDP, TLS, HTTP/HTTPS, DHCPv4, DHCPv6, MQTT Client, DNS Client, SNTP client.
- Support for SSL client versions TLSV1.0, TLSV1.2, TLSV1.3 and SSL server versions TLSV1.0 and TLSV1.2
- Wi-Fi STA (802.11n/802.11ax) + 802.11n AP Support
- HE (802.11ax) and Individual TWT Feature Support
- Multiple BSSID feature support as an STA
- Secure OTA support on B0 radio boards.
- Support for LWIP network stack
- Support for AWS MQTT library
- Support for Azure MQTT library
- Support for BSD and IoT sockets application programming interface(API)
- Support added to change the listen interval after association with Access Point
- New API sl_si91x_fwup_abort added to support aborting firmware upgrade
- Added feature to support Gain offset calibration in channel 14

**Bluetooth Low Energy**

- BLE central & peripheral connections are supported.
- Ultra-low power save is supported.

**Power Save**

- Max PSP, enhanced MAX PSP, Fast PSP, and 802.11ax TWT power save modes are supported in WiFi.
- Only Max PSP power save mode is supported in BLE

**Crypto Support**

- AES, SHA, AES-CCM, HMAC, GCM, Chacha-poly, ECDH and TRNG FW Crypto API support added.
- PSA enabled Mbed TLS support added
- NVM support added for key storage
- Symmetric and asymmetric key storage
- TRNG, AES, SHA, HMAC, GCM, Chacha-poly, ECDH and AES-CCM hardware crypto engine is integrated with PSA crypto.

**Changes and Fixes**

**MCU**

-	Resolved Readme concerns in sl_si91x_littlefs application [SI91X-16156]
-	Resolved Readme concerns in sl_si91x_power_manager_tickless_idle [SI91X-16155]
-	Fixed Broken Links and References in Doxygen Documentation of Platform Service, Unified Driver API
-	Fixed Hardware Driver and Unified Driver API Doxygen warnings
-	Updated LED, button, DMA, API documentation and added images
-	Update Power Manager Documentation
-	Doxygen configurations are updated



**SDK**

- Fixed warnings in doxygen phase2 [RSCDEV-30127]
- Updated Status codes overview page hyperlink [SI91X-16594]
- Added TA supported powersave explanation in the documentation [SI91X-15396 ]
- Added the documentation for extended header in http_otaf [SI91X-16267]
- Fixed task creation failure in ble when ran a test case multiple times iteratively  [SI91X-16203 ]
- Added documentation Enhancements: Status Code Wi-Fi module [RSCDEV-30428]
- Updated all versions to 3.3.2 [RSCDEV-30810]
- Added notes to replace the reference certificates with valid certificates [ SI91X-16644 ] 
- Added Documentation Enhancements: Sockets module  [RSCDEV-30423]
- Updated 5GHz interface documentation [SI91X-16557]
- Readme update for siwg917 dev kit demo [SI91X-16717]
- Updated version to 3.3.2 for docs in sl_net repo [RSCDEV-30824]
- Added clickable links to API sections in the reference guide for easier navigation [SI91X-14775]

**Wi-Fi & Network Stack**

- None

**BLE**

- Removed BT parameters and updated BLE feature bitmap description.

**CoEx**

- None

**System**

- None

**Recommendations**

**System**

- The current revision of SiWx917 B0 has:
  - RAM memory of 672k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_672K\_M4SS\_0K- This mode configures TA with 672k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By default EXT\_FEAT\_352K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_480K\_M4SS\_192K - This mode configures TA with 480k and M4 with 192K bytes of memory
    - EXT\_FEAT\_416K\_M4SS\_256K - This mode configures TA with 416k and M4 with 256K bytes of memory
    - EXT\_FEAT\_352K\_M4SS\_320K - This mode configures TA with 352k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 672K\_M4SS\_0K.
  - SoC mode should not use 672k\_M4SS\_0k memory configuration.
- Set the recommended Power Save Profile (PSP) type to Enhanced Max PSP.

**IDE**

- Download the latest version of Simplicity Studio
- Refer to the latest version of the SoC/NCP "Getting-Started-with-SiWx917" guide for more details

**Wi-Fi & Network Stack****

- The recommended embedded MQTT Publish payload is 1 kBytes.
- It is recommended to enable bit 16 of the 'Extended TCP IP Feature' bit map in the opermode command for all Wi-Fi Socket operations from the host to ensure graceful handling during asynchronous closures from the peer.
- Aggregation (bit 2 of feature\_bit\_map) is recommended to be enabled in opermode. This enables software to aggregate multiple packets to achieve better throughput
- TCP retransmission count value is recommended to be 30 or higher so that the TCP does not disconnect while the rejoin happens.
- To restart the module, the application needs to call sl\_wifi\_deinit() followed by sl\_wifi\_init().
- Register 'Join Fail Callback' function every time when join is called, as in the rejoin failure path the callback is deregistered. If not done, this might result in a scan not functioning on rejoin failure.
- User can enable SL\_SI91X\_EXT\_TCP\_IP\_SSL\_16K\_RECORD in 'Extended TCP IP Feature'bit map in opermode, if HTTPS download is failing after receiving HTTP headers..
- iTWT setup is recommended after IP assignment/TCP connection/application specific socket connections.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, increase TCP / ARP Timeouts at the remote side depending upon the configured TWT interval configured.
- In case of TWT+coex, when using sl\_wifi\_enable\_target\_wakeup\_time API, use TWT wake duration <= 16 ms and TWT wake interval >= 1 sec. If wake duration > 16 ms or TWT wake interval < 1sec, there might be performance issues.
- For iTWT GTK Interval Should be kept max possible value or zero. If GTK interval is not configurable, recommended TWT interval (in case of sl\_wifi\_enable\_target\_wakeup\_time API) or RX Latency (in case of sl\_wifi\_target\_wake\_time\_auto\_selection API) is less than 4sec.
- Disable Power Save for High Throughput Applications.
- The application needs to ensure that it sets RTC with the correct timestamp when the feature is enabled before establishing the SSL connection.
- The timeout value should not be less than 1 second for socket select and socket receive calls. Timeout value of less than 1 second is not currently supported.
- When sl\_wifi\_enable\_target\_wakeup\_time API is used, configuring TWT Wake interval beyond 1 min might lead to disconnections from the AP. Recommended to use TWT wakeup interval of less than or equal to 1 min.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, it is recommended to set missed\_beacon\_count of sl\_wifi\_set\_advanced\_client\_configuration API greater than 2 times of the configured TWT Interval.
- Disable power save and suspend any active TWT sessions before triggering HTTP OTAF.
- It is recommended to enable bit 31 of the 'TCP IP Feature' bit map in the opermode command to support multicast protocol

**BLE**

- In BLE, the recommended range of Connection Interval in
  - Power Save (BLE Only) - 100 ms to 1.28 s.
- In BLE, during Connection, the configuration of Scan Interval and Scan Window with the same value is not recommended. The suggested ratio of Scan Window to Scan Interval is 3:4.
- In BLE, if a device is acting as Central, the scan window (in set\_scan\_params and create\_connection commands) must be less than the existing Connection Interval. The suggested ratio of Scan Window to Connection Interval is 2:3.
- In BLE mode, if scanning and advertising are in progress on the SiWx91x module and it subsequently gets connected and moves to the central role, scanning stops else if it moves to the peripheral role, advertising stops. To further establish a connection to another peripheral device or to a central device, the application should give a command for starting advertising and scanning again.

**Co-Existence**

- For concurrent Wi-Fi + BLE, and while a Wi-Fi connection is active, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
- Wi-Fi + BLE Advertising
  - All standard advertising intervals are supported. As Wi-Fi throughput is increased, a slight difference in on-air advertisements compared to configured intervals may be observed.
  - BLE advertising is skipped if the advertising interval collides with Wi-Fi activity.
- Wi-Fi + BLE scanning
  - All standard scan intervals are supported. For better scan results, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
  - BLE scanning will be stopped for intervals that collide with Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Connections
  - All standard connection intervals are supported.
  - For a stable connection, use optimal connection intervals and max supervision timeout in the presence of Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Data Transfer
  - To achieve higher throughput for both Wi-Fi and BLE, use medium connection intervals, such as 45 to 80 ms with maximum supervision timeout.
  - Ensure Wi-Fi activity consumes lower intervals.

**MCU**

- It is not recommended to use the RO clock for Clock Configuration
- PSRAM examples are not supposed to be used with Non-PSRAM OPNs
- By default SYSrtc and wake on wireless wakeup resources enabled, please do not reinstall these two wakeup sources when tickless idle mode is enabled
- Minimum idle-time to Sleep 100ms, as configured in FreeRtos_config.h
- Recommended to enable DMA for better throughput numbers
- For I2C Fastplus and High speed modes, it is recommended to use High power instances from 80Mhz to 180Mhz core clock
- Not recommended to use switch_m4_frequency() for clock scaling. Refer to migration guide for more details on this
- When using this 32MHz source for the PLL, limit the maximum clock to 160MHz
- In RTOS environment, prefer Signaling mechanisms (Semaphore/Mutex/EventFlag etc.) instead of "Variables/Flags" from user callbacks to detect "*Transfer Complete*" for high speed communication peripherals
  - Refer Software Reference Manual for more details
- It is recommended to install device_needs_ram_execution component for OPN based firmware update examples

**Known Issues**

**Sensorhub**

- Support for ADC FIFO Mode and Multi channel is open
- PS1-state supports only ADC sensor
- Power transitions with AWS are not stable in Sensorhub
- The process of integrating the tickless component and power manager service into the Sensorhub app is currently underway

**Network Stack**

- Sometimes during SSL Handshake, ECC curve parameters generated are wrong, resulting in connection failure with BBD2 error. However, this recovers in the next attempt.
- Randomize the client port if using rapid connect/disconnect of the MQTT session on the same client port with the power save.
- Secure SSL renegotiation not supported in Embedded Networking Stack.
- Disable power save before making TCP connection for NCP-UART interface.
- In concurrent mode, if IP is configured for AP mode ahead of STA mode then IPv6 configuration may fail for STA mode.
- In concurrent mode, data transfer using the Link-local address will always use the first IP interface created by the application.

**Wi-Fi**

- TWT device (STA) may not go to sleep in between TWT intervals in case of burst data traffics with data size more than the configured 'average tx throughput', until completion of data transfer.
- There are performance and IOP issues with MU MIMO.
- WPA3 Connection with the Hunting and Pecking algorithm takes about 3-4 seconds.
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.
- Low Wi-Fi+BLE throughput
- TCP/UDP TX/RX Data stall observed in CoEx scenarios
- Observed HTTPS Continuous download fails with TA Power save
- Performance improvements are in progress for lower performance metrics.
- Observed interop issue (connectivity failure) with few AP's when device reset/reboot happens on active connection.
- In concurrent mode, AP restart fails after stopping it with ap\_stop command.
- DUT deep sleep will not work after stopping AP with ap\_stop command.
- Unable to get SNTP async events when coex mode and Power save is enabled
- Fine Tuning 802.11ax Spectral mask in Progress
- Fine Tuning 11b mask in Ch11 in progress
- DUT is unable to connect to the AP with WPA3 security when we enable coex mode (WLAN+BLE) in opermode
- Socket listen API is failing from the second iteration
- Disconnections observed with Netgear RAX120 AP in WPA3 security
- Observed connection failures with some AP's in more channel congestion open lab environment
- Firmware Upgrade example is not working in PSRAM boards
- deep sleep example is not supported with power manager
- AP fails to start when ACS is enabled on CZ100, CZ101 OPNS (SI91X-16507)

**BLE**

- HID profile data transfer is not working, when power save is enabled in SoC.
- BLE reconnection is not working in ble_multiconnection_gatt demo, when power save is enabled in SoC
- BLE throughputs are less with STM32 compared to EFR

**Co-Existence**

- Observed HTTP continuous download is not happening in Powersave mode after BLE connection established using wifi\_https\_ble\_dual\_role application
- Observed DUT hang while Wi-Fi UDP/TCP Tx and BLE continuous scan.

**System**

- BRD8045A and BRD8045C does not have CTS and RTS pins routed from SiWx917 NCP, which are used for UART flow control

**MCU**

- Refer to the respective Radio board user guides for specific pinout details. Examples are targeted to a specific version mentioned in the respective readme
- Few(BOD and Comparator) wakeup resources are not working as expected in Power manager service
- Observed RO and BJT Temperature values are not as expected
- Character Timeout feature for all communication protocols is not supported
- UART instances does not support different FIFO Thresholds
- NVM3 dual flash application is not working as expected in the current release.
- ULP_I2C does not function as expected in low power mode when DMA is enabled
- Powersave Deep Sleep example for the siwg917m110lgtba OPN requires the installation of the device_need_ram_execution component.
- Sometimes TA processor hang occurs when M4 used XTAL clock with sleep enabled.
- In ULP SSI application, non-dma transfer is not working as expected.

**Limitations and Unsupported Features**

**SDK**

- WiSeConnect3_SDK_3.1.3 and later versions are not compatible with firmware versions prior to 1711.2.10.1.2.0.4, due to enhancements in max transmit power configuration during Wi-Fi join/connection, need to be cautious while doing OTA firmware upgrade.

**Wi-Fi/Network Stack**

- TLS 1.3 Server is not supported
- In AP mode, IPv6 Router Advertisements are not supported. Although STA connected to the APUT can transfer IPv6 data to the peers by using SLAAC for address configuration.
- When sl\_wifi\_enable\_target\_wake\_time() API is used, observed occasional MQTT disconnections with longer TWT intervals (>30secs) with embedded MQTT + TWT.
- AMSDU TX is not supported.
- Fragmentation is not supported.
- AMSDUs within AMPDU is not supported.
- Currently, the module does not support Radio Measurement Requests feature of CCX V2
- 802.11k is not supported
- 40 MHz bandwidth for 2.4 GHz band is not supported.
- 802.11J channel 14 is not supported.
- MQTT versions 3 and 4 are supported.
- Maximum of 3 SSL connections are supported.
- In SSL ECC Curve ID supported is 23. SSL handshake with 3rd party clients depends on the SSL ECC Curve ID.
- LP mode is not supported.
- In iTWT mode, downlink data traffic should be limited. Disconnections may be observed if AP fails to send all the buffered data in the next TWT Service Period.
- Number of MBSSIDs processed is limited by the beacon length that can be processed by the stack (which is limited to 1024 bytes). Beacons greater than 1024 Bytes in length will not be processed.
- CoEx + EAP Security in 352K/320k is not feasible. This issue is observed due to a lack of memory in the 352k/320k Memory Configuration. It is supported with other EXT\_FEAT\_416K\_M4SS\_256K and EXT\_FEAT\_480K\_M4SS\_192K memory configurations.
- UL MUMIMO is not supported.
- The embedded HTTP server is not supported.
- Baremetal is not supported.
- Compared to SoC mode, NCP mode has fewer examples, but more will be enabled in upcoming releases.
- Maximum Supported length for Embedded MQTT username up to 120 bytes , topic length up to 200 bytes and password upto 62 bytes.
- UART 2 Debug prints are supported only on ULP_GPIO_9.
- WOW LAN feature is not supported.
- SA Query procedure is not supported in AP mode.
- Maximum Supported length for HTTP GET URL is up to 2048 bytes.
- Azure SDK with embedded MQTT is not supported.
- Power save is not supported in Azure MQTT.
- MDNS service discovery is currently not supported.
- sli_si91x_accept_async is not thread-safe
- Observed some background compatibility issues with coex and http in few corner cases
- AP mode does not support Tx and Rx aggregation in Concurrent mode.
- Concurrent STA mode, Rx aggregation is not supported. Tx aggregation is supported but it is not recommended.
- AP standalone mode does not support Tx aggregation. Rx aggregation is supported with limited number of BA sessions.

**BLE**

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.
- BLE TX/RX throughput is less when tested with EFM as compared to EFR
- Maximum supported AE data length is 200 bytes.
- Supports only two ADV\_EXT sets.
- Supports only two BLE connections (1 Central and 1 Peripheral) with AE.
- Advertising Extension feature is not supported in Coexistence.
- The  ae\_central & ae\_peripheral applications are not supported with TA\_352K\_M4\_320K RAM configuration.
- Setting PLL mode as 1 is not supported in Coexistence

**MCU**

- Manual chip select option is not supported when using GSPI.
- Following peripherals/features are not functioning as expected
    - ADC Multichannel, SSI Dual and Quad mode, SIO and Temp sensors
- LittleFS example support is intended to work only with Dual flash
- PS1 state is not supported in Power Manager
- Power is same for PS4 and PS3 states with powersave mode of power manager
- When using Button_0 as wakeup source, it limits the button functionality at application layer. For using Button_0 for application specific functionality, enable 'SL_SI91X_NPSS_GPIO_BTN_HANDLER'
- XTAL 40MHz clock as a reference clock is not supported

**System**
- TA Connected sleep and M4 PS2 is not a possible mode of operation
- M4 PS2 active and sleep is not a possible mode when SL_SI91X_EXT_FEAT_FRONT_END_SWITCH_PINS_ULP_GPIO_4_5_0 is enabled in SoC mode

**Simplicity Studio and Commander**

- Default GDB debug configuration is not supported for SoC projects, work around details provided in "Getting-Started-with-SiWx917"
- Observing flash download failures(ERROR 108) for a few image sizes
- While creating project through Simplicity Studio, "copy contents" option not supported.
- Simplicity commander does not support options under "Debug Lock tools".
- All projects in the package are compatible with GCC 10.3.1 version.

**Terminology**

|**Term**|**Description**|
| :- | :- |
|**New Features**|These items are new to this release|
|**Changes/Issues Fixed**|Changes made to existing features found in previous software releases.|
||Enhancements to existing product flow and feature set.|
||Bug fixes done in the release|
|**Deprecated Items**|Features or functions or APIs that are removed from the distributed release to align with the software roadmap|
|**Known Issues**|Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases|
|**Limitations/Recommendations**|Describes the limitations on product usage and recommendations for optimal use cases|

**Note**

- Change SPI frequency to 12.5Mhz while measuring BLE throughput with EFR32

<br>

**WiSeConnect3\_SDK\_3.3.1-cf3 Release Notes**

This SDK package supports SoC Mode and NCP Mode for B0:

- In SoC Mode: Customer applications can run on Cortex M4. Wireless, network, and security stacks run on the wireless subsystem.
- In NCP mode: Wireless, network, and security stacks run on the Wireless subsystem. Customer applications run on the external host MCU.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

**Note**: Use Simplicity Studio version SV5.8.0.1 onwards

**SoC Highlights**

- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support ultra low power Wi-Fi standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode
- **MCU examples** : GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers, Config Timers, ULP (Ultra Low Power) Timers, Sleeptimer, IOSTREAM, NVM3, MEMLCD, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, Sensorhub, Joystick, Relative Humidity and Temperature sensor (RHT), Analog Comparator, Digital to Analog Converter and Temperature sensors (RO and BJT), CRC, LittleFS, Power Manager with RTOS
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE whitelisting, and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack, All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS client
- **IDE** : Simplicity Studio with Windows 10(64-bit), Linux, Mac OS
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** :
  - Si-MB4002A Main board
  - SiWx917 Radio boards

|**RadioBoard Type**|**SiWx917B0 with Board Version**|
| :- | :- |
|Common flash|Si917-BRD4338A(2.0)|
|Dual flash|Si917-BRD4339B(2.0)|
|External PSRAM|Si917-BRD4340A(2.0), Si917-BRD4342A(2.0)|
|Internal PSRAM|Si917-BRD4339A(2.0)|
|Dev Kit|Si917-2605A|

**NCP Highlights**

- **Host Interface** : SPI, UART
- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode.
- **Wi-Fi** : 2.4GHz Wi-Fi Support, WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE Whitelisting and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack , BLE Stack , All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS Client.
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **Hardware kits to evaluate NCP Mode**
  - NCP EFR Expansion Kit with NCP Radio board (BRD4338A(NCP MBR) + BRD8045A)
  - Wireless Pro kit Mainboard BRD4002A Rev A06
  - EFR32xG24 Wireless 2.4 GHz +10 dBm Radio Board xG24-RB4186C

**Release Details**

|**Item**|**Details**|
| :- | :- |
|Release date|August 12th, 2024|
|SDK Version|3.3.1-cf3|
|Firmware Version Standard|1711\.2.12.2.1.0.9|
|Firmware Version Lite|1711\.2.12.2.1.2.9|
|Package Name|WiSeConnect3\_SDK\_3.3.1-cf3|
|GSDK Version | SiSDK-2024.6.1|
|Supported RTOS|FreeRTOS|
|Operating Modes Supported|Wi-Fi STA, Wi-Fi AP, Wi-Fi STA+BLE, Wi-Fi STA+AP|
|Build Quality|GA|

- SiWx917 release consists of two components
  - Wireless Firmware - SiWx917 Firmware Binaries
  - Wiseconnect3 Library - Wiseconnect3 SDK library runs on the external host in NCP mode and internal Cortex M4 in SoC Mode.
- This release is meant only for use with designs based on SiWx917 Silicon
- The firmware to load is available in the following format:
  - SiWG917-B.2.12.1.x.0.x.rps - B0 Full-featured firmware binary
  - SiWG917-B.2.12.1.x.2.x.rps - B0 lite firmware binary

**Features Supported**

**Sensorhub service**

- Support for ADC, SPI, SDC and I2C based sensors
- Support for PS2
- Support added for SDC

**MCU**

- ADC Single Channel, ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, GPIO, GSPI, I2C, I2S, NVM3, OPAMP, PSRAM, PWM, QEI, RTC, SDIO Secondary, SSI Master and Slave, UART, Micro DMA, USART, Watchdog Timer, Temperature Sensors (RO and BJT), USART Master and Slave, CRC
- UC Supported Peripherals - GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers , Config Timers, ULP (Ultra Low Power) Timers, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, MEMLCD, Analog Comparator and Digital to Analog Converter.
- Services - Sleeptimer, IOSTREAM, NVM3, Power Manager, LittleFS, Pin Tool (support for USART, I2C, SSI, GSPI, SIO, SCT, PWM, I2S, ADC, DAC and Analog Comparator)
- ULP (Ultra Low Power) Peripherals - ulp\_adc, ulp\_calender, ulp\_dac, ulp\_gpio, ulp\_i2c, ulp\_i2s, ulp\_timer, ulp\_uart, ulp\_dma
- Extended flash write support for NWP flash region and added read api to read from NWP flash region
- List of OPN's supported si917-sb00, siwg917m111mgtba, siwg917m100mgtba, siwg917m111xgtba, siwg917m121xgtba, siwg917m110lgtba and siwg917m141xgtba
- Support added for SiWG917 Dev Kit Board (BRD2605A)
- Added APIs to configure M4 SoC Clock, PLL clocks, read M4 SoC Clock

**Wi-Fi**

- WPA2/WPA3 Personal, WPS and WPA2-EAP Support for Station Mode
- TCP/IP stack with IPv4, IPv6, TCP, UDP, TLS, HTTP/HTTPS, DHCPv4, DHCPv6, MQTT Client, DNS Client, SNTP client.
- Support for SSL client versions TLSV1.0, TLSV1.2, TLSV1.3 and SSL server versions TLSV1.0 and TLSV1.2
- Wi-Fi STA (802.11n/802.11ax) + 802.11n AP Support
- HE (802.11ax) and Individual TWT Feature Support
- Multiple BSSID feature support as an STA
- Secure OTA support on B0 radio boards.
- Support for LWIP network stack
- Support for AWS MQTT library
- Support for Azure MQTT library
- Support for BSD and IoT sockets application programming interface(API)
- Support added to change the listen interval after association with Access Point
- New API sl_si91x_fwup_abort added to support aborting firmware upgrade
- Added feature to support Gain offset calibration in channel 14

**Bluetooth Low Energy**

- BLE central & peripheral connections are supported.
- Ultra-low power save is supported.

**Power Save**

- Max PSP, enhanced MAX PSP, Fast PSP, and 802.11ax TWT power save modes are supported in WiFi.
- Only Max PSP power save mode is supported in BLE

**Crypto Support**

- AES, SHA, AES-CCM, HMAC, GCM, Chacha-poly, ECDH and TRNG FW Crypto API support added.
- PSA enabled Mbed TLS support added
- NVM support added for key storage
- Symmetric and asymmetric key storage
- TRNG, AES, SHA, HMAC, GCM, Chacha-poly, ECDH and AES-CCM hardware crypto engine is integrated with PSA crypto.

**Changes and Fixes**

**MCU**

- Resolved readme issues - SI91X-16130, SI91X-16131, SI91X-16132, SI91X-16155, SI91X-16156

**SDK**

- Updated the documentation as per the review comments from Apps team[RSCDEV-30701, RSCDEV-30700, RSCDEV-30699, RSCDEV-30698, SI91X-16681]
- Update migration guide link [RSCDEV-30742]
- Removed untested boards for CLI-demo, OOB demo [RSCDEV-30171]

**Wi-Fi & Network Stack**

- None

**BLE**

- None

**CoEx**

- None

**System**

- None

**Recommendations**

**System**

- The current revision of SiWx917 B0 has:
  - RAM memory of 672k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_672K\_M4SS\_0K- This mode configures TA with 672k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By default EXT\_FEAT\_352K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_480K\_M4SS\_192K - This mode configures TA with 480k and M4 with 192K bytes of memory
    - EXT\_FEAT\_416K\_M4SS\_256K - This mode configures TA with 416k and M4 with 256K bytes of memory
    - EXT\_FEAT\_352K\_M4SS\_320K - This mode configures TA with 352k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 672K\_M4SS\_0K.
  - SoC mode should not use 672k\_M4SS\_0k memory configuration.
- Set the recommended Power Save Profile (PSP) type to Enhanced Max PSP.

**IDE**

- Download the latest version of Simplicity Studio
- Refer to the latest version of the SoC/NCP "Getting-Started-with-SiWx917" guide for more details

**Wi-Fi & Network Stack****

- The recommended embedded MQTT Publish payload is 1 kBytes.
- It is recommended to enable bit 16 of the 'Extended TCP IP Feature' bit map in the opermode command for all Wi-Fi Socket operations from the host to ensure graceful handling during asynchronous closures from the peer.
- Aggregation (bit 2 of feature\_bit\_map) is recommended to be enabled in opermode. This enables software to aggregate multiple packets to achieve better throughput
- TCP retransmission count value is recommended to be 30 or higher so that the TCP does not disconnect while the rejoin happens.
- To restart the module, the application needs to call sl\_wifi\_deinit() followed by sl\_wifi\_init().
- Register 'Join Fail Callback' function every time when join is called, as in the rejoin failure path the callback is deregistered. If not done, this might result in a scan not functioning on rejoin failure.
- User can enable SL\_SI91X\_EXT\_TCP\_IP\_SSL\_16K\_RECORD in 'Extended TCP IP Feature'bit map in opermode, if HTTPS download is failing after receiving HTTP headers..
- iTWT setup is recommended after IP assignment/TCP connection/application specific socket connections.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, increase TCP / ARP Timeouts at the remote side depending upon the configured TWT interval configured.
- In case of TWT+coex, when using sl\_wifi\_enable\_target\_wakeup\_time API, use TWT wake duration <= 16 ms and TWT wake interval >= 1 sec. If wake duration > 16 ms or TWT wake interval < 1sec, there might be performance issues.
- For iTWT GTK Interval Should be kept max possible value or zero. If GTK interval is not configurable, recommended TWT interval (in case of sl\_wifi\_enable\_target\_wakeup\_time API) or RX Latency (in case of sl\_wifi\_target\_wake\_time\_auto\_selection API) is less than 4sec.
- Disable Power Save for High Throughput Applications.
- The application needs to ensure that it sets RTC with the correct timestamp when the feature is enabled before establishing the SSL connection.
- The timeout value should not be less than 1 second for socket select and socket receive calls. Timeout value of less than 1 second is not currently supported.
- When sl\_wifi\_enable\_target\_wakeup\_time API is used, configuring TWT Wake interval beyond 1 min might lead to disconnections from the AP. Recommended to use TWT wakeup interval of less than or equal to 1 min.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, it is recommended to set missed\_beacon\_count of sl\_wifi\_set\_advanced\_client\_configuration API greater than 2 times of the configured TWT Interval.
- Disable power save and suspend any active TWT sessions before triggering HTTP OTAF.
- It is recommended to enable bit 31 of the 'TCP IP Feature' bit map in the opermode command to support multicast protocol

**BLE**

- In BLE, the recommended range of Connection Interval in
  - Power Save (BLE Only) - 100 ms to 1.28 s.
- In BLE, during Connection, the configuration of Scan Interval and Scan Window with the same value is not recommended. The suggested ratio of Scan Window to Scan Interval is 3:4.
- In BLE, if a device is acting as Central, the scan window (in set\_scan\_params and create\_connection commands) must be less than the existing Connection Interval. The suggested ratio of Scan Window to Connection Interval is 2:3.
- In BLE mode, if scanning and advertising are in progress on the SiWx91x module and it subsequently gets connected and moves to the central role, scanning stops else if it moves to the peripheral role, advertising stops. To further establish a connection to another peripheral device or to a central device, the application should give a command for starting advertising and scanning again.

**Co-Existence**

- For concurrent Wi-Fi + BLE, and while a Wi-Fi connection is active, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
- Wi-Fi + BLE Advertising
  - All standard advertising intervals are supported. As Wi-Fi throughput is increased, a slight difference in on-air advertisements compared to configured intervals may be observed.
  - BLE advertising is skipped if the advertising interval collides with Wi-Fi activity.
- Wi-Fi + BLE scanning
  - All standard scan intervals are supported. For better scan results, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
  - BLE scanning will be stopped for intervals that collide with Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Connections
  - All standard connection intervals are supported.
  - For a stable connection, use optimal connection intervals and max supervision timeout in the presence of Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Data Transfer
  - To achieve higher throughput for both Wi-Fi and BLE, use medium connection intervals, such as 45 to 80 ms with maximum supervision timeout.
  - Ensure Wi-Fi activity consumes lower intervals.

**MCU**

- It is not recommended to use the RO clock for Clock Configuration
- PSRAM examples are not supposed to be used with Non-PSRAM OPNs
- By default SYSrtc and wake on wireless wakeup resources enabled, please do not reinstall these two wakeup sources when tickless idle mode is enabled
- Minimum idle-time to Sleep 100ms, as configured in FreeRtos_config.h
- Recommended to enable DMA for better throughput numbers
- For I2C Fastplus and High speed modes, it is recommended to use High power instances from 80Mhz to 180Mhz core clock
- Not recommended to use switch_m4_frequency() for clock scaling. Refer to migration guide for more details on this
- When using this 32MHz source for the PLL, limit the maximum clock to 160MHz
- In RTOS environment, prefer Signaling mechanisms (Semaphore/Mutex/EventFlag etc.) instead of "Variables/Flags" from user callbacks to detect "*Transfer Complete*" for high speed communication peripherals
  - Refer Software Reference Manual for more details
- It is recommended to install device_needs_ram_execution component for OPN based firmware update examples

**Known Issues**

**Sensorhub**

- Support for ADC FIFO Mode and Multi channel is open
- PS1-state supports only ADC sensor
- Power transitions with AWS are not stable in Sensorhub
- The process of integrating the tickless component and power manager service into the Sensorhub app is currently underway

**Network Stack**

- Sometimes during SSL Handshake, ECC curve parameters generated are wrong, resulting in connection failure with BBD2 error. However, this recovers in the next attempt.
- Randomize the client port if using rapid connect/disconnect of the MQTT session on the same client port with the power save.
- Secure SSL renegotiation not supported in Embedded Networking Stack.
- Disable power save before making TCP connection for NCP-UART interface.
- In concurrent mode, if IP is configured for AP mode ahead of STA mode then IPv6 configuration may fail for STA mode.
- In concurrent mode, data transfer using the Link-local address will always use the first IP interface created by the application.

**Wi-Fi**

- TWT device (STA) may not go to sleep in between TWT intervals in case of burst data traffics with data size more than the configured 'average tx throughput', until completion of data transfer.
- There are performance and IOP issues with MU MIMO.
- WPA3 Connection with the Hunting and Pecking algorithm takes about 3-4 seconds.
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.
- Low Wi-Fi+BLE throughput
- TCP/UDP TX/RX Data stall observed in CoEx scenarios
- Observed HTTPS Continuous download fails with TA Power save
- Performance improvements are in progress for lower performance metrics.
- Observed interop issue (connectivity failure) with few AP's when device reset/reboot happens on active connection.
- In concurrent mode, AP restart fails after stopping it with ap\_stop command.
- DUT deep sleep will not work after stopping AP with ap\_stop command.
- Unable to get SNTP async events when coex mode and Power save is enabled
- Fine Tuning 802.11ax Spectral mask in Progress
- Fine Tuning 11b mask in Ch11 in progress
- DUT is unable to connect to the AP with WPA3 security when we enable coex mode (WLAN+BLE) in opermode
- Socket listen API is failing from the second iteration
- Disconnections observed with Netgear RAX120 AP in WPA3 security
- Observed connection failures with some AP's in more channel congestion open lab environment
- Firmware Upgrade example is not working in PSRAM boards
- deep sleep example is not supported with power manager
- AP fails to start when ACS is enabled on CZ100, CZ101 OPNS (SI91X-16507)

**BLE**

- HID profile data transfer is not working, when power save is enabled in SoC.
- BLE reconnection is not working in ble_multiconnection_gatt demo, when power save is enabled in SoC
- BLE throughputs are less with STM32 compared to EFR

**Co-Existence**

- Observed HTTP continuous download is not happening in Powersave mode after BLE connection established using wifi\_https\_ble\_dual\_role application
- Observed DUT hang while Wi-Fi UDP/TCP Tx and BLE continuous scan.

**System**

- BRD8045A and BRD8045C does not have CTS and RTS pins routed from SiWx917 NCP, which are used for UART flow control

**MCU**

- Refer to the respective Radio board user guides for specific pinout details. Examples are targeted to a specific version mentioned in the respective readme
- Few(BOD and Comparator) wakeup resources are not working as expected in Power manager service
- Observed RO and BJT Temperature values are not as expected
- Character Timeout feature for all communication protocols is not supported
- UART instances does not support different FIFO Thresholds
- NVM3 dual flash application is not working as expected in the current release.
- ULP_I2C does not function as expected in low power mode when DMA is enabled
- Powersave Deep Sleep example for the siwg917m110lgtba OPN requires the installation of the device_need_ram_execution component.
- Sometimes TA processor hang occurs when M4 used XTAL clock with sleep enabled.
- In ULP SSI application, non-dma transfer is not working as expected.

**Limitations and Unsupported Features**

**SDK**

- WiSeConnect3_SDK_3.1.3 and later versions are not compatible with firmware versions prior to 1711.2.10.1.2.0.4, due to enhancements in max transmit power configuration during Wi-Fi join/connection, need to be cautious while doing OTA firmware upgrade.

**Wi-Fi/Network Stack**

- TLS 1.3 Server is not supported
- In AP mode, IPv6 Router Advertisements are not supported. Although STA connected to the APUT can transfer IPv6 data to the peers by using SLAAC for address configuration.
- When sl\_wifi\_enable\_target\_wake\_time() API is used, observed occasional MQTT disconnections with longer TWT intervals (>30secs) with embedded MQTT + TWT.
- AMSDU TX is not supported.
- Fragmentation is not supported.
- AMSDUs within AMPDU is not supported.
- Currently, the module does not support Radio Measurement Requests feature of CCX V2
- 802.11k is not supported
- 40 MHz bandwidth for 2.4 GHz band is not supported.
- 802.11J channel 14 is not supported.
- MQTT versions 3 and 4 are supported.
- Maximum of 3 SSL connections are supported.
- In SSL ECC Curve ID supported is 23. SSL handshake with 3rd party clients depends on the SSL ECC Curve ID.
- LP mode is not supported.
- In iTWT mode, downlink data traffic should be limited. Disconnections may be observed if AP fails to send all the buffered data in the next TWT Service Period.
- Number of MBSSIDs processed is limited by the beacon length that can be processed by the stack (which is limited to 1024 bytes). Beacons greater than 1024 Bytes in length will not be processed.
- CoEx + EAP Security in 352K/320k is not feasible. This issue is observed due to a lack of memory in the 352k/320k Memory Configuration. It is supported with other EXT\_FEAT\_416K\_M4SS\_256K and EXT\_FEAT\_480K\_M4SS\_192K memory configurations.
- UL MUMIMO is not supported.
- The embedded HTTP server is not supported.
- Baremetal is not supported.
- Compared to SoC mode, NCP mode has fewer examples, but more will be enabled in upcoming releases.
- Maximum Supported length for Embedded MQTT username up to 120 bytes , topic length up to 200 bytes and password upto 62 bytes.
- UART 2 Debug prints are supported only on ULP_GPIO_9.
- WOW LAN feature is not supported.
- SA Query procedure is not supported in AP mode.
- Maximum Supported length for HTTP GET URL is up to 2048 bytes.
- Azure SDK with embedded MQTT is not supported.
- Power save is not supported in Azure MQTT.
- MDNS service discovery is currently not supported.
- sli_si91x_accept_async is not thread-safe
- Observed some background compatibility issues with coex and http in few corner cases
- AP mode does not support Tx and Rx aggregation in Concurrent mode.
- Concurrent STA mode, Rx aggregation is not supported. Tx aggregation is supported but it is not recommended.
- AP standalone mode does not support Tx aggregation. Rx aggregation is supported with limited number of BA sessions.

**BLE**

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.
- BLE TX/RX throughput is less when tested with EFM as compared to EFR
- Maximum supported AE data length is 200 bytes.
- Supports only two ADV\_EXT sets.
- Supports only two BLE connections (1 Central and 1 Peripheral) with AE.
- Advertising Extension feature is not supported in Coexistence.
- The  ae\_central & ae\_peripheral applications are not supported with TA\_352K\_M4\_320K RAM configuration.
- Setting PLL mode as 1 is not supported in Coexistence

**MCU**

- Manual chip select option is not supported when using GSPI.
- Following peripherals/features are not functioning as expected
    - ADC Multichannel, SSI Dual and Quad mode, SIO and Temp sensors
- LittleFS example support is intended to work only with Dual flash
- PS1 state is not supported in Power Manager
- Power is same for PS4 and PS3 states with powersave mode of power manager
- When using Button_0 as wakeup source, it limits the button functionality at application layer. For using Button_0 for application specific functionality, enable 'SL_SI91X_NPSS_GPIO_BTN_HANDLER'
- XTAL 40MHz clock as a reference clock is not supported

**System**
- TA Connected sleep and M4 PS2 is not a possible mode of operation
- M4 PS2 active and sleep is not a possible mode when SL_SI91X_EXT_FEAT_FRONT_END_SWITCH_PINS_ULP_GPIO_4_5_0 is enabled in SoC mode

**Simplicity Studio and Commander**

- Default GDB debug configuration is not supported for SoC projects, work around details provided in "Getting-Started-with-SiWx917"
- Observing flash download failures(ERROR 108) for a few image sizes
- While creating project through Simplicity Studio, "copy contents" option not supported.
- Simplicity commander does not support options under "Debug Lock tools".
- All projects in the package are compatible with GCC 10.3.1 version.

**Terminology**

|**Term**|**Description**|
| :- | :- |
|**New Features**|These items are new to this release|
|**Changes/Issues Fixed**|Changes made to existing features found in previous software releases.|
||Enhancements to existing product flow and feature set.|
||Bug fixes done in the release|
|**Deprecated Items**|Features or functions or APIs that are removed from the distributed release to align with the software roadmap|
|**Known Issues**|Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases|
|**Limitations/Recommendations**|Describes the limitations on product usage and recommendations for optimal use cases|

**Note**

- Change SPI frequency to 12.5Mhz while measuring BLE throughput with EFR32

<br>


**WiSeConnect3\_SDK\_3.3.1-cf2 Release Notes**

This SDK package supports SoC Mode and NCP Mode for B0:

- In SoC Mode: Customer applications can run on Cortex M4. Wireless, network, and security stacks run on the wireless subsystem.
- In NCP mode: Wireless, network, and security stacks run on the Wireless subsystem. Customer applications run on the external host MCU.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

**Note**: Use Simplicity Studio version SV5.8.0.1 onwards

**SoC Highlights**

- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support ultra low power Wi-Fi standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode
- **MCU examples** : GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers, Config Timers, ULP (Ultra Low Power) Timers, Sleeptimer, IOSTREAM, NVM3, MEMLCD, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, Sensorhub, Joystick, Relative Humidity and Temperature sensor (RHT), Analog Comparator, Digital to Analog Converter and Temperature sensors (RO and BJT), CRC, LittleFS, Power Manager with RTOS
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE whitelisting, and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack, All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS client
- **IDE** : Simplicity Studio with Windows 10(64-bit), Linux, Mac OS
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** :
  - Si-MB4002A Main board
  - SiWx917 Radio boards

|**RadioBoard Type**|**SiWx917B0 with Board Version**|
| :- | :- |
|Common flash|Si917-BRD4338A(2.0)|
|Dual flash|Si917-BRD4339B(2.0)|
|External PSRAM|Si917-BRD4340A(2.0), Si917-BRD4342A(2.0)|
|Internal PSRAM|Si917-BRD4339A(2.0)|
|Dev Kit|Si917-2605A|

**NCP Highlights**

- **Host Interface** : SPI, UART
- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode.
- **Wi-Fi** : 2.4GHz Wi-Fi Support, WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE Whitelisting and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack , BLE Stack , All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS Client.
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **Hardware kits to evaluate NCP Mode**
  - NCP EFR Expansion Kit with NCP Radio board (BRD4338A(NCP MBR) + BRD8045A)
  - Wireless Pro kit Mainboard BRD4002A Rev A06
  - EFR32xG24 Wireless 2.4 GHz +10 dBm Radio Board xG24-RB4186C

**Release Details**

|**Item**|**Details**|
| :- | :- |
|Release date|August 9th, 2024|
|SDK Version|3.3.1-cf2|
|Firmware Version Standard|1711\.2.12.2.1.0.9|
|Firmware Version Lite|1711\.2.12.2.1.2.9|
|Package Name|WiSeConnect3\_SDK\_3.3.1-cf2|
|GSDK Version | SiSDK-2024.6.1|
|Supported RTOS|FreeRTOS|
|Operating Modes Supported|Wi-Fi STA, Wi-Fi AP, Wi-Fi STA+BLE, Wi-Fi STA+AP|
|Build Quality|GA|

- SiWx917 release consists of two components
  - Wireless Firmware - SiWx917 Firmware Binaries
  - Wiseconnect3 Library - Wiseconnect3 SDK library runs on the external host in NCP mode and internal Cortex M4 in SoC Mode.
- This release is meant only for use with designs based on SiWx917 Silicon
- The firmware to load is available in the following format:
  - SiWG917-B.2.12.1.x.0.x.rps - B0 Full-featured firmware binary
  - SiWG917-B.2.12.1.x.2.x.rps - B0 lite firmware binary

**Features Supported**

**Sensorhub service**

- Support for ADC, SPI, SDC and I2C based sensors
- Support for PS2
- Support added for SDC

**MCU**

- ADC Single Channel, ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, GPIO, GSPI, I2C, I2S, NVM3, OPAMP, PSRAM, PWM, QEI, RTC, SDIO Secondary, SSI Master and Slave, UART, Micro DMA, USART, Watchdog Timer, Temperature Sensors (RO and BJT), USART Master and Slave, CRC
- UC Supported Peripherals - GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers , Config Timers, ULP (Ultra Low Power) Timers, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, MEMLCD, Analog Comparator and Digital to Analog Converter.
- Services - Sleeptimer, IOSTREAM, NVM3, Power Manager, LittleFS, Pin Tool (support for USART, I2C, SSI, GSPI, SIO, SCT, PWM, I2S, ADC, DAC and Analog Comparator)
- ULP (Ultra Low Power) Peripherals - ulp\_adc, ulp\_calender, ulp\_dac, ulp\_gpio, ulp\_i2c, ulp\_i2s, ulp\_timer, ulp\_uart, ulp\_dma
- Extended flash write support for NWP flash region and added read api to read from NWP flash region
- List of OPN's supported si917-sb00, siwg917m111mgtba, siwg917m100mgtba, siwg917m111xgtba, siwg917m121xgtba, siwg917m110lgtba and siwg917m141xgtba
- Support added for SiWG917 Dev Kit Board (BRD2605A)
- Added APIs to configure M4 SoC Clock, PLL clocks, read M4 SoC Clock

**Wi-Fi**

- WPA2/WPA3 Personal, WPS and WPA2-EAP Support for Station Mode
- TCP/IP stack with IPv4, IPv6, TCP, UDP, TLS, HTTP/HTTPS, DHCPv4, DHCPv6, MQTT Client, DNS Client, SNTP client.
- Support for SSL client versions TLSV1.0, TLSV1.2, TLSV1.3 and SSL server versions TLSV1.0 and TLSV1.2
- Wi-Fi STA (802.11n/802.11ax) + 802.11n AP Support
- HE (802.11ax) and Individual TWT Feature Support
- Multiple BSSID feature support as an STA
- Secure OTA support on B0 radio boards.
- Support for LWIP network stack
- Support for AWS MQTT library
- Support for Azure MQTT library
- Support for BSD and IoT sockets application programming interface(API)
- Support added to change the listen interval after association with Access Point
- New API sl_si91x_fwup_abort added to support aborting firmware upgrade
- Added feature to support Gain offset calibration in channel 14

**Bluetooth Low Energy**

- BLE central & peripheral connections are supported.
- Ultra-low power save is supported.

**Power Save**

- Max PSP, enhanced MAX PSP, Fast PSP, and 802.11ax TWT power save modes are supported in WiFi.
- Only Max PSP power save mode is supported in BLE

**Crypto Support**

- AES, SHA, AES-CCM, HMAC, GCM, Chacha-poly, ECDH and TRNG FW Crypto API support added.
- PSA enabled Mbed TLS support added
- NVM support added for key storage
- Symmetric and asymmetric key storage
- TRNG, AES, SHA, HMAC, GCM, Chacha-poly, ECDH and AES-CCM hardware crypto engine is integrated with PSA crypto.

**Changes and Fixes**

**MCU**

- Resolved out of box demo build errors issue with OPN based projects SI91X-16614
- Fixed Soft reset issue with M4 firmware update application SI91X-16607
- SQA bugs: SI91X-16409, SI91X-16307, SI91X-16586

**SDK**

- Documentation changes in 3.0 Coex examples [SI91X-14108]
- Added changes required to get demo binaries from Studio asset server[RSCDEV-30578]
- Upgraded utf_wifi  branch to release/milestone62  for  dev_sanity [RSCDEV-30455]
- Integrated BRD4343Q into CI/CD [RSCDEV-29100]
- Doc tech pub edit release 3.3.1 [TECHDOC-829]
- Added cosmetic fix for demo description [RSCDEV-30656]
- updated siwx917 dev kit demo readme [RSCDEV-30661 ]
- updated readme for powersave standby associated TCP client [SI91X-16648]
- Added timeout for recv in http_server [SI91X-16394]
- Update power save profile to ASSOCIATED_POWER_SAVE_LOW_LATENCY  for featured, internal, OOB exmaples [SI91X-16653]
- SQA Bugs: SI91X-16653, SI91X-16394

**Wi-Fi & Network Stack**

- XTAL enable optimization for SoC
- SQA bugs: SI91X-16078

**BLE**

- None

**CoEx**

- None

**System**

- None

**Recommendations**

**System**

- The current revision of SiWx917 B0 has:
  - RAM memory of 672k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_672K\_M4SS\_0K- This mode configures TA with 672k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By default EXT\_FEAT\_352K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_480K\_M4SS\_192K - This mode configures TA with 480k and M4 with 192K bytes of memory
    - EXT\_FEAT\_416K\_M4SS\_256K - This mode configures TA with 416k and M4 with 256K bytes of memory
    - EXT\_FEAT\_352K\_M4SS\_320K - This mode configures TA with 352k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 672K\_M4SS\_0K.
  - SoC mode should not use 672k\_M4SS\_0k memory configuration.
- Set the recommended Power Save Profile (PSP) type to Enhanced Max PSP.

**IDE**

- Download the latest version of Simplicity Studio
- Refer to the latest version of the SoC/NCP "Getting-Started-with-SiWx917" guide for more details

**Wi-Fi & Network Stack****

- The recommended embedded MQTT Publish payload is 1 kBytes.
- It is recommended to enable bit 16 of the 'Extended TCP IP Feature' bit map in the opermode command for all Wi-Fi Socket operations from the host to ensure graceful handling during asynchronous closures from the peer.
- Aggregation (bit 2 of feature\_bit\_map) is recommended to be enabled in opermode. This enables software to aggregate multiple packets to achieve better throughput
- TCP retransmission count value is recommended to be 30 or higher so that the TCP does not disconnect while the rejoin happens.
- To restart the module, the application needs to call sl\_wifi\_deinit() followed by sl\_wifi\_init().
- Register 'Join Fail Callback' function every time when join is called, as in the rejoin failure path the callback is deregistered. If not done, this might result in a scan not functioning on rejoin failure.
- User can enable SL\_SI91X\_EXT\_TCP\_IP\_SSL\_16K\_RECORD in 'Extended TCP IP Feature'bit map in opermode, if HTTPS download is failing after receiving HTTP headers..
- iTWT setup is recommended after IP assignment/TCP connection/application specific socket connections.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, increase TCP / ARP Timeouts at the remote side depending upon the configured TWT interval configured.
- In case of TWT+coex, when using sl\_wifi\_enable\_target\_wakeup\_time API, use TWT wake duration <= 16 ms and TWT wake interval >= 1 sec. If wake duration > 16 ms or TWT wake interval < 1sec, there might be performance issues.
- For iTWT GTK Interval Should be kept max possible value or zero. If GTK interval is not configurable, recommended TWT interval (in case of sl\_wifi\_enable\_target\_wakeup\_time API) or RX Latency (in case of sl\_wifi\_target\_wake\_time\_auto\_selection API) is less than 4sec.
- Disable Power Save for High Throughput Applications.
- The application needs to ensure that it sets RTC with the correct timestamp when the feature is enabled before establishing the SSL connection.
- The timeout value should not be less than 1 second for socket select and socket receive calls. Timeout value of less than 1 second is not currently supported.
- When sl\_wifi\_enable\_target\_wakeup\_time API is used, configuring TWT Wake interval beyond 1 min might lead to disconnections from the AP. Recommended to use TWT wakeup interval of less than or equal to 1 min.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, it is recommended to set missed\_beacon\_count of sl\_wifi\_set\_advanced\_client\_configuration API greater than 2 times of the configured TWT Interval.
- Disable power save and suspend any active TWT sessions before triggering HTTP OTAF.
- It is recommended to enable bit 31 of the 'TCP IP Feature' bit map in the opermode command to support multicast protocol

**BLE**

- In BLE, the recommended range of Connection Interval in
  - Power Save (BLE Only) - 100 ms to 1.28 s.
- In BLE, during Connection, the configuration of Scan Interval and Scan Window with the same value is not recommended. The suggested ratio of Scan Window to Scan Interval is 3:4.
- In BLE, if a device is acting as Central, the scan window (in set\_scan\_params and create\_connection commands) must be less than the existing Connection Interval. The suggested ratio of Scan Window to Connection Interval is 2:3.
- In BLE mode, if scanning and advertising are in progress on the SiWx91x module and it subsequently gets connected and moves to the central role, scanning stops else if it moves to the peripheral role, advertising stops. To further establish a connection to another peripheral device or to a central device, the application should give a command for starting advertising and scanning again.

**Co-Existence**

- For concurrent Wi-Fi + BLE, and while a Wi-Fi connection is active, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
- Wi-Fi + BLE Advertising
  - All standard advertising intervals are supported. As Wi-Fi throughput is increased, a slight difference in on-air advertisements compared to configured intervals may be observed.
  - BLE advertising is skipped if the advertising interval collides with Wi-Fi activity.
- Wi-Fi + BLE scanning
  - All standard scan intervals are supported. For better scan results, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
  - BLE scanning will be stopped for intervals that collide with Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Connections
  - All standard connection intervals are supported.
  - For a stable connection, use optimal connection intervals and max supervision timeout in the presence of Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Data Transfer
  - To achieve higher throughput for both Wi-Fi and BLE, use medium connection intervals, such as 45 to 80 ms with maximum supervision timeout.
  - Ensure Wi-Fi activity consumes lower intervals.

**MCU**

- It is not recommended to use the RO clock for Clock Configuration
- PSRAM examples are not supposed to be used with Non-PSRAM OPNs
- By default SYSrtc and wake on wireless wakeup resources enabled, please do not reinstall these two wakeup sources when tickless idle mode is enabled
- Minimum idle-time to Sleep 100ms, as configured in FreeRtos_config.h
- Recommended to enable DMA for better throughput numbers
- For I2C Fastplus and High speed modes, it is recommended to use High power instances from 80Mhz to 180Mhz core clock
- Not recommended to use switch_m4_frequency() for clock scaling. Refer to migration guide for more details on this
- When using this 32MHz source for the PLL, limit the maximum clock to 160MHz
- In RTOS environment, prefer Signaling mechanisms (Semaphore/Mutex/EventFlag etc.) instead of "Variables/Flags" from user callbacks to detect "*Transfer Complete*" for high speed communication peripherals
  - Refer Software Reference Manual for more details
- It is recommended to install device_needs_ram_execution component for OPN based firmware update examples

**Known Issues**

**Sensorhub**

- Support for ADC FIFO Mode and Multi channel is open
- PS1-state supports only ADC sensor
- Power transitions with AWS are not stable in Sensorhub
- The process of integrating the tickless component and power manager service into the Sensorhub app is currently underway

**Network Stack**

- Sometimes during SSL Handshake, ECC curve parameters generated are wrong, resulting in connection failure with BBD2 error. However, this recovers in the next attempt.
- Randomize the client port if using rapid connect/disconnect of the MQTT session on the same client port with the power save.
- Secure SSL renegotiation not supported in Embedded Networking Stack.
- Disable power save before making TCP connection for NCP-UART interface.
- In concurrent mode, if IP is configured for AP mode ahead of STA mode then IPv6 configuration may fail for STA mode.
- In concurrent mode, data transfer using the Link-local address will always use the first IP interface created by the application.

**Wi-Fi**

- TWT device (STA) may not go to sleep in between TWT intervals in case of burst data traffics with data size more than the configured 'average tx throughput', until completion of data transfer.
- There are performance and IOP issues with MU MIMO.
- WPA3 Connection with the Hunting and Pecking algorithm takes about 3-4 seconds.
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.
- Low Wi-Fi+BLE throughput
- TCP/UDP TX/RX Data stall observed in CoEx scenarios
- Observed HTTPS Continuous download fails with TA Power save
- Performance improvements are in progress for lower performance metrics.
- Observed interop issue (connectivity failure) with few AP's when device reset/reboot happens on active connection.
- In concurrent mode, AP restart fails after stopping it with ap\_stop command.
- DUT deep sleep will not work after stopping AP with ap\_stop command.
- Unable to get SNTP async events when coex mode and Power save is enabled
- Fine Tuning 802.11ax Spectral mask in Progress
- Fine Tuning 11b mask in Ch11 in progress
- DUT is unable to connect to the AP with WPA3 security when we enable coex mode (WLAN+BLE) in opermode
- Socket listen API is failing from the second iteration
- Disconnections observed with Netgear RAX120 AP in WPA3 security
- Observed connection failures with some AP's in more channel congestion open lab environment
- Firmware Upgrade example is not working in PSRAM boards
- deep sleep example is not supported with power manager
- AP fails to start when ACS is enabled on CZ100, CZ101 OPNS (SI91X-16507)

**BLE**

- HID profile data transfer is not working, when power save is enabled in SoC.
- BLE reconnection is not working in ble_multiconnection_gatt demo, when power save is enabled in SoC
- BLE throughputs are less with STM32 compared to EFR

**Co-Existence**

- Observed HTTP continuous download is not happening in Powersave mode after BLE connection established using wifi\_https\_ble\_dual\_role application
- Observed DUT hang while Wi-Fi UDP/TCP Tx and BLE continuous scan.

**System**

- BRD8045A and BRD8045C does not have CTS and RTS pins routed from SiWx917 NCP, which are used for UART flow control

**MCU**

- Refer to the respective Radio board user guides for specific pinout details. Examples are targeted to a specific version mentioned in the respective readme
- Few(BOD and Comparator) wakeup resources are not working as expected in Power manager service
- Observed RO and BJT Temperature values are not as expected
- Character Timeout feature for all communication protocols is not supported
- UART instances does not support different FIFO Thresholds
- NVM3 dual flash application is not working as expected in the current release.
- ULP_I2C does not function as expected in low power mode when DMA is enabled
- Powersave Deep Sleep example for the siwg917m110lgtba OPN requires the installation of the device_need_ram_execution component.
- Sometimes TA processor hang occurs when M4 used XTAL clock with sleep enabled.
- In ULP SSI application, non-dma transfer is not working as expected.

**Limitations and Unsupported Features**

**SDK**

- WiSeConnect3_SDK_3.1.3 and later versions are not compatible with firmware versions prior to 1711.2.10.1.2.0.4, due to enhancements in max transmit power configuration during Wi-Fi join/connection, need to be cautious while doing OTA firmware upgrade.

**Wi-Fi/Network Stack**

- TLS 1.3 Server is not supported
- In AP mode, IPv6 Router Advertisements are not supported. Although STA connected to the APUT can transfer IPv6 data to the peers by using SLAAC for address configuration.
- When sl\_wifi\_enable\_target\_wake\_time() API is used, observed occasional MQTT disconnections with longer TWT intervals (>30secs) with embedded MQTT + TWT.
- AMSDU TX is not supported.
- Fragmentation is not supported.
- AMSDUs within AMPDU is not supported.
- Currently, the module does not support Radio Measurement Requests feature of CCX V2
- 802.11k is not supported
- 40 MHz bandwidth for 2.4 GHz band is not supported.
- 802.11J channel 14 is not supported.
- MQTT versions 3 and 4 are supported.
- Maximum of 3 SSL connections are supported.
- In SSL ECC Curve ID supported is 23. SSL handshake with 3rd party clients depends on the SSL ECC Curve ID.
- LP mode is not supported.
- In iTWT mode, downlink data traffic should be limited. Disconnections may be observed if AP fails to send all the buffered data in the next TWT Service Period.
- Number of MBSSIDs processed is limited by the beacon length that can be processed by the stack (which is limited to 1024 bytes). Beacons greater than 1024 Bytes in length will not be processed.
- CoEx + EAP Security in 352K/320k is not feasible. This issue is observed due to a lack of memory in the 352k/320k Memory Configuration. It is supported with other EXT\_FEAT\_416K\_M4SS\_256K and EXT\_FEAT\_480K\_M4SS\_192K memory configurations.
- UL MUMIMO is not supported.
- The embedded HTTP server is not supported.
- Baremetal is not supported.
- Compared to SoC mode, NCP mode has fewer examples, but more will be enabled in upcoming releases.
- Maximum Supported length for Embedded MQTT username up to 120 bytes , topic length up to 200 bytes and password upto 62 bytes.
- UART 2 Debug prints are supported only on ULP_GPIO_9.
- WOW LAN feature is not supported.
- SA Query procedure is not supported in AP mode.
- Maximum Supported length for HTTP GET URL is up to 2048 bytes.
- Azure SDK with embedded MQTT is not supported.
- Power save is not supported in Azure MQTT.
- MDNS service discovery is currently not supported.
- sli_si91x_accept_async is not thread-safe
- Observed some background compatibility issues with coex and http in few corner cases
- AP mode does not support Tx and Rx aggregation in Concurrent mode.
- Concurrent STA mode, Rx aggregation is not supported. Tx aggregation is supported but it is not recommended.
- AP standalone mode does not support Tx aggregation. Rx aggregation is supported with limited number of BA sessions.

**BLE**

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.
- BLE TX/RX throughput is less when tested with EFM as compared to EFR
- Maximum supported AE data length is 200 bytes.
- Supports only two ADV\_EXT sets.
- Supports only two BLE connections (1 Central and 1 Peripheral) with AE.
- Advertising Extension feature is not supported in Coexistence.
- The  ae\_central & ae\_peripheral applications are not supported with TA\_352K\_M4\_320K RAM configuration.
- Setting PLL mode as 1 is not supported in Coexistence

**MCU**

- Manual chip select option is not supported when using GSPI.
- Following peripherals/features are not functioning as expected
    - ADC Multichannel, SSI Dual and Quad mode, SIO and Temp sensors
- LittleFS example support is intended to work only with Dual flash
- PS1 state is not supported in Power Manager
- Power is same for PS4 and PS3 states with powersave mode of power manager
- When using Button_0 as wakeup source, it limits the button functionality at application layer. For using Button_0 for application specific functionality, enable 'SL_SI91X_NPSS_GPIO_BTN_HANDLER'
- XTAL 40MHz clock as a reference clock is not supported

**System**
- TA Connected sleep and M4 PS2 is not a possible mode of operation
- M4 PS2 active and sleep is not a possible mode when SL_SI91X_EXT_FEAT_FRONT_END_SWITCH_PINS_ULP_GPIO_4_5_0 is enabled in SoC mode

**Simplicity Studio and Commander**

- Default GDB debug configuration is not supported for SoC projects, work around details provided in "Getting-Started-with-SiWx917"
- Observing flash download failures(ERROR 108) for a few image sizes
- While creating project through Simplicity Studio, "copy contents" option not supported.
- Simplicity commander does not support options under "Debug Lock tools".
- All projects in the package are compatible with GCC 10.3.1 version.

**Terminology**

|**Term**|**Description**|
| :- | :- |
|**New Features**|These items are new to this release|
|**Changes/Issues Fixed**|Changes made to existing features found in previous software releases.|
||Enhancements to existing product flow and feature set.|
||Bug fixes done in the release|
|**Deprecated Items**|Features or functions or APIs that are removed from the distributed release to align with the software roadmap|
|**Known Issues**|Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases|
|**Limitations/Recommendations**|Describes the limitations on product usage and recommendations for optimal use cases|

**Note**

- Change SPI frequency to 12.5Mhz while measuring BLE throughput with EFR32

<br>

**WiSeConnect3\_SDK\_3.3.1-cf Release Notes**

This SDK package supports SoC Mode and NCP Mode for B0:

- In SoC Mode: Customer applications can run on Cortex M4. Wireless, network, and security stacks run on the wireless subsystem.
- In NCP mode: Wireless, network, and security stacks run on the Wireless subsystem. Customer applications run on the external host MCU.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

**Note**: Use Simplicity Studio version SV5.8.0.1 onwards

**SoC Highlights**

- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support ultra low power Wi-Fi standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode
- **MCU examples** : GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers, Config Timers, ULP (Ultra Low Power) Timers, Sleeptimer, IOSTREAM, NVM3, MEMLCD, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, Sensorhub, Joystick, Relative Humidity and Temperature sensor (RHT), Analog Comparator, Digital to Analog Converter and Temperature sensors (RO and BJT), CRC, LittleFS, Power Manager with RTOS
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE whitelisting, and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack, All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS client
- **IDE** : Simplicity Studio with Windows 10(64-bit), Linux, Mac OS
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** :
  - Si-MB4002A Main board
  - SiWx917 Radio boards

|**RadioBoard Type**|**SiWx917B0 with Board Version**|
| :- | :- |
|Common flash|Si917-BRD4338A(2.0)|
|Dual flash|Si917-BRD4339B(2.0)|
|External PSRAM|Si917-BRD4340A(2.0), Si917-BRD4342A(2.0)|
|Internal PSRAM|Si917-BRD4339A(2.0)|
|Dev Kit|Si917-2605A|

**NCP Highlights**

- **Host Interface** : SPI, UART
- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode.
- **Wi-Fi** : 2.4GHz Wi-Fi Support, WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE Whitelisting and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack , BLE Stack , All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS Client.
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **Hardware kits to evaluate NCP Mode**
  - NCP EFR Expansion Kit with NCP Radio board (BRD4338A(NCP MBR) + BRD8045A)
  - Wireless Pro kit Mainboard BRD4002A Rev A06
  - EFR32xG24 Wireless 2.4 GHz +10 dBm Radio Board xG24-RB4186C

**Release Details**

|**Item**|**Details**|
| :- | :- |
|Release date|July 31st, 2024|
|SDK Version|3.3.1-cf|
|Firmware Version Standard|1711\.2.12.2.1.0.8|
|Firmware Version Lite|1711\.2.12.2.1.2.8|
|Package Name|WiSeConnect3\_SDK\_3.3.1-cf|
|GSDK Version | SiSDK-2024.6.1|
|Supported RTOS|FreeRTOS|
|Operating Modes Supported|Wi-Fi STA, Wi-Fi AP, Wi-Fi STA+BLE, Wi-Fi STA+AP|
|Build Quality|GA|

- SiWx917 release consists of two components
  - Wireless Firmware - SiWx917 Firmware Binaries
  - Wiseconnect3 Library - Wiseconnect3 SDK library runs on the external host in NCP mode and internal Cortex M4 in SoC Mode.
- This release is meant only for use with designs based on SiWx917 Silicon
- The firmware to load is available in the following format:
  - SiWG917-B.2.12.1.x.0.x.rps - B0 Full-featured firmware binary
  - SiWG917-B.2.12.1.x.2.x.rps - B0 lite firmware binary

**Features Supported**

**Sensorhub service**

- Support for ADC, SPI, SDC and I2C based sensors
- Support for PS2
- Support added for SDC

**MCU**

- ADC Single Channel, ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, GPIO, GSPI, I2C, I2S, NVM3, OPAMP, PSRAM, PWM, QEI, RTC, SDIO Secondary, SSI Master and Slave, UART, Micro DMA, USART, Watchdog Timer, Temperature Sensors (RO and BJT), USART Master and Slave, CRC
- UC Supported Peripherals - GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers , Config Timers, ULP (Ultra Low Power) Timers, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, MEMLCD, Analog Comparator and Digital to Analog Converter.
- Services - Sleeptimer, IOSTREAM, NVM3, Power Manager, LittleFS, Pin Tool (support for USART, I2C, SSI, GSPI, SIO, SCT, PWM, I2S, ADC, DAC and Analog Comparator)
- ULP (Ultra Low Power) Peripherals - ulp\_adc, ulp\_calender, ulp\_dac, ulp\_gpio, ulp\_i2c, ulp\_i2s, ulp\_timer, ulp\_uart, ulp\_dma
- Extended flash write support for NWP flash region and added read api to read from NWP flash region
- List of OPN's supported si917-sb00, siwg917m111mgtba, siwg917m100mgtba, siwg917m111xgtba, siwg917m121xgtba, siwg917m110lgtba and siwg917m141xgtba
- Support added for SiWG917 Dev Kit Board (BRD2605A)
- Added APIs to configure M4 SoC Clock, PLL clocks, read M4 SoC Clock

**Wi-Fi**

- WPA2/WPA3 Personal, WPS and WPA2-EAP Support for Station Mode
- TCP/IP stack with IPv4, IPv6, TCP, UDP, TLS, HTTP/HTTPS, DHCPv4, DHCPv6, MQTT Client, DNS Client, SNTP client.
- Support for SSL client versions TLSV1.0, TLSV1.2, TLSV1.3 and SSL server versions TLSV1.0 and TLSV1.2
- Wi-Fi STA (802.11n/802.11ax) + 802.11n AP Support
- HE (802.11ax) and Individual TWT Feature Support
- Multiple BSSID feature support as an STA
- Secure OTA support on B0 radio boards.
- Support for LWIP network stack
- Support for AWS MQTT library
- Support for Azure MQTT library
- Support for BSD and IoT sockets application programming interface(API)
- Support added to change the listen interval after association with Access Point
- New API sl_si91x_fwup_abort added to support aborting firmware upgrade
- Added feature to support Gain offset calibration in channel 14

**Bluetooth Low Energy**

- BLE central & peripheral connections are supported.
- Ultra-low power save is supported.

**Power Save**

- Max PSP, enhanced MAX PSP, Fast PSP, and 802.11ax TWT power save modes are supported in WiFi.
- Only Max PSP power save mode is supported in BLE

**Crypto Support**

- AES, SHA, AES-CCM, HMAC, GCM, Chacha-poly, ECDH and TRNG FW Crypto API support added.
- PSA enabled Mbed TLS support added
- NVM support added for key storage
- Symmetric and asymmetric key storage
- TRNG, AES, SHA, HMAC, GCM, Chacha-poly, ECDH and AES-CCM hardware crypto engine is integrated with PSA crypto.

**Changes and Fixes**

**MCU**

- Resolved invalid temperature issue in the BJT application SI91X-16581
- Updated WDT INDEX_28 Timeout interval SI91X-81
- Removed 0.03125ms timer configuraton SI91X-16575
- Removed hard-coded channel value in I2S rsi send and receive APIs SI91X-16554
- Removed MVP support from SIWG917M110LGTBA component SI91X-16540
- Sensor enable GPIO pin changed for Si70xx example on RTE_device file for brd4343A board SI91X-16519
- Created new macro for Module boards SI91X-16509
- Fixed logic error in accelerometer sensor SI91X-16484
- Replaced BTN1 with BTN0 for out_of_box_demo application SI91X-16478,SI91X-16532
- Modified the ulp timer logic in combo application SI91X-16440
- Changes made to change the SL_COMP2_P1_LOC and SL_COMP2_N1_LOC value to 1 SI91X-16318
- Updated CT readme [RSCDEV-30537]
- Accel and gyro register changed for better user understanding RSCDEV-30457
- SQA bugs: SI91X-16587, SI91X-16527, SI91X-16520, SI91X-16499, SI91X-16494, SI91X-16421, SI91X-15526,SI91X-14552,SI91X-14580,SI91X-15014, SI91X-15094

**SDK**

- Added tickless idle in TCP_Tx_periodic_SoC example, moved exmaples from  si91x_soc/wlan to snippet folder[SI91X-16426]
- Added azureiotconfig KEEP_ALIVE_TIMEOUT_SECONDS in preprocessor settings [SI91X-16471]
- Renamed Si91xIpVersion.SL_IPV4 -> Si91xIpVersion.SL_IPV4_VERSION [NOJIRA-123]
- Added BIT(23) for brd4343 boards , brd4343x series boards are SL_SI91X_MODULE_BOARD [RSCDEV-29096]
- SQA Bugs: SI91X-16471

**Wi-Fi & Network Stack**

- Added flatness fix for modules

**BLE**

- Added PSRAM tickless changes for BLE applications

**CoEx**

- None

**System**

- None

**Recommendations**

**System**

- The current revision of SiWx917 B0 has:
  - RAM memory of 672k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_672K\_M4SS\_0K- This mode configures TA with 672k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By default EXT\_FEAT\_352K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_480K\_M4SS\_192K - This mode configures TA with 480k and M4 with 192K bytes of memory
    - EXT\_FEAT\_416K\_M4SS\_256K - This mode configures TA with 416k and M4 with 256K bytes of memory
    - EXT\_FEAT\_352K\_M4SS\_320K - This mode configures TA with 352k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 672K\_M4SS\_0K.
  - SoC mode should not use 672k\_M4SS\_0k memory configuration.
- Set the recommended Power Save Profile (PSP) type to Enhanced Max PSP.

**IDE**

- Download the latest version of Simplicity Studio
- Refer to the latest version of the SoC/NCP "Getting-Started-with-SiWx917" guide for more details

**Wi-Fi & Network Stack****

- The recommended embedded MQTT Publish payload is 1 kBytes.
- It is recommended to enable bit 16 of the 'Extended TCP IP Feature' bit map in the opermode command for all Wi-Fi Socket operations from the host to ensure graceful handling during asynchronous closures from the peer.
- Aggregation (bit 2 of feature\_bit\_map) is recommended to be enabled in opermode. This enables software to aggregate multiple packets to achieve better throughput
- TCP retransmission count value is recommended to be 30 or higher so that the TCP does not disconnect while the rejoin happens.
- To restart the module, the application needs to call sl\_wifi\_deinit() followed by sl\_wifi\_init().
- Register 'Join Fail Callback' function every time when join is called, as in the rejoin failure path the callback is deregistered. If not done, this might result in a scan not functioning on rejoin failure.
- User can enable SL\_SI91X\_EXT\_TCP\_IP\_SSL\_16K\_RECORD in 'Extended TCP IP Feature'bit map in opermode, if HTTPS download is failing after receiving HTTP headers..
- iTWT setup is recommended after IP assignment/TCP connection/application specific socket connections.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, increase TCP / ARP Timeouts at the remote side depending upon the configured TWT interval configured.
- In case of TWT+coex, when using sl\_wifi\_enable\_target\_wakeup\_time API, use TWT wake duration <= 16 ms and TWT wake interval >= 1 sec. If wake duration > 16 ms or TWT wake interval < 1sec, there might be performance issues.
- For iTWT GTK Interval Should be kept max possible value or zero. If GTK interval is not configurable, recommended TWT interval (in case of sl\_wifi\_enable\_target\_wakeup\_time API) or RX Latency (in case of sl\_wifi\_target\_wake\_time\_auto\_selection API) is less than 4sec.
- Disable Power Save for High Throughput Applications.
- The application needs to ensure that it sets RTC with the correct timestamp when the feature is enabled before establishing the SSL connection.
- The timeout value should not be less than 1 second for socket select and socket receive calls. Timeout value of less than 1 second is not currently supported.
- When sl\_wifi\_enable\_target\_wakeup\_time API is used, configuring TWT Wake interval beyond 1 min might lead to disconnections from the AP. Recommended to use TWT wakeup interval of less than or equal to 1 min.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, it is recommended to set missed\_beacon\_count of sl\_wifi\_set\_advanced\_client\_configuration API greater than 2 times of the configured TWT Interval.
- Disable power save and suspend any active TWT sessions before triggering HTTP OTAF.
- It is recommended to enable bit 31 of the 'TCP IP Feature' bit map in the opermode command to support multicast protocol

**BLE**

- In BLE, the recommended range of Connection Interval in
  - Power Save (BLE Only) - 100 ms to 1.28 s.
- In BLE, during Connection, the configuration of Scan Interval and Scan Window with the same value is not recommended. The suggested ratio of Scan Window to Scan Interval is 3:4.
- In BLE, if a device is acting as Central, the scan window (in set\_scan\_params and create\_connection commands) must be less than the existing Connection Interval. The suggested ratio of Scan Window to Connection Interval is 2:3.
- In BLE mode, if scanning and advertising are in progress on the SiWx91x module and it subsequently gets connected and moves to the central role, scanning stops else if it moves to the peripheral role, advertising stops. To further establish a connection to another peripheral device or to a central device, the application should give a command for starting advertising and scanning again.

**Co-Existence**

- For concurrent Wi-Fi + BLE, and while a Wi-Fi connection is active, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
- Wi-Fi + BLE Advertising
  - All standard advertising intervals are supported. As Wi-Fi throughput is increased, a slight difference in on-air advertisements compared to configured intervals may be observed.
  - BLE advertising is skipped if the advertising interval collides with Wi-Fi activity.
- Wi-Fi + BLE scanning
  - All standard scan intervals are supported. For better scan results, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
  - BLE scanning will be stopped for intervals that collide with Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Connections
  - All standard connection intervals are supported.
  - For a stable connection, use optimal connection intervals and max supervision timeout in the presence of Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Data Transfer
  - To achieve higher throughput for both Wi-Fi and BLE, use medium connection intervals, such as 45 to 80 ms with maximum supervision timeout.
  - Ensure Wi-Fi activity consumes lower intervals.

**MCU**

- It is not recommended to use the RO clock for Clock Configuration
- PSRAM examples are not supposed to be used with Non-PSRAM OPNs
- By default SYSrtc and wake on wireless wakeup resources enabled, please do not reinstall these two wakeup sources when tickless idle mode is enabled
- Minimum idle-time to Sleep 100ms, as configured in FreeRtos_config.h
- Recommended to enable DMA for better throughput numbers
- For I2C Fastplus and High speed modes, it is recommended to use High power instances from 80Mhz to 180Mhz core clock
- Not recommended to use switch_m4_frequency() for clock scaling. Refer to migration guide for more details on this
- When using this 32MHz source for the PLL, limit the maximum clock to 160MHz
- In RTOS environment, prefer Signaling mechanisms (Semaphore/Mutex/EventFlag etc.) instead of "Variables/Flags" from user callbacks to detect "*Transfer Complete*" for high speed communication peripherals
  - Refer Software Reference Manual for more details
- It is recommended to install device_needs_ram_execution component for OPN based firmware update examples

**Known Issues**

**Sensorhub**

- Support for ADC FIFO Mode and Multi channel is open
- PS1-state supports only ADC sensor
- Power transitions with AWS are not stable in Sensorhub
- The process of integrating the tickless component and power manager service into the Sensorhub app is currently underway

**Network Stack**

- Sometimes during SSL Handshake, ECC curve parameters generated are wrong, resulting in connection failure with BBD2 error. However, this recovers in the next attempt.
- Randomize the client port if using rapid connect/disconnect of the MQTT session on the same client port with the power save.
- Secure SSL renegotiation not supported in Embedded Networking Stack.
- Disable power save before making TCP connection for NCP-UART interface.
- In concurrent mode, if IP is configured for AP mode ahead of STA mode then IPv6 configuration may fail for STA mode.
- In concurrent mode, data transfer using the Link-local address will always use the first IP interface created by the application.

**Wi-Fi**

- TWT device (STA) may not go to sleep in between TWT intervals in case of burst data traffics with data size more than the configured 'average tx throughput', until completion of data transfer.
- There are performance and IOP issues with MU MIMO.
- WPA3 Connection with the Hunting and Pecking algorithm takes about 3-4 seconds.
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.
- Low Wi-Fi+BLE throughput
- TCP/UDP TX/RX Data stall observed in CoEx scenarios
- Observed HTTPS Continuous download fails with TA Power save
- Performance improvements are in progress for lower performance metrics.
- Observed interop issue (connectivity failure) with few AP's when device reset/reboot happens on active connection.
- In concurrent mode, AP restart fails after stopping it with ap\_stop command.
- DUT deep sleep will not work after stopping AP with ap\_stop command.
- Unable to get SNTP async events when coex mode and Power save is enabled
- Fine Tuning 802.11ax Spectral mask in Progress
- Fine Tuning 11b mask in Ch11 in progress
- DUT is unable to connect to the AP with WPA3 security when we enable coex mode (WLAN+BLE) in opermode
- Socket listen API is failing from the second iteration
- Disconnections observed with Netgear RAX120 AP in WPA3 security
- Observed connection failures with some AP's in more channel congestion open lab environment
- Firmware Upgrade example is not working in PSRAM boards
- deep sleep example is not supported with power manager
- AP fails to start when ACS is enabled on CZ100, CZ101 OPNS (SI91X-16507)

**BLE**

- HID profile data transfer is not working, when power save is enabled in SoC.
- BLE reconnection is not working in ble_multiconnection_gatt demo, when power save is enabled in SoC
- BLE throughputs are less with STM32 compared to EFR

**Co-Existence**

- Observed HTTP continuous download is not happening in Powersave mode after BLE connection established using wifi\_https\_ble\_dual\_role application
- Observed DUT hang while Wi-Fi UDP/TCP Tx and BLE continuous scan.

**System**

- BRD8045A and BRD8045C does not have CTS and RTS pins routed from SiWx917 NCP, which are used for UART flow control

**MCU**

- Refer to the respective Radio board user guides for specific pinout details. Examples are targeted to a specific version mentioned in the respective readme
- Few(BOD and Comparator) wakeup resources are not working as expected in Power manager service
- Observed RO and BJT Temperature values are not as expected
- Character Timeout feature for all communication protocols is not supported
- UART instances does not support different FIFO Thresholds
- NVM3 dual flash application is not working as expected in the current release.
- ULP_I2C does not function as expected in low power mode when DMA is enabled
- Powersave Deep Sleep example for the siwg917m110lgtba OPN requires the installation of the device_need_ram_execution component.
- Sometimes TA processor hang occurs when M4 used XTAL clock with sleep enabled.
- In ULP SSI application, non-dma transfer is not working as expected.

**Limitations and Unsupported Features**

**SDK**

- WiSeConnect3_SDK_3.1.3 and later versions are not compatible with firmware versions prior to 1711.2.10.1.2.0.4, due to enhancements in max transmit power configuration during Wi-Fi join/connection, need to be cautious while doing OTA firmware upgrade.

**Wi-Fi/Network Stack**

- TLS 1.3 Server is not supported
- In AP mode, IPv6 Router Advertisements are not supported. Although STA connected to the APUT can transfer IPv6 data to the peers by using SLAAC for address configuration.
- When sl\_wifi\_enable\_target\_wake\_time() API is used, observed occasional MQTT disconnections with longer TWT intervals (>30secs) with embedded MQTT + TWT.
- AMSDU TX is not supported.
- Fragmentation is not supported.
- AMSDUs within AMPDU is not supported.
- Currently, the module does not support Radio Measurement Requests feature of CCX V2
- 802.11k is not supported
- 40 MHz bandwidth for 2.4 GHz band is not supported.
- 802.11J channel 14 is not supported.
- MQTT versions 3 and 4 are supported.
- Maximum of 3 SSL connections are supported.
- In SSL ECC Curve ID supported is 23. SSL handshake with 3rd party clients depends on the SSL ECC Curve ID.
- LP mode is not supported.
- In iTWT mode, downlink data traffic should be limited. Disconnections may be observed if AP fails to send all the buffered data in the next TWT Service Period.
- Number of MBSSIDs processed is limited by the beacon length that can be processed by the stack (which is limited to 1024 bytes). Beacons greater than 1024 Bytes in length will not be processed.
- CoEx + EAP Security in 352K/320k is not feasible. This issue is observed due to a lack of memory in the 352k/320k Memory Configuration. It is supported with other EXT\_FEAT\_416K\_M4SS\_256K and EXT\_FEAT\_480K\_M4SS\_192K memory configurations.
- UL MUMIMO is not supported.
- The embedded HTTP server is not supported.
- Baremetal is not supported.
- Compared to SoC mode, NCP mode has fewer examples, but more will be enabled in upcoming releases.
- Maximum Supported length for Embedded MQTT username up to 120 bytes , topic length up to 200 bytes and password upto 62 bytes.
- UART 2 Debug prints are supported only on ULP_GPIO_9.
- WOW LAN feature is not supported.
- SA Query procedure is not supported in AP mode.
- Maximum Supported length for HTTP GET URL is up to 2048 bytes.
- Azure SDK with embedded MQTT is not supported.
- Power save is not supported in Azure MQTT.
- MDNS service discovery is currently not supported.
- sli_si91x_accept_async is not thread-safe
- Observed some background compatibility issues with coex and http in few corner cases
- AP mode does not support Tx and Rx aggregation in Concurrent mode.
- Concurrent STA mode, Rx aggregation is not supported. Tx aggregation is supported but it is not recommended.
- AP standalone mode does not support Tx aggregation. Rx aggregation is supported with limited number of BA sessions.

**BLE**

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.
- BLE TX/RX throughput is less when tested with EFM as compared to EFR
- Maximum supported AE data length is 200 bytes.
- Supports only two ADV\_EXT sets.
- Supports only two BLE connections (1 Central and 1 Peripheral) with AE.
- Advertising Extension feature is not supported in Coexistence.
- The  ae\_central & ae\_peripheral applications are not supported with TA\_352K\_M4\_320K RAM configuration.
- Setting PLL mode as 1 is not supported in Coexistence

**MCU**

- Manual chip select option is not supported when using GSPI.
- Following peripherals/features are not functioning as expected
    - ADC Multichannel, SSI Dual and Quad mode, SIO and Temp sensors
- LittleFS example support is intended to work only with Dual flash
- PS1 state is not supported in Power Manager
- Power is same for PS4 and PS3 states with powersave mode of power manager
- When using Button_0 as wakeup source, it limits the button functionality at application layer. For using Button_0 for application specific functionality, enable 'SL_SI91X_NPSS_GPIO_BTN_HANDLER'
- XTAL 40MHz clock as a reference clock is not supported

**System**
- TA Connected sleep and M4 PS2 is not a possible mode of operation
- M4 PS2 active and sleep is not a possible mode when SL_SI91X_EXT_FEAT_FRONT_END_SWITCH_PINS_ULP_GPIO_4_5_0 is enabled in SoC mode

**Simplicity Studio and Commander**

- Default GDB debug configuration is not supported for SoC projects, work around details provided in "Getting-Started-with-SiWx917"
- Observing flash download failures(ERROR 108) for a few image sizes
- While creating project through Simplicity Studio, "copy contents" option not supported.
- Simplicity commander does not support options under "Debug Lock tools".
- All projects in the package are compatible with GCC 10.3.1 version.

**Terminology**

|**Term**|**Description**|
| :- | :- |
|**New Features**|These items are new to this release|
|**Changes/Issues Fixed**|Changes made to existing features found in previous software releases.|
||Enhancements to existing product flow and feature set.|
||Bug fixes done in the release|
|**Deprecated Items**|Features or functions or APIs that are removed from the distributed release to align with the software roadmap|
|**Known Issues**|Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases|
|**Limitations/Recommendations**|Describes the limitations on product usage and recommendations for optimal use cases|

**Note**

- Change SPI frequency to 12.5Mhz while measuring BLE throughput with EFR32

<br>

**WiSeConnect3\_SDK\_3.3.1-rc3 Release Notes**

This SDK package supports SoC Mode and NCP Mode for B0:

- In SoC Mode: Customer applications can run on Cortex M4. Wireless, network, and security stacks run on the wireless subsystem.
- In NCP mode: Wireless, network, and security stacks run on the Wireless subsystem. Customer applications run on the external host MCU.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

**Note**: Use Simplicity Studio version SV5.8.0.1 onwards

**SoC Highlights**

- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support ultra low power Wi-Fi standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode
- **MCU examples** : GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers, Config Timers, ULP (Ultra Low Power) Timers, Sleeptimer, IOSTREAM, NVM3, MEMLCD, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, Sensorhub, Joystick, Relative Humidity and Temperature sensor (RHT), Analog Comparator, Digital to Analog Converter and Temperature sensors (RO and BJT), CRC, LittleFS, Power Manager with RTOS
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE whitelisting, and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack, All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS client
- **IDE** : Simplicity Studio with Windows 10(64-bit), Linux, Mac OS
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** :
  - Si-MB4002A Main board
  - SiWx917 Radio boards

|**RadioBoard Type**|**SiWx917B0 with Board Version**|
| :- | :- |
|Common flash|Si917-BRD4338A(2.0)|
|Dual flash|Si917-BRD4339B(2.0)|
|External PSRAM|Si917-BRD4340A(2.0), Si917-BRD4342A(2.0)|
|Internal PSRAM|Si917-BRD4339A(2.0)|
|Dev Kit|Si917-2605A|

**NCP Highlights**

- **Host Interface** : SPI, UART
- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode.
- **Wi-Fi** : 2.4GHz Wi-Fi Support, WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE Whitelisting and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack , BLE Stack , All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS Client.
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **Hardware kits to evaluate NCP Mode**
  - NCP EFR Expansion Kit with NCP Radio board (BRD4338A(NCP MBR) + BRD8045A)
  - Wireless Pro kit Mainboard BRD4002A Rev A06
  - EFR32xG24 Wireless 2.4 GHz +10 dBm Radio Board xG24-RB4186C

**Release Details**

|**Item**|**Details**|
| :- | :- |
|Release date|July 26th, 2024|
|SDK Version|3.3.1-rc3|
|Firmware Version Standard|1711\.2.12.2.1.0.7|
|Firmware Version Lite|1711\.2.12.2.1.2.7|
|Package Name|WiSeConnect3\_SDK\_3.3.1-rc3|
|GSDK Version | SiSDK-2024.6.1|
|Supported RTOS|FreeRTOS|
|Operating Modes Supported|Wi-Fi STA, Wi-Fi AP, Wi-Fi STA+BLE, Wi-Fi STA+AP|
|Build Quality|GA|

- SiWx917 release consists of two components
  - Wireless Firmware - SiWx917 Firmware Binaries
  - Wiseconnect3 Library - Wiseconnect3 SDK library runs on the external host in NCP mode and internal Cortex M4 in SoC Mode.
- This release is meant only for use with designs based on SiWx917 Silicon
- The firmware to load is available in the following format:
  - SiWG917-B.2.12.1.x.0.x.rps - B0 Full-featured firmware binary
  - SiWG917-B.2.12.1.x.2.x.rps - B0 lite firmware binary

**Features Supported**

**Sensorhub service**

- Support for ADC, SPI, SDC and I2C based sensors
- Support for PS2
- Support added for SDC

**MCU**

- ADC Single Channel, ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, GPIO, GSPI, I2C, I2S, NVM3, OPAMP, PSRAM, PWM, QEI, RTC, SDIO Secondary, SSI Master and Slave, UART, Micro DMA, USART, Watchdog Timer, Temperature Sensors (RO and BJT), USART Master and Slave, CRC
- UC Supported Peripherals - GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers , Config Timers, ULP (Ultra Low Power) Timers, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, MEMLCD, Analog Comparator and Digital to Analog Converter.
- Services - Sleeptimer, IOSTREAM, NVM3, Power Manager, LittleFS, Pin Tool (support for USART, I2C, SSI, GSPI, SIO, SCT, PWM, I2S, ADC, DAC and Analog Comparator)
- ULP (Ultra Low Power) Peripherals - ulp\_adc, ulp\_calender, ulp\_dac, ulp\_gpio, ulp\_i2c, ulp\_i2s, ulp\_timer, ulp\_uart, ulp\_dma
- Extended flash write support for NWP flash region and added read api to read from NWP flash region
- List of OPN's supported si917-sb00, siwg917m111mgtba, siwg917m100mgtba, siwg917m111xgtba, siwg917m121xgtba, siwg917m110lgtba and siwg917m141xgtba
- Support added for SiWG917 Dev Kit Board (BRD2605A)
- Added APIs to configure M4 SoC Clock, PLL clocks, read M4 SoC Clock

**Wi-Fi**

- WPA2/WPA3 Personal, WPS and WPA2-EAP Support for Station Mode
- TCP/IP stack with IPv4, IPv6, TCP, UDP, TLS, HTTP/HTTPS, DHCPv4, DHCPv6, MQTT Client, DNS Client, SNTP client.
- Support for SSL client versions TLSV1.0, TLSV1.2, TLSV1.3 and SSL server versions TLSV1.0 and TLSV1.2
- Wi-Fi STA (802.11n/802.11ax) + 802.11n AP Support
- HE (802.11ax) and Individual TWT Feature Support
- Multiple BSSID feature support as an STA
- Secure OTA support on B0 radio boards.
- Support for LWIP network stack
- Support for AWS MQTT library
- Support for Azure MQTT library
- Support for BSD and IoT sockets application programming interface(API)
- Support added to change the listen interval after association with Access Point
- New API sl_si91x_fwup_abort added to support aborting firmware upgrade
- Added feature to support Gain offset calibration in channel 14

**Bluetooth Low Energy**

- BLE central & peripheral connections are supported.
- Ultra-low power save is supported.

**Power Save**

- Max PSP, enhanced MAX PSP, Fast PSP, and 802.11ax TWT power save modes are supported in WiFi.
- Only Max PSP power save mode is supported in BLE

**Crypto Support**

- AES, SHA, AES-CCM, HMAC, GCM, Chacha-poly, ECDH and TRNG FW Crypto API support added.
- PSA enabled Mbed TLS support added
- NVM support added for key storage
- Symmetric and asymmetric key storage
- TRNG, AES, SHA, HMAC, GCM, Chacha-poly, ECDH and AES-CCM hardware crypto engine is integrated with PSA crypto.

**Changes and Fixes**

**MCU**

- None

**SDK**

- Throughputs enhancement (STM32 + 917 NCP Carrier board)[RSCDEV-30458]
- Added changes to Revert callback handler signature changes related to Sonarqube fixes [RSCDEV-30392]
- Added Aggregation and WPS Disable bits for improved throughput in RX [SI91X-15500]
- Fixed stack overflow of ble_central task by increasing stack size in wifi_https_ble_dual_role_v6 Application[SI91X-16496]
- Set the client_socket_id when callback is not NULL [SI91X-16513]
- Renamed embedded sensor demo to SiWx917 Dev Kit[RSCDEV-30376]
- Improved the component information[RSCDEV-30440]
- Fixed compilation issues on wifi_firmware_update_uart_ncp example after enabling SL_SI91X_UART_HIGH_SPEED_ENABLE in preprocessor settings[SI91X-16539]
- update data_callback() api signature change[RSCDEV-30429]
- Updated ap_throughput demo README[SI91X-15500]
- Fix iostream issue in NCP test agent[SI91X-16359]
- Added front end switch to ap mode[SI91X-16463]
- SQA Bugs: SI91X-15500, SI91X-16496, SI91X-16513, SI91X-15500, SI91X-16359, SI91X-16463

**Wi-Fi & Network Stack**

- HAPI Release_v1p0_p85_3 fixes:
- Disabling dpd_on_fly_calibration which is not recommended. Done to resolve memory overflow(SI91X-15646)
- Added Support Customer Gainoffset for CH 14(PGSUTLEJ-1334)
- Resolved the firmware stuck while doing RF READ in wlan_temp_based_irf_corrections function(SUTLEJ-3670)
- Added IPMU battery voltage measurment API; Not disabling 32MHz RC clk for SOC mode(PGSUTLEJ-1348)
- Increased the min packet length for OFDM packet drop from 5sym to 16sym to avoid short Durations of Power-save(based on EOF) (PGSUTLEJ-1312)
- Added adc clock enable before WL3(WLANLP calibration structure) to resolve the issue of not happening buffer read in end to end mode for WLANLP chain(SUTLEJ-3536)
- Added provision to use separate temp comp LUT for ACx 11B Ch-14. Added new LUT for ACx 11B Ch-14 shared by Apps team (SUTLEJ-3625)
- Added MIC regulatory table for custom modules (MELCO) and provision to use the LUT based on OPN (PGSUTLEJ-1396)
- SQA bugs: SI91X-16536, SI91X-16452, SI91X-16507

**BLE**

- None

**CoEx**

- None

**System**

- None

**Recommendations**

**System**

- The current revision of SiWx917 B0 has:
  - RAM memory of 672k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_672K\_M4SS\_0K- This mode configures TA with 672k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By default EXT\_FEAT\_352K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_480K\_M4SS\_192K - This mode configures TA with 480k and M4 with 192K bytes of memory
    - EXT\_FEAT\_416K\_M4SS\_256K - This mode configures TA with 416k and M4 with 256K bytes of memory
    - EXT\_FEAT\_352K\_M4SS\_320K - This mode configures TA with 352k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 672K\_M4SS\_0K.
  - SoC mode should not use 672k\_M4SS\_0k memory configuration.
- Set the recommended Power Save Profile (PSP) type to Enhanced Max PSP.

**IDE**

- Download the latest version of Simplicity Studio
- Refer to the latest version of the SoC/NCP "Getting-Started-with-SiWx917" guide for more details

**Wi-Fi & Network Stack****

- The recommended embedded MQTT Publish payload is 1 kBytes.
- It is recommended to enable bit 16 of the 'Extended TCP IP Feature' bit map in the opermode command for all Wi-Fi Socket operations from the host to ensure graceful handling during asynchronous closures from the peer.
- Aggregation (bit 2 of feature\_bit\_map) is recommended to be enabled in opermode. This enables software to aggregate multiple packets to achieve better throughput
- TCP retransmission count value is recommended to be 30 or higher so that the TCP does not disconnect while the rejoin happens.
- To restart the module, the application needs to call sl\_wifi\_deinit() followed by sl\_wifi\_init().
- Register 'Join Fail Callback' function every time when join is called, as in the rejoin failure path the callback is deregistered. If not done, this might result in a scan not functioning on rejoin failure.
- User can enable SL\_SI91X\_EXT\_TCP\_IP\_SSL\_16K\_RECORD in 'Extended TCP IP Feature'bit map in opermode, if HTTPS download is failing after receiving HTTP headers..
- iTWT setup is recommended after IP assignment/TCP connection/application specific socket connections.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, increase TCP / ARP Timeouts at the remote side depending upon the configured TWT interval configured.
- In case of TWT+coex, when using sl\_wifi\_enable\_target\_wakeup\_time API, use TWT wake duration <= 16 ms and TWT wake interval >= 1 sec. If wake duration > 16 ms or TWT wake interval < 1sec, there might be performance issues.
- For iTWT GTK Interval Should be kept max possible value or zero. If GTK interval is not configurable, recommended TWT interval (in case of sl\_wifi\_enable\_target\_wakeup\_time API) or RX Latency (in case of sl\_wifi\_target\_wake\_time\_auto\_selection API) is less than 4sec.
- Disable Power Save for High Throughput Applications.
- The application needs to ensure that it sets RTC with the correct timestamp when the feature is enabled before establishing the SSL connection.
- The timeout value should not be less than 1 second for socket select and socket receive calls. Timeout value of less than 1 second is not currently supported.
- When sl\_wifi\_enable\_target\_wakeup\_time API is used, configuring TWT Wake interval beyond 1 min might lead to disconnections from the AP. Recommended to use TWT wakeup interval of less than or equal to 1 min.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, it is recommended to set missed\_beacon\_count of sl\_wifi\_set\_advanced\_client\_configuration API greater than 2 times of the configured TWT Interval.
- Disable power save and suspend any active TWT sessions before triggering HTTP OTAF.
- It is recommended to enable bit 31 of the 'TCP IP Feature' bit map in the opermode command to support multicast protocol

**BLE**

- In BLE, the recommended range of Connection Interval in
  - Power Save (BLE Only) - 100 ms to 1.28 s.
- In BLE, during Connection, the configuration of Scan Interval and Scan Window with the same value is not recommended. The suggested ratio of Scan Window to Scan Interval is 3:4.
- In BLE, if a device is acting as Central, the scan window (in set\_scan\_params and create\_connection commands) must be less than the existing Connection Interval. The suggested ratio of Scan Window to Connection Interval is 2:3.
- In BLE mode, if scanning and advertising are in progress on the SiWx91x module and it subsequently gets connected and moves to the central role, scanning stops else if it moves to the peripheral role, advertising stops. To further establish a connection to another peripheral device or to a central device, the application should give a command for starting advertising and scanning again.

**Co-Existence**

- For concurrent Wi-Fi + BLE, and while a Wi-Fi connection is active, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
- Wi-Fi + BLE Advertising
  - All standard advertising intervals are supported. As Wi-Fi throughput is increased, a slight difference in on-air advertisements compared to configured intervals may be observed.
  - BLE advertising is skipped if the advertising interval collides with Wi-Fi activity.
- Wi-Fi + BLE scanning
  - All standard scan intervals are supported. For better scan results, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
  - BLE scanning will be stopped for intervals that collide with Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Connections
  - All standard connection intervals are supported.
  - For a stable connection, use optimal connection intervals and max supervision timeout in the presence of Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Data Transfer
  - To achieve higher throughput for both Wi-Fi and BLE, use medium connection intervals, such as 45 to 80 ms with maximum supervision timeout.
  - Ensure Wi-Fi activity consumes lower intervals.

**MCU**

- It is not recommended to use the RO clock for Clock Configuration
- PSRAM examples are not supposed to be used with Non-PSRAM OPNs
- By default SYSrtc and wake on wireless wakeup resources enabled, please do not reinstall these two wakeup sources when tickless idle mode is enabled
- Minimum idle-time to Sleep 100ms, as configured in FreeRtos_config.h
- Recommended to enable DMA for better throughput numbers
- For I2C Fastplus and High speed modes, it is recommended to use High power instances from 80Mhz to 180Mhz core clock
- Not recommended to use switch_m4_frequency() for clock scaling. Refer to migration guide for more details on this
- When using this 32MHz source for the PLL, limit the maximum clock to 160MHz
- In RTOS environment, prefer Signaling mechanisms (Semaphore/Mutex/EventFlag etc.) instead of "Variables/Flags" from user callbacks to detect "*Transfer Complete*" for high speed communication peripherals
  - Refer Software Reference Manual for more details

**Known Issues**

**Sensorhub**

- Support for ADC FIFO Mode and Multi channel is open
- PS1-state supports only ADC sensor
- Power transitions with AWS are not stable in Sensorhub
- The process of integrating the tickless component and power manager service into the Sensorhub app is currently underway

**Network Stack**

- Sometimes during SSL Handshake, ECC curve parameters generated are wrong, resulting in connection failure with BBD2 error. However, this recovers in the next attempt.
- Randomize the client port if using rapid connect/disconnect of the MQTT session on the same client port with the power save.
- Secure SSL renegotiation not supported in Embedded Networking Stack.
- Disable power save before making TCP connection for NCP-UART interface.
- In concurrent mode, if IP is configured for AP mode ahead of STA mode then IPv6 configuration may fail for STA mode.
- In concurrent mode, data transfer using the Link-local address will always use the first IP interface created by the application.

**Wi-Fi**

- TWT device (STA) may not go to sleep in between TWT intervals in case of burst data traffics with data size more than the configured 'average tx throughput', until completion of data transfer.
- There are performance and IOP issues with MU MIMO.
- WPA3 Connection with the Hunting and Pecking algorithm takes about 3-4 seconds.
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.
- Low Wi-Fi+BLE throughput
- TCP/UDP TX/RX Data stall observed in CoEx scenarios
- Observed HTTPS Continuous download fails with TA Power save
- Performance improvements are in progress for lower performance metrics.
- Observed interop issue (connectivity failure) with few AP's when device reset/reboot happens on active connection.
- In concurrent mode, AP restart fails after stopping it with ap\_stop command.
- DUT deep sleep will not work after stopping AP with ap\_stop command.
- Unable to get SNTP async events when coex mode and Power save is enabled
- Fine Tuning 802.11ax Spectral mask in Progress
- Fine Tuning 11b mask in Ch11 in progress
- DUT is unable to connect to the AP with WPA3 security when we enable coex mode (WLAN+BLE) in opermode
- Socket listen API is failing from the second iteration
- Disconnections observed with Netgear RAX120 AP in WPA3 security
- Observed connection failures with some AP's in more channel congestion open lab environment
- Firmware Upgrade example is not working in PSRAM boards
- deep sleep example is not supported with power manager
- AP fails to start when ACS is enabled on CZ100, CZ101 OPNS (SI91X-16507)

**BLE**

- HID profile data transfer is not working, when power save is enabled in SoC.
- BLE reconnection is not working in ble_multiconnection_gatt demo, when power save is enabled in SoC
- BLE throughputs are less with STM32 compared to EFR

**Co-Existence**

- Observed HTTP continuous download is not happening in Powersave mode after BLE connection established using wifi\_https\_ble\_dual\_role application
- Observed DUT hang while Wi-Fi UDP/TCP Tx and BLE continuous scan.

**System**

- BRD8045A and BRD8045C does not have CTS and RTS pins routed from SiWx917 NCP, which are used for UART flow control

**MCU**

- Refer to the respective Radio board user guides for specific pinout details. Examples are targeted to a specific version mentioned in the respective readme
- Few(BOD and Comparator) wakeup resources are not working as expected in Power manager service
- Observed RO and BJT Temperature values are not as expected
- Character Timeout feature for all communication protocols is not supported
- UART instances does not support different FIFO Thresholds
- NVM3 dual flash application is not working as expected in the current release.
- ULP_I2C does not function as expected in low power mode when DMA is enabled
- Powersave Deep Sleep example for the siwg917m110lgtba OPN requires the installation of the device_need_ram_execution component.
- Sometimes TA processor hang occurs when M4 used XTAL clock with sleep enabled.
- In ULP SSI application, non-dma transfer is not working as expected.

**Limitations and Unsupported Features**

**SDK**

- WiSeConnect3_SDK_3.1.3 and later versions are not compatible with firmware versions prior to 1711.2.10.1.2.0.4, due to enhancements in max transmit power configuration during Wi-Fi join/connection, need to be cautious while doing OTA firmware upgrade.

**Wi-Fi/Network Stack**

- TLS 1.3 Server is not supported
- In AP mode, IPv6 Router Advertisements are not supported. Although STA connected to the APUT can transfer IPv6 data to the peers by using SLAAC for address configuration.
- When sl\_wifi\_enable\_target\_wake\_time() API is used, observed occasional MQTT disconnections with longer TWT intervals (>30secs) with embedded MQTT + TWT.
- AMSDU TX is not supported.
- Fragmentation is not supported.
- AMSDUs within AMPDU is not supported.
- Currently, the module does not support Radio Measurement Requests feature of CCX V2
- 802.11k is not supported
- 40 MHz bandwidth for 2.4 GHz band is not supported.
- 802.11J channel 14 is not supported.
- MQTT versions 3 and 4 are supported.
- Maximum of 3 SSL connections are supported.
- In SSL ECC Curve ID supported is 23. SSL handshake with 3rd party clients depends on the SSL ECC Curve ID.
- LP mode is not supported.
- In iTWT mode, downlink data traffic should be limited. Disconnections may be observed if AP fails to send all the buffered data in the next TWT Service Period.
- Number of MBSSIDs processed is limited by the beacon length that can be processed by the stack (which is limited to 1024 bytes). Beacons greater than 1024 Bytes in length will not be processed.
- CoEx + EAP Security in 352K/320k is not feasible. This issue is observed due to a lack of memory in the 352k/320k Memory Configuration. It is supported with other EXT\_FEAT\_416K\_M4SS\_256K and EXT\_FEAT\_480K\_M4SS\_192K memory configurations.
- UL MUMIMO is not supported.
- The embedded HTTP server is not supported.
- Baremetal is not supported.
- Compared to SoC mode, NCP mode has fewer examples, but more will be enabled in upcoming releases.
- Maximum Supported length for Embedded MQTT username up to 120 bytes , topic length up to 200 bytes and password upto 62 bytes.
- UART 2 Debug prints are supported only on ULP_GPIO_9.
- WOW LAN feature is not supported.
- SA Query procedure is not supported in AP mode.
- Maximum Supported length for HTTP GET URL is up to 2048 bytes.
- Azure SDK with embedded MQTT is not supported.
- Power save is not supported in Azure MQTT.
- MDNS service discovery is currently not supported.
- sli_si91x_accept_async is not thread-safe
- Observed some background compatibility issues with coex and http in few corner cases
- AP mode does not support Tx and Rx aggregation in Concurrent mode.
- Concurrent STA mode, Rx aggregation is not supported. Tx aggregation is supported but it is not recommended.
- AP standalone mode does not support Tx aggregation. Rx aggregation is supported with limited number of BA sessions.

**BLE**

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.
- BLE TX/RX throughput is less when tested with EFM as compared to EFR
- Maximum supported AE data length is 200 bytes.
- Supports only two ADV\_EXT sets.
- Supports only two BLE connections (1 Central and 1 Peripheral) with AE.
- Advertising Extension feature is not supported in Coexistence.
- The  ae\_central & ae\_peripheral applications are not supported with TA\_352K\_M4\_320K RAM configuration.
- Setting PLL mode as 1 is not supported in Coexistence

**MCU**

- Manual chip select option is not supported when using GSPI.
- Following peripherals/features are not functioning as expected
    - ADC Multichannel, SSI Dual and Quad mode, SIO and Temp sensors
- LittleFS example support is intended to work only with Dual flash
- PS1 state is not supported in Power Manager
- Power is same for PS4 and PS3 states with powersave mode of power manager
- When using Button_0 as wakeup source, it limits the button functionality at application layer. For using Button_0 for application specific functionality, enable 'SL_SI91X_NPSS_GPIO_BTN_HANDLER'
- XTAL 40MHz clock as a reference clock is not supported

**System**
- TA Connected sleep and M4 PS2 is not a possible mode of operation
- M4 PS2 active and sleep is not a possible mode when SL_SI91X_EXT_FEAT_FRONT_END_SWITCH_PINS_ULP_GPIO_4_5_0 is enabled in SoC mode

**Simplicity Studio and Commander**

- Default GDB debug configuration is not supported for SoC projects, work around details provided in "Getting-Started-with-SiWx917"
- Observing flash download failures(ERROR 108) for a few image sizes
- While creating project through Simplicity Studio, "copy contents" option not supported.
- Simplicity commander does not support options under "Debug Lock tools".
- All projects in the package are compatible with GCC 10.3.1 version.

**Terminology**

|**Term**|**Description**|
| :- | :- |
|**New Features**|These items are new to this release|
|**Changes/Issues Fixed**|Changes made to existing features found in previous software releases.|
||Enhancements to existing product flow and feature set.|
||Bug fixes done in the release|
|**Deprecated Items**|Features or functions or APIs that are removed from the distributed release to align with the software roadmap|
|**Known Issues**|Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases|
|**Limitations/Recommendations**|Describes the limitations on product usage and recommendations for optimal use cases|

**Note**

- Change SPI frequency to 12.5Mhz while measuring BLE throughput with EFR32

<br>

**WiSeConnect3\_SDK\_3.3.1-rc2 Release Notes**

This SDK package supports SoC Mode and NCP Mode for B0:

- In SoC Mode: Customer applications can run on Cortex M4. Wireless, network, and security stacks run on the wireless subsystem.
- In NCP mode: Wireless, network, and security stacks run on the Wireless subsystem. Customer applications run on the external host MCU.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

**Note**: Use Simplicity Studio version SV5.8.0.1 onwards

**SoC Highlights**

- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support ultra low power Wi-Fi standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode
- **MCU examples** : GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers, Config Timers, ULP (Ultra Low Power) Timers, Sleeptimer, IOSTREAM, NVM3, MEMLCD, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, Sensorhub, Joystick, Relative Humidity and Temperature sensor (RHT), Analog Comparator, Digital to Analog Converter and Temperature sensors (RO and BJT), CRC, LittleFS, Power Manager with RTOS
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE whitelisting, and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack, All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS client
- **IDE** : Simplicity Studio with Windows 10(64-bit), Linux, Mac OS
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** :
  - Si-MB4002A Main board
  - SiWx917 Radio boards

|**RadioBoard Type**|**SiWx917B0 with Board Version**|
| :- | :- |
|Common flash|Si917-BRD4338A(2.0)|
|Dual flash|Si917-BRD4339B(2.0)|
|External PSRAM|Si917-BRD4340A(2.0), Si917-BRD4342A(2.0)|
|Internal PSRAM|Si917-BRD4339A(2.0)|
|Dev Kit|Si917-2605A|

**NCP Highlights**

- **Host Interface** : SPI, UART
- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode.
- **Wi-Fi** : 2.4GHz Wi-Fi Support, WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE Whitelisting and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack , BLE Stack , All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS Client.
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **Hardware kits to evaluate NCP Mode**
  - NCP EFR Expansion Kit with NCP Radio board (BRD4338A(NCP MBR) + BRD8045A)
  - Wireless Pro kit Mainboard BRD4002A Rev A06
  - EFR32xG24 Wireless 2.4 GHz +10 dBm Radio Board xG24-RB4186C

**Release Details**

|**Item**|**Details**|
| :- | :- |
|Release date|July 23rd, 2024|
|SDK Version|3.3.1-rc2|
|Firmware Version Standard|1711\.2.12.2.1.0.6|
|Firmware Version Lite|1711\.2.12.2.1.2.6|
|Package Name|WiSeConnect3\_SDK\_3.3.1-rc2|
|GSDK Version | SiSDK-2024.6.1-df|
|Supported RTOS|FreeRTOS|
|Operating Modes Supported|Wi-Fi STA, Wi-Fi AP, Wi-Fi STA+BLE, Wi-Fi STA+AP|
|Build Quality|GA|

- SiWx917 release consists of two components
  - Wireless Firmware - SiWx917 Firmware Binaries
  - Wiseconnect3 Library - Wiseconnect3 SDK library runs on the external host in NCP mode and internal Cortex M4 in SoC Mode.
- This release is meant only for use with designs based on SiWx917 Silicon
- The firmware to load is available in the following format:
  - SiWG917-B.2.12.1.x.0.x.rps - B0 Full-featured firmware binary
  - SiWG917-B.2.12.1.x.2.x.rps - B0 lite firmware binary

**Features Supported**

**Sensorhub service**

- Support for ADC, SPI, SDC and I2C based sensors
- Support for PS2
- Support added for SDC

**MCU**

- ADC Single Channel, ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, GPIO, GSPI, I2C, I2S, NVM3, OPAMP, PSRAM, PWM, QEI, RTC, SDIO Secondary, SSI Master and Slave, UART, Micro DMA, USART, Watchdog Timer, Temperature Sensors (RO and BJT), USART Master and Slave, CRC
- UC Supported Peripherals - GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers , Config Timers, ULP (Ultra Low Power) Timers, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, MEMLCD, Analog Comparator and Digital to Analog Converter.
- Services - Sleeptimer, IOSTREAM, NVM3, Power Manager, LittleFS, Pin Tool (support for USART, I2C, SSI, GSPI, SIO, SCT, PWM, I2S, ADC, DAC and Analog Comparator)
- ULP (Ultra Low Power) Peripherals - ulp\_adc, ulp\_calender, ulp\_dac, ulp\_gpio, ulp\_i2c, ulp\_i2s, ulp\_timer, ulp\_uart, ulp\_dma
- Extended flash write support for NWP flash region and added read api to read from NWP flash region
- List of OPN's supported si917-sb00, siwg917m111mgtba, siwg917m100mgtba, siwg917m111xgtba, siwg917m121xgtba, siwg917m110lgtba and siwg917m141xgtba
- Support added for SiWG917 Dev Kit Board (BRD2605A)
- Added APIs to configure M4 SoC Clock, PLL clocks, read M4 SoC Clock

**Wi-Fi**

- WPA2/WPA3 Personal, WPS and WPA2-EAP Support for Station Mode
- TCP/IP stack with IPv4, IPv6, TCP, UDP, TLS, HTTP/HTTPS, DHCPv4, DHCPv6, MQTT Client, DNS Client, SNTP client.
- Support for SSL client versions TLSV1.0, TLSV1.2, TLSV1.3 and SSL server versions TLSV1.0 and TLSV1.2
- Wi-Fi STA (802.11n/802.11ax) + 802.11n AP Support
- HE (802.11ax) and Individual TWT Feature Support
- Multiple BSSID feature support as an STA
- Secure OTA support on B0 radio boards.
- Support for LWIP network stack
- Support for AWS MQTT library
- Support for Azure MQTT library
- Support for BSD and IoT sockets application programming interface(API)
- Support added to change the listen interval after association with Access Point
- New API sl_si91x_fwup_abort added to support aborting firmware upgrade
- Added feature to support Gain offset calibration in channel 14

**Bluetooth Low Energy**

- BLE central & peripheral connections are supported.
- Ultra-low power save is supported.

**Power Save**

- Max PSP, enhanced MAX PSP, Fast PSP, and 802.11ax TWT power save modes are supported in WiFi.
- Only Max PSP power save mode is supported in BLE

**Crypto Support**

- AES, SHA, AES-CCM, HMAC, GCM, Chacha-poly, ECDH and TRNG FW Crypto API support added.
- PSA enabled Mbed TLS support added
- NVM support added for key storage
- Symmetric and asymmetric key storage
- TRNG, AES, SHA, HMAC, GCM, Chacha-poly, ECDH and AES-CCM hardware crypto engine is integrated with PSA crypto.

**Changes and Fixes**

**MCU**

- Added M4 wake up TA bit check in the platform code [SI91X-15981, SI91X-16336]
- Added LED1 initialization for sleeptimer and sysrtc application [SI91X-16342]
- Adding SL_I2C_STANDARD_MODE check inside i2c-init API [SI91X-15699]
- Corrected M4 ROM Bootloader flow diagram [SI91X-15710]
- Added declaration of Serial_receive function for DEBUG_SERIAL use case [SI91X-16366]
- Added syscalls component to enable debug prints in master_application_soc application [SI91X-16258]
- Removed rc trim efuse from ADC and DAC drivers [SI91X-16165, RSCDEV-30342]
- Added guards for pin annotation macro usage in ADC and PWM config files [SI91X-16391]
- Corrected USART0 Rx pad number for GPIO_65 and updated RTE files for brd4339a, brd4341a, brd4343a, brd4343b and brd4343q [SI91X-16434, SI91X-16275]
- Removed System reset time validations as per interrupt time value from wdt driver files [RSCDEV-30351, SI91X-16100]
- Changed SSI Slave CS pin as per schematics of brd4343a [SI91X-16492, SI91X-16490]
- Removed LED0 from readme file for ulp gpio as led0 pin is different in few boards [SI91X-16495]
- Added memlcd specific pins in RTE device file and updated pins for brd4343a board [SI91X-16491]
- Changed toggle pin number as ulp gpio 10 pin is not present in 4343A [SI91X-16488]
- Removed unused linkerfile.ld jinja file
- Implemented the code in M4 to notify TA about XTAL usage [RSCDEV-30051]
- Added Valiadtion check for devkit boards [RSCDEV-30095]
- Renamed WDT config time names [RSCDEV-30332]
- Updated 3.3.1 release migration guide [RSCDEV-30341]
- Replaced sl_si91x_soc_soft_reset API with NVIC_system_reset in WLAN applications [RSCDEV-30336]
- Other SQA issues: SI91X-16493, SI91X-16489, SI91X-16427, SI91X-16399, SI91X-16378, SI91X-16357, SI91X-16349, SI91X-16346, SI91X-16342, SI91X-16341, SI91X-16336, SI91X-16334, SI91X-16333,SI91X-16310, SI91X-16293, SI91X-16226, SI91X-16197, SI91X-16120, SI91X-16100

**SDK**

- Saved logs in the artifactory when SLCP build fails [RSCDEV-30334]
- Fixed HTTP Server large data response issue [RSCDEV-27865]
- Updated Readmes with BRD4357A NCP Board [RSCDEV-30245]
- Update the agent label in regression_test.jenkins file [RSCDEV-30333]
- Updated the summary index and added important features [RSCDEV-29220]
- Created new application to test Embedded MQTT functionality in STA_BLE co-ex in WiFi SDK3.0 [WIFISDK-587]
- Update Doxygen documentation for macro definitions [SI91X-15884 ]
- Moved the AWS_MQTT Synchronous Implementation to internal folder [RSCDEV-30340]
- Updated the test cases in wifi_dev_sanity_si917.yaml [RSCDEV-30357]
- Ported the mempool with buffer quota in STM32 to increase Throughputs in NCP mode [SI91X-14527]
- Updated the timezone to IST in regression_test.Jenkins file in sl_net repo [RSCDEV-30327]
- Updated all instances of "3.3.0" to "3.3.1" in the sl-net repository [RSCDEV-30372]
- SQA Bugs: None

**Wi-Fi & Network Stack**

- Added fix for BLE anchor point missing (RSCDEV-30338)
- SQA Bugs: SI91X-16452

**BLE**

- Fixed the BLE high power number issue in the connection case.
- Resolved BLE high power number issue using encrypted image in PER mode.

**CoEx**

- None

**System**

- None

**Recommendations**

**System**

- The current revision of SiWx917 B0 has:
  - RAM memory of 672k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_672K\_M4SS\_0K- This mode configures TA with 672k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By default EXT\_FEAT\_352K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_480K\_M4SS\_192K - This mode configures TA with 480k and M4 with 192K bytes of memory
    - EXT\_FEAT\_416K\_M4SS\_256K - This mode configures TA with 416k and M4 with 256K bytes of memory
    - EXT\_FEAT\_352K\_M4SS\_320K - This mode configures TA with 352k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 672K\_M4SS\_0K.
  - SoC mode should not use 672k\_M4SS\_0k memory configuration.
- Set the recommended Power Save Profile (PSP) type to Enhanced Max PSP.

**IDE**

- Download the latest version of Simplicity Studio
- Refer to the latest version of the SoC/NCP "Getting-Started-with-SiWx917" guide for more details

**Wi-Fi & Network Stack****

- The recommended embedded MQTT Publish payload is 1 kBytes.
- It is recommended to enable bit 16 of the 'Extended TCP IP Feature' bit map in the opermode command for all Wi-Fi Socket operations from the host to ensure graceful handling during asynchronous closures from the peer.
- Aggregation (bit 2 of feature\_bit\_map) is recommended to be enabled in opermode. This enables software to aggregate multiple packets to achieve better throughput
- TCP retransmission count value is recommended to be 30 or higher so that the TCP does not disconnect while the rejoin happens.
- To restart the module, the application needs to call sl\_wifi\_deinit() followed by sl\_wifi\_init().
- Register 'Join Fail Callback' function every time when join is called, as in the rejoin failure path the callback is deregistered. If not done, this might result in a scan not functioning on rejoin failure.
- User can enable SL\_SI91X\_EXT\_TCP\_IP\_SSL\_16K\_RECORD in 'Extended TCP IP Feature'bit map in opermode, if HTTPS download is failing after receiving HTTP headers..
- iTWT setup is recommended after IP assignment/TCP connection/application specific socket connections.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, increase TCP / ARP Timeouts at the remote side depending upon the configured TWT interval configured.
- In case of TWT+coex, when using sl\_wifi\_enable\_target\_wakeup\_time API, use TWT wake duration <= 16 ms and TWT wake interval >= 1 sec. If wake duration > 16 ms or TWT wake interval < 1sec, there might be performance issues.
- For iTWT GTK Interval Should be kept max possible value or zero. If GTK interval is not configurable, recommended TWT interval (in case of sl\_wifi\_enable\_target\_wakeup\_time API) or RX Latency (in case of sl\_wifi\_target\_wake\_time\_auto\_selection API) is less than 4sec.
- Disable Power Save for High Throughput Applications.
- The application needs to ensure that it sets RTC with the correct timestamp when the feature is enabled before establishing the SSL connection.
- The timeout value should not be less than 1 second for socket select and socket receive calls. Timeout value of less than 1 second is not currently supported.
- When sl\_wifi\_enable\_target\_wakeup\_time API is used, configuring TWT Wake interval beyond 1 min might lead to disconnections from the AP. Recommended to use TWT wakeup interval of less than or equal to 1 min.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, it is recommended to set missed\_beacon\_count of sl\_wifi\_set\_advanced\_client\_configuration API greater than 2 times of the configured TWT Interval.
- Disable power save and suspend any active TWT sessions before triggering HTTP OTAF.
- It is recommended to enable bit 31 of the 'TCP IP Feature' bit map in the opermode command to support multicast protocol

**BLE**

- In BLE, the recommended range of Connection Interval in
  - Power Save (BLE Only) - 100 ms to 1.28 s.
- In BLE, during Connection, the configuration of Scan Interval and Scan Window with the same value is not recommended. The suggested ratio of Scan Window to Scan Interval is 3:4.
- In BLE, if a device is acting as Central, the scan window (in set\_scan\_params and create\_connection commands) must be less than the existing Connection Interval. The suggested ratio of Scan Window to Connection Interval is 2:3.
- In BLE mode, if scanning and advertising are in progress on the SiWx91x module and it subsequently gets connected and moves to the central role, scanning stops else if it moves to the peripheral role, advertising stops. To further establish a connection to another peripheral device or to a central device, the application should give a command for starting advertising and scanning again.

**Co-Existence**

- For concurrent Wi-Fi + BLE, and while a Wi-Fi connection is active, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
- Wi-Fi + BLE Advertising
  - All standard advertising intervals are supported. As Wi-Fi throughput is increased, a slight difference in on-air advertisements compared to configured intervals may be observed.
  - BLE advertising is skipped if the advertising interval collides with Wi-Fi activity.
- Wi-Fi + BLE scanning
  - All standard scan intervals are supported. For better scan results, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
  - BLE scanning will be stopped for intervals that collide with Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Connections
  - All standard connection intervals are supported.
  - For a stable connection, use optimal connection intervals and max supervision timeout in the presence of Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Data Transfer
  - To achieve higher throughput for both Wi-Fi and BLE, use medium connection intervals, such as 45 to 80 ms with maximum supervision timeout.
  - Ensure Wi-Fi activity consumes lower intervals.

**MCU**

- It is not recommended to use the RO clock for Clock Configuration
- PSRAM examples are not supposed to be used with Non-PSRAM OPNs
- By default SYSrtc and wake on wireless wakeup resources enabled, please do not reinstall these two wakeup sources when tickless idle mode is enabled
- Minimum idle-time to Sleep 100ms, as configured in FreeRtos_config.h
- Recommended to enable DMA for better throughput numbers
- For I2C Fastplus and High speed modes, it is recommended to use High power instances from 80Mhz to 180Mhz core clock
- Not recommended to use switch_m4_frequency() for clock scaling. Refer to migration guide for more details on this
- When using this 32MHz source for the PLL, limit the maximum clock to 160MHz
- In RTOS environment, prefer Signaling mechanisms (Semaphore/Mutex/EventFlag etc.) instead of "Variables/Flags" from user callbacks to detect "*Transfer Complete*" for high speed communication peripherals
  - Refer Software Reference Manual for more details

**Known Issues**

**Sensorhub**

- Support for ADC FIFO Mode and Multi channel is open
- PS1-state supports only ADC sensor
- Power transitions with AWS are not stable in Sensorhub
- The process of integrating the tickless component and power manager service into the Sensorhub app is currently underway

**Network Stack**

- Sometimes during SSL Handshake, ECC curve parameters generated are wrong, resulting in connection failure with BBD2 error. However, this recovers in the next attempt.
- Randomize the client port if using rapid connect/disconnect of the MQTT session on the same client port with the power save.
- Secure SSL renegotiation not supported in Embedded Networking Stack.
- Disable power save before making TCP connection for NCP-UART interface.
- In concurrent mode, if IP is configured for AP mode ahead of STA mode then IPv6 configuration may fail for STA mode.
- In concurrent mode, data transfer using the Link-local address will always use the first IP interface created by the application.

**Wi-Fi**

- TWT device (STA) may not go to sleep in between TWT intervals in case of burst data traffics with data size more than the configured 'average tx throughput', until completion of data transfer.
- There are performance and IOP issues with MU MIMO.
- WPA3 Connection with the Hunting and Pecking algorithm takes about 3-4 seconds.
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.
- Low Wi-Fi+BLE throughput
- TCP/UDP TX/RX Data stall observed in CoEx scenarios
- Observed HTTPS Continuous download fails with TA Power save
- Performance improvements are in progress for lower performance metrics.
- Observed interop issue (connectivity failure) with few AP's when device reset/reboot happens on active connection.
- In concurrent mode, AP restart fails after stopping it with ap\_stop command.
- DUT deep sleep will not work after stopping AP with ap\_stop command.
- Unable to get SNTP async events when coex mode and Power save is enabled
- Fine Tuning 802.11ax Spectral mask in Progress
- Fine Tuning 11b mask in Ch11 in progress
- DUT is unable to connect to the AP with WPA3 security when we enable coex mode (WLAN+BLE) in opermode
- Socket listen API is failing from the second iteration
- Disconnections observed with Netgear RAX120 AP in WPA3 security
- Observed connection failures with some AP's in more channel congestion open lab environment
- Firmware Upgrade example is not working in PSRAM boards
- deep sleep example is not supported with power manager
- AP fails to start when ACS is enabled on CZ100, CZ101 OPNS (SI91X-16507)

**BLE**

- HID profile data transfer is not working, when power save is enabled in SoC.
- BLE reconnection is not working in ble_multiconnection_gatt demo, when power save is enabled in SoC
- BLE throughputs are less with STM32 compared to EFR

**Co-Existence**

- Observed HTTP continuous download is not happening in Powersave mode after BLE connection established using wifi\_https\_ble\_dual\_role application
- Observed DUT hang while Wi-Fi UDP/TCP Tx and BLE continuous scan.

**System**

- BRD8045A and BRD8045C does not have CTS and RTS pins routed from SiWx917 NCP, which are used for UART flow control

**MCU**

- Refer to the respective Radio board user guides for specific pinout details. Examples are targeted to a specific version mentioned in the respective readme
- Few(BOD and Comparator) wakeup resources are not working as expected in Power manager service
- Observed RO and BJT Temperature values are not as expected
- Character Timeout feature for all communication protocols is not supported
- UART instances does not support different FIFO Thresholds
- NVM3 dual flash application is not working as expected in the current release.
- ULP_I2C does not function as expected in low power mode when DMA is enabled
- Powersave Deep Sleep example for the siwg917m110lgtba OPN requires the installation of the device_need_ram_execution component.
- Sometimes TA processor hang occurs when M4 used XTAL clock with sleep enabled.
- In ULP SSI application, non-dma transfer is not working as expected.

**Limitations and Unsupported Features**

**SDK**

- WiSeConnect3_SDK_3.1.3 and later versions are not compatible with firmware versions prior to 1711.2.10.1.2.0.4, due to enhancements in max transmit power configuration during Wi-Fi join/connection, need to be cautious while doing OTA firmware upgrade.

**Wi-Fi/Network Stack**

- TLS 1.3 Server is not supported
- In AP mode, IPv6 Router Advertisements are not supported. Although STA connected to the APUT can transfer IPv6 data to the peers by using SLAAC for address configuration.
- When sl\_wifi\_enable\_target\_wake\_time() API is used, observed occasional MQTT disconnections with longer TWT intervals (>30secs) with embedded MQTT + TWT.
- AMSDU TX is not supported.
- Fragmentation is not supported.
- AMSDUs within AMPDU is not supported.
- Currently, the module does not support Radio Measurement Requests feature of CCX V2
- 802.11k is not supported
- 40 MHz bandwidth for 2.4 GHz band is not supported.
- 802.11J channel 14 is not supported.
- MQTT versions 3 and 4 are supported.
- Maximum of 3 SSL connections are supported.
- In SSL ECC Curve ID supported is 23. SSL handshake with 3rd party clients depends on the SSL ECC Curve ID.
- LP mode is not supported.
- In iTWT mode, downlink data traffic should be limited. Disconnections may be observed if AP fails to send all the buffered data in the next TWT Service Period.
- Number of MBSSIDs processed is limited by the beacon length that can be processed by the stack (which is limited to 1024 bytes). Beacons greater than 1024 Bytes in length will not be processed.
- CoEx + EAP Security in 352K/320k is not feasible. This issue is observed due to a lack of memory in the 352k/320k Memory Configuration. It is supported with other EXT\_FEAT\_416K\_M4SS\_256K and EXT\_FEAT\_480K\_M4SS\_192K memory configurations.
- UL MUMIMO is not supported.
- The embedded HTTP server is not supported.
- Baremetal is not supported.
- Compared to SoC mode, NCP mode has fewer examples, but more will be enabled in upcoming releases.
- Maximum Supported length for Embedded MQTT username up to 120 bytes , topic length up to 200 bytes and password upto 62 bytes.
- UART 2 Debug prints are supported only on ULP_GPIO_9.
- WOW LAN feature is not supported.
- SA Query procedure is not supported in AP mode.
- Maximum Supported length for HTTP GET URL is up to 2048 bytes.
- Azure SDK with embedded MQTT is not supported.
- Power save is not supported in Azure MQTT.
- MDNS service discovery is currently not supported.
- sli_si91x_accept_async is not thread-safe
- Observed some background compatibility issues with coex and http in few corner cases
- AP mode does not support Tx and Rx aggregation in Concurrent mode.
- Concurrent STA mode, Rx aggregation is not supported. Tx aggregation is supported but it is not recommended.
- AP standalone mode does not support Tx aggregation. Rx aggregation is supported with limited number of BA sessions.

**BLE**

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.
- BLE TX/RX throughput is less when tested with EFM as compared to EFR
- Maximum supported AE data length is 200 bytes.
- Supports only two ADV\_EXT sets.
- Supports only two BLE connections (1 Central and 1 Peripheral) with AE.
- Advertising Extension feature is not supported in Coexistence.
- The  ae\_central & ae\_peripheral applications are not supported with TA\_352K\_M4\_320K RAM configuration.
- Setting PLL mode as 1 is not supported in Coexistence

**MCU**

- Manual chip select option is not supported when using GSPI.
- Following peripherals/features are not functioning as expected
    - ADC Multichannel, SSI Dual and Quad mode, SIO and Temp sensors
- LittleFS example support is intended to work only with Dual flash
- PS1 state is not supported in Power Manager
- Power is same for PS4 and PS3 states with powersave mode of power manager
- When using Button_0 as wakeup source, it limits the button functionality at application layer. For using Button_0 for application specific functionality, enable 'SL_SI91X_NPSS_GPIO_BTN_HANDLER'
- XTAL 40MHz clock as a reference clock is not supported

**System**
- TA Connected sleep and M4 PS2 is not a possible mode of operation
- M4 PS2 active and sleep is not a possible mode when SL_SI91X_EXT_FEAT_FRONT_END_SWITCH_PINS_ULP_GPIO_4_5_0 is enabled in SoC mode

**Simplicity Studio and Commander**

- Default GDB debug configuration is not supported for SoC projects, work around details provided in "Getting-Started-with-SiWx917"
- Observing flash download failures(ERROR 108) for a few image sizes
- While creating project through Simplicity Studio, "copy contents" option not supported.
- Simplicity commander does not support options under "Debug Lock tools".
- All projects in the package are compatible with GCC 10.3.1 version.

**Terminology**

|**Term**|**Description**|
| :- | :- |
|**New Features**|These items are new to this release|
|**Changes/Issues Fixed**|Changes made to existing features found in previous software releases.|
||Enhancements to existing product flow and feature set.|
||Bug fixes done in the release|
|**Deprecated Items**|Features or functions or APIs that are removed from the distributed release to align with the software roadmap|
|**Known Issues**|Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases|
|**Limitations/Recommendations**|Describes the limitations on product usage and recommendations for optimal use cases|

**Note**

- Change SPI frequency to 12.5Mhz while measuring BLE throughput with EFR32

<br>

**WiSeConnect3\_SDK\_3.3.1-rc1 Release Notes**

This SDK package supports SoC Mode and NCP Mode for B0:

- In SoC Mode: Customer applications can run on Cortex M4. Wireless, network, and security stacks run on the wireless subsystem.
- In NCP mode: Wireless, network, and security stacks run on the Wireless subsystem. Customer applications run on the external host MCU.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

**Note**: Use Simplicity Studio version SV5.8.0.1 onwards

**SoC Highlights**

- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support ultra low power Wi-Fi standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode
- **MCU examples** : GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers, Config Timers, ULP (Ultra Low Power) Timers, Sleeptimer, IOSTREAM, NVM3, MEMLCD, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, Sensorhub, Joystick, Relative Humidity and Temperature sensor (RHT), Analog Comparator, Digital to Analog Converter and Temperature sensors (RO and BJT), CRC, LittleFS, Power Manager with RTOS
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE whitelisting, and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack, All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS client
- **IDE** : Simplicity Studio with Windows 10(64-bit), Linux, Mac OS
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** :
  - Si-MB4002A Main board
  - SiWx917 Radio boards

|**RadioBoard Type**|**SiWx917B0 with Board Version**|
| :- | :- |
|Common flash|Si917-BRD4338A(2.0)|
|Dual flash|Si917-BRD4339B(2.0)|
|External PSRAM|Si917-BRD4340A(2.0), Si917-BRD4342A(2.0)|
|Internal PSRAM|Si917-BRD4339A(2.0)|
|Dev Kit|Si917-2605A|

**NCP Highlights**

- **Host Interface** : SPI, UART
- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode.
- **Wi-Fi** : 2.4GHz Wi-Fi Support, WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE Whitelisting and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack , BLE Stack , All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS Client.
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **Hardware kits to evaluate NCP Mode**
  - NCP EFR Expansion Kit with NCP Radio board (BRD4338A(NCP MBR) + BRD8045A)
  - Wireless Pro kit Mainboard BRD4002A Rev A06
  - EFR32xG24 Wireless 2.4 GHz +10 dBm Radio Board xG24-RB4186C

**Release Details**

|**Item**|**Details**|
| :- | :- |
|Release date|July 16th, 2024|
|SDK Version|3.3.1-rc1|
|Firmware Version Standard|1711\.2.12.1.1.0.5|
|Firmware Version Lite|1711\.2.12.1.1.2.5|
|Package Name|WiSeConnect3\_SDK\_3.3.1-rc1|
|GSDK Version | SiSDK-2024.6.1|
|Supported RTOS|FreeRTOS|
|Operating Modes Supported|Wi-Fi STA, Wi-Fi AP, Wi-Fi STA+BLE, Wi-Fi STA+AP|
|Build Quality|GA|

- SiWx917 release consists of two components
  - Wireless Firmware - SiWx917 Firmware Binaries
  - Wiseconnect3 Library - Wiseconnect3 SDK library runs on the external host in NCP mode and internal Cortex M4 in SoC Mode.
- This release is meant only for use with designs based on SiWx917 Silicon
- The firmware to load is available in the following format:
  - SiWG917-B.2.12.1.x.0.x.rps - B0 Full-featured firmware binary
  - SiWG917-B.2.12.1.x.2.x.rps - B0 lite firmware binary

**Features Supported**

**Sensorhub service**

- Support for ADC, SPI, SDC and I2C based sensors
- Support for PS2
- Support added for SDC

**MCU**

- ADC Single Channel, ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, GPIO, GSPI, I2C, I2S, NVM3, OPAMP, PSRAM, PWM, QEI, RTC, SDIO Secondary, SSI Master and Slave, UART, Micro DMA, USART, Watchdog Timer, Temperature Sensors (RO and BJT), USART Master and Slave, CRC
- UC Supported Peripherals - GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers , Config Timers, ULP (Ultra Low Power) Timers, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, MEMLCD, Analog Comparator and Digital to Analog Converter.
- Services - Sleeptimer, IOSTREAM, NVM3, Power Manager, LittleFS, Pin Tool (support for USART, I2C, SSI, GSPI, SIO, SCT, PWM, I2S, ADC, DAC and Analog Comparator)
- ULP (Ultra Low Power) Peripherals - ulp\_adc, ulp\_calender, ulp\_dac, ulp\_gpio, ulp\_i2c, ulp\_i2s, ulp\_timer, ulp\_uart, ulp\_dma
- Extended flash write support for NWP flash region and added read api to read from NWP flash region
- List of OPN's supported si917-sb00, siwg917m111mgtba, siwg917m100mgtba, siwg917m111xgtba, siwg917m121xgtba, siwg917m110lgtba and siwg917m141xgtba
- Support added for SiWG917 Dev Kit Board (BRD2605A)
- Added APIs to configure M4 SoC Clock, PLL clocks, read M4 SoC Clock

**Wi-Fi**

- WPA2/WPA3 Personal, WPS and WPA2-EAP Support for Station Mode
- TCP/IP stack with IPv4, IPv6, TCP, UDP, TLS, HTTP/HTTPS, DHCPv4, DHCPv6, MQTT Client, DNS Client, SNTP client.
- Support for SSL client versions TLSV1.0, TLSV1.2, TLSV1.3 and SSL server versions TLSV1.0 and TLSV1.2
- Wi-Fi STA (802.11n/802.11ax) + 802.11n AP Support
- HE (802.11ax) and Individual TWT Feature Support
- Multiple BSSID feature support as an STA
- Secure OTA support on B0 radio boards.
- Support for LWIP network stack
- Support for AWS MQTT library
- Support for Azure MQTT library
- Support for BSD and IoT sockets application programming interface(API)
- Support added to change the listen interval after association with Access Point
- New API sl_si91x_fwup_abort added to support aborting firmware upgrade
- Added feature to support Gain offset calibration in channel 14

**Bluetooth Low Energy**

- BLE central & peripheral connections are supported.
- Ultra-low power save is supported.

**Power Save**

- Max PSP, enhanced MAX PSP, Fast PSP, and 802.11ax TWT power save modes are supported in WiFi.
- Only Max PSP power save mode is supported in BLE

**Crypto Support**

- AES, SHA, AES-CCM, HMAC, GCM, Chacha-poly, ECDH and TRNG FW Crypto API support added.
- PSA enabled Mbed TLS support added
- NVM support added for key storage
- Symmetric and asymmetric key storage
- TRNG, AES, SHA, HMAC, GCM, Chacha-poly, ECDH and AES-CCM hardware crypto engine is integrated with PSA crypto.

**Changes and Fixes**

**MCU**
- None

**SDK**

- Fixed Wi-Fi init failure with error 0x1ff82(FEATURE_NOT_AVAILABLE) for custom OPN's(SiWN917CZ100GNBA ,SiWN917CZ101GNBA) [SI91X-16411]

**Wi-Fi & Network Stack**

- None

**BLE**

- None

**CoEx**

- None

**System**

- None

**Recommendations**

**System**

- The current revision of SiWx917 B0 has:
  - RAM memory of 672k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_672K\_M4SS\_0K- This mode configures TA with 672k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By default EXT\_FEAT\_352K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_480K\_M4SS\_192K - This mode configures TA with 480k and M4 with 192K bytes of memory
    - EXT\_FEAT\_416K\_M4SS\_256K - This mode configures TA with 416k and M4 with 256K bytes of memory
    - EXT\_FEAT\_352K\_M4SS\_320K - This mode configures TA with 352k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 672K\_M4SS\_0K.
  - SoC mode should not use 672k\_M4SS\_0k memory configuration.
- Set the recommended Power Save Profile (PSP) type to Enhanced Max PSP.

**IDE**

- Download the latest version of Simplicity Studio
- Refer to the latest version of the SoC/NCP "Getting-Started-with-SiWx917" guide for more details

**Wi-Fi & Network Stack****

- The recommended embedded MQTT Publish payload is 1 kBytes.
- It is recommended to enable bit 16 of the 'Extended TCP IP Feature' bit map in the opermode command for all Wi-Fi Socket operations from the host to ensure graceful handling during asynchronous closures from the peer.
- Aggregation (bit 2 of feature\_bit\_map) is recommended to be enabled in opermode. This enables software to aggregate multiple packets to achieve better throughput
- TCP retransmission count value is recommended to be 30 or higher so that the TCP does not disconnect while the rejoin happens.
- To restart the module, the application needs to call sl\_wifi\_deinit() followed by sl\_wifi\_init().
- Register 'Join Fail Callback' function every time when join is called, as in the rejoin failure path the callback is deregistered. If not done, this might result in a scan not functioning on rejoin failure.
- User can enable SL\_SI91X\_EXT\_TCP\_IP\_SSL\_16K\_RECORD in 'Extended TCP IP Feature'bit map in opermode, if HTTPS download is failing after receiving HTTP headers..
- iTWT setup is recommended after IP assignment/TCP connection/application specific socket connections.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, increase TCP / ARP Timeouts at the remote side depending upon the configured TWT interval configured.
- In case of TWT+coex, when using sl\_wifi\_enable\_target\_wakeup\_time API, use TWT wake duration <= 16 ms and TWT wake interval >= 1 sec. If wake duration > 16 ms or TWT wake interval < 1sec, there might be performance issues.
- For iTWT GTK Interval Should be kept max possible value or zero. If GTK interval is not configurable, recommended TWT interval (in case of sl\_wifi\_enable\_target\_wakeup\_time API) or RX Latency (in case of sl\_wifi\_target\_wake\_time\_auto\_selection API) is less than 4sec.
- Disable Power Save for High Throughput Applications.
- The application needs to ensure that it sets RTC with the correct timestamp when the feature is enabled before establishing the SSL connection.
- The timeout value should not be less than 1 second for socket select and socket receive calls. Timeout value of less than 1 second is not currently supported.
- When sl\_wifi\_enable\_target\_wakeup\_time API is used, configuring TWT Wake interval beyond 1 min might lead to disconnections from the AP. Recommended to use TWT wakeup interval of less than or equal to 1 min.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, it is recommended to set missed\_beacon\_count of sl\_wifi\_set\_advanced\_client\_configuration API greater than 2 times of the configured TWT Interval.
- Disable power save and suspend any active TWT sessions before triggering HTTP OTAF.
- It is recommended to enable bit 31 of the 'TCP IP Feature' bit map in the opermode command to support multicast protocol

**BLE**

- In BLE, the recommended range of Connection Interval in
  - Power Save (BLE Only) - 100 ms to 1.28 s.
- In BLE, during Connection, the configuration of Scan Interval and Scan Window with the same value is not recommended. The suggested ratio of Scan Window to Scan Interval is 3:4.
- In BLE, if a device is acting as Central, the scan window (in set\_scan\_params and create\_connection commands) must be less than the existing Connection Interval. The suggested ratio of Scan Window to Connection Interval is 2:3.
- In BLE mode, if scanning and advertising are in progress on the SiWx91x module and it subsequently gets connected and moves to the central role, scanning stops else if it moves to the peripheral role, advertising stops. To further establish a connection to another peripheral device or to a central device, the application should give a command for starting advertising and scanning again.

**Co-Existence**

- For concurrent Wi-Fi + BLE, and while a Wi-Fi connection is active, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
- Wi-Fi + BLE Advertising
  - All standard advertising intervals are supported. As Wi-Fi throughput is increased, a slight difference in on-air advertisements compared to configured intervals may be observed.
  - BLE advertising is skipped if the advertising interval collides with Wi-Fi activity.
- Wi-Fi + BLE scanning
  - All standard scan intervals are supported. For better scan results, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
  - BLE scanning will be stopped for intervals that collide with Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Connections
  - All standard connection intervals are supported.
  - For a stable connection, use optimal connection intervals and max supervision timeout in the presence of Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Data Transfer
  - To achieve higher throughput for both Wi-Fi and BLE, use medium connection intervals, such as 45 to 80 ms with maximum supervision timeout.
  - Ensure Wi-Fi activity consumes lower intervals.

**MCU**

- It is not recommended to use the RO clock for Clock Configuration
- PSRAM examples are not supposed to be used with Non-PSRAM OPNs
- By default SYSrtc and wake on wireless wakeup resources enabled, please do not reinstall these two wakeup sources when tickless idle mode is enabled
- Minimum idle-time to Sleep 100ms, as configured in FreeRtos_config.h
- Recommended to enable DMA for better throughput numbers
- For I2C Fastplus and High speed modes, it is recommended to use High power instances from 80Mhz to 180Mhz core clock
- Not recommended to use switch_m4_frequency() for clock scaling. Refer to migration guide for more details on this
- When using this 32MHz source for the PLL, limit the maximum clock to 160MHz
- In RTOS environment, prefer Signaling mechanisms (Semaphore/Mutex/EventFlag etc.) instead of "Variables/Flags" from user callbacks to detect "*Transfer Complete*" for high speed communication peripherals
  - Refer Software Reference Manual for more details

**Known Issues**

**Sensorhub**

- Support for ADC FIFO Mode and Multi channel is open
- PS1-state supports only ADC sensor
- Power transitions with AWS are not stable in Sensorhub
- The process of integrating the tickless component and power manager service into the Sensorhub app is currently underway

**Network Stack**

- Sometimes during SSL Handshake, ECC curve parameters generated are wrong, resulting in connection failure with BBD2 error. However, this recovers in the next attempt.
- Randomize the client port if using rapid connect/disconnect of the MQTT session on the same client port with the power save.
- Secure SSL renegotiation not supported in Embedded Networking Stack.
- Disable power save before making TCP connection for NCP-UART interface.
- In concurrent mode, if IP is configured for AP mode ahead of STA mode then IPv6 configuration may fail for STA mode.
- In concurrent mode, data transfer using the Link-local address will always use the first IP interface created by the application.

**Wi-Fi**

- TWT device (STA) may not go to sleep in between TWT intervals in case of burst data traffics with data size more than the configured 'average tx throughput', until completion of data transfer.
- There are performance and IOP issues with MU MIMO.
- WPA3 Connection with the Hunting and Pecking algorithm takes about 3-4 seconds.
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.
- Low Wi-Fi+BLE throughput
- TCP/UDP TX/RX Data stall observed in CoEx scenarios
- Observed HTTPS Continuous download fails with TA Power save
- Performance improvements are in progress for lower performance metrics.
- Observed interop issue (connectivity failure) with few AP's when device reset/reboot happens on active connection.
- In concurrent mode, AP restart fails after stopping it with ap\_stop command.
- DUT deep sleep will not work after stopping AP with ap\_stop command.
- Unable to get SNTP async events when coex mode and Power save is enabled
- Fine Tuning 802.11ax Spectral mask in Progress
- Fine Tuning 11b mask in Ch11 in progress
- DUT is unable to connect to the AP with WPA3 security when we enable coex mode (WLAN+BLE) in opermode
- Socket listen API is failing from the second iteration
- Disconnections observed with Netgear RAX120 AP in WPA3 security
- Observed connection failures with some AP's in more channel congestion open lab environment
- Firmware Upgrade example is not working in PSRAM boards
- deep sleep example is not supported with power manager

**BLE**

- HID profile data transfer is not working, when power save is enabled in SoC.
- BLE reconnection is not working in ble_multiconnection_gatt demo, when power save is enabled in SoC
- BLE throughputs are less with STM32 compared to EFR

**Co-Existence**

- Observed HTTP continuous download is not happening in Powersave mode after BLE connection established using wifi\_https\_ble\_dual\_role application
- Observed DUT hang while Wi-Fi UDP/TCP Tx and BLE continuous scan.

**System**

- BRD8045A and BRD8045C does not have CTS and RTS pins routed from SiWx917 NCP, which are used for UART flow control

**MCU**

- Refer to the respective Radio board user guides for specific pinout details. Examples are targeted to a specific version mentioned in the respective readme
- Few(BOD and Comparator) wakeup resources are not working as expected in Power manager service
- Observed RO and BJT Temperature values are not as expected
- Character Timeout feature for all communication protocols is not supported
- UART instances does not support different FIFO Thresholds
- NVM3 dual flash application is not working as expected in the current release.
- ULP_I2C does not function as expected in low power mode when DMA is enabled
- Powersave Deep Sleep example for the siwg917m110lgtba OPN requires the installation of the device_need_ram_execution component.
- Sometimes TA processor hang occurs when M4 used XTAL clock with sleep enabled.
- In ULP SSI application, non-dma transfer is not working as expected.

**Limitations and Unsupported Features**

**SDK**

- WiSeConnect3_SDK_3.1.3 and later versions are not compatible with firmware versions prior to 1711.2.10.1.2.0.4, due to enhancements in max transmit power configuration during Wi-Fi join/connection, need to be cautious while doing OTA firmware upgrade.

**Wi-Fi/Network Stack**

- TLS 1.3 Server is not supported
- In AP mode, IPv6 Router Advertisements are not supported. Although STA connected to the APUT can transfer IPv6 data to the peers by using SLAAC for address configuration.
- When sl\_wifi\_enable\_target\_wake\_time() API is used, observed occasional MQTT disconnections with longer TWT intervals (>30secs) with embedded MQTT + TWT.
- AMSDU TX is not supported.
- Fragmentation is not supported.
- AMSDUs within AMPDU is not supported.
- Currently, the module does not support Radio Measurement Requests feature of CCX V2
- 802.11k is not supported
- 40 MHz bandwidth for 2.4 GHz band is not supported.
- 802.11J channel 14 is not supported.
- MQTT versions 3 and 4 are supported.
- Maximum of 3 SSL connections are supported.
- In SSL ECC Curve ID supported is 23. SSL handshake with 3rd party clients depends on the SSL ECC Curve ID.
- LP mode is not supported.
- In iTWT mode, downlink data traffic should be limited. Disconnections may be observed if AP fails to send all the buffered data in the next TWT Service Period.
- Number of MBSSIDs processed is limited by the beacon length that can be processed by the stack (which is limited to 1024 bytes). Beacons greater than 1024 Bytes in length will not be processed.
- CoEx + EAP Security in 352K/320k is not feasible. This issue is observed due to a lack of memory in the 352k/320k Memory Configuration. It is supported with other EXT\_FEAT\_416K\_M4SS\_256K and EXT\_FEAT\_480K\_M4SS\_192K memory configurations.
- UL MUMIMO is not supported.
- The embedded HTTP server is not supported.
- Baremetal is not supported.
- Compared to SoC mode, NCP mode has fewer examples, but more will be enabled in upcoming releases.
- Maximum Supported length for Embedded MQTT username up to 120 bytes , topic length up to 200 bytes and password upto 62 bytes.
- UART 2 Debug prints are supported only on ULP_GPIO_9.
- WOW LAN feature is not supported.
- SA Query procedure is not supported in AP mode.
- Maximum Supported length for HTTP GET URL is up to 2048 bytes.
- Azure SDK with embedded MQTT is not supported.
- Power save is not supported in Azure MQTT.
- MDNS service discovery is currently not supported.
- sli_si91x_accept_async is not thread-safe
- Observed some background compatibility issues with coex and http in few corner cases
- AP mode does not support Tx and Rx aggregation in Concurrent mode.
- Concurrent STA mode, Rx aggregation is not supported. Tx aggregation is supported but it is not recommended.
- AP standalone mode does not support Tx aggregation. Rx aggregation is supported with limited number of BA sessions.

**BLE**

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.
- BLE TX/RX throughput is less when tested with EFM as compared to EFR
- Maximum supported AE data length is 200 bytes.
- Supports only two ADV\_EXT sets.
- Supports only two BLE connections (1 Central and 1 Peripheral) with AE.
- Advertising Extension feature is not supported in Coexistence.
- The  ae\_central & ae\_peripheral applications are not supported with TA\_352K\_M4\_320K RAM configuration.
- Setting PLL mode as 1 is not supported in Coexistence

**MCU**

- Manual chip select option is not supported when using GSPI.
- Following peripherals/features are not functioning as expected
    - ADC Multichannel, SSI Dual and Quad mode, SIO and Temp sensors
- LittleFS example support is intended to work only with Dual flash
- PS1 state is not supported in Power Manager
- Power is same for PS4 and PS3 states with powersave mode of power manager
- When using Button_0 as wakeup source, it limits the button functionality at application layer. For using Button_0 for application specific functionality, enable 'SL_SI91X_NPSS_GPIO_BTN_HANDLER'
- XTAL 40MHz clock as a reference clock is not supported

**System**
- TA Connected sleep and M4 PS2 is not a possible mode of operation
- M4 PS2 active and sleep is not a possible mode when SL_SI91X_EXT_FEAT_FRONT_END_SWITCH_PINS_ULP_GPIO_4_5_0 is enabled in SoC mode

**Simplicity Studio and Commander**

- Default GDB debug configuration is not supported for SoC projects, work around details provided in "Getting-Started-with-SiWx917"
- Observing flash download failures(ERROR 108) for a few image sizes
- While creating project through Simplicity Studio, "copy contents" option not supported.
- Simplicity commander does not support options under "Debug Lock tools".
- All projects in the package are compatible with GCC 10.3.1 version.

**Terminology**

|**Term**|**Description**|
| :- | :- |
|**New Features**|These items are new to this release|
|**Changes/Issues Fixed**|Changes made to existing features found in previous software releases.|
||Enhancements to existing product flow and feature set.|
||Bug fixes done in the release|
|**Deprecated Items**|Features or functions or APIs that are removed from the distributed release to align with the software roadmap|
|**Known Issues**|Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases|
|**Limitations/Recommendations**|Describes the limitations on product usage and recommendations for optimal use cases|

**Note**

- Change SPI frequency to 12.5Mhz while measuring BLE throughput with EFR32

<br>

**WiSeConnect3\_SDK\_3.3.1-fc Release Notes**

This SDK package supports SoC Mode and NCP Mode for B0:

- In SoC Mode: Customer applications can run on Cortex M4. Wireless, network, and security stacks run on the wireless subsystem.
- In NCP mode: Wireless, network, and security stacks run on the Wireless subsystem. Customer applications run on the external host MCU.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

**Note**: Use Simplicity Studio version SV5.8.0.1 onwards

**SoC Highlights**

- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support ultra low power Wi-Fi standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode
- **MCU examples** : GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers, Config Timers, ULP (Ultra Low Power) Timers, Sleeptimer, IOSTREAM, NVM3, MEMLCD, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, Sensorhub, Joystick, Relative Humidity and Temperature sensor (RHT), Analog Comparator, Digital to Analog Converter and Temperature sensors (RO and BJT), CRC, LittleFS, Power Manager with RTOS
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE whitelisting, and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack, All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS client
- **IDE** : Simplicity Studio with Windows 10(64-bit), Linux, Mac OS
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** :
  - Si-MB4002A Main board
  - SiWx917 Radio boards

|**RadioBoard Type**|**SiWx917B0 with Board Version**|
| :- | :- |
|Common flash|Si917-BRD4338A(2.0)|
|Dual flash|Si917-BRD4339B(2.0)|
|External PSRAM|Si917-BRD4340A(2.0), Si917-BRD4342A(2.0)|
|Internal PSRAM|Si917-BRD4339A(2.0)|
|Dev Kit|Si917-2605A|

**NCP Highlights**

- **Host Interface** : SPI, UART
- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode.
- **Wi-Fi** : 2.4GHz Wi-Fi Support, WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE Whitelisting and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack , BLE Stack , All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS Client.
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **Hardware kits to evaluate NCP Mode**
  - NCP EFR Expansion Kit with NCP Radio board (BRD4338A(NCP MBR) + BRD8045A)
  - Wireless Pro kit Mainboard BRD4002A Rev A06
  - EFR32xG24 Wireless 2.4 GHz +10 dBm Radio Board xG24-RB4186C

**Release Details**

|**Item**|**Details**|
| :- | :- |
|Release date|July 12th, 2024|
|SDK Version|3.3.1-fc|
|Firmware Version Standard|1711\.2.12.1.1.0.5|
|Firmware Version Lite|1711\.2.12.1.1.2.5|
|Package Name|WiSeConnect3\_SDK\_3.3.1-fc|
|GSDK Version | SiSDK-2024.6.0 |
|Supported RTOS|FreeRTOS|
|Operating Modes Supported|Wi-Fi STA, Wi-Fi AP, Wi-Fi STA+BLE, Wi-Fi STA+AP|
|Build Quality|GA|

- SiWx917 release consists of two components
  - Wireless Firmware - SiWx917 Firmware Binaries
  - Wiseconnect3 Library - Wiseconnect3 SDK library runs on the external host in NCP mode and internal Cortex M4 in SoC Mode.
- This release is meant only for use with designs based on SiWx917 Silicon
- The firmware to load is available in the following format:
  - SiWG917-B.2.12.1.x.0.x.rps - B0 Full-featured firmware binary
  - SiWG917-B.2.12.1.x.2.x.rps - B0 lite firmware binary

**Features Supported**

**Sensorhub service**

- Support for ADC, SPI, SDC and I2C based sensors
- Support for PS2
- Support added for SDC

**MCU**

- ADC Single Channel, ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, GPIO, GSPI, I2C, I2S, NVM3, OPAMP, PSRAM, PWM, QEI, RTC, SDIO Secondary, SSI Master and Slave, UART, Micro DMA, USART, Watchdog Timer, Temperature Sensors (RO and BJT), USART Master and Slave, CRC
- UC Supported Peripherals - GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers , Config Timers, ULP (Ultra Low Power) Timers, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, MEMLCD, Analog Comparator and Digital to Analog Converter.
- Services - Sleeptimer, IOSTREAM, NVM3, Power Manager, LittleFS, Pin Tool (support for USART, I2C, SSI, GSPI, SIO, SCT, PWM, I2S, ADC, DAC and Analog Comparator)
- ULP (Ultra Low Power) Peripherals - ulp\_adc, ulp\_calender, ulp\_dac, ulp\_gpio, ulp\_i2c, ulp\_i2s, ulp\_timer, ulp\_uart, ulp\_dma
- Extended flash write support for NWP flash region and added read api to read from NWP flash region
- List of OPN's supported si917-sb00, siwg917m111mgtba, siwg917m100mgtba, siwg917m111xgtba, siwg917m121xgtba, siwg917m110lgtba and siwg917m141xgtba
- Support added for SiWG917 Dev Kit Board (BRD2605A)
- Added APIs to configure M4 SoC Clock, PLL clocks, read M4 SoC Clock

**Wi-Fi**

- WPA2/WPA3 Personal, WPS and WPA2-EAP Support for Station Mode
- TCP/IP stack with IPv4, IPv6, TCP, UDP, TLS, HTTP/HTTPS, DHCPv4, DHCPv6, MQTT Client, DNS Client, SNTP client.
- Support for SSL client versions TLSV1.0, TLSV1.2, TLSV1.3 and SSL server versions TLSV1.0 and TLSV1.2
- Wi-Fi STA (802.11n/802.11ax) + 802.11n AP Support
- HE (802.11ax) and Individual TWT Feature Support
- Multiple BSSID feature support as an STA
- Secure OTA support on B0 radio boards.
- Support for LWIP network stack
- Support for AWS MQTT library
- Support for Azure MQTT library
- Support for BSD and IoT sockets application programming interface(API)
- Support added to change the listen interval after association with Access Point
- New API sl_si91x_fwup_abort added to support aborting firmware upgrade
- Added feature to support Gain offset calibration in channel 14

**Bluetooth Low Energy**

- BLE central & peripheral connections are supported.
- Ultra-low power save is supported.

**Power Save**

- Max PSP, enhanced MAX PSP, Fast PSP, and 802.11ax TWT power save modes are supported in WiFi.
- Only Max PSP power save mode is supported in BLE

**Crypto Support**

- AES, SHA, AES-CCM, HMAC, GCM, Chacha-poly, ECDH and TRNG FW Crypto API support added.
- PSA enabled Mbed TLS support added
- NVM support added for key storage
- Symmetric and asymmetric key storage
- TRNG, AES, SHA, HMAC, GCM, Chacha-poly, ECDH and AES-CCM hardware crypto engine is integrated with PSA crypto.

**Changes and Fixes**

**MCU**

- Added Watchdog feature in the SDK as part of WDT manager Phase-1 support [RSCDEV-29270]
- Enabled different wakeup configurations in power manager [RSCDEV-27883]
- Fixed compilation issues for si70xx application on different boards [RSCDEV-28201]
- Added note for using ulp memory buffer for ulp peripheral instances [RSCDEV-30243]
- Pin tool changes corresponding to 24q2 patch 1 gsdk changes [RSCDEV-30147,RSCDEV-30019,RSCDEV-30018,RSCDEV-29944]
- Removed Hardware setup API from all power save application which uses sllib_m4_power_save.slcc component [RSCDEV-26919/SI91X-16251]
- Resolved data transmission issue while configuring the pins using .pintool file in USART0 and UART1 examples [SI91X-16107]
- Resolved NPSS GPIOs wakeup issue in Wi-Fi Client BLE Provisioning with AWS [SI91X-16293]
- Added back and resolved the ULP SSI example issue [SI91X-16098]
- Added freertos check before the power manager checks [SI91X-16331]
- Added new API for soc reset [SI91X-15938]
- Added the stand by power save check before updating the M4 Sleep bit [SI91X-16320]
- Resolved BTN1 issue in dev kit [SI91X-15772]
- Corrected RAM banks peri powerdown in ram retention API [SI91X-15866]
- Resolved Default Combo Application issue [SI91X-16064]
- Resolved Button baremetal application issue(LED does not turn on) in OPN (111x) [SI91X-16328]
- Resolved I2C master and slave applications issue with OPN (111x,141x) [SI91X-16324]
- Resolved the issue where the flag was not being updated when polled within a task, even osDelay osDelay is introduced in UULP IRQ handle [SI91X-16303]
- The issue where LCD and led0 could not be used simultaneously has been resolved [SI91X-16049]
- Resolved Power domain conflict(HW Setup) issue with multiple components [SI91X-16339]
- Resolved ULP_ADC Multichannel example Channel 3 issue [SI91X-16105]
- Resolved SL_GPIO application issue with 111x,141x OPNs [SI91X-16327]
- Updated Max data size in NVM3 dual flash application [SI91X-14489]
- Resolved NVM3 default example issue with 111x, 141x OPNs [SI91X-16375]
- Enabled RC clock for the module boards [SI91X-16346]
- Moved rc trim efuse from ADC driver to application layer [SI91X-16165]
- Provided fix for reconfiguration of Ram retention and added front switch control feature in wifi structure in application [SI91X-16370]
- Fixed data transmission issue while configuring in I2C in SIO application [SI91X-13491]

**SDK**

- Enhanced all power save demos with Enhanced Max PSP feature [SI91X-15926]
- Added support for static ip address in LWIP port [RSCDEV-29987]
- Added tickless idle powersave for wifi_azure_iot_soc example [RSCDEV-29783]
- Updated redme files, added minor chnages in iperf description in required example [RSCDEV-26298]
- Added comments for featured examples (firmware update, low power-> power_save_deep_sleep) [RSCDEV-26299]
- Updated "data_callback signature for async sockets" [SI91X-16313]
- Added remote terminate Support for fixing the Socket reconnection delay in twt_use_case_demo [SI91X-15274]
- Replaced the Additional Status Codes with WiSeConnect Status Codes [RSCDEV-29267]
- Added support in the Azure IoT example to publish messages continuously [SI91X-16209]
- Added out_of_box_demo rps to demos folder for BRD4338A, BRD4339A, BRD2605A boards [SI91X-16289]
- Added certificate index and TLS configuration for mqtts [RSCDEV-29344]
- Enhanced Doxygen documentation for sl_wifi_init and sl_wifi_deinit functions [RSCDEV-29224]
- Added "Embedded Sensor Demo - SiWG917" Demo tiles for brd2605a [RSCDEV-29429]
- Updated NCP mode interface details for example readmes [RSCDEV-29134]
- Fixed sl_si91x_select API is blocking when configure socket_select timeout to '0' [SI91X-16273]
- Updated mDNS documentation [RSCDEV-29203]
- Fixed issue with HTTPS download which is getting terminated with wifi_https_ble_dual_role_v6 application [SI91X-15927]
- Fixed matter issue where sl_wifi_init is failing with status 0x7 [SI91X-16335]
- Changed si91x_rsp_socket_recv_t structure naming convention to sl_si91x_socket_metadata_t [SI91X-16313]
- Fixed issues related to NCP UART build configuration [SI91X-16027]
- Fixed issue with MSS(Maximum segment size) SIZE error handling mechanism [SI91X-15492]
- Updated the script to upload logs to artifactory incase of failure[RSCDEV-30168]
- Embedded MQTT getting failed with this commit issue will resolve [SI91X-16397]
- Enhanced max PSP fix [SI91X-15926]
- SQA Bugs: SI91X-16289, SI91X-16273, SI91X-15927, SI91X-15492, SI91X-16027, SI91X-15912, SI91X-15932, SI91X-16069

**Wi-Fi & Network Stack**

- Added Certificate index and TLS version configuration for MQTTs socket
- Reduction of XTAL Good time and optimizing it back(RSCDEV-29111)
- Watch dog added in SoC mode (RSCDEV-29112)
- SQA Bugs: SI91X-16242 ,SI91X-13937, SI91X-15828, SI91X-15738, SI91X-16325, SI91X-16018

**BLE**

- Resolved issue where the disconnect event was not received, when initiate disconnect from both remote devices(1Master+1Slave) with TA & M4 power save enabled.
- Resolved high average current issue with 121X and 141X(PSRAM) OPN's
- Resolved response timeout error(0xFFFFFFE2) issue, when running ble_heart_rate_profile_soc demo with notification enabled.
- Resolved BLE scan stop issue in SoC mode.
- Resolved BLE dual role hang issue in SoC mode

**CoEx**

- None

**System**

- None

**Recommendations**

**System**

- The current revision of SiWx917 B0 has:
  - RAM memory of 672k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_672K\_M4SS\_0K- This mode configures TA with 672k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By default EXT\_FEAT\_352K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_480K\_M4SS\_192K - This mode configures TA with 480k and M4 with 192K bytes of memory
    - EXT\_FEAT\_416K\_M4SS\_256K - This mode configures TA with 416k and M4 with 256K bytes of memory
    - EXT\_FEAT\_352K\_M4SS\_320K - This mode configures TA with 352k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 672K\_M4SS\_0K.
  - SoC mode should not use 672k\_M4SS\_0k memory configuration.
- Set the recommended Power Save Profile (PSP) type to Enhanced Max PSP.

**IDE**

- Download the latest version of Simplicity Studio
- Refer to the latest version of the SoC/NCP "Getting-Started-with-SiWx917" guide for more details

**Wi-Fi & Network Stack****

- The recommended embedded MQTT Publish payload is 1 kBytes.
- It is recommended to enable bit 16 of the 'Extended TCP IP Feature' bit map in the opermode command for all Wi-Fi Socket operations from the host to ensure graceful handling during asynchronous closures from the peer.
- Aggregation (bit 2 of feature\_bit\_map) is recommended to be enabled in opermode. This enables software to aggregate multiple packets to achieve better throughput
- TCP retransmission count value is recommended to be 30 or higher so that the TCP does not disconnect while the rejoin happens.
- To restart the module, the application needs to call sl\_wifi\_deinit() followed by sl\_wifi\_init().
- Register 'Join Fail Callback' function every time when join is called, as in the rejoin failure path the callback is deregistered. If not done, this might result in a scan not functioning on rejoin failure.
- User can enable SL\_SI91X\_EXT\_TCP\_IP\_SSL\_16K\_RECORD in 'Extended TCP IP Feature'bit map in opermode, if HTTPS download is failing after receiving HTTP headers..
- iTWT setup is recommended after IP assignment/TCP connection/application specific socket connections.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, increase TCP / ARP Timeouts at the remote side depending upon the configured TWT interval configured.
- In case of TWT+coex, when using sl\_wifi\_enable\_target\_wakeup\_time API, use TWT wake duration <= 16 ms and TWT wake interval >= 1 sec. If wake duration > 16 ms or TWT wake interval < 1sec, there might be performance issues.
- For iTWT GTK Interval Should be kept max possible value or zero. If GTK interval is not configurable, recommended TWT interval (in case of sl\_wifi\_enable\_target\_wakeup\_time API) or RX Latency (in case of sl\_wifi\_target\_wake\_time\_auto\_selection API) is less than 4sec.
- Disable Power Save for High Throughput Applications.
- The application needs to ensure that it sets RTC with the correct timestamp when the feature is enabled before establishing the SSL connection.
- The timeout value should not be less than 1 second for socket select and socket receive calls. Timeout value of less than 1 second is not currently supported.
- When sl\_wifi\_enable\_target\_wakeup\_time API is used, configuring TWT Wake interval beyond 1 min might lead to disconnections from the AP. Recommended to use TWT wakeup interval of less than or equal to 1 min.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, it is recommended to set missed\_beacon\_count of sl\_wifi\_set\_advanced\_client\_configuration API greater than 2 times of the configured TWT Interval.
- Disable power save and suspend any active TWT sessions before triggering HTTP OTAF.
- It is recommended to enable bit 31 of the 'TCP IP Feature' bit map in the opermode command to support multicast protocol

**BLE**

- In BLE, the recommended range of Connection Interval in
  - Power Save (BLE Only) - 100 ms to 1.28 s.
- In BLE, during Connection, the configuration of Scan Interval and Scan Window with the same value is not recommended. The suggested ratio of Scan Window to Scan Interval is 3:4.
- In BLE, if a device is acting as Central, the scan window (in set\_scan\_params and create\_connection commands) must be less than the existing Connection Interval. The suggested ratio of Scan Window to Connection Interval is 2:3.
- In BLE mode, if scanning and advertising are in progress on the SiWx91x module and it subsequently gets connected and moves to the central role, scanning stops else if it moves to the peripheral role, advertising stops. To further establish a connection to another peripheral device or to a central device, the application should give a command for starting advertising and scanning again.

**Co-Existence**

- For concurrent Wi-Fi + BLE, and while a Wi-Fi connection is active, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
- Wi-Fi + BLE Advertising
  - All standard advertising intervals are supported. As Wi-Fi throughput is increased, a slight difference in on-air advertisements compared to configured intervals may be observed.
  - BLE advertising is skipped if the advertising interval collides with Wi-Fi activity.
- Wi-Fi + BLE scanning
  - All standard scan intervals are supported. For better scan results, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
  - BLE scanning will be stopped for intervals that collide with Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Connections
  - All standard connection intervals are supported.
  - For a stable connection, use optimal connection intervals and max supervision timeout in the presence of Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Data Transfer
  - To achieve higher throughput for both Wi-Fi and BLE, use medium connection intervals, such as 45 to 80 ms with maximum supervision timeout.
  - Ensure Wi-Fi activity consumes lower intervals.

**MCU**

- It is not recommended to use the RO clock for Clock Configuration
- PSRAM examples are not supposed to be used with Non-PSRAM OPNs
- By default SYSrtc and wake on wireless wakeup resources enabled, please do not reinstall these two wakeup sources when tickless idle mode is enabled
- Minimum idle-time to Sleep 100ms, as configured in FreeRtos_config.h
- Recommended to enable DMA for better throughput numbers
- For I2C Fastplus and High speed modes, it is recommended to use High power instances from 80Mhz to 180Mhz core clock
- Not recommended to use switch_m4_frequency() for clock scaling. Refer to migration guide for more details on this
- When using this 32MHz source for the PLL, limit the maximum clock to 160MHz
- In RTOS environment, prefer Signaling mechanisms (Semaphore/Mutex/EventFlag etc.) instead of "Variables/Flags" from user callbacks to detect "*Transfer Complete*" for high speed communication peripherals
  - Refer Software Reference Manual for more details

**Known Issues**

**Sensorhub**

- Support for ADC FIFO Mode and Multi channel is open
- PS1-state supports only ADC sensor
- Power transitions with AWS are not stable in Sensorhub
- The process of integrating the tickless component and power manager service into the Sensorhub app is currently underway

**Network Stack**

- Sometimes during SSL Handshake, ECC curve parameters generated are wrong, resulting in connection failure with BBD2 error. However, this recovers in the next attempt.
- Randomize the client port if using rapid connect/disconnect of the MQTT session on the same client port with the power save.
- Secure SSL renegotiation not supported in Embedded Networking Stack.
- Disable power save before making TCP connection for NCP-UART interface.
- In concurrent mode, if IP is configured for AP mode ahead of STA mode then IPv6 configuration may fail for STA mode.
- In concurrent mode, data transfer using the Link-local address will always use the first IP interface created by the application.

**Wi-Fi**

- TWT device (STA) may not go to sleep in between TWT intervals in case of burst data traffics with data size more than the configured 'average tx throughput', until completion of data transfer.
- There are performance and IOP issues with MU MIMO.
- WPA3 Connection with the Hunting and Pecking algorithm takes about 3-4 seconds.
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.
- Low Wi-Fi+BLE throughput
- TCP/UDP TX/RX Data stall observed in CoEx scenarios
- Observed HTTPS Continuous download fails with TA Power save
- Performance improvements are in progress for lower performance metrics.
- Observed interop issue (connectivity failure) with few AP's when device reset/reboot happens on active connection.
- In concurrent mode, AP restart fails after stopping it with ap\_stop command.
- DUT deep sleep will not work after stopping AP with ap\_stop command.
- Unable to get SNTP async events when coex mode and Power save is enabled
- Fine Tuning 802.11ax Spectral mask in Progress
- Fine Tuning 11b mask in Ch11 in progress
- DUT is unable to connect to the AP with WPA3 security when we enable coex mode (WLAN+BLE) in opermode
- Socket listen API is failing from the second iteration
- Disconnections observed with Netgear RAX120 AP in WPA3 security
- Observed connection failures with some AP's in more channel congestion open lab environment
- Firmware Upgrade example is not working in PSRAM boards
- deep sleep example is not supported with power manager

**BLE**

- HID profile data transfer is not working, when power save is enabled in SoC.
- BLE reconnection is not working in ble_multiconnection_gatt demo, when power save is enabled in SoC
- BLE throughputs are less with STM32 compared to EFR

**Co-Existence**

- Observed HTTP continuous download is not happening in Powersave mode after BLE connection established using wifi\_https\_ble\_dual\_role application
- Observed DUT hang while Wi-Fi UDP/TCP Tx and BLE continuous scan.

**System**

- BRD8045A and BRD8045C does not have CTS and RTS pins routed from SiWx917 NCP, which are used for UART flow control

**MCU**

- Refer to the respective Radio board user guides for specific pinout details. Examples are targeted to a specific version mentioned in the respective readme
- Few(BOD and Comparator) wakeup resources are not working as expected in Power manager service
- Observed RO and BJT Temperature values are not as expected
- Character Timeout feature for all communication protocols is not supported
- UART instances does not support different FIFO Thresholds
- NVM3 dual flash application is not working as expected in the current release.
- ULP_I2C does not function as expected in low power mode when DMA is enabled
- Powersave Deep Sleep example for the siwg917m110lgtba OPN requires the installation of the device_need_ram_execution component.
- Sometimes TA processor hang occurs when M4 used XTAL clock with sleep enabled.
- In ULP SSI application, non-dma transfer is not working as expected.

**Limitations and Unsupported Features**

**SDK**

- WiSeConnect3_SDK_3.1.3 and later versions are not compatible with firmware versions prior to 1711.2.10.1.2.0.4, due to enhancements in max transmit power configuration during Wi-Fi join/connection, need to be cautious while doing OTA firmware upgrade.

**Wi-Fi/Network Stack**

- TLS 1.3 Server is not supported
- In AP mode, IPv6 Router Advertisements are not supported. Although STA connected to the APUT can transfer IPv6 data to the peers by using SLAAC for address configuration.
- When sl\_wifi\_enable\_target\_wake\_time() API is used, observed occasional MQTT disconnections with longer TWT intervals (>30secs) with embedded MQTT + TWT.
- AMSDU TX is not supported.
- Fragmentation is not supported.
- AMSDUs within AMPDU is not supported.
- Currently, the module does not support Radio Measurement Requests feature of CCX V2
- 802.11k is not supported
- 40 MHz bandwidth for 2.4 GHz band is not supported.
- 802.11J channel 14 is not supported.
- MQTT versions 3 and 4 are supported.
- Maximum of 3 SSL connections are supported.
- In SSL ECC Curve ID supported is 23. SSL handshake with 3rd party clients depends on the SSL ECC Curve ID.
- LP mode is not supported.
- In iTWT mode, downlink data traffic should be limited. Disconnections may be observed if AP fails to send all the buffered data in the next TWT Service Period.
- Number of MBSSIDs processed is limited by the beacon length that can be processed by the stack (which is limited to 1024 bytes). Beacons greater than 1024 Bytes in length will not be processed.
- CoEx + EAP Security in 352K/320k is not feasible. This issue is observed due to a lack of memory in the 352k/320k Memory Configuration. It is supported with other EXT\_FEAT\_416K\_M4SS\_256K and EXT\_FEAT\_480K\_M4SS\_192K memory configurations.
- UL MUMIMO is not supported.
- The embedded HTTP server is not supported.
- Baremetal is not supported.
- Compared to SoC mode, NCP mode has fewer examples, but more will be enabled in upcoming releases.
- Maximum Supported length for Embedded MQTT username up to 120 bytes , topic length up to 200 bytes and password upto 62 bytes.
- UART 2 Debug prints are supported only on ULP_GPIO_9.
- WOW LAN feature is not supported.
- SA Query procedure is not supported in AP mode.
- Maximum Supported length for HTTP GET URL is up to 2048 bytes.
- Azure SDK with embedded MQTT is not supported.
- Power save is not supported in Azure MQTT.
- MDNS service discovery is currently not supported.
- sli_si91x_accept_async is not thread-safe
- Observed some background compatibility issues with coex and http in few corner cases
- AP mode does not support Tx and Rx aggregation in Concurrent mode.
- Concurrent STA mode, Rx aggregation is not supported. Tx aggregation is supported but it is not recommended.
- AP standalone mode does not support Tx aggregation. Rx aggregation is supported with limited number of BA sessions.

**BLE**

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.
- BLE TX/RX throughput is less when tested with EFM as compared to EFR
- Maximum supported AE data length is 200 bytes.
- Supports only two ADV\_EXT sets.
- Supports only two BLE connections (1 Central and 1 Peripheral) with AE.
- Advertising Extension feature is not supported in Coexistence.
- The  ae\_central & ae\_peripheral applications are not supported with TA\_352K\_M4\_320K RAM configuration.
- Setting PLL mode as 1 is not supported in Coexistence

**MCU**

- Manual chip select option is not supported when using GSPI.
- Following peripherals/features are not functioning as expected
    - ADC Multichannel, SSI Dual and Quad mode, SIO and Temp sensors
- LittleFS example support is intended to work only with Dual flash
- PS1 state is not supported in Power Manager
- Power is same for PS4 and PS3 states with powersave mode of power manager
- When using Button_0 as wakeup source, it limits the button functionality at application layer. For using Button_0 for application specific functionality, enable 'SL_SI91X_NPSS_GPIO_BTN_HANDLER'
- XTAL 40MHz clock as a reference clock is not supported

**System**
- TA Connected sleep and M4 PS2 is not a possible mode of operation
- M4 PS2 active and sleep is not a possible mode when SL_SI91X_EXT_FEAT_FRONT_END_SWITCH_PINS_ULP_GPIO_4_5_0 is enabled in SoC mode

**Simplicity Studio and Commander**

- Default GDB debug configuration is not supported for SoC projects, work around details provided in "Getting-Started-with-SiWx917"
- Observing flash download failures(ERROR 108) for a few image sizes
- While creating project through Simplicity Studio, "copy contents" option not supported.
- Simplicity commander does not support options under "Debug Lock tools".
- All projects in the package are compatible with GCC 10.3.1 version.

**Terminology**

|**Term**|**Description**|
| :- | :- |
|**New Features**|These items are new to this release|
|**Changes/Issues Fixed**|Changes made to existing features found in previous software releases.|
||Enhancements to existing product flow and feature set.|
||Bug fixes done in the release|
|**Deprecated Items**|Features or functions or APIs that are removed from the distributed release to align with the software roadmap|
|**Known Issues**|Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases|
|**Limitations/Recommendations**|Describes the limitations on product usage and recommendations for optimal use cases|

**Note**

- Change SPI frequency to 12.5Mhz while measuring BLE throughput with EFR32

<br>

**WiSeConnect3\_SDK\_3.3.1-fc Release Notes**

This SDK package supports SoC Mode and NCP Mode for B0:

- In SoC Mode: Customer applications can run on Cortex M4. Wireless, network, and security stacks run on the wireless subsystem.
- In NCP mode: Wireless, network, and security stacks run on the Wireless subsystem. Customer applications run on the external host MCU.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

**Note**: Use Simplicity Studio version SV5.8.0.1 onwards

**SoC Highlights**

- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support ultra low power Wi-Fi standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode
- **MCU examples** : GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers, Config Timers, ULP (Ultra Low Power) Timers, Sleeptimer, IOSTREAM, NVM3, MEMLCD, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, Sensorhub, Joystick, Relative Humidity and Temperature sensor (RHT), Analog Comparator, Digital to Analog Converter and Temperature sensors (RO and BJT), CRC, LittleFS, Power Manager with RTOS
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE whitelisting, and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack, All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS client
- **IDE** : Simplicity Studio with Windows 10(64-bit), Linux, Mac OS
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** :
  - Si-MB4002A Main board
  - SiWx917 Radio boards

|**RadioBoard Type**|**SiWx917B0 with Board Version**|
| :- | :- |
|Common flash|Si917-BRD4338A(2.0)|
|Dual flash|Si917-BRD4339B(2.0)|
|External PSRAM|Si917-BRD4340A(2.0), Si917-BRD4342A(2.0)|
|Internal PSRAM|Si917-BRD4339A(2.0)|
|Dev Kit|Si917-2605A|

**NCP Highlights**

- **Host Interface** : SPI, UART
- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode.
- **Wi-Fi** : 2.4GHz Wi-Fi Support, WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE Whitelisting and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack , BLE Stack , All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS Client.
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **Hardware kits to evaluate NCP Mode**
  - NCP EFR Expansion Kit with NCP Radio board (BRD4338A(NCP MBR) + BRD8045A)
  - Wireless Pro kit Mainboard BRD4002A Rev A06
  - EFR32xG24 Wireless 2.4 GHz +10 dBm Radio Board xG24-RB4186C

**Release Details**

|**Item**|**Details**|
| :- | :- |
|Release date|July 12th, 2024|
|SDK Version|3.3.1-fc|
|Firmware Version Standard|1711\.2.12.1.1.0.5|
|Firmware Version Lite|1711\.2.12.1.1.2.5|
|Package Name|WiSeConnect3\_SDK\_3.3.1-fc|
|GSDK Version | SiSDK-2024.6.0 |
|Supported RTOS|FreeRTOS|
|Operating Modes Supported|Wi-Fi STA, Wi-Fi AP, Wi-Fi STA+BLE, Wi-Fi STA+AP|
|Build Quality|GA|

- SiWx917 release consists of two components
  - Wireless Firmware - SiWx917 Firmware Binaries
  - Wiseconnect3 Library - Wiseconnect3 SDK library runs on the external host in NCP mode and internal Cortex M4 in SoC Mode.
- This release is meant only for use with designs based on SiWx917 Silicon
- The firmware to load is available in the following format:
  - SiWG917-B.2.12.1.x.0.x.rps - B0 Full-featured firmware binary
  - SiWG917-B.2.12.1.x.2.x.rps - B0 lite firmware binary

**Features Supported**

**Sensorhub service**

- Support for ADC, SPI, SDC and I2C based sensors
- Support for PS2
- Support added for SDC

**MCU**

- ADC Single Channel, ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, GPIO, GSPI, I2C, I2S, NVM3, OPAMP, PSRAM, PWM, QEI, RTC, SDIO Secondary, SSI Master and Slave, UART, Micro DMA, USART, Watchdog Timer, Temperature Sensors (RO and BJT), USART Master and Slave, CRC
- UC Supported Peripherals - GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers , Config Timers, ULP (Ultra Low Power) Timers, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, MEMLCD, Analog Comparator and Digital to Analog Converter.
- Services - Sleeptimer, IOSTREAM, NVM3, Power Manager, LittleFS, Pin Tool (support for USART, I2C, SSI, GSPI, SIO, SCT, PWM, I2S, ADC, DAC and Analog Comparator)
- ULP (Ultra Low Power) Peripherals - ulp\_adc, ulp\_calender, ulp\_dac, ulp\_gpio, ulp\_i2c, ulp\_i2s, ulp\_timer, ulp\_uart, ulp\_dma
- Extended flash write support for NWP flash region and added read api to read from NWP flash region
- List of OPN's supported si917-sb00, siwg917m111mgtba, siwg917m100mgtba, siwg917m111xgtba, siwg917m121xgtba, siwg917m110lgtba and siwg917m141xgtba
- Support added for SiWG917 Dev Kit Board (BRD2605A)
- Added APIs to configure M4 SoC Clock, PLL clocks, read M4 SoC Clock

**Wi-Fi**

- WPA2/WPA3 Personal, WPS and WPA2-EAP Support for Station Mode
- TCP/IP stack with IPv4, IPv6, TCP, UDP, TLS, HTTP/HTTPS, DHCPv4, DHCPv6, MQTT Client, DNS Client, SNTP client.
- Support for SSL client versions TLSV1.0, TLSV1.2, TLSV1.3 and SSL server versions TLSV1.0 and TLSV1.2
- Wi-Fi STA (802.11n/802.11ax) + 802.11n AP Support
- HE (802.11ax) and Individual TWT Feature Support
- Multiple BSSID feature support as an STA
- Secure OTA support on B0 radio boards.
- Support for LWIP network stack
- Support for AWS MQTT library
- Support for Azure MQTT library
- Support for BSD and IoT sockets application programming interface(API)
- Support added to change the listen interval after association with Access Point
- New API sl_si91x_fwup_abort added to support aborting firmware upgrade
- Added feature to support Gain offset calibration in channel 14

**Bluetooth Low Energy**

- BLE central & peripheral connections are supported.
- Ultra-low power save is supported.

**Power Save**

- Max PSP, enhanced MAX PSP, Fast PSP, and 802.11ax TWT power save modes are supported in WiFi.
- Only Max PSP power save mode is supported in BLE

**Crypto Support**

- AES, SHA, AES-CCM, HMAC, GCM, Chacha-poly, ECDH and TRNG FW Crypto API support added.
- PSA enabled Mbed TLS support added
- NVM support added for key storage
- Symmetric and asymmetric key storage
- TRNG, AES, SHA, HMAC, GCM, Chacha-poly, ECDH and AES-CCM hardware crypto engine is integrated with PSA crypto.

**Changes and Fixes**

**MCU**

- Added Watchdog feature in the SDK as part of WDT manager Phase-1 support RSCDEV-29270
- Enabled different wakeup configurations in power manager RSCDEV-27883
- Fixed compilation issues for si70xx application on different boards RSCDEV-28201
- Added note for using ulp memory buffer for ulp peripheral instances RSCDEV-30243
- Pin tool changes corresponding to 24q2 patch 1 gsdk changes RSCDEV-30147,RSCDEV-30019,RSCDEV-30018,RSCDEV-29944
- Removed Hardware setup API from all power save application which uses sllib_m4_power_save.slcc component RSCDEV-26919/SI91X-16251
- Resolved data transmission issue while configuring the pins using .pintool file in USART0 and UART1 examples SI91X-16107
- Resolved NPSS GPIOs wakeup issue in Wi-Fi Client BLE Provisioning with AWS SI91X-16293
- Added back and resolved the ULP SSI example issue SI91X-16098
- Added freertos check before the power manager checks SI91X-16331
- Added new API for soc reset SI91X-15938
- Added the stand by power save check before updating the M4 Sleep bit SI91X-16320
- Resolved BTN1 issue in dev kit SI91X-15772
- Corrected RAM banks peri powerdown in ram retention API SI91X-15866
- Resolved Default Combo Application issue SI91X-16064
- Resolved Button baremetal application issue(LED does not turn on) in OPN (111x) SI91X-16328
- Resolved I2C master and slave applications issue with OPN (111x,141x) SI91X-16324
- Resolved the issue where the flag was not being updated when polled within a task, even osDelay osDelay is introduced in UULP IRQ handle SI91X-16303
- The issue where LCD and led0 could not be used simultaneously has been resolved SI91X-16049
- Resolved Power domain conflict(HW Setup) issue with multiple components SI91X-16339
- Resolved ULP_ADC Multichannel example Channel 3 issue SI91X-16105
- Resolved SL_GPIO application issue with 111x,141x OPNs SI91X-16327
- Updated Max data size in NVM3 dual flash application SI91X-14489
- Resolved NVM3 default example issue with 111x, 141x OPNs SI91X-16375
- Enabled RC clock for the module boards SI91X-16346
- Moved rc trim efuse from ADC driver to application layer SI91X-16165
- Provided fix for reconfiguration of Ram retention and added front switch control feature in wifi structure in application SI91X-16370
- Fixed data transmission issue while configuring in I2C in SIO application SI91X-13491

**SDK**

- Updated redme files, added minor chnages in iperf description in required example [RSCDEV-26298]
- Added comments for featured examples (firmware update, low power-> power_save_deep_sleep) [RSCDEV-26299]
- Updated "data_callback signature for async sockets" [SI91X-16313]
- Added remote terminate Support for fixing the Socket reconnection delay in twt_use_case_demo [SI91X-15274]
- Replaced the Additional Status Codes with WiSeConnect Status Codes [RSCDEV-29267]
- Added support in the Azure IoT example to publish messages continuously [SI91X-16209]
- Added out_of_box_demo rps to demos folder for BRD4338A, BRD4339A, BRD2605A boards [SI91X-16289]
- Added certificate index and TLS configuration for mqtts [RSCDEV-29344]
- Enhanced Doxygen documentation for sl_wifi_init and sl_wifi_deinit functions [RSCDEV-29224]
- Added "Embedded Sensor Demo - SiWG917" Demo tiles for brd2605a [RSCDEV-29429]
- Updated NCP mode interface details for example readmes [RSCDEV-29134]
- Fixed sl_si91x_select API is blocking when configure socket_select timeout to '0' [SI91X-16273]
- Updated mDNS documentation [RSCDEV-29203]
- Fixed issue with HTTPS download which is getting terminated with wifi_https_ble_dual_role_v6 application [SI91X-15927]
- Fixed matter issue where sl_wifi_init is failing with status 0x7 [SI91X-16335]
- Changed si91x_rsp_socket_recv_t structure naming convention to sl_si91x_socket_metadata_t [SI91X-16313]
- Fixed issues related to NCP UART build configuration [SI91X-16027]
- Fixed issue with MSS(Maximum segment size) SIZE error handling mechanism [SI91X-15492]
- SQA Bugs: SI91X-16289, SI91X-16273, SI91X-15927, SI91X-15492, SI91X-16027, SI91X-15912, SI91X-15932, SI91X-16069

**Wi-Fi & Network Stack**

- Added Certificate index and TLS version configuration for MQTTs socket
- Reduction of XTAL Good time and optimizing it back(RSCDEV-29111)
- Watch dog added in SoC mode (RSCDEV-29112)
- SQA Bugs: SI91X-16242 ,SI91X-13937, SI91X-15828, SI91X-15738, SI91X-16325, SI91X-16018

**BLE**

- Resolved issue where the disconnect event was not received, when initiate disconnect from both remote devices(1Master+1Slave) with TA & M4 power save enabled.
- Resolved high average current issue with 121X and 141X(PSRAM) OPN's
- Resolved response timeout error(0xFFFFFFE2) issue, when running ble_heart_rate_profile_soc demo with notification enabled.
- Resolved BLE scan stop issue in SoC mode.
- Resolved BLE dual role hang issue in SoC mode

**CoEx**

- None

**System**

- None

**Recommendations**

**System**

- The current revision of SiWx917 B0 has:
  - RAM memory of 672k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_672K\_M4SS\_0K- This mode configures TA with 672k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By default EXT\_FEAT\_352K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_480K\_M4SS\_192K - This mode configures TA with 480k and M4 with 192K bytes of memory
    - EXT\_FEAT\_416K\_M4SS\_256K - This mode configures TA with 416k and M4 with 256K bytes of memory
    - EXT\_FEAT\_352K\_M4SS\_320K - This mode configures TA with 352k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 672K\_M4SS\_0K.
  - SoC mode should not use 672k\_M4SS\_0k memory configuration.
- Set the recommended Power Save Profile (PSP) type to Enhanced Max PSP.

**IDE**

- Download the latest version of Simplicity Studio
- Refer to the latest version of the SoC/NCP "Getting-Started-with-SiWx917" guide for more details

**Wi-Fi & Network Stack****

- The recommended embedded MQTT Publish payload is 1 kBytes.
- It is recommended to enable bit 16 of the 'Extended TCP IP Feature' bit map in the opermode command for all Wi-Fi Socket operations from the host to ensure graceful handling during asynchronous closures from the peer.
- Aggregation (bit 2 of feature\_bit\_map) is recommended to be enabled in opermode. This enables software to aggregate multiple packets to achieve better throughput
- TCP retransmission count value is recommended to be 30 or higher so that the TCP does not disconnect while the rejoin happens.
- To restart the module, the application needs to call sl\_wifi\_deinit() followed by sl\_wifi\_init().
- Register 'Join Fail Callback' function every time when join is called, as in the rejoin failure path the callback is deregistered. If not done, this might result in a scan not functioning on rejoin failure.
- User can enable SL\_SI91X\_EXT\_TCP\_IP\_SSL\_16K\_RECORD in 'Extended TCP IP Feature'bit map in opermode, if HTTPS download is failing after receiving HTTP headers..
- iTWT setup is recommended after IP assignment/TCP connection/application specific socket connections.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, increase TCP / ARP Timeouts at the remote side depending upon the configured TWT interval configured.
- In case of TWT+coex, when using sl\_wifi\_enable\_target\_wakeup\_time API, use TWT wake duration <= 16 ms and TWT wake interval >= 1 sec. If wake duration > 16 ms or TWT wake interval < 1sec, there might be performance issues.
- For iTWT GTK Interval Should be kept max possible value or zero. If GTK interval is not configurable, recommended TWT interval (in case of sl\_wifi\_enable\_target\_wakeup\_time API) or RX Latency (in case of sl\_wifi\_target\_wake\_time\_auto\_selection API) is less than 4sec.
- Disable Power Save for High Throughput Applications.
- The application needs to ensure that it sets RTC with the correct timestamp when the feature is enabled before establishing the SSL connection.
- The timeout value should not be less than 1 second for socket select and socket receive calls. Timeout value of less than 1 second is not currently supported.
- When sl\_wifi\_enable\_target\_wakeup\_time API is used, configuring TWT Wake interval beyond 1 min might lead to disconnections from the AP. Recommended to use TWT wakeup interval of less than or equal to 1 min.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, it is recommended to set missed\_beacon\_count of sl\_wifi\_set\_advanced\_client\_configuration API greater than 2 times of the configured TWT Interval.
- Disable power save and suspend any active TWT sessions before triggering HTTP OTAF.
- It is recommended to enable bit 31 of the 'TCP IP Feature' bit map in the opermode command to support multicast protocol

**BLE**

- In BLE, the recommended range of Connection Interval in
  - Power Save (BLE Only) - 100 ms to 1.28 s.
- In BLE, during Connection, the configuration of Scan Interval and Scan Window with the same value is not recommended. The suggested ratio of Scan Window to Scan Interval is 3:4.
- In BLE, if a device is acting as Central, the scan window (in set\_scan\_params and create\_connection commands) must be less than the existing Connection Interval. The suggested ratio of Scan Window to Connection Interval is 2:3.
- In BLE mode, if scanning and advertising are in progress on the SiWx91x module and it subsequently gets connected and moves to the central role, scanning stops else if it moves to the peripheral role, advertising stops. To further establish a connection to another peripheral device or to a central device, the application should give a command for starting advertising and scanning again.

**Co-Existence**

- For concurrent Wi-Fi + BLE, and while a Wi-Fi connection is active, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
- Wi-Fi + BLE Advertising
  - All standard advertising intervals are supported. As Wi-Fi throughput is increased, a slight difference in on-air advertisements compared to configured intervals may be observed.
  - BLE advertising is skipped if the advertising interval collides with Wi-Fi activity.
- Wi-Fi + BLE scanning
  - All standard scan intervals are supported. For better scan results, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
  - BLE scanning will be stopped for intervals that collide with Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Connections
  - All standard connection intervals are supported.
  - For a stable connection, use optimal connection intervals and max supervision timeout in the presence of Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Data Transfer
  - To achieve higher throughput for both Wi-Fi and BLE, use medium connection intervals, such as 45 to 80 ms with maximum supervision timeout.
  - Ensure Wi-Fi activity consumes lower intervals.

**MCU**

- It is not recommended to use the RO clock for Clock Configuration
- PSRAM examples are not supposed to be used with Non-PSRAM OPNs
- By default SYSrtc and wake on wireless wakeup resources enabled, please do not reinstall these two wakeup sources when tickless idle mode is enabled
- Minimum idle-time to Sleep 100ms, as configured in FreeRtos_config.h
- Recommended to enable DMA for better throughput numbers
- For I2C Fastplus and High speed modes, it is recommended to use High power instances from 80Mhz to 180Mhz core clock
- Not recommended to use switch_m4_frequency() for clock scaling. Refer to migration guide for more details on this
- When using this 32MHz source for the PLL, limit the maximum clock to 160MHz
- In RTOS environment, prefer Signaling mechanisms (Semaphore/Mutex/EventFlag etc.) instead of "Variables/Flags" from user callbacks to detect "*Transfer Complete*" for high speed communication peripherals
  - Refer Software Reference Manual for more details

**Known Issues**

**Sensorhub**

- Support for ADC FIFO Mode and Multi channel is open
- PS1-state supports only ADC sensor
- Power transitions with AWS are not stable in Sensorhub
- The process of integrating the tickless component and power manager service into the Sensorhub app is currently underway

**Network Stack**

- Sometimes during SSL Handshake, ECC curve parameters generated are wrong, resulting in connection failure with BBD2 error. However, this recovers in the next attempt.
- Randomize the client port if using rapid connect/disconnect of the MQTT session on the same client port with the power save.
- Secure SSL renegotiation not supported in Embedded Networking Stack.
- Disable power save before making TCP connection for NCP-UART interface.
- In concurrent mode, if IP is configured for AP mode ahead of STA mode then IPv6 configuration may fail for STA mode.
- In concurrent mode, data transfer using the Link-local address will always use the first IP interface created by the application.

**Wi-Fi**

- TWT device (STA) may not go to sleep in between TWT intervals in case of burst data traffics with data size more than the configured 'average tx throughput', until completion of data transfer.
- There are performance and IOP issues with MU MIMO.
- WPA3 Connection with the Hunting and Pecking algorithm takes about 3-4 seconds.
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.
- Low Wi-Fi+BLE throughput
- TCP/UDP TX/RX Data stall observed in CoEx scenarios
- Observed HTTPS Continuous download fails with TA Power save
- Performance improvements are in progress for lower performance metrics.
- Observed interop issue (connectivity failure) with few AP's when device reset/reboot happens on active connection.
- In concurrent mode, AP restart fails after stopping it with ap\_stop command.
- DUT deep sleep will not work after stopping AP with ap\_stop command.
- Unable to get SNTP async events when coex mode and Power save is enabled
- Fine Tuning 802.11ax Spectral mask in Progress
- Fine Tuning 11b mask in Ch11 in progress
- DUT is unable to connect to the AP with WPA3 security when we enable coex mode (WLAN+BLE) in opermode
- Socket listen API is failing from the second iteration
- Disconnections observed with Netgear RAX120 AP in WPA3 security
- Observed connection failures with some AP's in more channel congestion open lab environment
- Firmware Upgrade example is not working in PSRAM boards
- deep sleep example is not supported with power manager

**BLE**

- HID profile data transfer is not working, when power save is enabled in SoC.
- BLE reconnection is not working in ble_multiconnection_gatt demo, when power save is enabled in SoC
- BLE throughputs are less with STM32 compared to EFR

**Co-Existence**

- Observed HTTP continuous download is not happening in Powersave mode after BLE connection established using wifi\_https\_ble\_dual\_role application
- Observed DUT hang while Wi-Fi UDP/TCP Tx and BLE continuous scan.

**System**

- BRD8045A and BRD8045C does not have CTS and RTS pins routed from SiWx917 NCP, which are used for UART flow control

**MCU**

- Refer to the respective Radio board user guides for specific pinout details. Examples are targeted to a specific version mentioned in the respective readme
- Few(BOD and Comparator) wakeup resources are not working as expected in Power manager service
- Observed RO and BJT Temperature values are not as expected
- Character Timeout feature for all communication protocols is not supported
- UART instances does not support different FIFO Thresholds
- NVM3 dual flash application is not working as expected in the current release.
- ULP_I2C does not function as expected in low power mode when DMA is enabled
- Powersave Deep Sleep example for the siwg917m110lgtba OPN requires the installation of the device_need_ram_execution component.
- Sometimes TA processor hang occurs when M4 used XTAL clock with sleep enabled.
- In ULP SSI application, non-dma transfer is not working as expected.

**Limitations and Unsupported Features**

**SDK**

- WiSeConnect3_SDK_3.1.3 and later versions are not compatible with firmware versions prior to 1711.2.10.1.2.0.4, due to enhancements in max transmit power configuration during Wi-Fi join/connection, need to be cautious while doing OTA firmware upgrade.

**Wi-Fi/Network Stack**

- TLS 1.3 Server is not supported
- In AP mode, IPv6 Router Advertisements are not supported. Although STA connected to the APUT can transfer IPv6 data to the peers by using SLAAC for address configuration.
- When sl\_wifi\_enable\_target\_wake\_time() API is used, observed occasional MQTT disconnections with longer TWT intervals (>30secs) with embedded MQTT + TWT.
- AMSDU TX is not supported.
- Fragmentation is not supported.
- AMSDUs within AMPDU is not supported.
- Currently, the module does not support Radio Measurement Requests feature of CCX V2
- 802.11k is not supported
- 40 MHz bandwidth for 2.4 GHz band is not supported.
- 802.11J channel 14 is not supported.
- MQTT versions 3 and 4 are supported.
- Maximum of 3 SSL connections are supported.
- In SSL ECC Curve ID supported is 23. SSL handshake with 3rd party clients depends on the SSL ECC Curve ID.
- LP mode is not supported.
- In iTWT mode, downlink data traffic should be limited. Disconnections may be observed if AP fails to send all the buffered data in the next TWT Service Period.
- Number of MBSSIDs processed is limited by the beacon length that can be processed by the stack (which is limited to 1024 bytes). Beacons greater than 1024 Bytes in length will not be processed.
- CoEx + EAP Security in 352K/320k is not feasible. This issue is observed due to a lack of memory in the 352k/320k Memory Configuration. It is supported with other EXT\_FEAT\_416K\_M4SS\_256K and EXT\_FEAT\_480K\_M4SS\_192K memory configurations.
- UL MUMIMO is not supported.
- The embedded HTTP server is not supported.
- Baremetal is not supported.
- Compared to SoC mode, NCP mode has fewer examples, but more will be enabled in upcoming releases.
- Maximum Supported length for Embedded MQTT username up to 120 bytes , topic length up to 200 bytes and password upto 62 bytes.
- UART 2 Debug prints are supported only on ULP_GPIO_9.
- WOW LAN feature is not supported.
- SA Query procedure is not supported in AP mode.
- Maximum Supported length for HTTP GET URL is up to 2048 bytes.
- Azure SDK with embedded MQTT is not supported.
- Power save is not supported in Azure MQTT.
- MDNS service discovery is currently not supported.
- sli_si91x_accept_async is not thread-safe
- Observed some background compatibility issues with coex and http in few corner cases
- AP mode does not support Tx and Rx aggregation in Concurrent mode.
- Concurrent STA mode, Rx aggregation is not supported. Tx aggregation is supported but it is not recommended.
- AP standalone mode does not support Tx aggregation. Rx aggregation is supported with limited number of BA sessions.

**BLE**

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.
- BLE TX/RX throughput is less when tested with EFM as compared to EFR
- Maximum supported AE data length is 200 bytes.
- Supports only two ADV\_EXT sets.
- Supports only two BLE connections (1 Central and 1 Peripheral) with AE.
- Advertising Extension feature is not supported in Coexistence.
- The  ae\_central & ae\_peripheral applications are not supported with TA\_352K\_M4\_320K RAM configuration.
- Setting PLL mode as 1 is not supported in Coexistence

**MCU**

- Manual chip select option is not supported when using GSPI.
- Following peripherals/features are not functioning as expected
    - ADC Multichannel, SSI Dual and Quad mode, SIO and Temp sensors
- LittleFS example support is intended to work only with Dual flash
- PS1 state is not supported in Power Manager
- Power is same for PS4 and PS3 states with powersave mode of power manager
- When using Button_0 as wakeup source, it limits the button functionality at application layer. For using Button_0 for application specific functionality, enable 'SL_SI91X_NPSS_GPIO_BTN_HANDLER'
- XTAL 40MHz clock as a reference clock is not supported

**System**
- TA Connected sleep and M4 PS2 is not a possible mode of operation
- M4 PS2 active and sleep is not a possible mode when SL_SI91X_EXT_FEAT_FRONT_END_SWITCH_PINS_ULP_GPIO_4_5_0 is enabled in SoC mode

**Simplicity Studio and Commander**

- Default GDB debug configuration is not supported for SoC projects, work around details provided in "Getting-Started-with-SiWx917"
- Observing flash download failures(ERROR 108) for a few image sizes
- While creating project through Simplicity Studio, "copy contents" option not supported.
- Simplicity commander does not support options under "Debug Lock tools".
- All projects in the package are compatible with GCC 10.3.1 version.

**Terminology**

|**Term**|**Description**|
| :- | :- |
|**New Features**|These items are new to this release|
|**Changes/Issues Fixed**|Changes made to existing features found in previous software releases.|
||Enhancements to existing product flow and feature set.|
||Bug fixes done in the release|
|**Deprecated Items**|Features or functions or APIs that are removed from the distributed release to align with the software roadmap|
|**Known Issues**|Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases|
|**Limitations/Recommendations**|Describes the limitations on product usage and recommendations for optimal use cases|

**Note**

- Change SPI frequency to 12.5Mhz while measuring BLE throughput with EFR32

<br>

**WiSeConnect3\_SDK\_3.3.1-ifc3 Release Notes**

This SDK package supports SoC Mode and NCP Mode for B0:

- In SoC Mode: Customer applications can run on Cortex M4. Wireless, network, and security stacks run on the wireless subsystem.
- In NCP mode: Wireless, network, and security stacks run on the Wireless subsystem. Customer applications run on the external host MCU.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

**Note**: Use Simplicity Studio version SV5.8.0.1 onwards

**SoC Highlights**

- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support ultra low power Wi-Fi standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode
- **MCU examples** : GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers, Config Timers, ULP (Ultra Low Power) Timers, Sleeptimer, IOSTREAM, NVM3, MEMLCD, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, Sensorhub, Joystick, Relative Humidity and Temperature sensor (RHT), Analog Comparator, Digital to Analog Converter and Temperature sensors (RO and BJT), CRC, LittleFS, Power Manager with RTOS
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE whitelisting, and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack, All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS client
- **IDE** : Simplicity Studio with Windows 10(64-bit), Linux, Mac OS
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** :
  - Si-MB4002A Main board
  - SiWx917 Radio boards

|**RadioBoard Type**|**SiWx917B0 with Board Version**|
| :- | :- |
|Common flash|Si917-BRD4338A(2.0)|
|Dual flash|Si917-BRD4339B(2.0)|
|External PSRAM|Si917-BRD4340A(2.0), Si917-BRD4342A(2.0)|
|Internal PSRAM|Si917-BRD4339A(2.0)|
|Dev Kit|Si917-2605A|

**NCP Highlights**

- **Host Interface** : SPI, UART
- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode.
- **Wi-Fi** : 2.4GHz Wi-Fi Support, WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE Whitelisting and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack , BLE Stack , All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS Client.
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **Hardware kits to evaluate NCP Mode**
  - NCP EFR Expansion Kit with NCP Radio board (BRD4338A(NCP MBR) + BRD8045A)
  - Wireless Pro kit Mainboard BRD4002A Rev A06
  - EFR32xG24 Wireless 2.4 GHz +10 dBm Radio Board xG24-RB4186C

**Release Details**

|**Item**|**Details**|
| :- | :- |
|Release date|July 4th, 2024|
|SDK Version|3.3.1-ifc3|
|Firmware Version Standard|1711\.2.12.1.1.0.3|
|Firmware Version Lite|1711\.2.12.1.1.2.3|
|Package Name|WiSeConnect3\_SDK\_3.3.1-ifc3|
|GSDK Version | SiSDK-2024.6.0 |
|Supported RTOS|FreeRTOS|
|Operating Modes Supported|Wi-Fi STA, Wi-Fi AP, Wi-Fi STA+BLE, Wi-Fi STA+AP|
|Build Quality|GA|

- SiWx917 release consists of two components
  - Wireless Firmware - SiWx917 Firmware Binaries
  - Wiseconnect3 Library - Wiseconnect3 SDK library runs on the external host in NCP mode and internal Cortex M4 in SoC Mode.
- This release is meant only for use with designs based on SiWx917 Silicon
- The firmware to load is available in the following format:
  - SiWG917-B.2.12.1.x.0.x.rps - B0 Full-featured firmware binary
  - SiWG917-B.2.12.1.x.2.x.rps - B0 lite firmware binary

**Features Supported**

**Sensorhub service**

- Support for ADC, SPI, SDC and I2C based sensors
- Support for PS2
- Support added for SDC

**MCU**

- ADC Single Channel, ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, GPIO, GSPI, I2C, I2S, NVM3, OPAMP, PSRAM, PWM, QEI, RTC, SDIO Secondary, SSI Master and Slave, UART, Micro DMA, USART, Watchdog Timer, Temperature Sensors (RO and BJT), USART Master and Slave, CRC
- UC Supported Peripherals - GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers , Config Timers, ULP (Ultra Low Power) Timers, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, MEMLCD, Analog Comparator and Digital to Analog Converter.
- Services - Sleeptimer, IOSTREAM, NVM3, Power Manager, LittleFS, Pin Tool (support for USART, I2C, SSI, GSPI, SIO, SCT, PWM, I2S, ADC, DAC and Analog Comparator)
- ULP (Ultra Low Power) Peripherals - ulp\_adc, ulp\_calender, ulp\_dac, ulp\_gpio, ulp\_i2c, ulp\_i2s, ulp\_timer, ulp\_uart, ulp\_dma
- Extended flash write support for NWP flash region and added read api to read from NWP flash region
- List of OPN's supported si917-sb00, siwg917m111mgtba, siwg917m100mgtba, siwg917m111xgtba, siwg917m121xgtba, siwg917m110lgtba and siwg917m141xgtba
- Support added for SiWG917 Dev Kit Board (BRD2605A)
- Added APIs to configure M4 SoC Clock, PLL clocks, read M4 SoC Clock

**Wi-Fi**

- WPA2/WPA3 Personal, WPS and WPA2-EAP Support for Station Mode
- TCP/IP stack with IPv4, IPv6, TCP, UDP, TLS, HTTP/HTTPS, DHCPv4, DHCPv6, MQTT Client, DNS Client, SNTP client.
- Support for SSL client versions TLSV1.0, TLSV1.2, TLSV1.3 and SSL server versions TLSV1.0 and TLSV1.2
- Wi-Fi STA (802.11n/802.11ax) + 802.11n AP Support
- HE (802.11ax) and Individual TWT Feature Support
- Multiple BSSID feature support as an STA
- Secure OTA support on B0 radio boards.
- Support for LWIP network stack
- Support for AWS MQTT library
- Support for Azure MQTT library
- Support for BSD and IoT sockets application programming interface(API)
- Support added to change the listen interval after association with Access Point
- New API sl_si91x_fwup_abort added to support aborting firmware upgrade
- Added feature to support Gain offset calibration in channel 14

**Bluetooth Low Energy**

- BLE central & peripheral connections are supported.
- Ultra-low power save is supported.

**Power Save**

- Max PSP, enhanced MAX PSP, Fast PSP, and 802.11ax TWT power save modes are supported in WiFi.
- Only Max PSP power save mode is supported in BLE

**Crypto Support**

- AES, SHA, AES-CCM, HMAC, GCM, Chacha-poly, ECDH and TRNG FW Crypto API support added.
- PSA enabled Mbed TLS support added
- NVM support added for key storage
- Symmetric and asymmetric key storage
- TRNG, AES, SHA, HMAC, GCM, Chacha-poly, ECDH and AES-CCM hardware crypto engine is integrated with PSA crypto.

**Changes and Fixes**

**MCU**

- Updated Mem lcd ssi driver [RSCDEV-29981]
- Added BRD4343Q board and siwg917y121mgnbx opn support [RSCDEV-29748]
- Implemented is_okay_to_sleep api in power manager [RSCDEV-29023]
- Configured the registers for clock more than 120 MHz in PS4 in Clock manager PLL API [RSCDEV-29998]
- Resolved SWD/JTAG pins configuration as GPIO issue [SI91X-16257]
- Resolved GSPI Byte-wise Swapping Read and Byte-wise Swapping Write  issue [SI91X-14691]
- Fixed Sonarqube Reliability isues [RSCDEV-29852]
- Resolved aws device shadow example issue with 141x and 121x boards [RSCDEV-29949]
- Resolved Readme issues [SI91X-16118, SI91X-16160, SI91X-16161, SI91X-16162, SI91X-16163, SI91X-16132]

**Wi-Fi & Network Stack**

- Added embedded sensor demo for SiWG917 dev kit [RSCDEV-27838]
- Added missing Host RTC timer APIs documentation changes [SI91X-15570]
- Added new REST API to the embedded sensor demo to get all sensor data[RSCDEV-29992]
- Updated Emb MQTT State handling [SI91X-16166]
- Enabled PR merge blocker for release/3.3.1 on dev sanity failure [NOJIRA-123]
- Updated the Keep Alive Time interval in Embedded MQTT client TWT application [SI91X-15596]
- Documentation Updates for SI91X_RADIO_FUNCTIONS and Boot Configuration Feature Bitmap [SI91X-15395]
- Added TEST_ID_LIST string parameter to dev sanity job [NOJIRA-123]
- Added Wi-Fi - AP Throughput Readme Corrections [SI91X-15681]
- Added Wi-Fi Coex - Wi-Fi Client HTTPS BLE Dual Role Readme corrections [SI91X-15794]
- Added embedded sensor demo improvements [NOJIRA-123]
- Added embedded sensor demo improvements [RSCDEV-30068]
- Added configuration for SL_IPV4 [SI91X-16262]
- Removed warnings from sl_mdns.c file [SI91X-15363]
- Analyzed and fixed the test cases for dev sanity [RSCDEV-30003]
- Added steps to update firmware using windows PC [SI91X-15572]
- Created socket_bitmap and updated the TCP_ACK_INDICATION bitmap status instead of ssl_bitmap[SI91X-16280]
- Added BRD4343A in Readme for WLAN and CoEx examples[RSCDEV-30053]
- Updated description for fwup abort API [RSCDEV-29427]
- Added minimal iPerf description in required examples [RSCDEV-26298]
- Fixed simultaneous read race condition [RSCDEV-30075]
- Added sl_si91x_get_firmware_version and sl_si91x_get_firmware_size API's [RSCDEV-29269]
- Added periodic TCP retries instead of exponential retries for HTTP Sockets
- Support added for firmware_update_from_host_uart application on EFR32MG24 board (RSCDEV-28579)
- Added I2c changes back in wifi_station_ble_provisioning_aws example[SI91X-16243]
- Revert "Pull request #3664: adding end state markers for cleanup for azure"[RSCDEV-30089]
- SQA Bugs: SI91X-15596, SI91X-16262, SI91X-15363, SI91X-16280, SI91X-16254 ,SI91X-16019 ,SI91X-15971,SI91X-15963, SI91X-15076, SI91X-15748, SI91X-16083, SI91X-16124

**BLE**

- Resolved UART interface issue with bt_stack_bypass demo
- Added a few more details to the readme of "ble_ae_peripheral", ble_ae_central, ble_central, ble_heart_rate_profile, ble_longrange_2mbps and ble_power_save demos

**CoEx**

- None

**System**

- None

**Recommendations**

**System**

- The current revision of SiWx917 B0 has:
  - RAM memory of 672k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_672K\_M4SS\_0K- This mode configures TA with 672k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By default EXT\_FEAT\_352K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_480K\_M4SS\_192K - This mode configures TA with 480k and M4 with 192K bytes of memory
    - EXT\_FEAT\_416K\_M4SS\_256K - This mode configures TA with 416k and M4 with 256K bytes of memory
    - EXT\_FEAT\_352K\_M4SS\_320K - This mode configures TA with 352k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 672K\_M4SS\_0K.
  - SoC mode should not use 672k\_M4SS\_0k memory configuration.
- Set the recommended Power Save Profile (PSP) type to Enhanced Max PSP.

**IDE**

- Download the latest version of Simplicity Studio
- Refer to the latest version of the SoC/NCP "Getting-Started-with-SiWx917" guide for more details

**Wi-Fi & Network Stack****

- The recommended embedded MQTT Publish payload is 1 kBytes.
- It is recommended to enable bit 16 of the 'Extended TCP IP Feature' bit map in the opermode command for all Wi-Fi Socket operations from the host to ensure graceful handling during asynchronous closures from the peer.
- Aggregation (bit 2 of feature\_bit\_map) is recommended to be enabled in opermode. This enables software to aggregate multiple packets to achieve better throughput
- TCP retransmission count value is recommended to be 30 or higher so that the TCP does not disconnect while the rejoin happens.
- To restart the module, the application needs to call sl\_wifi\_deinit() followed by sl\_wifi\_init().
- Register 'Join Fail Callback' function every time when join is called, as in the rejoin failure path the callback is deregistered. If not done, this might result in a scan not functioning on rejoin failure.
- User can enable SL\_SI91X\_EXT\_TCP\_IP\_SSL\_16K\_RECORD in 'Extended TCP IP Feature'bit map in opermode, if HTTPS download is failing after receiving HTTP headers..
- iTWT setup is recommended after IP assignment/TCP connection/application specific socket connections.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, increase TCP / ARP Timeouts at the remote side depending upon the configured TWT interval configured.
- In case of TWT+coex, when using sl\_wifi\_enable\_target\_wakeup\_time API, use TWT wake duration <= 16 ms and TWT wake interval >= 1 sec. If wake duration > 16 ms or TWT wake interval < 1sec, there might be performance issues.
- For iTWT GTK Interval Should be kept max possible value or zero. If GTK interval is not configurable, recommended TWT interval (in case of sl\_wifi\_enable\_target\_wakeup\_time API) or RX Latency (in case of sl\_wifi\_target\_wake\_time\_auto\_selection API) is less than 4sec.
- Disable Power Save for High Throughput Applications.
- The application needs to ensure that it sets RTC with the correct timestamp when the feature is enabled before establishing the SSL connection.
- The timeout value should not be less than 1 second for socket select and socket receive calls. Timeout value of less than 1 second is not currently supported.
- When sl\_wifi\_enable\_target\_wakeup\_time API is used, configuring TWT Wake interval beyond 1 min might lead to disconnections from the AP. Recommended to use TWT wakeup interval of less than or equal to 1 min.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, it is recommended to set missed\_beacon\_count of sl\_wifi\_set\_advanced\_client\_configuration API greater than 2 times of the configured TWT Interval.
- Disable power save and suspend any active TWT sessions before triggering HTTP OTAF.
- It is recommended to enable bit 31 of the 'TCP IP Feature' bit map in the opermode command to support multicast protocol

**BLE**

- In BLE, the recommended range of Connection Interval in
  - Power Save (BLE Only) - 100 ms to 1.28 s.
- In BLE, during Connection, the configuration of Scan Interval and Scan Window with the same value is not recommended. The suggested ratio of Scan Window to Scan Interval is 3:4.
- In BLE, if a device is acting as Central, the scan window (in set\_scan\_params and create\_connection commands) must be less than the existing Connection Interval. The suggested ratio of Scan Window to Connection Interval is 2:3.
- In BLE mode, if scanning and advertising are in progress on the SiWx91x module and it subsequently gets connected and moves to the central role, scanning stops else if it moves to the peripheral role, advertising stops. To further establish a connection to another peripheral device or to a central device, the application should give a command for starting advertising and scanning again.

**Co-Existence**

- For concurrent Wi-Fi + BLE, and while a Wi-Fi connection is active, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
- Wi-Fi + BLE Advertising
  - All standard advertising intervals are supported. As Wi-Fi throughput is increased, a slight difference in on-air advertisements compared to configured intervals may be observed.
  - BLE advertising is skipped if the advertising interval collides with Wi-Fi activity.
- Wi-Fi + BLE scanning
  - All standard scan intervals are supported. For better scan results, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
  - BLE scanning will be stopped for intervals that collide with Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Connections
  - All standard connection intervals are supported.
  - For a stable connection, use optimal connection intervals and max supervision timeout in the presence of Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Data Transfer
  - To achieve higher throughput for both Wi-Fi and BLE, use medium connection intervals, such as 45 to 80 ms with maximum supervision timeout.
  - Ensure Wi-Fi activity consumes lower intervals.

**MCU**

- It is not recommended to use the RO clock for Clock Configuration
- PSRAM examples are not supposed to be used with Non-PSRAM OPNs
- By default SYSrtc and wake on wireless wakeup resources enabled, please do not reinstall these two wakeup sources when tickless idle mode is enabled
- Minimum idle-time to Sleep 100ms, as configured in FreeRtos_config.h
- Recommended to enable DMA for better throughput numbers
- For I2C Fastplus and High speed modes, it is recommended to use High power instances from 80Mhz to 180Mhz core clock
- Not recommended to use switch_m4_frequency() for clock scaling. Refer to migration guide for more details on this
- When using this 32MHz source for the PLL, limit the maximum clock to 160MHz
- In RTOS environment, prefer Signaling mechanisms (Semaphore/Mutex/EventFlag etc.) instead of "Variables/Flags" from user callbacks to detect "*Transfer Complete*" for high speed communication peripherals
  - Refer Software Reference Manual for more details

**Known Issues**

**Sensorhub**

- Support for ADC FIFO Mode and Multi channel is open
- PS1-state supports only ADC sensor
- Power transitions with AWS are not stable in Sensorhub
- The process of integrating the tickless component and power manager service into the Sensorhub app is currently underway

**Network Stack**

- Sometimes during SSL Handshake, ECC curve parameters generated are wrong, resulting in connection failure with BBD2 error. However, this recovers in the next attempt.
- Randomize the client port if using rapid connect/disconnect of the MQTT session on the same client port with the power save.
- Secure SSL renegotiation not supported in Embedded Networking Stack.
- Disable power save before making TCP connection for NCP-UART interface.

**Wi-Fi**

- TWT device (STA) may not go to sleep in between TWT intervals in case of burst data traffics with data size more than the configured 'average tx throughput', until completion of data transfer.
- There are performance and IOP issues with MU MIMO.
- WPA3 Connection with the Hunting and Pecking algorithm takes about 3-4 seconds.
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.
- Low Wi-Fi+BLE throughput
- TCP/UDP TX/RX Data stall observed in CoEx scenarios
- Observed HTTPS Continuous download fails with TA Power save
- Performance improvements are in progress for lower performance metrics.
- Observed interop issue (connectivity failure) with few AP's when device reset/reboot happens on active connection.
- In concurrent mode, AP restart fails after stopping it with ap\_stop command.
- DUT deep sleep will not work after stopping AP with ap\_stop command.
- Unable to get SNTP async events when coex mode and Power save is enabled
- Fine Tuning 802.11ax Spectral mask in Progress
- Fine Tuning 11b mask in Ch11 in progress
- DUT is unable to connect to the AP with WPA3 security when we enable coex mode (WLAN+BLE) in opermode
- Socket listen API is failing from the second iteration
- Disconnections observed with Netgear RAX120 AP in WPA3 security
- Observed connection failures with some AP's in more channel congestion open lab environment
- Firmware Upgrade example is not working in PSRAM boards
- deep sleep example is not supported with power manager

**BLE**

- HID profile data transfer is not working, when power save is enabled in SoC.
- BLE reconnection is not working in ble_multiconnection_gatt demo, when power save is enabled in SoC
- BLE throughputs are less with STM32 compared to EFR

**Co-Existence**

- Observed HTTP continuous download is not happening in Powersave mode after BLE connection established using wifi\_https\_ble\_dual\_role application
- Observed DUT hang while Wi-Fi UDP/TCP Tx and BLE continuous scan.

**System**

- BRD8045A and BRD8045C does not have CTS and RTS pins routed from SiWx917 NCP, which are used for UART flow control

**MCU**

- Refer to the respective Radio board user guides for specific pinout details. Examples are targeted to a specific version mentioned in the respective readme
- Few(BOD and Comparator) wakeup resources are not working as expected in Power manager service
- Observed RO and BJT Temperature values are not as expected
- Character Timeout feature for all communication protocols is not supported
- UART instances does not support different FIFO Thresholds
- NVM3 dual flash application is not working as expected in the current release.
- ULP_I2C does not function as expected in low power mode when DMA is enabled
- Powersave Deep Sleep example for the siwg917m110lgtba OPN requires the installation of the device_need_ram_execution component.
- Sometimes TA processor hang occurs when M4 used XTAL clock with sleep enabled.

**Limitations and Unsupported Features**

**SDK**

- WiSeConnect3_SDK_3.1.3 and later versions are not compatible with firmware versions prior to 1711.2.10.1.2.0.4, due to enhancements in max transmit power configuration during Wi-Fi join/connection, need to be cautious while doing OTA firmware upgrade.

**Wi-Fi/Network Stack**

- TLS 1.3 Server is not supported
- In AP mode, IPv6 Router Advertisements are not supported. Although STA connected to the APUT can transfer IPv6 data to the peers by using SLAAC for address configuration.
- When sl\_wifi\_enable\_target\_wake\_time() API is used, observed occasional MQTT disconnections with longer TWT intervals (>30secs) with embedded MQTT + TWT.
- AMSDU TX is not supported.
- Fragmentation is not supported.
- AMSDUs within AMPDU is not supported.
- Currently, the module does not support Radio Measurement Requests feature of CCX V2
- 802.11k is not supported
- 40 MHz bandwidth for 2.4 GHz band is not supported.
- 802.11J channel 14 is not supported.
- MQTT versions 3 and 4 are supported.
- Maximum of 3 SSL connections are supported.
- In SSL ECC Curve ID supported is 23. SSL handshake with 3rd party clients depends on the SSL ECC Curve ID.
- LP mode is not supported.
- In iTWT mode, downlink data traffic should be limited. Disconnections may be observed if AP fails to send all the buffered data in the next TWT Service Period.
- Number of MBSSIDs processed is limited by the beacon length that can be processed by the stack (which is limited to 1024 bytes). Beacons greater than 1024 Bytes in length will not be processed.
- CoEx + EAP Security in 352K/320k is not feasible. This issue is observed due to a lack of memory in the 352k/320k Memory Configuration. It is supported with other EXT\_FEAT\_416K\_M4SS\_256K and EXT\_FEAT\_480K\_M4SS\_192K memory configurations.
- UL MUMIMO is not supported.
- The embedded HTTP server is not supported.
- Baremetal is not supported.
- Compared to SoC mode, NCP mode has fewer examples, but more will be enabled in upcoming releases.
- Maximum Supported length for Embedded MQTT username up to 120 bytes , topic length up to 200 bytes and password upto 62 bytes.
- UART 2 Debug prints are supported only on ULP_GPIO_9.
- WOW LAN feature is not supported.
- SA Query procedure is not supported in AP mode.
- Maximum Supported length for HTTP GET URL is up to 2048 bytes.
- Azure SDK with embedded MQTT is not supported.
- Power save is not supported in Azure MQTT.
- MDNS service discovery is currently not supported.
- sli_si91x_accept_async is not thread-safe
- Observed some background compatibility issues with coex and http in few corner cases
- AP mode does not support Tx and Rx aggregation in Concurrent mode.
- Concurrent STA mode, Rx aggregation is not supported. Tx aggregation is supported but it is not recommended.
- AP standalone mode does not support Tx aggregation. Rx aggregation is supported with limited number of BA sessions.

**BLE**

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.
- BLE TX/RX throughput is less when tested with EFM as compared to EFR
- Maximum supported AE data length is 200 bytes.
- Supports only two ADV\_EXT sets.
- Supports only two BLE connections (1 Central and 1 Peripheral) with AE.
- Advertising Extension feature is not supported in Coexistence.
- The  ae\_central & ae\_peripheral applications are not supported with TA\_352K\_M4\_320K RAM configuration.
- Setting PLL mode as 1 is not supported in Coexistence

**MCU**

- Manual chip select option is not supported when using GSPI.
- Following peripherals/features are not functioning as expected
    - ADC Multichannel, SSI Dual and Quad mode, SIO and Temp sensors
- LittleFS example support is intended to work only with Dual flash
- PS1 state is not supported in Power Manager
- Power is same for PS4 and PS3 states with powersave mode of power manager
- When using Button_0 as wakeup source, it limits the button functionality at application layer. For using Button_0 for application specific functionality, enable 'SL_SI91X_NPSS_GPIO_BTN_HANDLER'
- XTAL 40MHz clock as a reference clock is not supported

**System**
- TA Connected sleep and M4 PS2 is not a possible mode of operation
- M4 PS2 active and sleep is not a possible mode when SL_SI91X_EXT_FEAT_FRONT_END_SWITCH_PINS_ULP_GPIO_4_5_0 is enabled in SoC mode

**Simplicity Studio and Commander**

- Default GDB debug configuration is not supported for SoC projects, work around details provided in "Getting-Started-with-SiWx917"
- Observing flash download failures(ERROR 108) for a few image sizes
- While creating project through Simplicity Studio, "copy contents" option not supported.
- Simplicity commander does not support options under "Debug Lock tools".
- All projects in the package are compatible with GCC 10.3.1 version.

**Terminology**

|**Term**|**Description**|
| :- | :- |
|**New Features**|These items are new to this release|
|**Changes/Issues Fixed**|Changes made to existing features found in previous software releases.|
||Enhancements to existing product flow and feature set.|
||Bug fixes done in the release|
|**Deprecated Items**|Features or functions or APIs that are removed from the distributed release to align with the software roadmap|
|**Known Issues**|Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases|
|**Limitations/Recommendations**|Describes the limitations on product usage and recommendations for optimal use cases|

**Note**

- Change SPI frequency to 12.5Mhz while measuring BLE throughput with EFR32

<br>

**WiSeConnect3\_SDK\_3.3.1-ifc2 Release Notes**

This SDK package supports SoC Mode and NCP Mode for B0:

- In SoC Mode: Customer applications can run on Cortex M4. Wireless, network, and security stacks run on the wireless subsystem.
- In NCP mode: Wireless, network, and security stacks run on the Wireless subsystem. Customer applications run on the external host MCU.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

**Note**: Use Simplicity Studio version SV5.8.0.1 onwards

**SoC Highlights**

- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support ultra low power Wi-Fi standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode
- **MCU examples** : GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers, Config Timers, ULP (Ultra Low Power) Timers, Sleeptimer, IOSTREAM, NVM3, MEMLCD, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, Sensorhub, Joystick, Relative Humidity and Temperature sensor (RHT), Analog Comparator, Digital to Analog Converter and Temperature sensors (RO and BJT), CRC, LittleFS, Power Manager with RTOS
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE whitelisting, and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack, All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS client
- **IDE** : Simplicity Studio with Windows 10(64-bit), Linux, Mac OS
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** :
  - Si-MB4002A Main board
  - SiWx917 Radio boards

|**RadioBoard Type**|**SiWx917B0 with Board Version**|
| :- | :- |
|Common flash|Si917-BRD4338A(2.0)|
|Dual flash|Si917-BRD4339B(2.0)|
|External PSRAM|Si917-BRD4340A(2.0), Si917-BRD4342A(2.0)|
|Internal PSRAM|Si917-BRD4339A(2.0)|
|Dev Kit|Si917-2605A|

**NCP Highlights**

- **Host Interface** : SPI, UART
- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode.
- **Wi-Fi** : 2.4GHz Wi-Fi Support, WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE Whitelisting and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack , BLE Stack , All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS Client.
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **Hardware kits to evaluate NCP Mode**
  - NCP EFR Expansion Kit with NCP Radio board (BRD4338A(NCP MBR) + BRD8045A)
  - Wireless Pro kit Mainboard BRD4002A Rev A06
  - EFR32xG24 Wireless 2.4 GHz +10 dBm Radio Board xG24-RB4186C

**Release Details**

|**Item**|**Details**|
| :- | :- |
|Release date|June 27th, 2024|
|SDK Version|3.3.1-ifc2|
|Firmware Version Standard|1711\.2.12.1.1.0.2|
|Firmware Version Lite|1711\.2.12.1.1.2.2|
|Package Name|WiSeConnect3\_SDK\_3.3.1-ifc2|
|GSDK Version | SiSDK-2024.6.0 |
|Supported RTOS|FreeRTOS|
|Operating Modes Supported|Wi-Fi STA, Wi-Fi AP, Wi-Fi STA+BLE, Wi-Fi STA+AP|
|Build Quality|GA|

- SiWx917 release consists of two components
  - Wireless Firmware - SiWx917 Firmware Binaries
  - Wiseconnect3 Library - Wiseconnect3 SDK library runs on the external host in NCP mode and internal Cortex M4 in SoC Mode.
- This release is meant only for use with designs based on SiWx917 Silicon
- The firmware to load is available in the following format:
  - SiWG917-B.2.12.1.x.0.x.rps - B0 Full-featured firmware binary
  - SiWG917-B.2.12.1.x.2.x.rps - B0 lite firmware binary

**Features Supported**

**Sensorhub service**

- Support for ADC, SPI, SDC and I2C based sensors
- Support for PS2
- Support added for SDC

**MCU**

- ADC Single Channel, ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, GPIO, GSPI, I2C, I2S, NVM3, OPAMP, PSRAM, PWM, QEI, RTC, SDIO Secondary, SSI Master and Slave, UART, Micro DMA, USART, Watchdog Timer, Temperature Sensors (RO and BJT), USART Master and Slave, CRC
- UC Supported Peripherals - GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers , Config Timers, ULP (Ultra Low Power) Timers, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, MEMLCD, Analog Comparator and Digital to Analog Converter.
- Services - Sleeptimer, IOSTREAM, NVM3, Power Manager, LittleFS, Pin Tool (support for USART, I2C, SSI, GSPI, SIO, SCT, PWM, I2S, ADC, DAC and Analog Comparator)
- ULP (Ultra Low Power) Peripherals - ulp\_adc, ulp\_calender, ulp\_dac, ulp\_gpio, ulp\_i2c, ulp\_i2s, ulp\_timer, ulp\_uart, ulp\_dma
- Extended flash write support for NWP flash region and added read api to read from NWP flash region
- List of OPN's supported si917-sb00, siwg917m111mgtba, siwg917m100mgtba, siwg917m111xgtba, siwg917m121xgtba, siwg917m110lgtba and siwg917m141xgtba
- Support added for SiWG917 Dev Kit Board (BRD2605A)
- Added APIs to configure M4 SoC Clock, PLL clocks, read M4 SoC Clock

**Wi-Fi**

- WPA2/WPA3 Personal, WPS and WPA2-EAP Support for Station Mode
- TCP/IP stack with IPv4, IPv6, TCP, UDP, TLS, HTTP/HTTPS, DHCPv4, DHCPv6, MQTT Client, DNS Client, SNTP client.
- Support for SSL client versions TLSV1.0, TLSV1.2, TLSV1.3 and SSL server versions TLSV1.0 and TLSV1.2
- Wi-Fi STA (802.11n/802.11ax) + 802.11n AP Support
- HE (802.11ax) and Individual TWT Feature Support
- Multiple BSSID feature support as an STA
- Secure OTA support on B0 radio boards.
- Support for LWIP network stack
- Support for AWS MQTT library
- Support for Azure MQTT library
- Support for BSD and IoT sockets application programming interface(API)
- Support added to change the listen interval after association with Access Point
- New API sl_si91x_fwup_abort added to support aborting firmware upgrade
- Added feature to support Gain offset calibration in channel 14

**Bluetooth Low Energy**

- BLE central & peripheral connections are supported.
- Ultra-low power save is supported.

**Power Save**

- Max PSP, enhanced MAX PSP, Fast PSP, and 802.11ax TWT power save modes are supported in WiFi.
- Only Max PSP power save mode is supported in BLE

**Crypto Support**

- AES, SHA, AES-CCM, HMAC, GCM, Chacha-poly, ECDH and TRNG FW Crypto API support added.
- PSA enabled Mbed TLS support added
- NVM support added for key storage
- Symmetric and asymmetric key storage
- TRNG, AES, SHA, HMAC, GCM, Chacha-poly, ECDH and AES-CCM hardware crypto engine is integrated with PSA crypto.

**Changes and Fixes**

**MCU**

- Separate linker file for PSRAM and NONPSRAM examples [RSCDEV-29736]
- Added provision for multiple callbacks for each instance in ssi [SI91X-16172]
- Resolved build errors issue while using pwm mode use case in config_timer application [SI91X-16104]
- Resolved PWM example buuld error issue with BRD4330A[SI91X-16127]
- Removed USART_RX_CHAR_TIMEOUT interrupt macro as the feature is not functional [SI91X-16046]
- Resolved M4 sleep issue with ULP_GPIO_BASED_WKP wakeup and low polarity(NPSS_GPIO_INTR_LOW) [SI91X-13958] 
- Fixed issues with VEML6035 example [SI91X-16153, SI91X-16132]
- Resolved Card ready timeout error issue while Porting access point example for FG25 with UART [SI91X-15229]
- Resolved issue where the sl_gpio_set_configuration API was throwing an INVALID_PARAMETER error when configuring the pins for port 2 and port 3 [SI91X-16235]
- Fixed ULP_GPIO group interrupt not working issue in the default sl_si91x_gpio_group example [SI91X-16234]
- Removing the uulp callback pointer checks at the ulp IRQ [SI91X-16103]
- Resolved prints issue with custom board [SI91X-16211]
- Resolved Readme issues [SI91X-16131, SI91X-16130, SI91X-16156, SI91X-16155, SI91X-16162, SI91X-16163, SI91X-16161, SI91X-16160, SI91X-16140 , SI91X-16137, SI91X-16133, SI91X-16142, SI91X-16141, SI91X-16155, SI91X-16128, SI91X-16167, SI91X-16169, SI91X-16081]


**Wi-Fi & Network Stack**

- Updated error handling in iot_tls_write [SI91X-15809]
- Added regex to fix the build_test_manifest stage in jenkins[RSCDEV-29715]
- updated the description of the output paramater - fw_image_size in sl_wifi_get_firmware_size api [SI91X-16171]
- SPI Configuration for ACTIVE LOW INTR is Added in SDK [SI91X-15551]
- Added support for Quick Scan Feature[SI91X-14333]
- Added Wi-Fi Coex - Wi-Fi Client HTTPS BLE Dual Role Readme corrections [SI91X-15794]
- Added Experimental/ajgerdim/test sequence yaml in sl net [NOJIRA-123]
- Added readme sections which are not clear for ncp or soc [SI91X-15824]
- Updated image in readme [SI91X-15825]
- Modified the brief of APIs for better documentation of APIs[SI91X-15397]
- Updated wifi concurrent http server soc example readme [SI91X-15584]
- Added Embedded Sensor Demo app for the SiWG917 dev kit (BRD2605A) [RSCDEV-27838]
- Moved MQTT publish call out of button ISR into a thread in OOB demo [RSCDEV-29156]
- SQA Bugs: SI91X-14460, SI91X-16114, SI91X-16176, SI91X-15944, SI91X-15523, SI91X-15522, SI91X-14578, SI91X-14554

**BLE**

- Updated readme.md for mesh_unified_ae_coex_app application

**CoEx**

- None

**System**

- None

**Recommendations**

**System**

- The current revision of SiWx917 B0 has:
  - RAM memory of 672k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_672K\_M4SS\_0K- This mode configures TA with 672k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By default EXT\_FEAT\_352K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_480K\_M4SS\_192K - This mode configures TA with 480k and M4 with 192K bytes of memory
    - EXT\_FEAT\_416K\_M4SS\_256K - This mode configures TA with 416k and M4 with 256K bytes of memory
    - EXT\_FEAT\_352K\_M4SS\_320K - This mode configures TA with 352k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 672K\_M4SS\_0K.
  - SoC mode should not use 672k\_M4SS\_0k memory configuration.
- Set the recommended Power Save Profile (PSP) type to Enhanced Max PSP.

**IDE**

- Download the latest version of Simplicity Studio
- Refer to the latest version of the SoC/NCP "Getting-Started-with-SiWx917" guide for more details

**Wi-Fi & Network Stack****

- The recommended embedded MQTT Publish payload is 1 kBytes.
- It is recommended to enable bit 16 of the 'Extended TCP IP Feature' bit map in the opermode command for all Wi-Fi Socket operations from the host to ensure graceful handling during asynchronous closures from the peer.
- Aggregation (bit 2 of feature\_bit\_map) is recommended to be enabled in opermode. This enables software to aggregate multiple packets to achieve better throughput
- TCP retransmission count value is recommended to be 30 or higher so that the TCP does not disconnect while the rejoin happens.
- To restart the module, the application needs to call sl\_wifi\_deinit() followed by sl\_wifi\_init().
- Register 'Join Fail Callback' function every time when join is called, as in the rejoin failure path the callback is deregistered. If not done, this might result in a scan not functioning on rejoin failure.
- User can enable SL\_SI91X\_EXT\_TCP\_IP\_SSL\_16K\_RECORD in 'Extended TCP IP Feature'bit map in opermode, if HTTPS download is failing after receiving HTTP headers..
- iTWT setup is recommended after IP assignment/TCP connection/application specific socket connections.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, increase TCP / ARP Timeouts at the remote side depending upon the configured TWT interval configured.
- In case of TWT+coex, when using sl\_wifi\_enable\_target\_wakeup\_time API, use TWT wake duration <= 16 ms and TWT wake interval >= 1 sec. If wake duration > 16 ms or TWT wake interval < 1sec, there might be performance issues.
- For iTWT GTK Interval Should be kept max possible value or zero. If GTK interval is not configurable, recommended TWT interval (in case of sl\_wifi\_enable\_target\_wakeup\_time API) or RX Latency (in case of sl\_wifi\_target\_wake\_time\_auto\_selection API) is less than 4sec.
- Disable Power Save for High Throughput Applications.
- The application needs to ensure that it sets RTC with the correct timestamp when the feature is enabled before establishing the SSL connection.
- The timeout value should not be less than 1 second for socket select and socket receive calls. Timeout value of less than 1 second is not currently supported.
- When sl\_wifi\_enable\_target\_wakeup\_time API is used, configuring TWT Wake interval beyond 1 min might lead to disconnections from the AP. Recommended to use TWT wakeup interval of less than or equal to 1 min.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, it is recommended to set missed\_beacon\_count of sl\_wifi\_set\_advanced\_client\_configuration API greater than 2 times of the configured TWT Interval.
- Disable power save and suspend any active TWT sessions before triggering HTTP OTAF.
- It is recommended to enable bit 31 of the 'TCP IP Feature' bit map in the opermode command to support multicast protocol

**BLE**

- In BLE, the recommended range of Connection Interval in
  - Power Save (BLE Only) - 100 ms to 1.28 s.
- In BLE, during Connection, the configuration of Scan Interval and Scan Window with the same value is not recommended. The suggested ratio of Scan Window to Scan Interval is 3:4.
- In BLE, if a device is acting as Central, the scan window (in set\_scan\_params and create\_connection commands) must be less than the existing Connection Interval. The suggested ratio of Scan Window to Connection Interval is 2:3.
- In BLE mode, if scanning and advertising are in progress on the SiWx91x module and it subsequently gets connected and moves to the central role, scanning stops else if it moves to the peripheral role, advertising stops. To further establish a connection to another peripheral device or to a central device, the application should give a command for starting advertising and scanning again.

**Co-Existence**

- For concurrent Wi-Fi + BLE, and while a Wi-Fi connection is active, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
- Wi-Fi + BLE Advertising
  - All standard advertising intervals are supported. As Wi-Fi throughput is increased, a slight difference in on-air advertisements compared to configured intervals may be observed.
  - BLE advertising is skipped if the advertising interval collides with Wi-Fi activity.
- Wi-Fi + BLE scanning
  - All standard scan intervals are supported. For better scan results, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
  - BLE scanning will be stopped for intervals that collide with Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Connections
  - All standard connection intervals are supported.
  - For a stable connection, use optimal connection intervals and max supervision timeout in the presence of Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Data Transfer
  - To achieve higher throughput for both Wi-Fi and BLE, use medium connection intervals, such as 45 to 80 ms with maximum supervision timeout.
  - Ensure Wi-Fi activity consumes lower intervals.

**MCU**

- It is not recommended to use the RO clock for Clock Configuration
- PSRAM examples are not supposed to be used with Non-PSRAM OPNs
- By default SYSrtc and wake on wireless wakeup resources enabled, please do not reinstall these two wakeup sources when tickless idle mode is enabled
- Minimum idle-time to Sleep 100ms, as configured in FreeRtos_config.h
- Recommended to enable DMA for better throughput numbers
- For I2C Fastplus and High speed modes, it is recommended to use High power instances from 80Mhz to 180Mhz core clock
- Not recommended to use switch_m4_frequency() for clock scaling. Refer to migration guide for more details on this
- When using this 32MHz source for the PLL, limit the maximum clock to 160MHz
- In RTOS environment, prefer Signaling mechanisms (Semaphore/Mutex/EventFlag etc.) instead of "Variables/Flags" from user callbacks to detect "*Transfer Complete*" for high speed communication peripherals
  - Refer Software Reference Manual for more details

**Known Issues**

**Sensorhub**

- Support for ADC FIFO Mode and Multi channel is open
- PS1-state supports only ADC sensor
- Power transitions with AWS are not stable in Sensorhub
- The process of integrating the tickless component and power manager service into the Sensorhub app is currently underway

**Network Stack**

- Sometimes during SSL Handshake, ECC curve parameters generated are wrong, resulting in connection failure with BBD2 error. However, this recovers in the next attempt.
- Randomize the client port if using rapid connect/disconnect of the MQTT session on the same client port with the power save.
- Secure SSL renegotiation not supported in Embedded Networking Stack.
- Disable power save before making TCP connection for NCP-UART interface.

**Wi-Fi**

- TWT device (STA) may not go to sleep in between TWT intervals in case of burst data traffics with data size more than the configured 'average tx throughput', until completion of data transfer.
- There are performance and IOP issues with MU MIMO.
- WPA3 Connection with the Hunting and Pecking algorithm takes about 3-4 seconds.
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.
- Low Wi-Fi+BLE throughput
- TCP/UDP TX/RX Data stall observed in CoEx scenarios
- Observed HTTPS Continuous download fails with TA Power save
- Performance improvements are in progress for lower performance metrics.
- Observed interop issue (connectivity failure) with few AP's when device reset/reboot happens on active connection.
- In concurrent mode, AP restart fails after stopping it with ap\_stop command.
- DUT deep sleep will not work after stopping AP with ap\_stop command.
- Unable to get SNTP async events when coex mode and Power save is enabled
- Fine Tuning 802.11ax Spectral mask in Progress
- Fine Tuning 11b mask in Ch11 in progress
- DUT is unable to connect to the AP with WPA3 security when we enable coex mode (WLAN+BLE) in opermode
- Socket listen API is failing from the second iteration
- Disconnections observed with Netgear RAX120 AP in WPA3 security
- Observed connection failures with some AP's in more channel congestion open lab environment
- Firmware Upgrade example is not working in PSRAM boards
- deep sleep example is not supported with power manager

**BLE**

- HID profile data transfer is not working, when power save is enabled in SoC.
- BLE reconnection is not working in ble_multiconnection_gatt demo, when power save is enabled in SoC
- BLE throughputs are less with STM32 compared to EFR

**Co-Existence**

- Observed HTTP continuous download is not happening in Powersave mode after BLE connection established using wifi\_https\_ble\_dual\_role application
- Observed DUT hang while Wi-Fi UDP/TCP Tx and BLE continuous scan.

**System**

- BRD8045A and BRD8045C does not have CTS and RTS pins routed from SiWx917 NCP, which are used for UART flow control

**MCU**

- Refer to the respective Radio board user guides for specific pinout details. Examples are targeted to a specific version mentioned in the respective readme
- Few(BOD and Comparator) wakeup resources are not working as expected in Power manager service
- Observed RO and BJT Temperature values are not as expected
- Character Timeout feature for all communication protocols is not supported
- UART instances does not support different FIFO Thresholds
- NVM3 dual flash application is not working as expected in the current release.
- ULP_I2C does not function as expected in low power mode when DMA is enabled
- Powersave Deep Sleep example for the siwg917m110lgtba OPN requires the installation of the device_need_ram_execution component.
- Sometimes TA processor hang occurs when M4 used XTAL clock with sleep enabled.

**Limitations and Unsupported Features**

**SDK**

- WiSeConnect3_SDK_3.1.3 and later versions are not compatible with firmware versions prior to 1711.2.10.1.2.0.4, due to enhancements in max transmit power configuration during Wi-Fi join/connection, need to be cautious while doing OTA firmware upgrade.

**Wi-Fi/Network Stack**

- TLS 1.3 Server is not supported
- In AP mode, IPv6 Router Advertisements are not supported. Although STA connected to the APUT can transfer IPv6 data to the peers by using SLAAC for address configuration.
- When sl\_wifi\_enable\_target\_wake\_time() API is used, observed occasional MQTT disconnections with longer TWT intervals (>30secs) with embedded MQTT + TWT.
- AMSDU TX is not supported.
- Fragmentation is not supported.
- AMSDUs within AMPDU is not supported.
- Currently, the module does not support Radio Measurement Requests feature of CCX V2
- 802.11k is not supported
- 40 MHz bandwidth for 2.4 GHz band is not supported.
- 802.11J channel 14 is not supported.
- MQTT versions 3 and 4 are supported.
- Maximum of 3 SSL connections are supported.
- In SSL ECC Curve ID supported is 23. SSL handshake with 3rd party clients depends on the SSL ECC Curve ID.
- LP mode is not supported.
- In iTWT mode, downlink data traffic should be limited. Disconnections may be observed if AP fails to send all the buffered data in the next TWT Service Period.
- Number of MBSSIDs processed is limited by the beacon length that can be processed by the stack (which is limited to 1024 bytes). Beacons greater than 1024 Bytes in length will not be processed.
- CoEx + EAP Security in 352K/320k is not feasible. This issue is observed due to a lack of memory in the 352k/320k Memory Configuration. It is supported with other EXT\_FEAT\_416K\_M4SS\_256K and EXT\_FEAT\_480K\_M4SS\_192K memory configurations.
- UL MUMIMO is not supported.
- The embedded HTTP server is not supported.
- Baremetal is not supported.
- Compared to SoC mode, NCP mode has fewer examples, but more will be enabled in upcoming releases.
- Maximum Supported length for Embedded MQTT username up to 120 bytes , topic length up to 200 bytes and password upto 62 bytes.
- UART 2 Debug prints are supported only on ULP_GPIO_9.
- WOW LAN feature is not supported.
- SA Query procedure is not supported in AP mode.
- Maximum Supported length for HTTP GET URL is up to 2048 bytes.
- Azure SDK with embedded MQTT is not supported.
- Power save is not supported in Azure MQTT.
- MDNS service discovery is currently not supported.
- sli_si91x_accept_async is not thread-safe
- Observed some background compatibility issues with coex and http in few corner cases
- AP mode does not support Tx and Rx aggregation in Concurrent mode.
- Concurrent STA mode, Rx aggregation is not supported. Tx aggregation is supported but it is not recommended.
- AP standalone mode does not support Tx aggregation. Rx aggregation is supported with limited number of BA sessions.

**BLE**

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.
- BLE TX/RX throughput is less when tested with EFM as compared to EFR
- Maximum supported AE data length is 200 bytes.
- Supports only two ADV\_EXT sets.
- Supports only two BLE connections (1 Central and 1 Peripheral) with AE.
- Advertising Extension feature is not supported in Coexistence.
- The  ae\_central & ae\_peripheral applications are not supported with TA\_352K\_M4\_320K RAM configuration.
- Setting PLL mode as 1 is not supported in Coexistence

**MCU**

- Manual chip select option is not supported when using GSPI.
- Following peripherals/features are not functioning as expected
    - ADC Multichannel, SSI Dual and Quad mode, SIO and Temp sensors
- LittleFS example support is intended to work only with Dual flash
- PS1 state is not supported in Power Manager
- Power is same for PS4 and PS3 states with powersave mode of power manager
- When using Button_0 as wakeup source, it limits the button functionality at application layer. For using Button_0 for application specific functionality, enable 'SL_SI91X_NPSS_GPIO_BTN_HANDLER'
- XTAL 40MHz clock as a reference clock is not supported

**System**
- TA Connected sleep and M4 PS2 is not a possible mode of operation
- M4 PS2 active and sleep is not a possible mode when SL_SI91X_EXT_FEAT_FRONT_END_SWITCH_PINS_ULP_GPIO_4_5_0 is enabled in SoC mode

**Simplicity Studio and Commander**

- Default GDB debug configuration is not supported for SoC projects, work around details provided in "Getting-Started-with-SiWx917"
- Observing flash download failures(ERROR 108) for a few image sizes
- While creating project through Simplicity Studio, "copy contents" option not supported.
- Simplicity commander does not support options under "Debug Lock tools".
- All projects in the package are compatible with GCC 10.3.1 version.

**Terminology**

|**Term**|**Description**|
| :- | :- |
|**New Features**|These items are new to this release|
|**Changes/Issues Fixed**|Changes made to existing features found in previous software releases.|
||Enhancements to existing product flow and feature set.|
||Bug fixes done in the release|
|**Deprecated Items**|Features or functions or APIs that are removed from the distributed release to align with the software roadmap|
|**Known Issues**|Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases|
|**Limitations/Recommendations**|Describes the limitations on product usage and recommendations for optimal use cases|

**Note**

- Change SPI frequency to 12.5Mhz while measuring BLE throughput with EFR32

<br>

**WiSeConnect3\_SDK\_3.3.1-ifc1 Release Notes**

This SDK package supports SoC Mode and NCP Mode for B0:

- In SoC Mode: Customer applications can run on Cortex M4. Wireless, network, and security stacks run on the wireless subsystem.
- In NCP mode: Wireless, network, and security stacks run on the Wireless subsystem. Customer applications run on the external host MCU.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

**Note**: Use Simplicity Studio version SV5.8.0.1 onwards

**SoC Highlights**

- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support ultra low power Wi-Fi standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode
- **MCU examples** : GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers, Config Timers, ULP (Ultra Low Power) Timers, Sleeptimer, IOSTREAM, NVM3, MEMLCD, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, Sensorhub, Joystick, Relative Humidity and Temperature sensor (RHT), Analog Comparator, Digital to Analog Converter and Temperature sensors (RO and BJT), CRC, LittleFS, Power Manager with RTOS
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE whitelisting, and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack, All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS client
- **IDE** : Simplicity Studio with Windows 10(64-bit), Linux, Mac OS
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** :
  - Si-MB4002A Main board
  - SiWx917 Radio boards

|**RadioBoard Type**|**SiWx917B0 with Board Version**|
| :- | :- |
|Common flash|Si917-BRD4338A(2.0)|
|Dual flash|Si917-BRD4339B(2.0)|
|External PSRAM|Si917-BRD4340A(2.0), Si917-BRD4342A(2.0)|
|Internal PSRAM|Si917-BRD4339A(2.0)|
|Dev Kit|Si917-2605A|

**NCP Highlights**

- **Host Interface** : SPI, UART
- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode.
- **Wi-Fi** : 2.4GHz Wi-Fi Support, WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE Whitelisting and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack , BLE Stack , All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS Client.
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **Hardware kits to evaluate NCP Mode**
  - NCP EFR Expansion Kit with NCP Radio board (BRD4338A(NCP MBR) + BRD8045A)
  - Wireless Pro kit Mainboard BRD4002A Rev A06
  - EFR32xG24 Wireless 2.4 GHz +10 dBm Radio Board xG24-RB4186C

**Release Details**

|**Item**|**Details**|
| :- | :- |
|Release date|June 20th, 2024|
|SDK Version|3.3.1-ifc1|
|Firmware Version Standard|1711\.2.12.1.1.0.1|
|Firmware Version Lite|1711\.2.12.1.1.2.1|
|Package Name|WiSeConnect3\_SDK\_3.3.1-ifc1|
|GSDK Version | SiSDK-2024.6.0 |
|Supported RTOS|FreeRTOS|
|Operating Modes Supported|Wi-Fi STA, Wi-Fi AP, Wi-Fi STA+BLE, Wi-Fi STA+AP|
|Build Quality|GA|

- SiWx917 release consists of two components
  - Wireless Firmware - SiWx917 Firmware Binaries
  - Wiseconnect3 Library - Wiseconnect3 SDK library runs on the external host in NCP mode and internal Cortex M4 in SoC Mode.
- This release is meant only for use with designs based on SiWx917 Silicon
- The firmware to load is available in the following format:
  - SiWG917-B.2.12.1.x.0.x.rps - B0 Full-featured firmware binary
  - SiWG917-B.2.12.1.x.2.x.rps - B0 lite firmware binary

**Features Supported**

**Sensorhub service**

- Support for ADC, SPI, SDC and I2C based sensors
- Support for PS2
- Support added for SDC

**MCU**

- ADC Single Channel, ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, GPIO, GSPI, I2C, I2S, NVM3, OPAMP, PSRAM, PWM, QEI, RTC, SDIO Secondary, SSI Master and Slave, UART, Micro DMA, USART, Watchdog Timer, Temperature Sensors (RO and BJT), USART Master and Slave, CRC
- UC Supported Peripherals - GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers , Config Timers, ULP (Ultra Low Power) Timers, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, MEMLCD, Analog Comparator and Digital to Analog Converter.
- Services - Sleeptimer, IOSTREAM, NVM3, Power Manager, LittleFS, Pin Tool (support for USART, I2C, SSI, GSPI, SIO, SCT, PWM, I2S, ADC, DAC and Analog Comparator)
- ULP (Ultra Low Power) Peripherals - ulp\_adc, ulp\_calender, ulp\_dac, ulp\_gpio, ulp\_i2c, ulp\_i2s, ulp\_timer, ulp\_uart, ulp\_dma
- Extended flash write support for NWP flash region and added read api to read from NWP flash region
- List of OPN's supported si917-sb00, siwg917m111mgtba, siwg917m100mgtba, siwg917m111xgtba, siwg917m121xgtba, siwg917m110lgtba and siwg917m141xgtba
- Support added for SiWG917 Dev Kit Board (BRD2605A)
- Added APIs to configure M4 SoC Clock, PLL clocks, read M4 SoC Clock

**Wi-Fi**

- WPA2/WPA3 Personal, WPS and WPA2-EAP Support for Station Mode
- TCP/IP stack with IPv4, IPv6, TCP, UDP, TLS, HTTP/HTTPS, DHCPv4, DHCPv6, MQTT Client, DNS Client, SNTP client.
- Support for SSL client versions TLSV1.0, TLSV1.2, TLSV1.3 and SSL server versions TLSV1.0 and TLSV1.2
- Wi-Fi STA (802.11n/802.11ax) + 802.11n AP Support
- HE (802.11ax) and Individual TWT Feature Support
- Multiple BSSID feature support as an STA
- Secure OTA support on B0 radio boards.
- Support for LWIP network stack
- Support for AWS MQTT library
- Support for Azure MQTT library
- Support for BSD and IoT sockets application programming interface(API)
- Support added to change the listen interval after association with Access Point
- New API sl_si91x_fwup_abort added to support aborting firmware upgrade
- Added feature to support Gain offset calibration in channel 14

**Bluetooth Low Energy**

- BLE central & peripheral connections are supported.
- Ultra-low power save is supported.

**Power Save**

- Max PSP, enhanced MAX PSP, Fast PSP, and 802.11ax TWT power save modes are supported in WiFi.
- Only Max PSP power save mode is supported in BLE

**Crypto Support**

- AES, SHA, AES-CCM, HMAC, GCM, Chacha-poly, ECDH and TRNG FW Crypto API support added.
- PSA enabled Mbed TLS support added
- NVM support added for key storage
- Symmetric and asymmetric key storage
- TRNG, AES, SHA, HMAC, GCM, Chacha-poly, ECDH and AES-CCM hardware crypto engine is integrated with PSA crypto.

**Changes and Fixes**

**SDK**

- SQA bugs: SI91X-16150, SI91X-16054, SI91X-15712

**MCU**

- SQA Bugs: SI91X-15867, SI91X-16064, SI91X-15970, SI91X-15997, SI91X-16103, SI91X-16108, SI91X-16097, SI91X-16178, SI91X-16106

**Wi-Fi & Network Stack**

- Created and modified Examples to show datasheet numbers [RSCDEV-29146]
- Updated the http_hostname handling [SI91X-16021]
- Added missing certificate index handling and check for tlsv1.2 for http otaf [SI91X-16066]
- Added new API sl_si91x_is_device_initialized [RSCDEV-28559]
- Added note for sl_net_get_credential api and added check for invalid parameters [SI91X-15565]
- Addressed wrong values printed for wlan_state and channel using sl_wifi_get_wireless_info [SI91X-16139]
- Fixed Issue with multiple socket accept calls [SI91X-15614]
- Added support for TCP_ACK_INDICATION call back feature [WIFISDK-1270]
- Demo Tiles for 917 sample apps [RSCDEV-28297]
- Increased stack size of application thread in aws_device_shadow example to fix the hardfault issue [SI91X-16093]
- Rejoin failure callback not triggered when wlan disconnection occurs while http [SI91X-16084]
- Need an api to get multiple dns server ip addresses from url [RSCDEV-26280]
- sl_si91x_recvfrom not called in sl_si91x_recv API [SI91X-15806]
- Low power examples clean up and show datasheet number [RSCDEV-28606]
- Resolved Doxygen Formatting Issues in sl_si91x_http_otaf Function Documentation [SI91X-16075]
- Handled missed ciphers in sockets [RSCDEV-28535]
- Created Lwip_throughput_application [WIFISDK-1268]
- Updated async_select_callback [WIFISDK-1264]
- Fixed build errors of firmware_flashing_from_host_uart_xmodem example [RSCDEV-28765]
- Removed the unused files from sl_net/utilities folder[RSCDEV-26243]
- Added tcp and udp data transfer for concurrent mode example [RSCDEV-28477]
- Updated the topic_len,pass and username in MQTT Documentation [SI91X-15425]
- Added wifi_si91x_udp_async_receive example for NCP SPI [RSCDEV-27128]
- Update the AWS_MQTT example [RSCDEV-28475]
- Added support for ipv6 in mqtt [WIFISDK-1233]
- Modified the app file to give failure response when http get requested file is not present on the server [SI91X-15336 ]
- "Exception" For HTTPS GET while running simple_https_server python script at server side [SI91X-15179]
- Support both IPv4 and IPv6 config in sl_net_up [RSCDEV-26252]
- Sonarqube/Maintainability issue fixes[RSCDEV-29036]
- Sonarqube/Maintainability Issues Phase 9 [RSCDEV-28632]
- Sonarqube Duplications reported issues phase 8 [RSCDEV-28614]
- Sonarqube/Maintainability phase 8 [RSCDEV-28359]
- Sonarqube Duplications reported issues phase 7 [RSCDEV-28324]
- Sonarqube/Maintainability phase 7 [RSCDEV-27963]
- Sonarqube Duplications reported issues phase 6 [RSCDEV-28211]
- Sonarqube Maintainability reported issues phase 6 [RSCDEV-27877]
- Sonarqube/Duplication issue drive_command fix and changes to run sonarqube locally [RSCDEV-27729]
- SQA Bugs:SI91X-16093, SI91X-15425, SI91X-15336, SI91X-15179, SI91X-15921, SI91X-15810, SI91X-16078, SI91X-15434 ,SI91X-16033,SI91X-16018,SI91X-16019, SI91X-15891, SI91X-15260, SI91X-15731, SI91X-15893, SI91X-15935, SI91X-13311 SUTLEJ-3625

**BLE**

- Resolved device is not sending AUX_SCAN_REQ packets issue, when configured remote device with scannable extended advertising mode.
- Resolved device stopped transmitting AE advertising packets issue after sometime with configuring 'Two adv sets one handle with public address and another with Random address and Primary phy =1M and Sec phy =1M/2M .
- Resolved the issue of the device is not able to receive periodic advertising reports, when enabled "BLE_AE_PERIODIC_LIST_USED" bit in AE option in AE Periodic create sync API.
- Resolved the issue where the device is not able to receive periodic adv report, when enabled "BLE_AE_PERODIC_DUPLICATE_FILTERING_ENABLED" bit in AE option in AE Periodic create sync API.
- Updated BLE HP Tx max power index and FCC channel offsets (PGSUTLEJ-1096).
- Updated BLE HP Tx final GC calculations to avoid negative index values in every possible scenarios.(PGSUTLEJ-1306).

**CoEx**

- None

**System**

- None

**Recommendations**

**System**

- The current revision of SiWx917 B0 has:
  - RAM memory of 672k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_672K\_M4SS\_0K- This mode configures TA with 672k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By default EXT\_FEAT\_352K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_480K\_M4SS\_192K - This mode configures TA with 480k and M4 with 192K bytes of memory
    - EXT\_FEAT\_416K\_M4SS\_256K - This mode configures TA with 416k and M4 with 256K bytes of memory
    - EXT\_FEAT\_352K\_M4SS\_320K - This mode configures TA with 352k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 672K\_M4SS\_0K.
  - SoC mode should not use 672k\_M4SS\_0k memory configuration.
- Set the recommended Power Save Profile (PSP) type to Enhanced Max PSP.

**IDE**

- Download the latest version of Simplicity Studio
- Refer to the latest version of the SoC/NCP "Getting-Started-with-SiWx917" guide for more details

**Wi-Fi & Network Stack****

- The recommended embedded MQTT Publish payload is 1 kBytes.
- It is recommended to enable bit 16 of the 'Extended TCP IP Feature' bit map in the opermode command for all Wi-Fi Socket operations from the host to ensure graceful handling during asynchronous closures from the peer.
- Aggregation (bit 2 of feature\_bit\_map) is recommended to be enabled in opermode. This enables software to aggregate multiple packets to achieve better throughput
- TCP retransmission count value is recommended to be 30 or higher so that the TCP does not disconnect while the rejoin happens.
- To restart the module, the application needs to call sl\_wifi\_deinit() followed by sl\_wifi\_init().
- Register 'Join Fail Callback' function every time when join is called, as in the rejoin failure path the callback is deregistered. If not done, this might result in a scan not functioning on rejoin failure.
- User can enable SL\_SI91X\_EXT\_TCP\_IP\_SSL\_16K\_RECORD in 'Extended TCP IP Feature'bit map in opermode, if HTTPS download is failing after receiving HTTP headers..
- iTWT setup is recommended after IP assignment/TCP connection/application specific socket connections.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, increase TCP / ARP Timeouts at the remote side depending upon the configured TWT interval configured.
- In case of TWT+coex, when using sl\_wifi\_enable\_target\_wakeup\_time API, use TWT wake duration <= 16 ms and TWT wake interval >= 1 sec. If wake duration > 16 ms or TWT wake interval < 1sec, there might be performance issues.
- For iTWT GTK Interval Should be kept max possible value or zero. If GTK interval is not configurable, recommended TWT interval (in case of sl\_wifi\_enable\_target\_wakeup\_time API) or RX Latency (in case of sl\_wifi\_target\_wake\_time\_auto\_selection API) is less than 4sec.
- Disable Power Save for High Throughput Applications.
- The application needs to ensure that it sets RTC with the correct timestamp when the feature is enabled before establishing the SSL connection.
- The timeout value should not be less than 1 second for socket select and socket receive calls. Timeout value of less than 1 second is not currently supported.
- When sl\_wifi\_enable\_target\_wakeup\_time API is used, configuring TWT Wake interval beyond 1 min might lead to disconnections from the AP. Recommended to use TWT wakeup interval of less than or equal to 1 min.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, it is recommended to set missed\_beacon\_count of sl\_wifi\_set\_advanced\_client\_configuration API greater than 2 times of the configured TWT Interval.
- Disable power save and suspend any active TWT sessions before triggering HTTP OTAF.
- It is recommended to enable bit 31 of the 'TCP IP Feature' bit map in the opermode command to support multicast protocol

**BLE**

- In BLE, the recommended range of Connection Interval in
  - Power Save (BLE Only) - 100 ms to 1.28 s.
- In BLE, during Connection, the configuration of Scan Interval and Scan Window with the same value is not recommended. The suggested ratio of Scan Window to Scan Interval is 3:4.
- In BLE, if a device is acting as Central, the scan window (in set\_scan\_params and create\_connection commands) must be less than the existing Connection Interval. The suggested ratio of Scan Window to Connection Interval is 2:3.
- In BLE mode, if scanning and advertising are in progress on the SiWx91x module and it subsequently gets connected and moves to the central role, scanning stops else if it moves to the peripheral role, advertising stops. To further establish a connection to another peripheral device or to a central device, the application should give a command for starting advertising and scanning again.

**Co-Existence**

- For concurrent Wi-Fi + BLE, and while a Wi-Fi connection is active, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
- Wi-Fi + BLE Advertising
  - All standard advertising intervals are supported. As Wi-Fi throughput is increased, a slight difference in on-air advertisements compared to configured intervals may be observed.
  - BLE advertising is skipped if the advertising interval collides with Wi-Fi activity.
- Wi-Fi + BLE scanning
  - All standard scan intervals are supported. For better scan results, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
  - BLE scanning will be stopped for intervals that collide with Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Connections
  - All standard connection intervals are supported.
  - For a stable connection, use optimal connection intervals and max supervision timeout in the presence of Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Data Transfer
  - To achieve higher throughput for both Wi-Fi and BLE, use medium connection intervals, such as 45 to 80 ms with maximum supervision timeout.
  - Ensure Wi-Fi activity consumes lower intervals.

**MCU**

- It is not recommended to use the RO clock for Clock Configuration
- PSRAM examples are not supposed to be used with Non-PSRAM OPNs
- By default SYSrtc and wake on wireless wakeup resources enabled, please do not reinstall these two wakeup sources when tickless idle mode is enabled
- Minimum idle-time to Sleep 100ms, as configured in FreeRtos_config.h
- Recommended to enable DMA for better throughput numbers
- For I2C Fastplus and High speed modes, it is recommended to use High power instances from 80Mhz to 180Mhz core clock
- Not recommended to use switch_m4_frequency() for clock scaling. Refer to migration guide for more details on this
- When using this 32MHz source for the PLL, limit the maximum clock to 160MHz
- In RTOS environment, prefer Signaling mechanisms (Semaphore/Mutex/EventFlag etc.) instead of "Variables/Flags" from user callbacks to detect "*Transfer Complete*" for high speed communication peripherals
  - Refer Software Reference Manual for more details

**Known Issues**

**Sensorhub**

- Support for ADC FIFO Mode and Multi channel is open
- PS1-state supports only ADC sensor
- Power transitions with AWS are not stable in Sensorhub
- The process of integrating the tickless component and power manager service into the Sensorhub app is currently underway

**Network Stack**

- Sometimes during SSL Handshake, ECC curve parameters generated are wrong, resulting in connection failure with BBD2 error. However, this recovers in the next attempt.
- Randomize the client port if using rapid connect/disconnect of the MQTT session on the same client port with the power save.
- Secure SSL renegotiation not supported in Embedded Networking Stack.
- Disable power save before making TCP connection for NCP-UART interface.

**Wi-Fi**

- TWT device (STA) may not go to sleep in between TWT intervals in case of burst data traffics with data size more than the configured 'average tx throughput', until completion of data transfer.
- There are performance and IOP issues with MU MIMO.
- WPA3 Connection with the Hunting and Pecking algorithm takes about 3-4 seconds.
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.
- Low Wi-Fi+BLE throughput
- TCP/UDP TX/RX Data stall observed in CoEx scenarios
- Observed HTTPS Continuous download fails with TA Power save
- Performance improvements are in progress for lower performance metrics.
- Observed interop issue (connectivity failure) with few AP's when device reset/reboot happens on active connection.
- In concurrent mode, AP restart fails after stopping it with ap\_stop command.
- DUT deep sleep will not work after stopping AP with ap\_stop command.
- Unable to get SNTP async events when coex mode and Power save is enabled
- Fine Tuning 802.11ax Spectral mask in Progress
- Fine Tuning 11b mask in Ch11 in progress
- DUT is unable to connect to the AP with WPA3 security when we enable coex mode (WLAN+BLE) in opermode
- Socket listen API is failing from the second iteration
- Disconnections observed with Netgear RAX120 AP in WPA3 security
- Observed connection failures with some AP's in more channel congestion open lab environment
- Firmware Upgrade example is not working in PSRAM boards
- deep sleep example is not supported with power manager

**BLE**

- HID profile data transfer is not working, when power save is enabled in SoC.
- BLE reconnection is not working in ble_multiconnection_gatt demo, when power save is enabled in SoC
- BLE throughputs are less with STM32 compared to EFR

**Co-Existence**

- Observed HTTP continuous download is not happening in Powersave mode after BLE connection established using wifi\_https\_ble\_dual\_role application
- Observed DUT hang while Wi-Fi UDP/TCP Tx and BLE continuous scan.

**System**

- BRD8045A and BRD8045C does not have CTS and RTS pins routed from SiWx917 NCP, which are used for UART flow control

**MCU**

- Refer to the respective Radio board user guides for specific pinout details. Examples are targeted to a specific version mentioned in the respective readme
- Few(BOD and Comparator) wakeup resources are not working as expected in Power manager service
- Observed RO and BJT Temperature values are not as expected
- Character Timeout feature for all communication protocols is not supported
- UART instances does not support different FIFO Thresholds
- NVM3 dual flash application is not working as expected in the current release.
- ULP_I2C does not function as expected in low power mode when DMA is enabled
- Powersave Deep Sleep example for the siwg917m110lgtba OPN requires the installation of the device_need_ram_execution component.
- Sometimes TA processor hang occurs when M4 used XTAL clock with sleep enabled.

**Limitations and Unsupported Features**

**SDK**

- WiSeConnect3_SDK_3.1.3 and later versions are not compatible with firmware versions prior to 1711.2.10.1.2.0.4, due to enhancements in max transmit power configuration during Wi-Fi join/connection, need to be cautious while doing OTA firmware upgrade.

**Wi-Fi/Network Stack**

- TLS 1.3 Server is not supported
- In AP mode, IPv6 Router Advertisements are not supported. Although STA connected to the APUT can transfer IPv6 data to the peers by using SLAAC for address configuration.
- When sl\_wifi\_enable\_target\_wake\_time() API is used, observed occasional MQTT disconnections with longer TWT intervals (>30secs) with embedded MQTT + TWT.
- AMSDU TX is not supported.
- Fragmentation is not supported.
- AMSDUs within AMPDU is not supported.
- Currently, the module does not support Radio Measurement Requests feature of CCX V2
- 802.11k is not supported
- 40 MHz bandwidth for 2.4 GHz band is not supported.
- 802.11J channel 14 is not supported.
- MQTT versions 3 and 4 are supported.
- Maximum of 3 SSL connections are supported.
- In SSL ECC Curve ID supported is 23. SSL handshake with 3rd party clients depends on the SSL ECC Curve ID.
- LP mode is not supported.
- In iTWT mode, downlink data traffic should be limited. Disconnections may be observed if AP fails to send all the buffered data in the next TWT Service Period.
- Number of MBSSIDs processed is limited by the beacon length that can be processed by the stack (which is limited to 1024 bytes). Beacons greater than 1024 Bytes in length will not be processed.
- CoEx + EAP Security in 352K/320k is not feasible. This issue is observed due to a lack of memory in the 352k/320k Memory Configuration. It is supported with other EXT\_FEAT\_416K\_M4SS\_256K and EXT\_FEAT\_480K\_M4SS\_192K memory configurations.
- UL MUMIMO is not supported.
- The embedded HTTP server is not supported.
- Baremetal is not supported.
- Compared to SoC mode, NCP mode has fewer examples, but more will be enabled in upcoming releases.
- Maximum Supported length for Embedded MQTT username up to 120 bytes , topic length up to 200 bytes and password upto 62 bytes.
- UART 2 Debug prints are supported only on ULP_GPIO_9.
- WOW LAN feature is not supported.
- SA Query procedure is not supported in AP mode.
- Maximum Supported length for HTTP GET URL is up to 2048 bytes.
- Azure SDK with embedded MQTT is not supported.
- Power save is not supported in Azure MQTT.
- MDNS service discovery is currently not supported.
- sli_si91x_accept_async is not thread-safe
- Observed some background compatibility issues with coex and http in few corner cases
- AP mode does not support Tx and Rx aggregation in Concurrent mode.
- Concurrent STA mode, Rx aggregation is not supported. Tx aggregation is supported but it is not recommended.
- AP standalone mode does not support Tx aggregation. Rx aggregation is supported with limited number of BA sessions.

**BLE**

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.
- BLE TX/RX throughput is less when tested with EFM as compared to EFR
- Maximum supported AE data length is 200 bytes.
- Supports only two ADV\_EXT sets.
- Supports only two BLE connections (1 Central and 1 Peripheral) with AE.
- Advertising Extension feature is not supported in Coexistence.
- The  ae\_central & ae\_peripheral applications are not supported with TA\_352K\_M4\_320K RAM configuration.
- Setting PLL mode as 1 is not supported in Coexistence

**MCU**

- Manual chip select option is not supported when using GSPI.
- Following peripherals/features are not functioning as expected
    - ADC Multichannel, SSI Dual and Quad mode, SIO and Temp sensors
- LittleFS example support is intended to work only with Dual flash
- PS1 state is not supported in Power Manager
- Power is same for PS4 and PS3 states with powersave mode of power manager
- When using Button_0 as wakeup source, it limits the button functionality at application layer. For using Button_0 for application specific functionality, enable 'SL_SI91X_NPSS_GPIO_BTN_HANDLER'
- XTAL 40MHz clock as a reference clock is not supported

**System**
- TA Connected sleep and M4 PS2 is not a possible mode of operation
- M4 PS2 active and sleep is not a possible mode when SL_SI91X_EXT_FEAT_FRONT_END_SWITCH_PINS_ULP_GPIO_4_5_0 is enabled in SoC mode

**Simplicity Studio and Commander**

- Default GDB debug configuration is not supported for SoC projects, work around details provided in "Getting-Started-with-SiWx917"
- Observing flash download failures(ERROR 108) for a few image sizes
- While creating project through Simplicity Studio, "copy contents" option not supported.
- Simplicity commander does not support options under "Debug Lock tools".
- All projects in the package are compatible with GCC 10.3.1 version.

**Terminology**

|**Term**|**Description**|
| :- | :- |
|**New Features**|These items are new to this release|
|**Changes/Issues Fixed**|Changes made to existing features found in previous software releases.|
||Enhancements to existing product flow and feature set.|
||Bug fixes done in the release|
|**Deprecated Items**|Features or functions or APIs that are removed from the distributed release to align with the software roadmap|
|**Known Issues**|Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases|
|**Limitations/Recommendations**|Describes the limitations on product usage and recommendations for optimal use cases|

**Note**

- Change SPI frequency to 12.5Mhz while measuring BLE throughput with EFR32

<br>

**WiSeConnect3\_SDK\_3.3.0-cf4 Release Notes**

This SDK package supports SoC Mode and NCP Mode for B0:

- In SoC Mode: Customer applications can run on Cortex M4. Wireless, network, and security stacks run on the wireless subsystem.
- In NCP mode: Wireless, network, and security stacks run on the Wireless subsystem. Customer applications run on the external host MCU.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

**Note**: Use Simplicity Studio version SV5.8.0.1 onwards

**SoC Highlights**

- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support ultra low power Wi-Fi standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode
- **MCU examples** : GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers, Config Timers, ULP (Ultra Low Power) Timers, Sleeptimer, IOSTREAM, NVM3, MEMLCD, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, Sensorhub, Joystick, Relative Humidity and Temperature sensor (RHT), Analog Comparator, Digital to Analog Converter and Temperature sensors (RO and BJT), CRC, LittleFS, Power Manager with RTOS
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE whitelisting, and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack, All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS client
- **IDE** : Simplicity Studio with Windows 10(64-bit), Linux, Mac OS
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** :
  - Si-MB4002A Main board
  - SiWx917 Radio boards

|**RadioBoard Type**|**SiWx917B0 with Board Version**|
| :- | :- |
|Common flash|Si917-BRD4338A(2.0)|
|Dual flash|Si917-BRD4339B(2.0)|
|External PSRAM|Si917-BRD4340A(2.0), Si917-BRD4342A(2.0)|
|Internal PSRAM|Si917-BRD4339A(2.0)|
|Dev Kit|Si917-2605A|

**NCP Highlights**

- **Host Interface** : SPI, UART
- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode.
- **Wi-Fi** : 2.4GHz Wi-Fi Support, WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE Whitelisting and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack , BLE Stack , All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS Client.
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **Hardware kits to evaluate NCP Mode**
  - NCP EFR Expansion Kit with NCP Radio board (BRD4338A(NCP MBR) + BRD8045A)
  - Wireless Pro kit Mainboard BRD4002A Rev A06
  - EFR32xG24 Wireless 2.4 GHz +10 dBm Radio Board xG24-RB4186C

**Release Details**

|**Item**|**Details**|
| :- | :- |
|Release date|June 18th, 2024|
|SDK Version|3.3.0-cf4|
|Firmware Version|1711\.2.12.1.0.0.10|
|Package Name|WiSeConnect3\_SDK\_3.3.0-cf4|
|GSDK Version | SiSDK-2024.6.0 |
|Supported RTOS|FreeRTOS|
|Operating Modes Supported|Wi-Fi STA, Wi-Fi AP, Wi-Fi STA+BLE, Wi-Fi STA+AP|
|Build Quality|GA|

- SiWx917 release consists of two components
  - Wireless Firmware - SiWx917 Firmware Binaries
  - Wiseconnect3 Library - Wiseconnect3 SDK library runs on the external host in NCP mode and internal Cortex M4 in SoC Mode.
- This release is meant only for use with designs based on SiWx917 Silicon
- The firmware to load is available in the following format:
  - SiWG917-B.2.12.1.x.0.x.rps - B0 Full-featured firmware binary
  - SiWG917-B.2.12.1.x.2.x.rps - B0 lite firmware binary

**Features Supported**

**Sensorhub service**

- Support for ADC, SPI, SDC and I2C based sensors
- Support for PS2
- Support added for SDC

**MCU**

- ADC Single Channel, ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, GPIO, GSPI, I2C, I2S, NVM3, OPAMP, PSRAM, PWM, QEI, RTC, SDIO Secondary, SSI Master and Slave, UART, Micro DMA, USART, Watchdog Timer, Temperature Sensors (RO and BJT), USART Master and Slave, CRC
- UC Supported Peripherals - GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers , Config Timers, ULP (Ultra Low Power) Timers, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, MEMLCD, Analog Comparator and Digital to Analog Converter.
- Services - Sleeptimer, IOSTREAM, NVM3, Power Manager, LittleFS, Pin Tool (support for USART, I2C, SSI, GSPI, SIO, SCT, PWM, I2S, ADC, DAC and Analog Comparator)
- ULP (Ultra Low Power) Peripherals - ulp\_adc, ulp\_calender, ulp\_dac, ulp\_gpio, ulp\_i2c, ulp\_i2s, ulp\_timer, ulp\_uart, ulp\_udma
- Extended flash write support for NWP flash region and added read api to read from NWP flash region
- List of OPN's supported si917-sb00, siwg917m111mgtba, siwg917m100mgtba, siwg917m111xgtba, siwg917m121xgtba, siwg917m110lgtba and siwg917m141xgtba
- Support added for SiWG917 Dev Kit Board (BRD2605A)
- Added APIs to configure M4 SoC Clock, PLL clocks, read M4 SoC Clock

**Wi-Fi**

- WPA2/WPA3 Personal, WPS and WPA2-EAP Support for Station Mode
- TCP/IP stack with IPv4, IPv6, TCP, UDP, TLS, HTTP/HTTPS, DHCPv4, DHCPv6, MQTT Client, DNS Client, SNTP client.
- Support for SSL client versions TLSV1.0, TLSV1.2, TLSV1.3 and SSL server versions TLSV1.0 and TLSV1.2
- Wi-Fi STA (802.11n/802.11ax) + 802.11n AP Support
- HE (802.11ax) and Individual TWT Feature Support
- Multiple BSSID feature support as an STA
- Secure OTA support on B0 radio boards.
- Support for LWIP network stack
- Support for AWS MQTT library
- Support for Azure MQTT library
- Support for BSD and IoT sockets application programming interface(API)
- Support added to change the listen interval after association with Access Point
- New API sl_si91x_fwup_abort added to support aborting firmware upgrade
- Added feature to support Gain offset calibration in channel 14

**Bluetooth Low Energy**

- BLE central & peripheral connections are supported.
- Ultra-low power save is supported.

**Power Save**

- Max PSP, enhanced MAX PSP, Fast PSP, and 802.11ax TWT power save modes are supported in WiFi.
- Only Max PSP power save mode is supported in BLE

**Crypto Support**

- AES, SHA, AES-CCM, HMAC, GCM, Chacha-poly, ECDH and TRNG FW Crypto API support added.
- PSA enabled Mbed TLS support added
- NVM support added for key storage
- Symmetric and asymmetric key storage
- TRNG, AES, SHA, HMAC, GCM, Chacha-poly, ECDH and AES-CCM hardware crypto engine is integrated with PSA crypto.

**Changes and Fixes**

**SDK**

- Updated release notes for both internal and public.

**MCU**

- None

**Wi-Fi & Network Stack**

- None

**BLE**

- None

**CoEx**

- None

**System**

- None

**Recommendations**

**System**

- The current revision of SiWx917 B0 has:
  - RAM memory of 672k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_672K\_M4SS\_0K- This mode configures TA with 672k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By default EXT\_FEAT\_352K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_480K\_M4SS\_192K - This mode configures TA with 480k and M4 with 192K bytes of memory
    - EXT\_FEAT\_416K\_M4SS\_256K - This mode configures TA with 416k and M4 with 256K bytes of memory
    - EXT\_FEAT\_352K\_M4SS\_320K - This mode configures TA with 352k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 672K\_M4SS\_0K.
  - SoC mode should not use 672k\_M4SS\_0k memory configuration.
- Set the recommended Power Save Profile (PSP) type to Enhanced Max PSP.

**IDE**

- Download the latest version of Simplicity Studio
- Refer to the latest version of the SoC/NCP "Getting-Started-with-SiWx917" guide for more details

**Wi-Fi & Network Stack****

- The recommended embedded MQTT Publish payload is 1 kBytes.
- It is recommended to enable bit 16 of the 'Extended TCP IP Feature' bit map in the opermode command for all Wi-Fi Socket operations from the host to ensure graceful handling during asynchronous closures from the peer.
- Aggregation (bit 2 of feature\_bit\_map) is recommended to be enabled in opermode. This enables software to aggregate multiple packets to achieve better throughput
- TCP retransmission count value is recommended to be 30 or higher so that the TCP does not disconnect while the rejoin happens.
- To restart the module, the application needs to call sl\_wifi\_deinit() followed by sl\_wifi\_init().
- Register 'Join Fail Callback' function every time when join is called, as in the rejoin failure path the callback is deregistered. If not done, this might result in a scan not functioning on rejoin failure.
- User can enable SL\_SI91X\_EXT\_TCP\_IP\_SSL\_16K\_RECORD in 'Extended TCP IP Feature'bit map in opermode, if HTTPS download is failing after receiving HTTP headers..
- iTWT setup is recommended after IP assignment/TCP connection/application specific socket connections.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, increase TCP / ARP Timeouts at the remote side depending upon the configured TWT interval configured.
- In case of TWT+coex, when using sl\_wifi\_enable\_target\_wakeup\_time API, use TWT wake duration <= 16 ms and TWT wake interval >= 1 sec. If wake duration > 16 ms or TWT wake interval < 1sec, there might be performance issues.
- For iTWT GTK Interval Should be kept max possible value or zero. If GTK interval is not configurable, recommended TWT interval (in case of sl\_wifi\_enable\_target\_wakeup\_time API) or RX Latency (in case of sl\_wifi\_target\_wake\_time\_auto\_selection API) is less than 4sec.
- Disable Power Save for High Throughput Applications.
- The application needs to ensure that it sets RTC with the correct timestamp when the feature is enabled before establishing the SSL connection.
- The timeout value should not be less than 1 second for socket select and socket receive calls. Timeout value of less than 1 second is not currently supported.
- When sl\_wifi\_enable\_target\_wakeup\_time API is used, configuring TWT Wake interval beyond 1 min might lead to disconnections from the AP. Recommended to use TWT wakeup interval of less than or equal to 1 min.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, it is recommended to set missed\_beacon\_count of sl\_wifi\_set\_advanced\_client\_configuration API greater than 2 times of the configured TWT Interval.
- Disable power save and suspend any active TWT sessions before triggering HTTP OTAF.
- It is recommended to enable bit 31 of the 'TCP IP Feature' bit map in the opermode command to support multicast protocol

**BLE**

- In BLE, the recommended range of Connection Interval in
  - Power Save (BLE Only) - 100 ms to 1.28 s.
- In BLE, during Connection, the configuration of Scan Interval and Scan Window with the same value is not recommended. The suggested ratio of Scan Window to Scan Interval is 3:4.
- In BLE, if a device is acting as Central, the scan window (in set\_scan\_params and create\_connection commands) must be less than the existing Connection Interval. The suggested ratio of Scan Window to Connection Interval is 2:3.
- In BLE mode, if scanning and advertising are in progress on the SiWx91x module and it subsequently gets connected and moves to the central role, scanning stops else if it moves to the peripheral role, advertising stops. To further establish a connection to another peripheral device or to a central device, the application should give a command for starting advertising and scanning again.

**Co-Existence**

- For concurrent Wi-Fi + BLE, and while a Wi-Fi connection is active, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
- Wi-Fi + BLE Advertising
  - All standard advertising intervals are supported. As Wi-Fi throughput is increased, a slight difference in on-air advertisements compared to configured intervals may be observed.
  - BLE advertising is skipped if the advertising interval collides with Wi-Fi activity.
- Wi-Fi + BLE scanning
  - All standard scan intervals are supported. For better scan results, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
  - BLE scanning will be stopped for intervals that collide with Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Connections
  - All standard connection intervals are supported.
  - For a stable connection, use optimal connection intervals and max supervision timeout in the presence of Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Data Transfer
  - To achieve higher throughput for both Wi-Fi and BLE, use medium connection intervals, such as 45 to 80 ms with maximum supervision timeout.
  - Ensure Wi-Fi activity consumes lower intervals.

**MCU**

- It is not recommended to use the RO clock for Clock Configuration
- PSRAM examples are not supposed to be used with Non-PSRAM OPNs
- By default SYSrtc and wake on wireless wakeup resources enabled, please do not reinstall these two wakeup sources when tickless idle mode is enabled
- Minimum idle-time to Sleep 100ms, as configured in FreeRtos_config.h
- Recommended to enable DMA for better throughput numbers
- For I2C Fastplus and High speed modes, it is recommended to use High power instances from 80Mhz to 180Mhz core clock
- Not recommended to use switch_m4_frequency() for clock scaling. Refer to migration guide for more details on this
- When using this 32MHz source for the PLL, limit the maximum clock to 160MHz
- In RTOS environment, prefer Signaling mechanisms (Semaphore/Mutex/EventFlag etc.) instead of "Variables/Flags" from user callbacks to detect "*Transfer Complete*" for high speed communication peripherals
  - Refer Software Reference Manual for more details

**Known Issues**

**Sensorhub**

- Support for ADC FIFO Mode and Multi channel is open
- PS1-state supports only ADC sensor
- Power transitions with AWS are not stable in Sensorhub
- The process of integrating the tickless component and power manager service into the Sensorhub app is currently underway

**Network Stack**

- Sometimes during SSL Handshake, ECC curve parameters generated are wrong, resulting in connection failure with BBD2 error. However, this recovers in the next attempt.
- Randomize the client port if using rapid connect/disconnect of the MQTT session on the same client port with the power save.
- Secure SSL renegotiation not supported in Embedded Networking Stack.
- Disable power save before making TCP connection for NCP-UART interface.

**Wi-Fi**

- TWT device (STA) may not go to sleep in between TWT intervals in case of burst data traffics with data size more than the configured 'average tx throughput', until completion of data transfer.
- There are performance and IOP issues with MU MIMO.
- WPA3 Connection with the Hunting and Pecking algorithm takes about 3-4 seconds.
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.
- Low Wi-Fi+BLE throughput
- TCP/UDP TX/RX Data stall observed in CoEx scenarios
- Observed HTTPS Continuous download fails with TA Power save
- Performance improvements are in progress for lower performance metrics.
- Observed interop issue (connectivity failure) with few AP's when device reset/reboot happens on active connection.
- In concurrent mode, AP restart fails after stopping it with ap\_stop command.
- DUT deep sleep will not work after stopping AP with ap\_stop command.
- Unable to get SNTP async events when coex mode and Power save is enabled
- Fine Tuning 802.11ax Spectral mask in Progress
- Fine Tuning 11b mask in Ch11 in progress
- DUT is unable to connect to the AP with WPA3 security when we enable coex mode (WLAN+BLE) in opermode
- Socket listen API is failing from the second iteration
- Disconnections observed with Netgear RAX120 AP in WPA3 security
- Observed connection failures with some AP's in more channel congestion open lab environment
- Firmware Upgrade example is not working in PSRAM boards
- deep sleep example is not supported with power manager

**BLE**

- HID profile data transfer is not working, when power save is enabled in SoC.
- BLE reconnection is not working in ble_multiconnection_gatt demo, when power save is enabled in SoC
- BLE throughputs are less with STM32 compared to EFR

**Co-Existence**

- Observed HTTP continuous download is not happening in Powersave mode after BLE connection established using wifi\_https\_ble\_dual\_role application
- Observed DUT hang while Wi-Fi UDP/TCP Tx and BLE continuous scan.

**System**

- BRD8045A and BRD8045C does not have CTS and RTS pins routed from SiWx917 NCP, which are used for UART flow control

**MCU**

- Refer to the respective Radio board user guides for specific pinout details. Examples are targeted to a specific version mentioned in the respective readme
- Few(BOD and Comparator) wakeup resources are not working as expected in Power manager service
- Observed RO and BJT Temperature values are not as expected
- Character Timeout feature for all communication protocols is not supported
- UART instances does not support different FIFO Thresholds
- NVM3 dual flash application is not working as expected in the current release.
- ULP_I2C does not function as expected in low power mode when DMA is enabled
- Powersave Deep Sleep example for the siwg917m110lgtba OPN requires the installation of the device_need_ram_execution component.
- Sometimes TA processor hang occurs when M4 used XTAL clock with sleep enabled.

**Limitations and Unsupported Features**

**SDK**

- WiSeConnect3_SDK_3.1.3 and later versions are not compatible with firmware versions prior to 1711.2.10.1.2.0.4, due to enhancements in max transmit power configuration during Wi-Fi join/connection, need to be cautious while doing OTA firmware upgrade.

**Wi-Fi/Network Stack**

- TLS 1.3 Server is not supported
- In AP mode, IPv6 Router Advertisements are not supported. Although STA connected to the APUT can transfer IPv6 data to the peers by using SLAAC for address configuration.
- When sl\_wifi\_enable\_target\_wake\_time() API is used, observed occasional MQTT disconnections with longer TWT intervals (>30secs) with embedded MQTT + TWT.
- AMSDU TX is not supported.
- Fragmentation is not supported.
- AMSDUs within AMPDU is not supported.
- Currently, the module does not support Radio Measurement Requests feature of CCX V2
- 802.11k is not supported
- 40 MHz bandwidth for 2.4 GHz band is not supported.
- 802.11J channel 14 is not supported.
- MQTT versions 3 and 4 are supported.
- Maximum of 3 SSL connections are supported.
- In SSL ECC Curve ID supported is 23. SSL handshake with 3rd party clients depends on the SSL ECC Curve ID.
- LP mode is not supported.
- In iTWT mode, downlink data traffic should be limited. Disconnections may be observed if AP fails to send all the buffered data in the next TWT Service Period.
- Number of MBSSIDs processed is limited by the beacon length that can be processed by the stack (which is limited to 1024 bytes). Beacons greater than 1024 Bytes in length will not be processed.
- CoEx + EAP Security in 352K/320k is not feasible. This issue is observed due to a lack of memory in the 352k/320k Memory Configuration. It is supported with other EXT\_FEAT\_416K\_M4SS\_256K and EXT\_FEAT\_480K\_M4SS\_192K memory configurations.
- UL MUMIMO is not supported.
- The embedded HTTP server is not supported.
- Baremetal is not supported.
- Compared to SoC mode, NCP mode has fewer examples, but more will be enabled in upcoming releases.
- Maximum Supported length for Embedded MQTT username up to 120 bytes , topic length up to 200 bytes and password upto 62 bytes.
- UART 2 Debug prints are supported only on ULP_GPIO_9.
- WOW LAN feature is not supported.
- SA Query procedure is not supported in AP mode.
- Maximum Supported length for HTTP GET URL is up to 2048 bytes.
- Azure SDK with embedded MQTT is not supported.
- Power save is not supported in Azure MQTT.
- MDNS service discovery is currently not supported.
- sli_si91x_accept_async is not thread-safe
- Observed some background compatibility issues with coex and http in few corner cases
- AP mode does not support Tx and Rx aggregation in Concurrent mode.
- Concurrent STA mode, Rx aggregation is not supported. Tx aggregation is supported but it is not recommended.
- AP standalone mode does not support Tx aggregation. Rx aggregation is supported with limited number of BA sessions.

**BLE**

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.
- BLE TX/RX throughput is less when tested with EFM as compared to EFR
- Maximum supported AE data length is 200 bytes.
- Supports only two ADV\_EXT sets.
- Supports only two BLE connections (1 Central and 1 Peripheral) with AE.
- Advertising Extension feature is not supported in Coexistence.
- The  ae\_central & ae\_peripheral applications are not supported with TA\_352K\_M4\_320K RAM configuration.
- Setting PLL mode as 1 is not supported in Coexistence

**MCU**

- Manual chip select option is not supported when using GSPI.
- Following peripherals/features are not functioning and shall be deprecated from future releases
    - ADC Multichannel, SSI Dual and Quad mode, SIO and Temp sensors
- LittleFS example supports only with Dual flash
- PS1 state is not supported in Power Manager
- Power is same for PS4 and PS3 states with powersave mode of power manager
- When using Button_0 as wakeup source, it limits the button functionality at application layer. For using Button_0 for application specific functionality, enable 'SL_SI91X_NPSS_GPIO_BTN_HANDLER'
- XTAL 40MHz clock as a reference clock is not supported

**System**
- TA Connected sleep and M4 PS2 is not a possible mode of operation
- M4 PS2 active and sleep is not a possible mode when SL_SI91X_EXT_FEAT_FRONT_END_SWITCH_PINS_ULP_GPIO_4_5_0 is enabled in SoC mode

**Simplicity Studio and Commander**

- Default GDB debug configuration is not supported for SoC projects, work around details provided in "Getting-Started-with-SiWx917"
- Observing flash download failures(ERROR 108) for a few image sizes
- While creating project through Simplicity Studio, "copy contents" option not supported.
- Simplicity commander does not support options under "Debug Lock tools".
- All projects in the package are compatible with GCC 10.3.1 version.

**Terminology**

|**Term**|**Description**|
| :- | :- |
|**New Features**|These items are new to this release|
|**Changes/Issues Fixed**|Changes made to existing features found in previous software releases.|
||Enhancements to existing product flow and feature set.|
||Bug fixes done in the release|
|**Deprecated Items**|Features or functions or APIs that are removed from the distributed release to align with the software roadmap|
|**Known Issues**|Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases|
|**Limitations/Recommendations**|Describes the limitations on product usage and recommendations for optimal use cases|

**Note**

- Change SPI frequency to 12.5Mhz while measuring BLE throughput with EFR32

<br>

**WiSeConnect3\_SDK\_3.3.0-cf3 Release Notes**

This SDK package supports SoC Mode and NCP Mode for B0:

- In SoC Mode: Customer applications can run on Cortex M4. Wireless, network, and security stacks run on the wireless subsystem.
- In NCP mode: Wireless, network, and security stacks run on the Wireless subsystem. Customer applications run on the external host MCU.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

**Note**: Use Simplicity Studio version SV5.8.0.1 onwards

**SoC Highlights**

- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support ultra low power Wi-Fi standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode
- **MCU examples** : GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers, Config Timers, ULP (Ultra Low Power) Timers, Sleeptimer, IOSTREAM, NVM3, MEMLCD, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, Sensorhub, Joystick, Relative Humidity and Temperature sensor (RHT), Analog Comparator, Digital to Analog Converter and Temperature sensors (RO and BJT), CRC, LittleFS, Power Manager with RTOS
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE whitelisting, and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack, All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS client
- **IDE** : Simplicity Studio with Windows 10(64-bit), Linux, Mac OS
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** :
  - Si-MB4002A Main board
  - SiWx917 Radio boards

|**RadioBoard Type**|**SiWx917B0 with Board Version**|
| :- | :- |
|Common flash|Si917-BRD4338A(2.0)|
|Dual flash|Si917-BRD4339B(2.0)|
|External PSRAM|Si917-BRD4340A(2.0), Si917-BRD4342A(2.0)|
|Internal PSRAM|Si917-BRD4339A(2.0)|
|Dev Kit|Si917-2605A|

**NCP Highlights**

- **Host Interface** : SPI, UART
- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode.
- **Wi-Fi** : 2.4GHz Wi-Fi Support, WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE Whitelisting and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack , BLE Stack , All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS Client.
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **Hardware kits to evaluate NCP Mode**
  - NCP EFR Expansion Kit with NCP Radio board (BRD4338A(NCP MBR) + BRD8045A)
  - Wireless Pro kit Mainboard BRD4002A Rev A06
  - EFR32xG24 Wireless 2.4 GHz +10 dBm Radio Board xG24-RB4186C

**Release Details**

|**Item**|**Details**|
| :- | :- |
|Release date|June 13th, 2024|
|SDK Version|3.3.0-cf3|
|Firmware Version|1711\.2.12.1.0.0.10|
|Package Name|WiSeConnect3\_SDK\_3.3.0-cf3|
|GSDK Version | SiSDK-2024.6.0 |
|Supported RTOS|FreeRTOS|
|Operating Modes Supported|Wi-Fi STA, Wi-Fi AP, Wi-Fi STA+BLE, Wi-Fi STA+AP|
|Build Quality|GA|

- SiWx917 release consists of two components
  - Wireless Firmware - SiWx917 Firmware Binaries
  - Wiseconnect3 Library - Wiseconnect3 SDK library runs on the external host in NCP mode and internal Cortex M4 in SoC Mode.
- This release is meant only for use with designs based on SiWx917 Silicon
- The firmware to load is available in the following format:
  - SiWG917-B.2.12.1.x.0.x.rps - B0 Full-featured firmware binary
  - SiWG917-B.2.12.1.x.0.x.rps - B0 lite firmware binary

**Features Supported**

**Sensorhub service**

- Support for ADC, SPI, SDC and I2C based sensors
- Support for PS2
- Support added for SDC

**MCU**

- ADC Single Channel, ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, GPIO, GSPI, I2C, I2S, NVM3, OPAMP, PSRAM, PWM, QEI, RTC, SDIO Secondary, SSI Master and Slave, UART, Micro DMA, USART, Watchdog Timer, Temperature Sensors (RO and BJT), USART Master and Slave, CRC
- UC Supported Peripherals - GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers , Config Timers, ULP (Ultra Low Power) Timers, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, MEMLCD, Analog Comparator and Digital to Analog Converter.
- Services - Sleeptimer, IOSTREAM, NVM3, Power Manager, LittleFS, Pin Tool (support for USART, I2C, SSI, GSPI, SIO, SCT, PWM, I2S, ADC, DAC and Analog Comparator)
- ULP (Ultra Low Power) Peripherals - ulp\_adc, ulp\_calender, ulp\_dac, ulp\_gpio, ulp\_i2c, ulp\_i2s, ulp\_timer, ulp\_uart, ulp\_udma
- Extended flash write support for NWP flash region and added read api to read from NWP flash region
- List of OPN's supported si917-sb00, siwg917m111mgtba, siwg917m100mgtba, siwg917m111xgtba, siwg917m121xgtba, siwg917m110lgtba and siwg917m141xgtba
- Support added for SiWG917 Dev Kit Board (BRD2605A)
- Added APIs to configure M4 SoC Clock, PLL clocks, read M4 SoC Clock

**Wi-Fi**

- WPA2/WPA3 Personal, WPS and WPA2-EAP Support for Station Mode
- TCP/IP stack with IPv4, IPv6, TCP, UDP, TLS, HTTP/HTTPS, DHCPv4, DHCPv6, MQTT Client, DNS Client, SNTP client.
- Support for SSL client versions TLSV1.0, TLSV1.2, TLSV1.3 and SSL server versions TLSV1.0 and TLSV1.2
- Wi-Fi STA (802.11n/802.11ax) + 802.11n AP Support
- HE (802.11ax) and Individual TWT Feature Support
- Multiple BSSID feature support as an STA
- Secure OTA support on B0 radio boards.
- Support for LWIP network stack
- Support for AWS MQTT library
- Support for Azure MQTT library
- Support for BSD and IoT sockets application programming interface(API)
- Support added to change the listen interval after association with Access Point
- New API sl_si91x_fwup_abort added to support aborting firmware upgrade
- Added feature to support Gain offset calibration in channel 14

**Bluetooth Low Energy**

- BLE central & peripheral connections are supported.
- Ultra-low power save is supported.

**Power Save**

- Max PSP, enhanced MAX PSP, Fast PSP, and 802.11ax TWT power save modes are supported in WiFi.
- Only Max PSP power save mode is supported in BLE

**Crypto Support**

- AES, SHA, AES-CCM, HMAC, GCM, Chacha-poly, ECDH and TRNG FW Crypto API support added.
- PSA enabled Mbed TLS support added
- NVM support added for key storage
- Symmetric and asymmetric key storage
- TRNG, AES, SHA, HMAC, GCM, Chacha-poly, ECDH and AES-CCM hardware crypto engine is integrated with PSA crypto.

**Changes and Fixes**

**SDK**

- None

**MCU**

- Resolved GPIO pad selection issue - SI91X-15186
- Fixed the issue where data transfer would randomly stop when GSPI and I2S operated simultaneously - Si91X-15750
- Updated Application Readme files based on feedback
- Updated Migration guide

**Wi-Fi & Network Stack**

- None

**BLE**

- None

**CoEx**

- None

**System**

- None

**Recommendations**

**System**

- The current revision of SiWx917 B0 has:
  - RAM memory of 672k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_672K\_M4SS\_0K- This mode configures TA with 672k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By default EXT\_FEAT\_352K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_480K\_M4SS\_192K - This mode configures TA with 480k and M4 with 192K bytes of memory
    - EXT\_FEAT\_416K\_M4SS\_256K - This mode configures TA with 416k and M4 with 256K bytes of memory
    - EXT\_FEAT\_352K\_M4SS\_320K - This mode configures TA with 352k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 672K\_M4SS\_0K.
  - SoC mode should not use 672k\_M4SS\_0k memory configuration.
- Set the recommended Power Save Profile (PSP) type to Enhanced Max PSP.

**IDE**

- Download the latest version of Simplicity Studio
- Refer to the latest version of the SoC/NCP "Getting-Started-with-SiWx917" guide for more details

**Wi-Fi & Network Stack****

- The recommended embedded MQTT Publish payload is 1 kBytes.
- It is recommended to enable bit 16 of the 'Extended TCP IP Feature' bit map in the opermode command for all Wi-Fi Socket operations from the host to ensure graceful handling during asynchronous closures from the peer.
- Aggregation (bit 2 of feature\_bit\_map) is recommended to be enabled in opermode. This enables software to aggregate multiple packets to achieve better throughput
- TCP retransmission count value is recommended to be 30 or higher so that the TCP does not disconnect while the rejoin happens.
- To restart the module, the application needs to call sl\_wifi\_deinit() followed by sl\_wifi\_init().
- Register 'Join Fail Callback' function every time when join is called, as in the rejoin failure path the callback is deregistered. If not done, this might result in a scan not functioning on rejoin failure.
- User can enable SL\_SI91X\_EXT\_TCP\_IP\_SSL\_16K\_RECORD in 'Extended TCP IP Feature'bit map in opermode, if HTTPS download is failing after receiving HTTP headers..
- iTWT setup is recommended after IP assignment/TCP connection/application specific socket connections.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, increase TCP / ARP Timeouts at the remote side depending upon the configured TWT interval configured.
- In case of TWT+coex, when using sl\_wifi\_enable\_target\_wakeup\_time API, use TWT wake duration <= 16 ms and TWT wake interval >= 1 sec. If wake duration > 16 ms or TWT wake interval < 1sec, there might be performance issues.
- For iTWT GTK Interval Should be kept max possible value or zero. If GTK interval is not configurable, recommended TWT interval (in case of sl\_wifi\_enable\_target\_wakeup\_time API) or RX Latency (in case of sl\_wifi\_target\_wake\_time\_auto\_selection API) is less than 4sec.
- Disable Power Save for High Throughput Applications.
- The application needs to ensure that it sets RTC with the correct timestamp when the feature is enabled before establishing the SSL connection.
- The timeout value should not be less than 1 second for socket select and socket receive calls. Timeout value of less than 1 second is not currently supported.
- When sl\_wifi\_enable\_target\_wakeup\_time API is used, configuring TWT Wake interval beyond 1 min might lead to disconnections from the AP. Recommended to use TWT wakeup interval of less than or equal to 1 min.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, it is recommended to set missed\_beacon\_count of sl\_wifi\_set\_advanced\_client\_configuration API greater than 2 times of the configured TWT Interval.
- Disable power save and suspend any active TWT sessions before triggering HTTP OTAF.
- It is recommended to enable bit 31 of the 'TCP IP Feature' bit map in the opermode command to support multicast protocol

**BLE**

- In BLE, the recommended range of Connection Interval in
  - Power Save (BLE Only) - 100 ms to 1.28 s.
- In BLE, during Connection, the configuration of Scan Interval and Scan Window with the same value is not recommended. The suggested ratio of Scan Window to Scan Interval is 3:4.
- In BLE, if a device is acting as Central, the scan window (in set\_scan\_params and create\_connection commands) must be less than the existing Connection Interval. The suggested ratio of Scan Window to Connection Interval is 2:3.
- In BLE mode, if scanning and advertising are in progress on the SiWx91x module and it subsequently gets connected and moves to the central role, scanning stops else if it moves to the peripheral role, advertising stops. To further establish a connection to another peripheral device or to a central device, the application should give a command for starting advertising and scanning again.

**Co-Existence**

- For concurrent Wi-Fi + BLE, and while a Wi-Fi connection is active, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
- Wi-Fi + BLE Advertising
  - All standard advertising intervals are supported. As Wi-Fi throughput is increased, a slight difference in on-air advertisements compared to configured intervals may be observed.
  - BLE advertising is skipped if the advertising interval collides with Wi-Fi activity.
- Wi-Fi + BLE scanning
  - All standard scan intervals are supported. For better scan results, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
  - BLE scanning will be stopped for intervals that collide with Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Connections
  - All standard connection intervals are supported.
  - For a stable connection, use optimal connection intervals and max supervision timeout in the presence of Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Data Transfer
  - To achieve higher throughput for both Wi-Fi and BLE, use medium connection intervals, such as 45 to 80 ms with maximum supervision timeout.
  - Ensure Wi-Fi activity consumes lower intervals.

**MCU**

- It is not recommended to use the RO clock for Clock Configuration
- PSRAM examples are not supposed to be used with Non-PSRAM OPNs
- By default SYSrtc and wake on wireless wakeup resources enabled, please do not reinstall these two wakeup sources when tickless idle mode is enabled
- Minimum idle-time to Sleep 100ms, as configured in FreeRtos_config.h
- Recommended to enable DMA for better throughput numbers
- For I2C Fastplus and High speed modes, it is recommended to use High power instances from 80Mhz to 180Mhz core clock
- Not recommended to use switch_m4_frequency() for clock scaling. Refer to migration guide for more details on this
- When using this 32MHz source for the PLL, limit the maximum clock to 160MHz
- In RTOS environment, prefer Signaling mechanisms (Semaphore/Mutex/EventFlag etc.) instead of "Variables/Flags" from user callbacks to detect "*Transfer Complete*" for high speed communication peripherals
  - Refer Software Reference Manual for more details

**Known Issues**

**Sensorhub**

- Support for ADC FIFO Mode and Multi channel is open
- PS1-state supports only ADC sensor
- Power transitions with AWS are not stable in Sensorhub
- The process of integrating the tickless component and power manager service into the Sensorhub app is currently underway

**Network Stack**

- Sometimes during SSL Handshake, ECC curve parameters generated are wrong, resulting in connection failure with BBD2 error. However, this recovers in the next attempt.
- Randomize the client port if using rapid connect/disconnect of the MQTT session on the same client port with the power save.
- Secure SSL renegotiation not supported in Embedded Networking Stack.
- Disable power save before making TCP connection for NCP-UART interface.

**Wi-Fi**

- TWT device (STA) may not go to sleep in between TWT intervals in case of burst data traffics with data size more than the configured 'average tx throughput', until completion of data transfer.
- There are performance and IOP issues with MU MIMO.
- WPA3 Connection with the Hunting and Pecking algorithm takes about 3-4 seconds.
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.
- Low Wi-Fi+BLE throughput
- TCP/UDP TX/RX Data stall observed in CoEx scenarios
- Observed HTTPS Continuous download fails with TA Power save
- Performance improvements are in progress for lower performance metrics.
- Observed interop issue (connectivity failure) with few AP's when device reset/reboot happens on active connection.
- In concurrent mode, AP restart fails after stopping it with ap\_stop command.
- DUT deep sleep will not work after stopping AP with ap\_stop command.
- Unable to get SNTP async events when coex mode and Power save is enabled
- Fine Tuning 802.11ax Spectral mask in Progress
- Fine Tuning 11b mask in Ch11 in progress
- DUT is unable to connect to the AP with WPA3 security when we enable coex mode (WLAN+BLE) in opermode
- Socket listen API is failing from the second iteration
- Disconnections observed with Netgear RAX120 AP in WPA3 security
- Observed connection failures with some AP's in more channel congestion open lab environment
- Firmware Upgrade example is not working in PSRAM boards
- deep sleep example is not supported with power manager

**BLE**

- HID profile data transfer is not working, when power save is enabled in SoC.
- BLE reconnection is not working in ble_multiconnection_gatt demo, when power save is enabled in SoC
- BLE throughputs are less with STM32 compared to EFR

**Co-Existence**

- Observed HTTP continuous download is not happening in Powersave mode after BLE connection established using wifi\_https\_ble\_dual\_role application
- Observed DUT hang while Wi-Fi UDP/TCP Tx and BLE continuous scan.

**System**

- BRD8045A and BRD8045C does not have CTS and RTS pins routed from SiWx917 NCP, which are used for UART flow control

**MCU**

- Refer to the respective Radio board user guides for specific pinout details. Examples are targeted to a specific version mentioned in the respective readme
- Few(BOD and Comparator) wakeup resources are not working as expected in Power manager service
- Observed RO and BJT Temperature values are not as expected
- Character Timeout feature for all communication protocols is not supported
- UART instances does not support different FIFO Thresholds
- NVM3 dual flash application is not working as expected in the current release.
- ULP_I2C does not function as expected in low power mode when DMA is enabled
- Powersave Deep Sleep example for the siwg917m110lgtba OPN requires the installation of the device_need_ram_execution component.
- Sometimes TA processor hang occurs when M4 used XTAL clock with sleep enabled.

**Limitations and Unsupported Features**

**SDK**

- WiSeConnect3_SDK_3.1.3 and later versions are not compatible with firmware versions prior to 1711.2.10.1.2.0.4, due to enhancements in max transmit power configuration during Wi-Fi join/connection, need to be cautious while doing OTA firmware upgrade.

**Wi-Fi/Network Stack**

- TLS 1.3 Server is not supported
- In AP mode, IPv6 Router Advertisements are not supported. Although STA connected to the APUT can transfer IPv6 data to the peers by using SLAAC for address configuration.
- When sl\_wifi\_enable\_target\_wake\_time() API is used, observed occasional MQTT disconnections with longer TWT intervals (>30secs) with embedded MQTT + TWT.
- AMSDU TX is not supported.
- Fragmentation is not supported.
- AMSDUs within AMPDU is not supported.
- Currently, the module does not support Radio Measurement Requests feature of CCX V2
- 802.11k is not supported
- 40 MHz bandwidth for 2.4 GHz band is not supported.
- 802.11J channel 14 is not supported.
- MQTT versions 3 and 4 are supported.
- Maximum of 3 SSL connections are supported.
- In SSL ECC Curve ID supported is 23. SSL handshake with 3rd party clients depends on the SSL ECC Curve ID.
- LP mode is not supported.
- In iTWT mode, downlink data traffic should be limited. Disconnections may be observed if AP fails to send all the buffered data in the next TWT Service Period.
- Number of MBSSIDs processed is limited by the beacon length that can be processed by the stack (which is limited to 1024 bytes). Beacons greater than 1024 Bytes in length will not be processed.
- CoEx + EAP Security in 352K/320k is not feasible. This issue is observed due to a lack of memory in the 352k/320k Memory Configuration. It is supported with other EXT\_FEAT\_416K\_M4SS\_256K and EXT\_FEAT\_480K\_M4SS\_192K memory configurations.
- UL MUMIMO is not supported.
- The embedded HTTP server is not supported.
- Baremetal is not supported.
- Compared to SoC mode, NCP mode has fewer examples, but more will be enabled in upcoming releases.
- Maximum Supported length for Embedded MQTT username up to 120 bytes , topic length up to 200 bytes and password upto 62 bytes.
- UART 2 Debug prints are supported only on ULP_GPIO_9.
- WOW LAN feature is not supported.
- SA Query procedure is not supported in AP mode.
- Maximum Supported length for HTTP GET URL is up to 2048 bytes.
- Azure SDK with embedded MQTT is not supported.
- Power save is not supported in Azure MQTT.
- MDNS service discovery is currently not supported.
- sli_si91x_accept_async is not thread-safe
- Observed some background compatibility issues with coex and http in few corner cases
- AP mode does not support Tx and Rx aggregation in Concurrent mode.
- Concurrent STA mode, Rx aggregation is not supported. Tx aggregation is supported but it is not recommended.
- AP standalone mode does not support Tx aggregation. Rx aggregation is supported with limited number of BA sessions.

**BLE**

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.
- BLE TX/RX throughput is less when tested with EFM as compared to EFR
- Maximum supported AE data length is 200 bytes.
- Supports only two ADV\_EXT sets.
- Supports only two BLE connections (1 Central and 1 Peripheral) with AE.
- Advertising Extension feature is not supported in Coexistence.
- The  ae\_central & ae\_peripheral applications are not supported with TA\_352K\_M4\_320K RAM configuration.
- Setting PLL mode as 1 is not supported in Coexistence

**MCU**

- Manual chip select option is not supported when using GSPI.
- Following peripherals/features are not functioning and shall be deprecated from future releases
    - ADC Multichannel, SSI Dual and Quad mode, SIO and Temp sensors
- LittleFS example supports only with Dual flash
- PS1 state is not supported in Power Manager
- Power is same for PS4 and PS3 states with powersave mode of power manager
- When using Button_0 as wakeup source, it limits the button functionality at application layer. For using Button_0 for application specific functionality, enable 'SL_SI91X_NPSS_GPIO_BTN_HANDLER'
- XTAL 40MHz clock as a reference clock is not supported

**System**
- TA Connected sleep and M4 PS2 is not a possible mode of operation
- M4 PS2 active and sleep is not a possible mode when SL_SI91X_EXT_FEAT_FRONT_END_SWITCH_PINS_ULP_GPIO_4_5_0 is enabled in SoC mode

**Simplicity Studio and Commander**

- Default GDB debug configuration is not supported for SoC projects, work around details provided in "Getting-Started-with-SiWx917"
- Observing flash download failures(ERROR 108) for a few image sizes
- While creating project through Simplicity Studio, "copy contents" option not supported.
- Simplicity commander does not support options under "Debug Lock tools".
- All projects in the package are compatible with GCC 10.3.1 version.

**Terminology**

|**Term**|**Description**|
| :- | :- |
|**New Features**|These items are new to this release|
|**Changes/Issues Fixed**|Changes made to existing features found in previous software releases.|
||Enhancements to existing product flow and feature set.|
||Bug fixes done in the release|
|**Deprecated Items**|Features or functions or APIs that are removed from the distributed release to align with the software roadmap|
|**Known Issues**|Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases|
|**Limitations/Recommendations**|Describes the limitations on product usage and recommendations for optimal use cases|

**Note**

- Change SPI frequency to 12.5Mhz while measuring BLE throughput with EFR32

<br>

**WiSeConnect3\_SDK\_3.3.0-cf2 Release Notes**

This SDK package supports SoC Mode and NCP Mode for B0:

- In SoC Mode: Customer applications can run on Cortex M4. Wireless, network, and security stacks run on the wireless subsystem.
- In NCP mode: Wireless, network, and security stacks run on the Wireless subsystem. Customer applications run on the external host MCU.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

**Note**: Use Simplicity Studio version SV5.8.0.1 onwards

**SoC Highlights**

- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support ultra low power Wi-Fi standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode
- **MCU examples** : GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers, Config Timers, ULP (Ultra Low Power) Timers, Sleeptimer, IOSTREAM, NVM3, MEMLCD, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, Sensorhub, Joystick, Relative Humidity and Temperature sensor (RHT), Analog Comparator, Digital to Analog Converter and Temperature sensors (RO and BJT), CRC, LittleFS, Power Manager with RTOS
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE whitelisting, and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack, All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS client
- **IDE** : Simplicity Studio with Windows 10(64-bit), Linux, Mac OS
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** :
  - Si-MB4002A Main board
  - SiWx917 Radio boards

|**RadioBoard Type**|**SiWx917B0 with Board Version**|
| :- | :- |
|Common flash|Si917-BRD4338A(2.0)|
|Dual flash|Si917-BRD4339B(2.0)|
|External PSRAM|Si917-BRD4340A(2.0), Si917-BRD4342A(2.0)|
|Internal PSRAM|Si917-BRD4339A(2.0)|
|Dev Kit|Si917-2605A|

**NCP Highlights**

- **Host Interface** : SPI, UART
- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode.
- **Wi-Fi** : 2.4GHz Wi-Fi Support, WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE Whitelisting and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack , BLE Stack , All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS Client.
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **Hardware kits to evaluate NCP Mode**
  - NCP EFR Expansion Kit with NCP Radio board (BRD4338A(NCP MBR) + BRD8045A)
  - Wireless Pro kit Mainboard BRD4002A Rev A06
  - EFR32xG24 Wireless 2.4 GHz +10 dBm Radio Board xG24-RB4186C

**Release Details**

|**Item**|**Details**|
| :- | :- |
|Release date|June 7th, 2024|
|SDK Version|3.3.0-cf|
|Firmware Version|1711\.2.12.1.0.0.10|
|Package Name|WiSeConnect3\_SDK\_3.3.0-cf2|
|GSDK Version | SiSDK-2024.6.0 |
|Supported RTOS|FreeRTOS|
|Operating Modes Supported|Wi-Fi STA, Wi-Fi AP, Wi-Fi STA+BLE, Wi-Fi STA+AP|
|Build Quality|GA|

- SiWx917 release consists of two components
  - Wireless Firmware - SiWx917 Firmware Binaries
  - Wiseconnect3 Library - Wiseconnect3 SDK library runs on the external host in NCP mode and internal Cortex M4 in SoC Mode.
- This release is meant only for use with designs based on SiWx917 Silicon
- The firmware to load is available in the following format:
  - SiWG917-B.2.12.1.x.0.x.rps - B0 Full-featured firmware binary
  - SiWG917-B.2.12.1.x.0.x.rps - B0 lite firmware binary

**Features Supported**

**Sensorhub service**

- Support for ADC, SPI, SDC and I2C based sensors
- Support for PS2
- Support added for SDC

**MCU**

- ADC Single Channel, ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, GPIO, GSPI, I2C, I2S, NVM3, OPAMP, PSRAM, PWM, QEI, RTC, SDIO Secondary, SSI Master and Slave, UART, Micro DMA, USART, Watchdog Timer, Temperature Sensors (RO and BJT), USART Master and Slave, CRC
- UC Supported Peripherals - GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers , Config Timers, ULP (Ultra Low Power) Timers, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, MEMLCD, Analog Comparator and Digital to Analog Converter.
- Services - Sleeptimer, IOSTREAM, NVM3, Power Manager, LittleFS, Pin Tool (support for USART, I2C, SSI, GSPI, SIO, SCT, PWM, I2S, ADC, DAC and Analog Comparator)
- ULP (Ultra Low Power) Peripherals - ulp\_adc, ulp\_calender, ulp\_dac, ulp\_gpio, ulp\_i2c, ulp\_i2s, ulp\_timer, ulp\_uart, ulp\_udma
- Extended flash write support for NWP flash region and added read api to read from NWP flash region
- List of OPN's supported si917-sb00, siwg917m111mgtba, siwg917m100mgtba, siwg917m111xgtba, siwg917m121xgtba, siwg917m110lgtba and siwg917m141xgtba
- Support added for SiWG917 Dev Kit Board (BRD2605A)
- Added APIs to configure M4 SoC Clock, PLL clocks, read M4 SoC Clock

**Wi-Fi**

- WPA2/WPA3 Personal, WPS and WPA2-EAP Support for Station Mode
- TCP/IP stack with IPv4, IPv6, TCP, UDP, TLS, HTTP/HTTPS, DHCPv4, DHCPv6, MQTT Client, DNS Client, SNTP client.
- Support for SSL client versions TLSV1.0, TLSV1.2, TLSV1.3 and SSL server versions TLSV1.0 and TLSV1.2
- Wi-Fi STA (802.11n/802.11ax) + 802.11n AP Support
- HE (802.11ax) and Individual TWT Feature Support
- Multiple BSSID feature support as an STA
- Secure OTA support on B0 radio boards.
- Support for LWIP network stack
- Support for AWS MQTT library
- Support for Azure MQTT library
- Support for BSD and IoT sockets application programming interface(API)
- Support added to change the listen interval after association with Access Point
- New API sl_si91x_fwup_abort added to support aborting firmware upgrade
- Added feature to support Gain offset calibration in channel 14

**Bluetooth Low Energy**

- BLE central & peripheral connections are supported.
- Ultra-low power save is supported.

**Power Save**

- Max PSP, enhanced MAX PSP, Fast PSP, and 802.11ax TWT power save modes are supported in WiFi.
- Only Max PSP power save mode is supported in BLE

**Crypto Support**

- AES, SHA, AES-CCM, HMAC, GCM, Chacha-poly, ECDH and TRNG FW Crypto API support added.
- PSA enabled Mbed TLS support added
- NVM support added for key storage
- Symmetric and asymmetric key storage
- TRNG, AES, SHA, HMAC, GCM, Chacha-poly, ECDH and AES-CCM hardware crypto engine is integrated with PSA crypto.

**Changes and Fixes**

**SDK**

- None

**MCU**

- Fixed the SoC PLL configuration api to support 32Mhz RC Oscillator source for M4 core and Peripherals
NOTE: This is not recommended as a clock source as there is a +-4% error that can impact functionality of peripherals, timers, etc.

**Wi-Fi & Network Stack**

- None

**BLE**

- None

**CoEx**

- None

**System**

- None

**Recommendations**

**System**

- The current revision of SiWx917 B0 has:
  - RAM memory of 672k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_672K\_M4SS\_0K- This mode configures TA with 672k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By default EXT\_FEAT\_352K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_480K\_M4SS\_192K - This mode configures TA with 480k and M4 with 192K bytes of memory
    - EXT\_FEAT\_416K\_M4SS\_256K - This mode configures TA with 416k and M4 with 256K bytes of memory
    - EXT\_FEAT\_352K\_M4SS\_320K - This mode configures TA with 352k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 672K\_M4SS\_0K.
  - SoC mode should not use 672k\_M4SS\_0k memory configuration.
- Set the recommended Power Save Profile (PSP) type to Enhanced Max PSP.

**IDE**

- Download the latest version of Simplicity Studio
- Refer to the latest version of the SoC/NCP "Getting-Started-with-SiWx917" guide for more details

**Wi-Fi & Network Stack****

- The recommended embedded MQTT Publish payload is 1 kBytes.
- It is recommended to enable bit 16 of the 'Extended TCP IP Feature' bit map in the opermode command for all Wi-Fi Socket operations from the host to ensure graceful handling during asynchronous closures from the peer.
- Aggregation (bit 2 of feature\_bit\_map) is recommended to be enabled in opermode. This enables software to aggregate multiple packets to achieve better throughput
- TCP retransmission count value is recommended to be 30 or higher so that the TCP does not disconnect while the rejoin happens.
- To restart the module, the application needs to call sl\_wifi\_deinit() followed by sl\_wifi\_init().
- Register 'Join Fail Callback' function every time when join is called, as in the rejoin failure path the callback is deregistered. If not done, this might result in a scan not functioning on rejoin failure.
- User can enable SL\_SI91X\_EXT\_TCP\_IP\_SSL\_16K\_RECORD in 'Extended TCP IP Feature'bit map in opermode, if HTTPS download is failing after receiving HTTP headers..
- iTWT setup is recommended after IP assignment/TCP connection/application specific socket connections.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, increase TCP / ARP Timeouts at the remote side depending upon the configured TWT interval configured.
- In case of TWT+coex, when using sl\_wifi\_enable\_target\_wakeup\_time API, use TWT wake duration <= 16 ms and TWT wake interval >= 1 sec. If wake duration > 16 ms or TWT wake interval < 1sec, there might be performance issues.
- For iTWT GTK Interval Should be kept max possible value or zero. If GTK interval is not configurable, recommended TWT interval (in case of sl\_wifi\_enable\_target\_wakeup\_time API) or RX Latency (in case of sl\_wifi\_target\_wake\_time\_auto\_selection API) is less than 4sec.
- Disable Power Save for High Throughput Applications.
- The application needs to ensure that it sets RTC with the correct timestamp when the feature is enabled before establishing the SSL connection.
- The timeout value should not be less than 1 second for socket select and socket receive calls. Timeout value of less than 1 second is not currently supported.
- When sl\_wifi\_enable\_target\_wakeup\_time API is used, configuring TWT Wake interval beyond 1 min might lead to disconnections from the AP. Recommended to use TWT wakeup interval of less than or equal to 1 min.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, it is recommended to set missed\_beacon\_count of sl\_wifi\_set\_advanced\_client\_configuration API greater than 2 times of the configured TWT Interval.
- Disable power save and suspend any active TWT sessions before triggering HTTP OTAF.
- It is recommended to enable bit 31 of the 'TCP IP Feature' bit map in the opermode command to support multicast protocol

**BLE**

- In BLE, the recommended range of Connection Interval in
  - Power Save (BLE Only) - 100 ms to 1.28 s.
- In BLE, during Connection, the configuration of Scan Interval and Scan Window with the same value is not recommended. The suggested ratio of Scan Window to Scan Interval is 3:4.
- In BLE, if a device is acting as Central, the scan window (in set\_scan\_params and create\_connection commands) must be less than the existing Connection Interval. The suggested ratio of Scan Window to Connection Interval is 2:3.
- In BLE mode, if scanning and advertising are in progress on the SiWx91x module and it subsequently gets connected and moves to the central role, scanning stops else if it moves to the peripheral role, advertising stops. To further establish a connection to another peripheral device or to a central device, the application should give a command for starting advertising and scanning again.

**Co-Existence**

- For concurrent Wi-Fi + BLE, and while a Wi-Fi connection is active, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
- Wi-Fi + BLE Advertising
  - All standard advertising intervals are supported. As Wi-Fi throughput is increased, a slight difference in on-air advertisements compared to configured intervals may be observed.
  - BLE advertising is skipped if the advertising interval collides with Wi-Fi activity.
- Wi-Fi + BLE scanning
  - All standard scan intervals are supported. For better scan results, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
  - BLE scanning will be stopped for intervals that collide with Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Connections
  - All standard connection intervals are supported.
  - For a stable connection, use optimal connection intervals and max supervision timeout in the presence of Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Data Transfer
  - To achieve higher throughput for both Wi-Fi and BLE, use medium connection intervals, such as 45 to 80 ms with maximum supervision timeout.
  - Ensure Wi-Fi activity consumes lower intervals.

**MCU**

- It is not recommended to use the RO clock for Clock Configuration
- PSRAM examples are not supposed to be used with Non-PSRAM OPNs
- By default SYSrtc and wake on wireless wakeup resources enabled, please do not reinstall these two wakeup sources when tickless idle mode is enabled
- Minimum idle-time to Sleep 100ms, as configured in FreeRtos_config.h
- Recommended to enable DMA for better throughput numbers
- For I2C Fastplus and High speed modes, it is recommended to use High power instances from 80Mhz to 180Mhz core clock
- Not recommended to use switch_m4_frequency() for clock scaling. Refer to migration guide for more details on this
- When using this 32MHz source for the PLL, limit the maximum clock to 160MHz

**Known Issues**

**Sensorhub**

- Support for ADC FIFO Mode and Multi channel is open
- PS1-state supports only ADC sensor
- Power transitions with AWS are not stable in Sensorhub
- The process of integrating the tickless component and power manager service into the Sensorhub app is currently underway

**Network Stack**

- Sometimes during SSL Handshake, ECC curve parameters generated are wrong, resulting in connection failure with BBD2 error. However, this recovers in the next attempt.
- Randomize the client port if using rapid connect/disconnect of the MQTT session on the same client port with the power save.
- Secure SSL renegotiation not supported in Embedded Networking Stack.
- Disable power save before making TCP connection for NCP-UART interface.

**Wi-Fi**

- TWT device (STA) may not go to sleep in between TWT intervals in case of burst data traffics with data size more than the configured 'average tx throughput', until completion of data transfer.
- There are performance and IOP issues with MU MIMO.
- WPA3 Connection with the Hunting and Pecking algorithm takes about 3-4 seconds.
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.
- Low Wi-Fi+BLE throughput
- TCP/UDP TX/RX Data stall observed in CoEx scenarios
- Observed HTTPS Continuous download fails with TA Power save
- Performance improvements are in progress for lower performance metrics.
- Observed interop issue (connectivity failure) with few AP's when device reset/reboot happens on active connection.
- In concurrent mode, AP restart fails after stopping it with ap\_stop command.
- DUT deep sleep will not work after stopping AP with ap\_stop command.
- Unable to get SNTP async events when coex mode and Power save is enabled
- Fine Tuning 802.11ax Spectral mask in Progress
- Fine Tuning 11b mask in Ch11 in progress
- DUT is unable to connect to the AP with WPA3 security when we enable coex mode (WLAN+BLE) in opermode
- Socket listen API is failing from the second iteration
- Disconnections observed with Netgear RAX120 AP in WPA3 security
- Observed connection failures with some AP's in more channel congestion open lab environment
- Firmware Upgrade example is not working in PSRAM boards
- deep sleep example is not supported with power manager

**BLE**

- HID profile data transfer is not working, when power save is enabled in SoC.
- BLE reconnection is not working in ble_multiconnection_gatt demo, when power save is enabled in SoC
- BLE throughputs are less with STM32 compared to EFR

**Co-Existence**

- Observed HTTP continuous download is not happening in Powersave mode after BLE connection established using wifi\_https\_ble\_dual\_role application
- Observed DUT hang while Wi-Fi UDP/TCP Tx and BLE continuous scan.

**System**

- BRD8045A and BRD8045C does not have CTS and RTS pins routed from SiWx917 NCP, which are used for UART flow control

**MCU**

- Refer to the respective Radio board user guides for specific pinout details. Examples are targeted to a specific version mentioned in the respective readme
- Few(BOD and Comparator) wakeup resources are not working as expected in Power manager service
- Observed RO and BJT Temperature values are not as expected
- Character Timeout feature for all communication protocols is not supported
- UART instances does not support different FIFO Thresholds
- NVM3 dual flash application is not working as expected in the current release.
- ULP_I2C does not function as expected in low power mode when DMA is enabled
- Powersave Deep Sleep example for the siwg917m110lgtba OPN requires the installation of the device_need_ram_execution component.
- Sometimes TA processor hang occurs when M4 used XTAL clock with sleep enabled.

**Limitations and Unsupported Features**

**SDK**

- WiSeConnect3_SDK_3.1.3 and later versions are not compatible with firmware versions prior to 1711.2.10.1.2.0.4, due to enhancements in max transmit power configuration during Wi-Fi join/connection, need to be cautious while doing OTA firmware upgrade.

**Wi-Fi/Network Stack**

- TLS 1.3 Server is not supported
- In AP mode, IPv6 Router Advertisements are not supported. Although STA connected to the APUT can transfer IPv6 data to the peers by using SLAAC for address configuration.
- When sl\_wifi\_enable\_target\_wake\_time() API is used, observed occasional MQTT disconnections with longer TWT intervals (>30secs) with embedded MQTT + TWT.
- AMSDU TX is not supported.
- Fragmentation is not supported.
- AMSDUs within AMPDU is not supported.
- Currently, the module does not support Radio Measurement Requests feature of CCX V2
- 802.11k is not supported
- 40 MHz bandwidth for 2.4 GHz band is not supported.
- 802.11J channel 14 is not supported.
- MQTT versions 3 and 4 are supported.
- Maximum of 3 SSL connections are supported.
- In SSL ECC Curve ID supported is 23. SSL handshake with 3rd party clients depends on the SSL ECC Curve ID.
- LP mode is not supported.
- In iTWT mode, downlink data traffic should be limited. Disconnections may be observed if AP fails to send all the buffered data in the next TWT Service Period.
- Number of MBSSIDs processed is limited by the beacon length that can be processed by the stack (which is limited to 1024 bytes). Beacons greater than 1024 Bytes in length will not be processed.
- CoEx + EAP Security in 352K/320k is not feasible. This issue is observed due to a lack of memory in the 352k/320k Memory Configuration. It is supported with other EXT\_FEAT\_416K\_M4SS\_256K and EXT\_FEAT\_480K\_M4SS\_192K memory configurations.
- UL MUMIMO is not supported.
- The embedded HTTP server is not supported.
- Baremetal is not supported.
- Compared to SoC mode, NCP mode has fewer examples, but more will be enabled in upcoming releases.
- Maximum Supported length for Embedded MQTT username up to 120 bytes , topic length up to 200 bytes and password upto 62 bytes.
- UART 2 Debug prints are supported only on ULP_GPIO_9.
- WOW LAN feature is not supported.
- SA Query procedure is not supported in AP mode.
- Maximum Supported length for HTTP GET URL is up to 2048 bytes.
- Azure SDK with embedded MQTT is not supported.
- Power save is not supported in Azure MQTT.
- MDNS service discovery is currently not supported.
- sli_si91x_accept_async is not thread-safe
- Observed some background compatibility issues with coex and http in few corner cases
- AP mode does not support Tx and Rx aggregation in Concurrent mode.
- Concurrent STA mode, Rx aggregation is not supported. Tx aggregation is supported but it is not recommended.
- AP standalone mode does not support Tx aggregation. Rx aggregation is supported with limited number of BA sessions.

**BLE**

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.
- BLE TX/RX throughput is less when tested with EFM as compared to EFR
- Maximum supported AE data length is 200 bytes.
- Supports only two ADV\_EXT sets.
- Supports only two BLE connections (1 Central and 1 Peripheral) with AE.
- Advertising Extension feature is not supported in Coexistence.
- The  ae\_central & ae\_peripheral applications are not supported with TA\_352K\_M4\_320K RAM configuration.
- Setting PLL mode as 1 is not supported in Coexistence

**MCU**

- Manual chip select option is not supported when using GSPI.
- Following peripherals/features are not functioning and shall be deprecated from future releases
    - ADC Multichannel, SSI Dual and Quad mode, SIO and Temp sensors
- LittleFS example supports only with Dual flash
- PS1 state is not supported in Power Manager
- Power is same for PS4 and PS3 states with powersave mode of power manager
- When using Button_0 as wakeup source, it limits the button functionality at application layer. For using Button_0 for application specific functionality, enable 'SL_SI91X_NPSS_GPIO_BTN_HANDLER'
- XTAL 40MHz clock as a reference clock is not supported

**System**
- TA Connected sleep and M4 PS2 is not a possible mode of operation
- M4 PS2 active and sleep is not a possible mode when SL_SI91X_EXT_FEAT_FRONT_END_SWITCH_PINS_ULP_GPIO_4_5_0 is enabled in SoC mode

**Simplicity Studio and Commander**

- Default GDB debug configuration is not supported for SoC projects, work around details provided in "Getting-Started-with-SiWx917"
- Observing flash download failures(ERROR 108) for a few image sizes
- While creating project through Simplicity Studio, "copy contents" option not supported.
- Simplicity commander does not support options under "Debug Lock tools".
- All projects in the package are compatible with GCC 10.3.1 version.

**Terminology**

|**Term**|**Description**|
| :- | :- |
|**New Features**|These items are new to this release|
|**Changes/Issues Fixed**|Changes made to existing features found in previous software releases.|
||Enhancements to existing product flow and feature set.|
||Bug fixes done in the release|
|**Deprecated Items**|Features or functions or APIs that are removed from the distributed release to align with the software roadmap|
|**Known Issues**|Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases|
|**Limitations/Recommendations**|Describes the limitations on product usage and recommendations for optimal use cases|

**Note**

- Change SPI frequency to 12.5Mhz while measuring BLE throughput with EFR32

<br>

**WiSeConnect3\_SDK\_3.3.0-cf1 Release Notes**

This SDK package supports SoC Mode and NCP Mode for B0:

- In SoC Mode: Customer applications can run on Cortex M4. Wireless, network, and security stacks run on the wireless subsystem.
- In NCP mode: Wireless, network, and security stacks run on the Wireless subsystem. Customer applications run on the external host MCU.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

**Note**: Use Simplicity Studio version SV5.8.0.1 onwards

**SoC Highlights**

- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support ultra low power Wi-Fi standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode
- **MCU examples** : GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers, Config Timers, ULP (Ultra Low Power) Timers, Sleeptimer, IOSTREAM, NVM3, MEMLCD, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, Sensorhub, Joystick, Relative Humidity and Temperature sensor (RHT), Analog Comparator, Digital to Analog Converter and Temperature sensors (RO and BJT), CRC, LittleFS, Power Manager with RTOS
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE whitelisting, and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack, All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS client
- **IDE** : Simplicity Studio with Windows 10(64-bit), Linux, Mac OS
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** :
  - Si-MB4002A Main board
  - SiWx917 Radio boards

|**RadioBoard Type**|**SiWx917B0 with Board Version**|
| :- | :- |
|Common flash|Si917-BRD4338A(2.0)|
|Dual flash|Si917-BRD4339B(2.0)|
|External PSRAM|Si917-BRD4340A(2.0), Si917-BRD4342A(2.0)|
|Internal PSRAM|Si917-BRD4339A(2.0)|
|Dev Kit|Si917-2605A|

**NCP Highlights**

- **Host Interface** : SPI, UART
- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode.
- **Wi-Fi** : 2.4GHz Wi-Fi Support, WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE Whitelisting and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack , BLE Stack , All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS Client.
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **Hardware kits to evaluate NCP Mode**
  - NCP EFR Expansion Kit with NCP Radio board (BRD4338A(NCP MBR) + BRD8045A)
  - Wireless Pro kit Mainboard BRD4002A Rev A06
  - EFR32xG24 Wireless 2.4 GHz +10 dBm Radio Board xG24-RB4186C

**Release Details**

|**Item**|**Details**|
| :- | :- |
|Release date|June 6th, 2024|
|SDK Version|3.3.0-cf|
|Firmware Version|1711\.2.12.1.0.0.10|
|Package Name|WiSeConnect3\_SDK\_3.3.0-cf1|
|GSDK Version | SiSDK-2024.6.0-predf |
|Supported RTOS|FreeRTOS|
|Operating Modes Supported|Wi-Fi STA, Wi-Fi AP, Wi-Fi STA+BLE, Wi-Fi STA+AP|
|Build Quality|GA|

- SiWx917 release consists of two components
  - Wireless Firmware - SiWx917 Firmware Binaries
  - Wiseconnect3 Library - Wiseconnect3 SDK library runs on the external host in NCP mode and internal Cortex M4 in SoC Mode.
- This release is meant only for use with designs based on SiWx917 Silicon
- The firmware to load is available in the following format:
  - SiWG917-B.2.12.1.x.0.x.rps - B0 Full-featured firmware binary
  - SiWG917-B.2.12.1.x.0.x.rps - B0 lite firmware binary

**Features Supported**

**Sensorhub service**

- Support for ADC, SPI, SDC and I2C based sensors
- Support for PS2
- Support added for SDC

**MCU**

- ADC Single Channel, ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, GPIO, GSPI, I2C, I2S, NVM3, OPAMP, PSRAM, PWM, QEI, RTC, SDIO Secondary, SSI Master and Slave, UART, Micro DMA, USART, Watchdog Timer, Temperature Sensors (RO and BJT), USART Master and Slave, CRC
- UC Supported Peripherals - GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers , Config Timers, ULP (Ultra Low Power) Timers, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, MEMLCD, Analog Comparator and Digital to Analog Converter.
- Services - Sleeptimer, IOSTREAM, NVM3, Power Manager, LittleFS, Pin Tool (support for USART, I2C, SSI, GSPI, SIO, SCT, PWM, I2S, ADC, DAC and Analog Comparator)
- ULP (Ultra Low Power) Peripherals - ulp\_adc, ulp\_calender, ulp\_dac, ulp\_gpio, ulp\_i2c, ulp\_i2s, ulp\_timer, ulp\_uart, ulp\_udma
- Extended flash write support for NWP flash region and added read api to read from NWP flash region
- List of OPN's supported si917-sb00, siwg917m111mgtba, siwg917m100mgtba, siwg917m111xgtba, siwg917m121xgtba, siwg917m110lgtba and siwg917m141xgtba
- Support added for SiWG917 Dev Kit Board (BRD2605A)
- Added APIs to configure M4 SoC Clock, PLL clocks, read M4 SoC Clock

**Wi-Fi**

- WPA2/WPA3 Personal, WPS and WPA2-EAP Support for Station Mode
- TCP/IP stack with IPv4, IPv6, TCP, UDP, TLS, HTTP/HTTPS, DHCPv4, DHCPv6, MQTT Client, DNS Client, SNTP client.
- Support for SSL client versions TLSV1.0, TLSV1.2, TLSV1.3 and SSL server versions TLSV1.0 and TLSV1.2
- Wi-Fi STA (802.11n/802.11ax) + 802.11n AP Support
- HE (802.11ax) and Individual TWT Feature Support
- Multiple BSSID feature support as an STA
- Secure OTA support on B0 radio boards.
- Support for LWIP network stack
- Support for AWS MQTT library
- Support for Azure MQTT library
- Support for BSD and IoT sockets application programming interface(API)
- Support added to change the listen interval after association with Access Point
- New API sl_si91x_fwup_abort added to support aborting firmware upgrade
- Added feature to support Gain offset calibration in channel 14

**Bluetooth Low Energy**

- BLE central & peripheral connections are supported.
- Ultra-low power save is supported.

**Power Save**

- Max PSP, enhanced MAX PSP, Fast PSP, and 802.11ax TWT power save modes are supported in WiFi.
- Only Max PSP power save mode is supported in BLE

**Crypto Support**

- AES, SHA, AES-CCM, HMAC, GCM, Chacha-poly, ECDH and TRNG FW Crypto API support added.
- PSA enabled Mbed TLS support added
- NVM support added for key storage
- Symmetric and asymmetric key storage
- TRNG, AES, SHA, HMAC, GCM, Chacha-poly, ECDH and AES-CCM hardware crypto engine is integrated with PSA crypto.

**Changes and Fixes**

**SDK**

- SI91X-16058 Resolved RX issue in cli-demo of NCP SPI and NCP UART examples

**MCU**

- None

**Wi-Fi & Network Stack**

- None

**BLE**

- SI91X-16057

**CoEx**

- None

**System**

- None

**Recommendations**

**System**

- The current revision of SiWx917 B0 has:
  - RAM memory of 672k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_672K\_M4SS\_0K- This mode configures TA with 672k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By default EXT\_FEAT\_352K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_480K\_M4SS\_192K - This mode configures TA with 480k and M4 with 192K bytes of memory
    - EXT\_FEAT\_416K\_M4SS\_256K - This mode configures TA with 416k and M4 with 256K bytes of memory
    - EXT\_FEAT\_352K\_M4SS\_320K - This mode configures TA with 352k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 672K\_M4SS\_0K.
  - SoC mode should not use 672k\_M4SS\_0k memory configuration.
- Set the recommended Power Save Profile (PSP) type to Enhanced Max PSP.

**IDE**

- Download the latest version of Simplicity Studio
- Refer to the latest version of the SoC/NCP "Getting-Started-with-SiWx917" guide for more details

**Wi-Fi & Network Stack****

- The recommended embedded MQTT Publish payload is 1 kBytes.
- It is recommended to enable bit 16 of the 'Extended TCP IP Feature' bit map in the opermode command for all Wi-Fi Socket operations from the host to ensure graceful handling during asynchronous closures from the peer.
- Aggregation (bit 2 of feature\_bit\_map) is recommended to be enabled in opermode. This enables software to aggregate multiple packets to achieve better throughput
- TCP retransmission count value is recommended to be 30 or higher so that the TCP does not disconnect while the rejoin happens.
- To restart the module, the application needs to call sl\_wifi\_deinit() followed by sl\_wifi\_init().
- Register 'Join Fail Callback' function every time when join is called, as in the rejoin failure path the callback is deregistered. If not done, this might result in a scan not functioning on rejoin failure.
- User can enable SL\_SI91X\_EXT\_TCP\_IP\_SSL\_16K\_RECORD in 'Extended TCP IP Feature'bit map in opermode, if HTTPS download is failing after receiving HTTP headers..
- iTWT setup is recommended after IP assignment/TCP connection/application specific socket connections.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, increase TCP / ARP Timeouts at the remote side depending upon the configured TWT interval configured.
- In case of TWT+coex, when using sl\_wifi\_enable\_target\_wakeup\_time API, use TWT wake duration <= 16 ms and TWT wake interval >= 1 sec. If wake duration > 16 ms or TWT wake interval < 1sec, there might be performance issues.
- For iTWT GTK Interval Should be kept max possible value or zero. If GTK interval is not configurable, recommended TWT interval (in case of sl\_wifi\_enable\_target\_wakeup\_time API) or RX Latency (in case of sl\_wifi\_target\_wake\_time\_auto\_selection API) is less than 4sec.
- Disable Power Save for High Throughput Applications.
- The application needs to ensure that it sets RTC with the correct timestamp when the feature is enabled before establishing the SSL connection.
- The timeout value should not be less than 1 second for socket select and socket receive calls. Timeout value of less than 1 second is not currently supported.
- When sl\_wifi\_enable\_target\_wakeup\_time API is used, configuring TWT Wake interval beyond 1 min might lead to disconnections from the AP. Recommended to use TWT wakeup interval of less than or equal to 1 min.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, it is recommended to set missed\_beacon\_count of sl\_wifi\_set\_advanced\_client\_configuration API greater than 2 times of the configured TWT Interval.
- Disable power save and suspend any active TWT sessions before triggering HTTP OTAF.
- It is recommended to enable bit 31 of the 'TCP IP Feature' bit map in the opermode command to support multicast protocol

**BLE**

- In BLE, the recommended range of Connection Interval in
  - Power Save (BLE Only) - 100 ms to 1.28 s.
- In BLE, during Connection, the configuration of Scan Interval and Scan Window with the same value is not recommended. The suggested ratio of Scan Window to Scan Interval is 3:4.
- In BLE, if a device is acting as Central, the scan window (in set\_scan\_params and create\_connection commands) must be less than the existing Connection Interval. The suggested ratio of Scan Window to Connection Interval is 2:3.
- In BLE mode, if scanning and advertising are in progress on the SiWx91x module and it subsequently gets connected and moves to the central role, scanning stops else if it moves to the peripheral role, advertising stops. To further establish a connection to another peripheral device or to a central device, the application should give a command for starting advertising and scanning again.

**Co-Existence**

- For concurrent Wi-Fi + BLE, and while a Wi-Fi connection is active, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
- Wi-Fi + BLE Advertising
  - All standard advertising intervals are supported. As Wi-Fi throughput is increased, a slight difference in on-air advertisements compared to configured intervals may be observed.
  - BLE advertising is skipped if the advertising interval collides with Wi-Fi activity.
- Wi-Fi + BLE scanning
  - All standard scan intervals are supported. For better scan results, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
  - BLE scanning will be stopped for intervals that collide with Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Connections
  - All standard connection intervals are supported.
  - For a stable connection, use optimal connection intervals and max supervision timeout in the presence of Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Data Transfer
  - To achieve higher throughput for both Wi-Fi and BLE, use medium connection intervals, such as 45 to 80 ms with maximum supervision timeout.
  - Ensure Wi-Fi activity consumes lower intervals.

**MCU**

- It is not recommended to use the RO clock for Clock Configuration
- PSRAM examples are not supposed to be used with Non-PSRAM OPNs
- By default SYSrtc and wake on wireless wakeup resources enabled, please do not reinstall these two wakeup sources when tickless idle mode is enabled
- Minimum idle-time to Sleep 100ms, as configured in FreeRtos_config.h
- Recommended to enable DMA for better throughput numbers
- For I2C Fastplus and High speed modes, it is recommended to use High power instances from 80Mhz to 180Mhz core clock
- Not recommended to use switch_m4_frequency() for clock scaling. Refer to migration guide for more details on this

**Known Issues**

**Sensorhub**

- Support for ADC FIFO Mode and Multi channel is open
- PS1-state supports only ADC sensor
- Power transitions with AWS are not stable in Sensorhub
- The process of integrating the tickless component and power manager service into the Sensorhub app is currently underway

**Network Stack**

- Sometimes during SSL Handshake, ECC curve parameters generated are wrong, resulting in connection failure with BBD2 error. However, this recovers in the next attempt.
- Randomize the client port if using rapid connect/disconnect of the MQTT session on the same client port with the power save.
- Secure SSL renegotiation not supported in Embedded Networking Stack.
- Disable power save before making TCP connection for NCP-UART interface.

**Wi-Fi**

- TWT device (STA) may not go to sleep in between TWT intervals in case of burst data traffics with data size more than the configured 'average tx throughput', until completion of data transfer.
- There are performance and IOP issues with MU MIMO.
- WPA3 Connection with the Hunting and Pecking algorithm takes about 3-4 seconds.
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.
- Low Wi-Fi+BLE throughput
- TCP/UDP TX/RX Data stall observed in CoEx scenarios
- Observed HTTPS Continuous download fails with TA Power save
- Performance improvements are in progress for lower performance metrics.
- Observed interop issue (connectivity failure) with few AP's when device reset/reboot happens on active connection.
- In concurrent mode, AP restart fails after stopping it with ap\_stop command.
- DUT deep sleep will not work after stopping AP with ap\_stop command.
- Unable to get SNTP async events when coex mode and Power save is enabled
- Fine Tuning 802.11ax Spectral mask in Progress
- Fine Tuning 11b mask in Ch11 in progress
- DUT is unable to connect to the AP with WPA3 security when we enable coex mode (WLAN+BLE) in opermode
- Socket listen API is failing from the second iteration
- Disconnections observed with Netgear RAX120 AP in WPA3 security
- Observed connection failures with some AP's in more channel congestion open lab environment
- Firmware Upgrade example is not working in PSRAM boards
- deep sleep example is not supported with power manager

**BLE**

- HID profile data transfer is not working, when power save is enabled in SoC.
- BLE reconnection is not working in ble_multiconnection_gatt demo, when power save is enabled in SoC
- BLE throughputs are less with STM32 compared to EFR

**Co-Existence**

- Observed HTTP continuous download is not happening in Powersave mode after BLE connection established using wifi\_https\_ble\_dual\_role application
- Observed DUT hang while Wi-Fi UDP/TCP Tx and BLE continuous scan.

**System**

- BRD8045A and BRD8045C does not have CTS and RTS pins routed from SiWx917 NCP, which are used for UART flow control

**MCU**

- Refer to the respective Radio board user guides for specific pinout details. Examples are targeted to a specific version mentioned in the respective readme
- Few(BOD and Comparator) wakeup resources are not working as expected in Power manager service
- Observed RO and BJT Temperature values are not as expected
- Character Timeout feature for all communication protocols is not supported
- UART instances does not support different FIFO Thresholds
- NVM3 dual flash application is not working as expected in the current release.
- ULP_I2C does not function as expected in low power mode when DMA is enabled
- Powersave Deep Sleep example for the siwg917m110lgtba OPN requires the installation of the device_need_ram_execution component.

**Limitations and Unsupported Features**

**SDK**

- WiSeConnect3_SDK_3.1.3 and later versions are not compatible with firmware versions prior to 1711.2.10.1.2.0.4, due to enhancements in max transmit power configuration during Wi-Fi join/connection, need to be cautious while doing OTA firmware upgrade.

**Wi-Fi/Network Stack**

- TLS 1.3 Server is not supported
- In AP mode, IPv6 Router Advertisements are not supported. Although STA connected to the APUT can transfer IPv6 data to the peers by using SLAAC for address configuration.
- When sl\_wifi\_enable\_target\_wake\_time() API is used, observed occasional MQTT disconnections with longer TWT intervals (>30secs) with embedded MQTT + TWT.
- AMSDU TX is not supported.
- Fragmentation is not supported.
- AMSDUs within AMPDU is not supported.
- Currently, the module does not support Radio Measurement Requests feature of CCX V2
- 802.11k is not supported
- 40 MHz bandwidth for 2.4 GHz band is not supported.
- 802.11J channel 14 is not supported.
- MQTT versions 3 and 4 are supported.
- Maximum of 3 SSL connections are supported.
- In SSL ECC Curve ID supported is 23. SSL handshake with 3rd party clients depends on the SSL ECC Curve ID.
- LP mode is not supported.
- In iTWT mode, downlink data traffic should be limited. Disconnections may be observed if AP fails to send all the buffered data in the next TWT Service Period.
- Number of MBSSIDs processed is limited by the beacon length that can be processed by the stack (which is limited to 1024 bytes). Beacons greater than 1024 Bytes in length will not be processed.
- CoEx + EAP Security in 352K/320k is not feasible. This issue is observed due to a lack of memory in the 352k/320k Memory Configuration. It is supported with other EXT\_FEAT\_416K\_M4SS\_256K and EXT\_FEAT\_480K\_M4SS\_192K memory configurations.
- UL MUMIMO is not supported.
- The embedded HTTP server is not supported.
- Baremetal is not supported.
- Compared to SoC mode, NCP mode has fewer examples, but more will be enabled in upcoming releases.
- Maximum Supported length for Embedded MQTT username up to 120 bytes , topic length up to 200 bytes and password upto 62 bytes.
- UART 2 Debug prints are supported only on ULP_GPIO_9.
- WOW LAN feature is not supported.
- SA Query procedure is not supported in AP mode.
- Maximum Supported length for HTTP GET URL is up to 2048 bytes.
- Azure SDK with embedded MQTT is not supported.
- Power save is not supported in Azure MQTT.
- MDNS service discovery is currently not supported.
- sli_si91x_accept_async is not thread-safe
- Observed some background compatibility issues with coex and http in few corner cases
- AP mode does not support Tx and Rx aggregation in Concurrent mode.
- Concurrent STA mode, Rx aggregation is not supported. Tx aggregation is supported but it is not recommended.
- AP standalone mode does not support Tx aggregation. Rx aggregation is supported with limited number of BA sessions.

**BLE**

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.
- BLE TX/RX throughput is less when tested with EFM as compared to EFR
- Maximum supported AE data length is 200 bytes.
- Supports only two ADV\_EXT sets.
- Supports only two BLE connections (1 Central and 1 Peripheral) with AE.
- Advertising Extension feature is not supported in Coexistence.
- The  ae\_central & ae\_peripheral applications are not supported with TA\_352K\_M4\_320K RAM configuration.
- Setting PLL mode as 1 is not supported in Coexistence

**MCU**

- Manual chip select option is not supported when using GSPI.
- Following peripherals/features are not functioning and shall be deprecated from future releases
    - ADC Multichannel, SSI Dual and Quad mode, SIO and Temp sensors
- LittleFS example supports only with Dual flash
- PS1 state is not supported in Power Manager
- Power is same for PS4 and PS3 states with powersave mode of power manager
- When using Button_0 as wakeup source, it limits the button functionality at application layer. For using Button_0 for application specific functionality, enable 'SL_SI91X_NPSS_GPIO_BTN_HANDLER'
- XTAL 40MHz clock as a reference clock is not supported

**System**
- TA Connected sleep and M4 PS2 is not a possible mode of operation
- M4 PS2 active and sleep is not a possible mode when SL_SI91X_EXT_FEAT_FRONT_END_SWITCH_PINS_ULP_GPIO_4_5_0 is enabled in SoC mode

**Simplicity Studio and Commander**

- Default GDB debug configuration is not supported for SoC projects, work around details provided in "Getting-Started-with-SiWx917"
- Observing flash download failures(ERROR 108) for a few image sizes
- While creating project through Simplicity Studio, "copy contents" option not supported.
- Simplicity commander does not support options under "Debug Lock tools".
- All projects in the package are compatible with GCC 10.3.1 version.

**Terminology**

|**Term**|**Description**|
| :- | :- |
|**New Features**|These items are new to this release|
|**Changes/Issues Fixed**|Changes made to existing features found in previous software releases.|
||Enhancements to existing product flow and feature set.|
||Bug fixes done in the release|
|**Deprecated Items**|Features or functions or APIs that are removed from the distributed release to align with the software roadmap|
|**Known Issues**|Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases|
|**Limitations/Recommendations**|Describes the limitations on product usage and recommendations for optimal use cases|

**Note**

- Change SPI frequency to 12.5Mhz while measuring BLE throughput with EFR32

<br>

**WiSeConnect3\_SDK\_3.3.0-cf Release Notes**

This SDK package supports SoC Mode and NCP Mode for B0:

- In SoC Mode: Customer applications can run on Cortex M4. Wireless, network, and security stacks run on the wireless subsystem.
- In NCP mode: Wireless, network, and security stacks run on the Wireless subsystem. Customer applications run on the external host MCU.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

**Note**: Use Simplicity Studio version SV5.8.0.1 onwards

**SoC Highlights**

- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support ultra low power Wi-Fi standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode
- **MCU examples** : GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers, Config Timers, ULP (Ultra Low Power) Timers, Sleeptimer, IOSTREAM, NVM3, MEMLCD, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, Sensorhub, Joystick, Relative Humidity and Temperature sensor (RHT), Analog Comparator, Digital to Analog Converter and Temperature sensors (RO and BJT), CRC, LittleFS, Power Manager with RTOS
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE whitelisting, and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack, All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS client
- **IDE** : Simplicity Studio with Windows 10(64-bit), Linux, Mac OS
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** :
  - Si-MB4002A Main board
  - SiWx917 Radio boards

|**RadioBoard Type**|**SiWx917B0 with Board Version**|
| :- | :- |
|Common flash|Si917-BRD4338A(2.0)|
|Dual flash|Si917-BRD4339B(2.0)|
|External PSRAM|Si917-BRD4340A(2.0), Si917-BRD4342A(2.0)|
|Internal PSRAM|Si917-BRD4339A(2.0)|
|Dev Kit|Si917-2605A|

**NCP Highlights**

- **Host Interface** : SPI, UART
- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode.
- **Wi-Fi** : 2.4GHz Wi-Fi Support, WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE Whitelisting and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack , BLE Stack , All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS Client.
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **Hardware kits to evaluate NCP Mode**
  - NCP EFR Expansion Kit with NCP Radio board (BRD4338A(NCP MBR) + BRD8045A)
  - Wireless Pro kit Mainboard BRD4002A Rev A06
  - EFR32xG24 Wireless 2.4 GHz +10 dBm Radio Board xG24-RB4186C

**Release Details**

|**Item**|**Details**|
| :- | :- |
|Release date|June 4th, 2024|
|SDK Version|3.3.0-cf|
|Firmware Version|1711\.2.12.1.0.0.9|
|Package Name|WiSeConnect3\_SDK\_3.3.0-cf|
|GSDK Version | SiSDK-2024.6.0-predf |
|Supported RTOS|FreeRTOS|
|Operating Modes Supported|Wi-Fi STA, Wi-Fi AP, Wi-Fi STA+BLE, Wi-Fi STA+AP|
|Build Quality|GA|

- SiWx917 release consists of two components
  - Wireless Firmware - SiWx917 Firmware Binaries
  - Wiseconnect3 Library - Wiseconnect3 SDK library runs on the external host in NCP mode and internal Cortex M4 in SoC Mode.
- This release is meant only for use with designs based on SiWx917 Silicon
- The firmware to load is available in the following format:
  - SiWG917-B.2.12.1.x.0.x.rps - B0 Full-featured firmware binary
  - SiWG917-B.2.12.1.x.0.x.rps - B0 lite firmware binary

**Features Supported**

**Sensorhub service**

- Support for ADC, SPI, SDC and I2C based sensors
- Support for PS2
- Support added for SDC

**MCU**

- ADC Single Channel, ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, GPIO, GSPI, I2C, I2S, NVM3, OPAMP, PSRAM, PWM, QEI, RTC, SDIO Secondary, SSI Master and Slave, UART, Micro DMA, USART, Watchdog Timer, Temperature Sensors (RO and BJT), USART Master and Slave, CRC
- UC Supported Peripherals - GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers , Config Timers, ULP (Ultra Low Power) Timers, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, MEMLCD, Analog Comparator and Digital to Analog Converter.
- Services - Sleeptimer, IOSTREAM, NVM3, Power Manager, LittleFS, Pin Tool (support for USART, I2C, SSI, GSPI, SIO, SCT, PWM, I2S, ADC, DAC and Analog Comparator)
- ULP (Ultra Low Power) Peripherals - ulp\_adc, ulp\_calender, ulp\_dac, ulp\_gpio, ulp\_i2c, ulp\_i2s, ulp\_timer, ulp\_uart, ulp\_udma
- Extended flash write support for NWP flash region and added read api to read from NWP flash region
- List of OPN's supported si917-sb00, siwg917m111mgtba, siwg917m100mgtba, siwg917m111xgtba, siwg917m121xgtba, siwg917m110lgtba and siwg917m141xgtba
- Support added for SiWG917 Dev Kit Board (BRD2605A)
- Added APIs to configure M4 SoC Clock, PLL clocks, read M4 SoC Clock

**Wi-Fi**

- WPA2/WPA3 Personal, WPS and WPA2-EAP Support for Station Mode
- TCP/IP stack with IPv4, IPv6, TCP, UDP, TLS, HTTP/HTTPS, DHCPv4, DHCPv6, MQTT Client, DNS Client, SNTP client.
- Support for SSL client versions TLSV1.0, TLSV1.2, TLSV1.3 and SSL server versions TLSV1.0 and TLSV1.2
- Wi-Fi STA (802.11n/802.11ax) + 802.11n AP Support
- HE (802.11ax) and Individual TWT Feature Support
- Multiple BSSID feature support as an STA
- Secure OTA support on B0 radio boards.
- Support for LWIP network stack
- Support for AWS MQTT library
- Support for Azure MQTT library
- Support for BSD and IoT sockets application programming interface(API)
- Support added to change the listen interval after association with Access Point
- New API sl_si91x_fwup_abort added to support aborting firmware upgrade
- Added feature to support Gain offset calibration in channel 14

**Bluetooth Low Energy**

- BLE central & peripheral connections are supported.
- Ultra-low power save is supported.

**Power Save**

- Max PSP, enhanced MAX PSP, Fast PSP, and 802.11ax TWT power save modes are supported in WiFi.
- Only Max PSP power save mode is supported in BLE

**Crypto Support**

- AES, SHA, AES-CCM, HMAC, GCM, Chacha-poly, ECDH and TRNG FW Crypto API support added.
- PSA enabled Mbed TLS support added
- NVM support added for key storage
- Symmetric and asymmetric key storage
- TRNG, AES, SHA, HMAC, GCM, Chacha-poly, ECDH and AES-CCM hardware crypto engine is integrated with PSA crypto.

**Changes and Fixes**

**SDK**

- Remove references to Internal boards in all WiSeConnect applications Readme [SI91X-15818]
- With AWS MQTT application - Continuous Rx is failing [SI91X-15968]
- documentation for higher-level interactions with the WiseConnect firmware[SI91X-15460]
- Observed log prints are not showing for "Concurrent HTTP Server Provisioning" application[SI91X-15914 ]
- RSCDEV-28449-documentation -Rename internal NCP components
- RSCDEV-28525 Added missing #defines
- RSCDEV-27880 added queue checks in m4 sleep(power manager tickless mode)
- SQA Bugs:15968, 15914

**MCU**

- On 917 Pro-Kit, fixed spurious interrupts for Button_0 when used as wakeup source for M4
- Resolved ULP_ADC_Multichannel pintool annotation issue
- Resolved issues with RHT sensor
- Resolved I2C0 & I2C1 functionality issues
- Moved clock configurations from driver layer to application layer
- Si917 Power Manager Enhancements
    - Added support for FreeRTOS Tickless-idle
	  - Supports M4 PS4 and PS3 states with FreeRTOS Tickless-Idle
    - Integrated Si917 Power Manager with FreeRTOS Tickless-idle for Wireless apps
- SQA bugs: SI91X-15937, SI91X-15865, SI91X-15928,SI91X-15883, SI91X-15869, SI91X-15942, SI91X-15895, SI91X-15933,	SI91X-15626, SI91X-15957, SI91X-15217, SI91X-15880,  SI91X-15901, SI91X-15955

**Wi-Fi & Network Stack**

- Resolved SQA bugs: SI91X-15991, SI91X-16016, SI91X-16040

**BLE**

- Resolved SQA bugs : SI91X-15902, SI91X-15864 and SI91X-15832

**CoEx**

- None

**System**

- None

**Recommendations**

**System**

- The current revision of SiWx917 B0 has:
  - RAM memory of 672k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_672K\_M4SS\_0K- This mode configures TA with 672k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By default EXT\_FEAT\_352K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_480K\_M4SS\_192K - This mode configures TA with 480k and M4 with 192K bytes of memory
    - EXT\_FEAT\_416K\_M4SS\_256K - This mode configures TA with 416k and M4 with 256K bytes of memory
    - EXT\_FEAT\_352K\_M4SS\_320K - This mode configures TA with 352k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 672K\_M4SS\_0K.
  - SoC mode should not use 672k\_M4SS\_0k memory configuration.
- Set the recommended Power Save Profile (PSP) type to Enhanced Max PSP.

**IDE**

- Download the latest version of Simplicity Studio
- Refer to the latest version of the SoC/NCP "Getting-Started-with-SiWx917" guide for more details

**Wi-Fi & Network Stack****

- The recommended embedded MQTT Publish payload is 1 kBytes.
- It is recommended to enable bit 16 of the 'Extended TCP IP Feature' bit map in the opermode command for all Wi-Fi Socket operations from the host to ensure graceful handling during asynchronous closures from the peer.
- Aggregation (bit 2 of feature\_bit\_map) is recommended to be enabled in opermode. This enables software to aggregate multiple packets to achieve better throughput
- TCP retransmission count value is recommended to be 30 or higher so that the TCP does not disconnect while the rejoin happens.
- To restart the module, the application needs to call sl\_wifi\_deinit() followed by sl\_wifi\_init().
- Register 'Join Fail Callback' function every time when join is called, as in the rejoin failure path the callback is deregistered. If not done, this might result in a scan not functioning on rejoin failure.
- User can enable SL\_SI91X\_EXT\_TCP\_IP\_SSL\_16K\_RECORD in 'Extended TCP IP Feature'bit map in opermode, if HTTPS download is failing after receiving HTTP headers..
- iTWT setup is recommended after IP assignment/TCP connection/application specific socket connections.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, increase TCP / ARP Timeouts at the remote side depending upon the configured TWT interval configured.
- In case of TWT+coex, when using sl\_wifi\_enable\_target\_wakeup\_time API, use TWT wake duration <= 16 ms and TWT wake interval >= 1 sec. If wake duration > 16 ms or TWT wake interval < 1sec, there might be performance issues.
- For iTWT GTK Interval Should be kept max possible value or zero. If GTK interval is not configurable, recommended TWT interval (in case of sl\_wifi\_enable\_target\_wakeup\_time API) or RX Latency (in case of sl\_wifi\_target\_wake\_time\_auto\_selection API) is less than 4sec.
- Disable Power Save for High Throughput Applications.
- The application needs to ensure that it sets RTC with the correct timestamp when the feature is enabled before establishing the SSL connection.
- The timeout value should not be less than 1 second for socket select and socket receive calls. Timeout value of less than 1 second is not currently supported.
- When sl\_wifi\_enable\_target\_wakeup\_time API is used, configuring TWT Wake interval beyond 1 min might lead to disconnections from the AP. Recommended to use TWT wakeup interval of less than or equal to 1 min.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, it is recommended to set missed\_beacon\_count of sl\_wifi\_set\_advanced\_client\_configuration API greater than 2 times of the configured TWT Interval.
- Disable power save and suspend any active TWT sessions before triggering HTTP OTAF.
- It is recommended to enable bit 31 of the 'TCP IP Feature' bit map in the opermode command to support multicast protocol

**BLE**

- In BLE, the recommended range of Connection Interval in
  - Power Save (BLE Only) - 100 ms to 1.28 s.
- In BLE, during Connection, the configuration of Scan Interval and Scan Window with the same value is not recommended. The suggested ratio of Scan Window to Scan Interval is 3:4.
- In BLE, if a device is acting as Central, the scan window (in set\_scan\_params and create\_connection commands) must be less than the existing Connection Interval. The suggested ratio of Scan Window to Connection Interval is 2:3.
- In BLE mode, if scanning and advertising are in progress on the SiWx91x module and it subsequently gets connected and moves to the central role, scanning stops else if it moves to the peripheral role, advertising stops. To further establish a connection to another peripheral device or to a central device, the application should give a command for starting advertising and scanning again.

**Co-Existence**

- For concurrent Wi-Fi + BLE, and while a Wi-Fi connection is active, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
- Wi-Fi + BLE Advertising
  - All standard advertising intervals are supported. As Wi-Fi throughput is increased, a slight difference in on-air advertisements compared to configured intervals may be observed.
  - BLE advertising is skipped if the advertising interval collides with Wi-Fi activity.
- Wi-Fi + BLE scanning
  - All standard scan intervals are supported. For better scan results, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
  - BLE scanning will be stopped for intervals that collide with Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Connections
  - All standard connection intervals are supported.
  - For a stable connection, use optimal connection intervals and max supervision timeout in the presence of Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Data Transfer
  - To achieve higher throughput for both Wi-Fi and BLE, use medium connection intervals, such as 45 to 80 ms with maximum supervision timeout.
  - Ensure Wi-Fi activity consumes lower intervals.

**MCU**

- It is not recommended to use the RO clock for Clock Configuration
- PSRAM examples are not supposed to be used with Non-PSRAM OPNs
- By default SYSrtc and wake on wireless wakeup resources enabled, please do not reinstall these two wakeup sources when tickless idle mode is enabled
- Minimum idle-time to Sleep 100ms, as configured in FreeRtos_config.h
- Recommended to enable DMA for better throughput numbers
- For I2C Fastplus and High speed modes, it is recommended to use High power instances from 80Mhz to 180Mhz core clock
- Not recommended to use switch_m4_frequency() for clock scaling. Refer to migration guide for more details on this

**Known Issues**

**Sensorhub**

- Support for ADC FIFO Mode and Multi channel is open
- PS1-state supports only ADC sensor
- Power transitions with AWS are not stable in Sensorhub
- The process of integrating the tickless component and power manager service into the Sensorhub app is currently underway

**Network Stack**

- Sometimes during SSL Handshake, ECC curve parameters generated are wrong, resulting in connection failure with BBD2 error. However, this recovers in the next attempt.
- Randomize the client port if using rapid connect/disconnect of the MQTT session on the same client port with the power save.
- Secure SSL renegotiation not supported in Embedded Networking Stack.
- Disable power save before making TCP connection for NCP-UART interface.

**Wi-Fi**

- TWT device (STA) may not go to sleep in between TWT intervals in case of burst data traffics with data size more than the configured 'average tx throughput', until completion of data transfer.
- There are performance and IOP issues with MU MIMO.
- WPA3 Connection with the Hunting and Pecking algorithm takes about 3-4 seconds.
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.
- Low Wi-Fi+BLE throughput
- TCP/UDP TX/RX Data stall observed in CoEx scenarios
- Observed HTTPS Continuous download fails with TA Power save
- Performance improvements are in progress for lower performance metrics.
- Observed interop issue (connectivity failure) with few AP's when device reset/reboot happens on active connection.
- In concurrent mode, AP restart fails after stopping it with ap\_stop command.
- DUT deep sleep will not work after stopping AP with ap\_stop command.
- Unable to get SNTP async events when coex mode and Power save is enabled
- Fine Tuning 802.11ax Spectral mask in Progress
- Fine Tuning 11b mask in Ch11 in progress
- DUT is unable to connect to the AP with WPA3 security when we enable coex mode (WLAN+BLE) in opermode
- Socket listen API is failing from the second iteration
- Disconnections observed with Netgear RAX120 AP in WPA3 security
- Observed connection failures with some AP's in more channel congestion open lab environment
- Firmware Upgrade example is not working in PSRAM boards
- deep sleep example is not supported with power manager

**BLE**

- HID profile data transfer is not working, when power save is enabled in SoC.
- BLE reconnection is not working in ble_multiconnection_gatt demo, when power save is enabled in SoC
- BLE throughputs are less with STM32 compared to EFR

**Co-Existence**

- Observed HTTP continuous download is not happening in Powersave mode after BLE connection established using wifi\_https\_ble\_dual\_role application
- Observed DUT hang while Wi-Fi UDP/TCP Tx and BLE continuous scan.

**System**

- BRD8045A and BRD8045C does not have CTS and RTS pins routed from SiWx917 NCP, which are used for UART flow control

**MCU**

- Refer to the respective Radio board user guides for specific pinout details. Examples are targeted to a specific version mentioned in the respective readme
- Few(BOD and Comparator) wakeup resources are not working as expected in Power manager service
- Observed RO and BJT Temperature values are not as expected
- Character Timeout feature for all communication protocols is not supported
- UART instances does not support different FIFO Thresholds
- NVM3 dual flash application is not working as expected in the current release.
- ULP_I2C does not function as expected in low power mode when DMA is enabled
- Powersave Deep Sleep example for the siwg917m110lgtba OPN requires the installation of the device_need_ram_execution component.

**Limitations and Unsupported Features**

**SDK**

- WiSeConnect3_SDK_3.1.3 and later versions are not compatible with firmware versions prior to 1711.2.10.1.2.0.4, due to enhancements in max transmit power configuration during Wi-Fi join/connection, need to be cautious while doing OTA firmware upgrade.

**Wi-Fi/Network Stack**

- TLS 1.3 Server is not supported
- In AP mode, IPv6 Router Advertisements are not supported. Although STA connected to the APUT can transfer IPv6 data to the peers by using SLAAC for address configuration.
- When sl\_wifi\_enable\_target\_wake\_time() API is used, observed occasional MQTT disconnections with longer TWT intervals (>30secs) with embedded MQTT + TWT.
- AMSDU TX is not supported.
- Fragmentation is not supported.
- AMSDUs within AMPDU is not supported.
- Currently, the module does not support Radio Measurement Requests feature of CCX V2
- 802.11k is not supported
- 40 MHz bandwidth for 2.4 GHz band is not supported.
- 802.11J channel 14 is not supported.
- MQTT versions 3 and 4 are supported.
- Maximum of 3 SSL connections are supported.
- In SSL ECC Curve ID supported is 23. SSL handshake with 3rd party clients depends on the SSL ECC Curve ID.
- LP mode is not supported.
- In iTWT mode, downlink data traffic should be limited. Disconnections may be observed if AP fails to send all the buffered data in the next TWT Service Period.
- Number of MBSSIDs processed is limited by the beacon length that can be processed by the stack (which is limited to 1024 bytes). Beacons greater than 1024 Bytes in length will not be processed.
- CoEx + EAP Security in 352K/320k is not feasible. This issue is observed due to a lack of memory in the 352k/320k Memory Configuration. It is supported with other EXT\_FEAT\_416K\_M4SS\_256K and EXT\_FEAT\_480K\_M4SS\_192K memory configurations.
- UL MUMIMO is not supported.
- The embedded HTTP server is not supported.
- Baremetal is not supported.
- Compared to SoC mode, NCP mode has fewer examples, but more will be enabled in upcoming releases.
- Maximum Supported length for Embedded MQTT username up to 120 bytes , topic length up to 200 bytes and password upto 62 bytes.
- UART 2 Debug prints are supported only on ULP_GPIO_9.
- WOW LAN feature is not supported.
- SA Query procedure is not supported in AP mode.
- Maximum Supported length for HTTP GET URL is up to 2048 bytes.
- Azure SDK with embedded MQTT is not supported.
- Power save is not supported in Azure MQTT.
- MDNS service discovery is currently not supported.
- sli_si91x_accept_async is not thread-safe
- Observed some background compatibility issues with coex and http in few corner cases
- AP mode does not support Tx and Rx aggregation in Concurrent mode.
- Concurrent STA mode, Rx aggregation is not supported. Tx aggregation is supported but it is not recommended.
- AP standalone mode does not support Tx aggregation. Rx aggregation is supported with limited number of BA sessions.

**BLE**

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.
- BLE TX/RX throughput is less when tested with EFM as compared to EFR
- Maximum supported AE data length is 200 bytes.
- Supports only two ADV\_EXT sets.
- Supports only two BLE connections (1 Central and 1 Peripheral) with AE.
- Advertising Extension feature is not supported in Coexistence.
- The  ae\_central & ae\_peripheral applications are not supported with TA\_352K\_M4\_320K RAM configuration.
- Setting PLL mode as 1 is not supported in Coexistence

**MCU**

- Manual chip select option is not supported when using GSPI.
- Following peripherals/features are not functioning and shall be deprecated from future releases
    - ADC Multichannel, SSI Dual and Quad mode, SIO and Temp sensors
- LittleFS example supports only with Dual flash
- PS1 state is not supported in Power Manager
- Power is same for PS4 and PS3 states with powersave mode of power manager
- When using Button_0 as wakeup source, it limits the button functionality at application layer. For using Button_0 for application specific functionality, enable 'SL_SI91X_NPSS_GPIO_BTN_HANDLER'
- XTAL 40MHz clock as a reference clock is not supported

**System**
- TA Connected sleep and M4 PS2 is not a possible mode of operation
- M4 PS2 active and sleep is not a possible mode when SL_SI91X_EXT_FEAT_FRONT_END_SWITCH_PINS_ULP_GPIO_4_5_0 is enabled in SoC mode

**Simplicity Studio and Commander**

- Default GDB debug configuration is not supported for SoC projects, work around details provided in "Getting-Started-with-SiWx917"
- Observing flash download failures(ERROR 108) for a few image sizes
- While creating project through Simplicity Studio, "copy contents" option not supported.
- Simplicity commander does not support options under "Debug Lock tools".
- All projects in the package are compatible with GCC 10.3.1 version.

**Terminology**

|**Term**|**Description**|
| :- | :- |
|**New Features**|These items are new to this release|
|**Changes/Issues Fixed**|Changes made to existing features found in previous software releases.|
||Enhancements to existing product flow and feature set.|
||Bug fixes done in the release|
|**Deprecated Items**|Features or functions or APIs that are removed from the distributed release to align with the software roadmap|
|**Known Issues**|Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases|
|**Limitations/Recommendations**|Describes the limitations on product usage and recommendations for optimal use cases|

**Note**

- Change SPI frequency to 12.5Mhz while measuring BLE throughput with EFR32

<br>


**WiSeConnect3\_SDK\_3.3.0-rc3 Release Notes**

This SDK package supports SoC Mode and NCP Mode for B0:

- In SoC Mode: Customer applications can run on Cortex M4. Wireless, network, and security stacks run on the wireless subsystem.
- In NCP mode: Wireless, network, and security stacks run on the Wireless subsystem. Customer applications run on the external host MCU.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

**Note**: Use Simplicity Studio version SV5.8.0.1 onwards

**SoC Highlights**

- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support ultra low power Wi-Fi standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode
- **MCU examples** : GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers, Config Timers, ULP (Ultra Low Power) Timers, Sleeptimer, IOSTREAM, NVM3, MEMLCD, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, Sensorhub, Joystick, Relative Humidity and Temperature sensor (RHT), Analog Comparator, Digital to Analog Converter and Temperature sensors (RO and BJT), CRC, LittleFS, Power Manager with RTOS
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE whitelisting, and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack, All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS client
- **IDE** : Simplicity Studio with Windows 10(64-bit), Linux, Mac OS
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** :
  - Si-MB4002A Main board
  - SiWx917 Radio boards

|**RadioBoard Type**|**SiWx917B0 with Board Version**|
| :- | :- |
|Common flash|Si917-BRD4338A(2.0)|
|Dual flash|Si917-BRD4339B(2.0)|
|External PSRAM|Si917-BRD4340A(2.0), Si917-BRD4342A(2.0)|
|Internal PSRAM|Si917-BRD4339A(2.0)|
|Dev Kit|Si917-2605A|

**NCP Highlights**

- **Host Interface** : SPI, UART
- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode.
- **Wi-Fi** : 2.4GHz Wi-Fi Support, WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE Whitelisting and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack , BLE Stack , All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS Client.
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **Hardware kits to evaluate NCP Mode**
  - NCP EFR Expansion Kit with NCP Radio board (BRD4338A(NCP MBR) + BRD8045A)
  - Wireless Pro kit Mainboard BRD4002A Rev A06
  - EFR32xG24 Wireless 2.4 GHz +10 dBm Radio Board xG24-RB4186C

**Release Details**

|**Item**|**Details**|
| :- | :- |
|Release date|May 25th, 2024|
|SDK Version|3.3.0-rc3|
|Firmware Version|1711\.2.12.1.0.0.6|
|Package Name|WiSeConnect3\_SDK\_3.3.0-rc3|
| GSDK Version | SiSDK-2024.6.0-prerc3 |
|Supported RTOS|FreeRTOS|
|Operating Modes Supported|Wi-Fi STA, Wi-Fi AP, Wi-Fi STA+BLE, Wi-Fi STA+AP|
|Build Quality|GA|

- SiWx917 release consists of two components
  - Wireless Firmware - SiWx917 Firmware Binaries
  - Wiseconnect3 Library - Wiseconnect3 SDK library runs on the external host in NCP mode and internal Cortex M4 in SoC Mode.
- This release is meant only for use with designs based on SiWx917 Silicon
- The firmware to load is available in the following format:
  - SiWG917-B.2.12.1.x.0.x.rps - B0 Full-featured firmware binary
  - SiWG917-B.2.12.1.x.0.x.rps - B0 Lite firmware binary

**Features Supported**

**Sensorhub service**

- Support for ADC, SPI, SDC and I2C based sensors
- Support for PS2 and sleep wakeups
- Support added for SDC

**MCU**

- ADC Single Channel, ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, GPIO, I2C, I2S, NVM3, OPAMP, PSRAM, PWM, QEI, RTC, SDIO Secondary, SPI Master and Slave, UART, Micro DMA, USART, Watchdog Timer, Temperature Sensors (RO and BJT), USART Master and Slave, CRC
- UC Supported Peripherals - GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers , Config Timers, ULP (Ultra Low Power) Timers, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, MEMLCD, Analog Comparator and Digital to Analog Converter.
- Services - Sleeptimer, IOSTREAM, NVM3, Power Manager, LittleFS, Pin Tool (support for USART, I2C, SSI, GSPI, SIO, SCT, PWM, I2S, ADC, DAC and Analog Comparator) and Clock Manager (Phase-1)
- ULP (Ultra Low Power) Peripherals - ulp\_gpio, ulp\_adc ulp\_i2c, ulp\_i2s, ulp\_ir\_decoder, ulp\_spi, ulp\_timer, ulp\_uart, ulp\_udma, ulp\ssi
- Extended flash write support for NWP flash region and added read api to read from NWP flash region
- SoC OPN based project support in SSv5
- List of OPN's supported si917-sb00, siwg917m111mgtba, siwg917m100mgtba, siwg917m111xgtba, siwg917m100xntba, siwg917m121xgtba, siwg917m110lgtba and siwg917m141xgtba
- SiWx917 2605A Dev Kit supported
- Added flash examples support for BRD4340A and BRD4342A

**Wi-Fi**

- WPA2/WPA3 Personal, WPS and WPA2-EAP Support for Station Mode
- TCP/IP stack with IPv4, IPv6, TCP, UDP, TLS, HTTP/HTTPS, DHCPv4, DHCPv6, MQTT Client, DNS Client, SNTP client.
- Support for SSL client versions TLSV1.0, TLSV1.2, TLSV1.3 and SSL server versions TLSV1.0 and TLSV1.2
- Wi-Fi STA (802.11n/802.11ax) + 802.11n AP Support
- HE (802.11ax) and Individual TWT Feature Support
- Multiple BSSID feature support as an STA
- Secure OTA support on B0 radio boards.
- Support for LWIP network stack
- Support for AWS MQTT library
- Support for Azure MQTT library
- Support for BSD and IoT sockets application programming interface(API)
- Support added to change the listen interval after association with Access Point
- New API sl_si91x_fwup_abort added to support aborting firmware upgrade

**Bluetooth Low Energy**

- BLE central & peripheral connections are supported.
- Ultra-low power save is supported.

**Power Save**

- Max PSP, enhanced MAX PSP, Fast PSP, and 802.11ax TWT power save modes are supported in WiFi.
- Only Max PSP power save mode is supported in BLE

**Crypto Support**

- AES, SHA, AES-CCM, HMAC, GCM, Chacha-poly, ECDH and TRNG FW Crypto API support added.
- PSA enabled Mbed TLS support added
- NVM support added for key storage
- Symmetric and asymmetric key storage
- TRNG, AES, SHA, HMAC, GCM, Chacha-poly, ECDH and AES-CCM hardware crypto engine is integrated with PSA crypto.

**Changes and Fixes**

**SDK**

- None

**MCU**

- Resolved SSI_UART data comparison issue
- Fix for button based wake up in wifi_station_ble_provisioning_aws, aws_mqtt and wifi_ble_power_save
- Fix for timer drift with sysrtc timer in tickless-idle mode
- ULP_SSI examples have been relocated to internal.
- Calender support added for aws_mqtt and wifi_station_ble_provisioning_aws examples. Configure PUBLISH_PERIODICITY to modify the alarm time
- For alarm-based wakeup in tickless idle mode, users need to set the timeout to the appropriate duration in the osSemaphoreAcquire function. For guidance, refer to the aws_mqtt and wifi_station_ble_provisioning_aws applications.
- SI91X-14290, SI91X-15770, SI91X-15886, SI91X-15833, SI91X-15883, SI91X-15863, SI91X-15879, SI91X-15799, SI91X-15673

**Wi-Fi & Network Stack**

- Fixed download large file sizes with http client GET method (SI91X-15724)
- Purpose/Scope of "firmware update application" is corrected (SI91X-15817)
- Added TCP and UDP IPV6 MSS SIZE macros and added necessary changes in the apis (SI91X-15701)
- In AWS, a socket recv timeout error SL_STATUS_SI91X_SOCKET_READ_TIMEOUT is mapped as MQTT_NOTHING_TO_READ. (SI91X-13466)
- Removed SL_SI91X_EXT_FEAT_TELEC_SUPPORT bitmap (SI91X-15877)
- OOB GA3 enhancements and updated readme (SI91X-15330)
- Tickless idle powersave is added to coex examples
- Readme corrections for Enterprise Client,station ping,Access point and three SSL sockets (SI91X-15535)
- SQA BUGS - SI91X-15888, SI91X-15742, SI91X-15835, SI91X-15629, SI91X-14006, SI91X-15722

**BLE**

- 

**CoEx**

- None

**System**

- None

**Recommendations**

**System**

- The current revision of SiWx917 B0 has:
  - RAM memory of 672k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_672K\_M4SS\_0K- This mode configures TA with 672k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By default EXT\_FEAT\_352K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_480K\_M4SS\_192K - This mode configures TA with 480k and M4 with 192K bytes of memory
    - EXT\_FEAT\_416K\_M4SS\_256K - This mode configures TA with 416k and M4 with 256K bytes of memory
    - EXT\_FEAT\_352K\_M4SS\_320K - This mode configures TA with 352k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 672K\_M4SS\_0K.
  - SoC mode should not use 672k\_M4SS\_0k memory configuration.
- Set the recommended Power Save Profile (PSP) type to Enhanced Max PSP.

**IDE**

- Download the latest version of Simplicity Studio
- Refer to the latest version of the SoC/NCP "Getting-Started-with-SiWx917" guide for more details

**Wi-Fi & Network Stack****

- The recommended embedded MQTT Publish payload is 1 kBytes.
- It is recommended to enable bit 16 of the 'Extended TCP IP Feature' bit map in the opermode command for all Wi-Fi Socket operations from the host to ensure graceful handling during asynchronous closures from the peer.
- Aggregation (bit 2 of feature\_bit\_map) is recommended to be enabled in opermode. This enables software to aggregate multiple packets to achieve better throughput
- TCP retransmission count value is recommended to be 30 or higher so that the TCP does not disconnect while the rejoin happens.
- To restart the module, the application needs to call sl\_wifi\_deinit() followed by sl\_wifi\_init().
- Register 'Join Fail Callback' function every time when join is called, as in the rejoin failure path the callback is deregistered. If not done, this might result in a scan not functioning on rejoin failure.
- User can enable SL\_SI91X\_EXT\_TCP\_IP\_SSL\_16K\_RECORD in 'Extended TCP IP Feature'bit map in opermode, if HTTPS download is failing after receiving HTTP headers..
- iTWT setup is recommended after IP assignment/TCP connection/application specific socket connections.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, increase TCP / ARP Timeouts at the remote side depending upon the configured TWT interval configured.
- In case of TWT+coex, when using sl\_wifi\_enable\_target\_wakeup\_time API, use TWT wake duration <= 16 ms and TWT wake interval >= 1 sec. If wake duration > 16 ms or TWT wake interval < 1sec, there might be performance issues.
- For iTWT GTK Interval Should be kept max possible value or zero. If GTK interval is not configurable, recommended TWT interval (in case of sl\_wifi\_enable\_target\_wakeup\_time API) or RX Latency (in case of sl\_wifi\_target\_wake\_time\_auto\_selection API) is less than 4sec.
- Disable Power Save for High Throughput Applications.
- The application needs to ensure that it sets RTC with the correct timestamp when the feature is enabled before establishing the SSL connection.
- The timeout value should not be less than 1 second for socket select and socket receive calls. Timeout value of less than 1 second is not currently supported.
- When sl\_wifi\_enable\_target\_wakeup\_time API is used, configuring TWT Wake interval beyond 1 min might lead to disconnections from the AP. Recommended to use TWT wakeup interval of less than or equal to 1 min.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, it is recommended to set missed\_beacon\_count of sl\_wifi\_set\_advanced\_client\_configuration API greater than 2 times of the configured TWT Interval.
- Disable power save and suspend any active TWT sessions before triggering HTTP OTAF.
- It is recommended to enable bit 31 of the 'TCP IP Feature' bit map in the opermode command to support multicast protocol

**BLE**

- In BLE, the recommended range of Connection Interval in
  - Power Save (BLE Only) - 100 ms to 1.28 s.
- In BLE, during Connection, the configuration of Scan Interval and Scan Window with the same value is not recommended. The suggested ratio of Scan Window to Scan Interval is 3:4.
- In BLE, if a device is acting as Central, the scan window (in set\_scan\_params and create\_connection commands) must be less than the existing Connection Interval. The suggested ratio of Scan Window to Connection Interval is 2:3.
- In BLE mode, if scanning and advertising are in progress on the SiWx91x module and it subsequently gets connected and moves to the central role, scanning stops else if it moves to the peripheral role, advertising stops. To further establish a connection to another peripheral device or to a central device, the application should give a command for starting advertising and scanning again.

**Co-Existence**

- For concurrent Wi-Fi + BLE, and while a Wi-Fi connection is active, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
- Wi-Fi + BLE Advertising
  - All standard advertising intervals are supported. As Wi-Fi throughput is increased, a slight difference in on-air advertisements compared to configured intervals may be observed.
  - BLE advertising is skipped if the advertising interval collides with Wi-Fi activity.
- Wi-Fi + BLE scanning
  - All standard scan intervals are supported. For better scan results, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
  - BLE scanning will be stopped for intervals that collide with Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Connections
  - All standard connection intervals are supported.
  - For a stable connection, use optimal connection intervals and max supervision timeout in the presence of Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Data Transfer
  - To achieve higher throughput for both Wi-Fi and BLE, use medium connection intervals, such as 45 to 80 ms with maximum supervision timeout.
  - Ensure Wi-Fi activity consumes lower intervals.

**Known Issues**

**Sensorhub**

- Support for ADC FIFO Mode and Multi channel is open
- PS1-state supports only ADC sensor
- Power transitions with AWS are not stable in Sensorhub
- The process of integrating the tickless component and power manager service into the Sensorhub app is currently underway

**Network Stack**

- Sometimes during SSL Handshake, ECC curve parameters generated are wrong, resulting in connection failure with BBD2 error. However, this recovers in the next attempt.
- Randomize the client port if using rapid connect/disconnect of the MQTT session on the same client port with the power save.
- Secure SSL renegotiation not supported in Embedded Networking Stack.
- Disable power save before making TCP connection for NCP-UART interface.

**Wi-Fi**

- TWT device (STA) may not go to sleep in between TWT intervals in case of burst data traffics with data size more than the configured 'average tx throughput', until completion of data transfer.
- There are performance and IOP issues with MU MIMO.
- WPA3 Connection with the Hunting and Pecking algorithm takes about 3-4 seconds.
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.
- Low Wi-Fi+BLE throughput
- TCP/UDP TX/RX Data stall observed in CoEx scenarios
- Observed HTTPS Continuous download fails with TA Power save
- Performance improvements are in progress for lower performance metrics.
- Observed interop issue (connectivity failure) with few AP's when device reset/reboot happens on active connection.
- In concurrent mode, AP restart fails after stopping it with ap\_stop command.
- DUT deep sleep will not work after stopping AP with ap\_stop command.
- Unable to get SNTP async events when coex mode and Power save is enabled
- Fine Tuning 802.11ax Spectral mask in Progress
- Fine Tuning 11b mask in Ch11 in progress
- DUT is unable to connect to the AP with WPA3 security when we enable coex mode (WLAN+BLE) in opermode
- Socket listen API is failing from the second iteration
- Disconnections observed with Netgear RAX120 AP in WPA3 security
- Observed connection failures with some AP's in more channel congestion open lab environment
- Firmware Upgrade example is not working in PSRAM boards
- deep sleep example is not supported with power manager

**BLE**

- HID profile data transfer is not working, when power save is enabled in SoC.
- BLE reconnection is not working in ble_multiconnection_gatt demo, when power save is enabled in SoC
- BLE throughputs are less with STM32 compared to EFR

**Co-Existence**

- Observed HTTP continuous download is not happening in Powersave mode after BLE connection established using wifi\_https\_ble\_dual\_role application
- Observed DUT hang while Wi-Fi UDP/TCP Tx and BLE continuous scan.

**System**

- BRD8045A and BRD8045C does not have CTS and RTS pins routed from SiWx917 NCP, which are used for UART flow control

**MCU**

- Refer to the respective Radio board user guides for specific pinout details. Examples are targeted to a specific version mentioned in the respective readme.
- Few peripherals like WDT when configured with RO clock is not working as expected. No impact on the feature but the clocks are not accurate.
- Few(BOD and Comparator) wakeup resources are not working as expected in Power manager service.
- Observed expected RO and BJT Temperature values only on calibrated FW18 boards.
- Force generate is required in order to generate pin_config.h from the Pin tool because Simplicity Studio's generate option isn't functioning in current version.
- Character Timeout feature for all communication protocols is not supported
- ADC Multichannel support is not working at different Sample rates HP 100K, ULP 10K/500 samples
- It's important to select Non-psram examples manually for OPNs because unsupported examples are also included in the "Example Projects & Demos" section.
- By default SYSrtc and wake on wireless enabled please do not reinstall these two wakeup sources 
- Minimum idle-time to Sleep 100ms as configured in FreeRtos_config.h
- PowerManager does not support MCU without retention
- Calendar based wake-up was not working in the Tick-less based power manager 
- ULP_DMA, ULP_UART and ULP_I2C ULP Perpheral examples are not working as expected which were integrated with power manager

**Limitations and Unsupported Features**

**SDK**

- WiSeConnect3_SDK_3.1.3 and later versions are not compatible with firmware versions prior to 1711.2.10.1.2.0.4, due to enhancements in max transmit power configuration during Wi-Fi join/connection, need to be cautious while doing OTA firmware upgrade.

**Wi-Fi/Network Stack**

- TLS 1.3 Server is not supported
- In AP mode, IPv6 Router Advertisements are not supported. Although STA connected to the APUT can transfer IPv6 data to the peers by using SLAAC for address configuration.
- When sl\_wifi\_enable\_target\_wake\_time() API is used, observed occasional MQTT disconnections with longer TWT intervals (>30secs) with embedded MQTT + TWT.
- AMSDU TX is not supported.
- Fragmentation is not supported.
- AMSDUs within AMPDU is not supported.
- Currently, the module does not support Radio Measurement Requests feature of CCX V2
- 802.11k is not supported
- 40 MHz bandwidth for 2.4 GHz band is not supported.
- 802.11J channel 14 is not supported.
- MQTT versions 3 and 4 are supported.
- Maximum of 3 SSL connections are supported.
- In SSL ECC Curve ID supported is 23. SSL handshake with 3rd party clients depends on the SSL ECC Curve ID.
- LP mode is not supported.
- In iTWT mode, downlink data traffic should be limited. Disconnections may be observed if AP fails to send all the buffered data in the next TWT Service Period.
- Number of MBSSIDs processed is limited by the beacon length that can be processed by the stack (which is limited to 1024 bytes). Beacons greater than 1024 Bytes in length will not be processed.
- CoEx + EAP Security in 352K/320k is not feasible. This issue is observed due to a lack of memory in the 352k/320k Memory Configuration. It is supported with other EXT\_FEAT\_416K\_M4SS\_256K and EXT\_FEAT\_480K\_M4SS\_192K memory configurations.
- UL MUMIMO is not supported.
- The embedded HTTP server is not supported.
- Baremetal is not supported.
- Compared to SoC mode, NCP mode has fewer examples, but more will be enabled in upcoming releases.
- Maximum Supported length for Embedded MQTT username up to 120 bytes , topic length up to 200 bytes and password upto 62 bytes.
- UART 2 Debug prints are supported only on ULP_GPIO_9.
- WOW LAN feature is not supported.
- SA Query procedure is not supported in AP mode.
- Maximum Supported length for HTTP GET URL is up to 2048 bytes.
- Azure SDK with embedded MQTT is not supported.
- Power save is not supported in Azure MQTT.
- MDNS service discovery is currently not supported.
- sli_si91x_accept_async is not thread-safe
- Observed some background compatibility issues with coex and http in few corner cases
- AP mode does not support Tx and Rx aggregation in Concurrent mode.
- Concurrent STA mode, Rx aggregation is not supported. Tx aggregation is supported but it is not recommended.
- AP standalone mode does not support Tx aggregation. Rx aggregation is supported with limited number of BA sessions.

**BLE**

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.
- BLE TX/RX throughput is less when tested with EFM as compared to EFR
- Maximum supported AE data length is 200 bytes.
- Supports only two ADV\_EXT sets.
- Supports only two BLE connections (1 Central and 1 Peripheral) with AE.
- Advertising Extension feature is not supported in Coexistence.
- The  ae\_central & ae\_peripheral applications are not supported with TA\_352K\_M4\_320K RAM configuration.
- Setting PLL mode as 1 is not supported in Coexistence

**MCU**

- Manual chip select option is not supported when using GSPI.
- SSI Dual and Quad mode is not working as expected.
- SPI sensor will not work in the Sensor HUB application.
- For ADC Multichannel sampling rate is limited to less than 15Ksps, number of samples is less than 500 and with a maximum of 4 channel
- TA Connected sleep and M4 PS2 sleep aren't compatible with our SI917 design
- M4 PS2 active and sleep is not supported when SL_SI91X_EXT_FEAT_FRONT_END_SWITCH_PINS_ULP_GPIO_4_5_0 is enabled in SoC mode
- GSPI communication with non-DMA has low performance with respect to time
- LittleFS example supports only with Dual flash
- PS1 state is not supported in Power Manager

**Simplicity Studio and Commander**

- Default GDB debug configuration is not supported for SoC projects, work around details provided in "Getting-Started-with-SiWx917"
- Observing flash download failures(ERROR 108) for a few image sizes
- While creating project through Simplicity Studio, "copy contents" option not supported.
- Simplicity commander does not support options under "Debug Lock tools".
- All projects in the package are compatible with GCC 10.3.1 version.

**Terminology**

|**Term**|**Description**|
| :- | :- |
|**New Features**|These items are new to this release|
|**Changes/Issues Fixed**|Changes made to existing features found in previous software releases.|
||Enhancements to existing product flow and feature set.|
||Bug fixes done in the release|
|**Deprecated Items**|Features or functions or APIs that are removed from the distributed release to align with the software roadmap|
|**Known Issues**|Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases|
|**Limitations/Recommendations**|Describes the limitations on product usage and recommendations for optimal use cases|

**Note**

- Change SPI frequency to 12.5Mhz while measuring BLE throughput with EFR32

<br>


**WiSeConnect3\_SDK\_3.3.0-rc2 Release Notes**

This SDK package supports SoC Mode and NCP Mode for B0:

- In SoC Mode: Customer applications can run on Cortex M4. Wireless, network, and security stacks run on the wireless subsystem.
- In NCP mode: Wireless, network, and security stacks run on the Wireless subsystem. Customer applications run on the external host MCU.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

**Note**: Use Simplicity Studio version SV5.8.0.1 onwards

**SoC Highlights**

- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support ultra low power Wi-Fi standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode
- **MCU examples** : GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers, Config Timers, ULP (Ultra Low Power) Timers, Sleeptimer, IOSTREAM, NVM3, MEMLCD, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, Sensorhub, Joystick, Relative Humidity and Temperature sensor (RHT), Analog Comparator, Digital to Analog Converter and Temperature sensors (RO and BJT), CRC, LittleFS, Power Manager with RTOS
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE whitelisting, and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack, All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS client
- **IDE** : Simplicity Studio with Windows 10(64-bit), Linux, Mac OS
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** :
  - Si-MB4002A Main board
  - SiWx917 Radio boards

|**RadioBoard Type**|**SiWx917B0 with Board Version**|
| :- | :- |
|Common flash|Si917-BRD4338A(2.0)|
|Dual flash|Si917-BRD4339B(2.0)|
|External PSRAM|Si917-BRD4340A(2.0), Si917-BRD4342A(2.0)|
|Internal PSRAM|Si917-BRD4339A(2.0)|
|Dev Kit|Si917-2605A|

**NCP Highlights**

- **Host Interface** : SPI, UART
- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode.
- **Wi-Fi** : 2.4GHz Wi-Fi Support, WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE Whitelisting and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack , BLE Stack , All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS Client.
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **Hardware kits to evaluate NCP Mode**
  - NCP EFR Expansion Kit with NCP Radio board (BRD4338A(NCP MBR) + BRD8045A)
  - Wireless Pro kit Mainboard BRD4002A Rev A06
  - EFR32xG24 Wireless 2.4 GHz +10 dBm Radio Board xG24-RB4186C

**Release Details**

|**Item**|**Details**|
| :- | :- |
|Release date|May 22nd, 2024|
|SDK Version|3.3.0-rc2|
|Firmware Version|1711\.2.12.1.0.0.5|
|Package Name|WiSeConnect3\_SDK\_3.3.0-rc2|
| GSDK Version | SiSDK-2024.6.0 |
|Supported RTOS|FreeRTOS|
|Operating Modes Supported|Wi-Fi STA, Wi-Fi AP, Wi-Fi STA+BLE, Wi-Fi STA+AP|
|Build Quality|GA|

- SiWx917 release consists of two components
  - Wireless Firmware - SiWx917 Firmware Binaries
  - Wiseconnect3 Library - Wiseconnect3 SDK library runs on the external host in NCP mode and internal Cortex M4 in SoC Mode.
- This release is meant only for use with designs based on SiWx917 Silicon
- The firmware to load is available in the following format:
  - SiWG917-B.2.12.1.x.0.x.rps - B0 Full-featured firmware binary
  - SiWG917-B.2.12.1.x.0.x.rps - B0 Optimized firmware binary

**Features Supported**

**Sensorhub service**

- Support for ADC, SPI, SDC and I2C based sensors
- Support for PS2 and sleep wakeups
- Support added for SDC

**MCU**

- ADC Single Channel, ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, GPIO, I2C, I2S, NVM3, OPAMP, PSRAM, PWM, QEI, RTC, SDIO Secondary, SPI Master and Slave, UART, Micro DMA, USART, Watchdog Timer, Temperature Sensors (RO and BJT), USART Master and Slave, CRC
- UC Supported Peripherals - GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers , Config Timers, ULP (Ultra Low Power) Timers, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, MEMLCD, Analog Comparator and Digital to Analog Converter.
- Services - Sleeptimer, IOSTREAM, NVM3, Power Manager, LittleFS, Pin Tool (support for USART, I2C, SSI, GSPI, SIO, SCT, PWM, I2S, ADC, DAC and Analog Comparator) and Clock Manager (Phase-1)
- ULP (Ultra Low Power) Peripherals - ulp\_gpio, ulp\_adc ulp\_i2c, ulp\_i2s, ulp\_ir\_decoder, ulp\_spi, ulp\_timer, ulp\_uart, ulp\_udma, ulp\ssi
- Extended flash write support for NWP flash region and added read api to read from NWP flash region
- SoC OPN based project support in SSv5
- List of OPN's supported si917-sb00, siwg917m111mgtba, siwg917m100mgtba, siwg917m111xgtba, siwg917m100xntba, siwg917m121xgtba, siwg917m110lgtba and siwg917m141xgtba
- SiWx917 2605A Dev Kit supported
- Added flash examples support for BRD4340A and BRD4342A

**Wi-Fi**

- WPA2/WPA3 Personal, WPS and WPA2-EAP Support for Station Mode
- TCP/IP stack with IPv4, IPv6, TCP, UDP, TLS, HTTP/HTTPS, DHCPv4, DHCPv6, MQTT Client, DNS Client, SNTP client.
- Support for SSL client versions TLSV1.0, TLSV1.2, TLSV1.3 and SSL server versions TLSV1.0 and TLSV1.2
- Wi-Fi STA (802.11n/802.11ax) + 802.11n AP Support
- HE (802.11ax) and Individual TWT Feature Support
- Multiple BSSID feature support as an STA
- Secure OTA support on B0 radio boards.
- Support for LWIP network stack
- Support for AWS MQTT library
- Support for Azure MQTT library
- Support for BSD and IoT sockets application programming interface(API)
- Support added to change the listen interval after association with Access Point
- New API sl_si91x_fwup_abort added to support aborting firmware upgrade

**Bluetooth Low Energy**

- BLE central & peripheral connections are supported.
- Ultra-low power save is supported.

**Power Save**

- Max PSP, enhanced MAX PSP, Fast PSP, and 802.11ax TWT power save modes are supported in WiFi.
- Only Max PSP power save mode is supported in BLE

**Crypto Support**

- AES, SHA, AES-CCM, HMAC, GCM, Chacha-poly, ECDH and TRNG FW Crypto API support added.
- PSA enabled Mbed TLS support added
- NVM support added for key storage
- Symmetric and asymmetric key storage
- TRNG, AES, SHA, HMAC, GCM, Chacha-poly, ECDH and AES-CCM hardware crypto engine is integrated with PSA crypto.

**Changes and Fixes**

**SDK**

- None

**MCU**

- Resolved baud rate issue in SIO_UART
- Removed the power down of efuse peri from deinit API
- Fixed GSPI performance issues
- Fixed warnings in Sensorhub application
- SQA Bug fixes: SI91X-15345, SI91X-15838, SI91X-14957, SI91X-15294, SI91X-15755,        SI91X-14540, SI91X-14290, SI91X-15770, SI91X-15833


**Wi-Fi & Network Stack**

- Added fix for FW upgrade failure due to invalid firmware (SI91X-15434)
- Added support in SDK for TA FW update from Launcher (RSCDEV-28196)
- Restrict Crypto component only for Si91X MCU (RSCDEV-27952)
- Fixed Azure connectivity failure when symmetric key is used (SI91X-15802)
- Fix melco routeb compilation issues (RSCDEV-28200)
- handle pll mode for coex properly (RSCDEV-27726)
- SQA BUGS - SI91X-15198, SI91X-15502, SI91X-15637

**BLE**

- Resolved SQA bugs SI91X-15832 and SI91X-15829.

**CoEx**

- None

**System**

- None

**Recommendations**

**System**

- The current revision of SiWx917 B0 has:
  - RAM memory of 672k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_672K\_M4SS\_0K- This mode configures TA with 672k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By default EXT\_FEAT\_352K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_480K\_M4SS\_192K - This mode configures TA with 480k and M4 with 192K bytes of memory
    - EXT\_FEAT\_416K\_M4SS\_256K - This mode configures TA with 416k and M4 with 256K bytes of memory
    - EXT\_FEAT\_352K\_M4SS\_320K - This mode configures TA with 352k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 672K\_M4SS\_0K.
  - SoC mode should not use 672k\_M4SS\_0k memory configuration.
- Set the recommended Power Save Profile (PSP) type to Enhanced Max PSP.

**IDE**

- Download the latest version of Simplicity Studio
- Refer to the latest version of the SoC/NCP "Getting-Started-with-SiWx917" guide for more details

**Wi-Fi & Network Stack****

- The recommended embedded MQTT Publish payload is 1 kBytes.
- It is recommended to enable bit 16 of the 'Extended TCP IP Feature' bit map in the opermode command for all Wi-Fi Socket operations from the host to ensure graceful handling during asynchronous closures from the peer.
- Aggregation (bit 2 of feature\_bit\_map) is recommended to be enabled in opermode. This enables software to aggregate multiple packets to achieve better throughput
- TCP retransmission count value is recommended to be 30 or higher so that the TCP does not disconnect while the rejoin happens.
- To restart the module, the application needs to call sl\_wifi\_deinit() followed by sl\_wifi\_init().
- Register 'Join Fail Callback' function every time when join is called, as in the rejoin failure path the callback is deregistered. If not done, this might result in a scan not functioning on rejoin failure.
- User can enable SL\_SI91X\_EXT\_TCP\_IP\_SSL\_16K\_RECORD in 'Extended TCP IP Feature'bit map in opermode, if HTTPS download is failing after receiving HTTP headers..
- iTWT setup is recommended after IP assignment/TCP connection/application specific socket connections.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, increase TCP / ARP Timeouts at the remote side depending upon the configured TWT interval configured.
- In case of TWT+coex, when using sl\_wifi\_enable\_target\_wakeup\_time API, use TWT wake duration <= 16 ms and TWT wake interval >= 1 sec. If wake duration > 16 ms or TWT wake interval < 1sec, there might be performance issues.
- For iTWT GTK Interval Should be kept max possible value or zero. If GTK interval is not configurable, recommended TWT interval (in case of sl\_wifi\_enable\_target\_wakeup\_time API) or RX Latency (in case of sl\_wifi\_target\_wake\_time\_auto\_selection API) is less than 4sec.
- Disable Power Save for High Throughput Applications.
- The application needs to ensure that it sets RTC with the correct timestamp when the feature is enabled before establishing the SSL connection.
- The timeout value should not be less than 1 second for socket select and socket receive calls. Timeout value of less than 1 second is not currently supported.
- When sl\_wifi\_enable\_target\_wakeup\_time API is used, configuring TWT Wake interval beyond 1 min might lead to disconnections from the AP. Recommended to use TWT wakeup interval of less than or equal to 1 min.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, it is recommended to set missed\_beacon\_count of sl\_wifi\_set\_advanced\_client\_configuration API greater than 2 times of the configured TWT Interval.
- Disable power save and suspend any active TWT sessions before triggering HTTP OTAF.
- It is recommended to enable bit 31 of the 'TCP IP Feature' bit map in the opermode command to support multicast protocol

**BLE**

- In BLE, the recommended range of Connection Interval in
  - Power Save (BLE Only) - 100 ms to 1.28 s.
- In BLE, during Connection, the configuration of Scan Interval and Scan Window with the same value is not recommended. The suggested ratio of Scan Window to Scan Interval is 3:4.
- In BLE, if a device is acting as Central, the scan window (in set\_scan\_params and create\_connection commands) must be less than the existing Connection Interval. The suggested ratio of Scan Window to Connection Interval is 2:3.
- In BLE mode, if scanning and advertising are in progress on the SiWx91x module and it subsequently gets connected and moves to the central role, scanning stops else if it moves to the peripheral role, advertising stops. To further establish a connection to another peripheral device or to a central device, the application should give a command for starting advertising and scanning again.

**Co-Existence**

- For concurrent Wi-Fi + BLE, and while a Wi-Fi connection is active, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
- Wi-Fi + BLE Advertising
  - All standard advertising intervals are supported. As Wi-Fi throughput is increased, a slight difference in on-air advertisements compared to configured intervals may be observed.
  - BLE advertising is skipped if the advertising interval collides with Wi-Fi activity.
- Wi-Fi + BLE scanning
  - All standard scan intervals are supported. For better scan results, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
  - BLE scanning will be stopped for intervals that collide with Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Connections
  - All standard connection intervals are supported.
  - For a stable connection, use optimal connection intervals and max supervision timeout in the presence of Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Data Transfer
  - To achieve higher throughput for both Wi-Fi and BLE, use medium connection intervals, such as 45 to 80 ms with maximum supervision timeout.
  - Ensure Wi-Fi activity consumes lower intervals.

**Known Issues**

**Sensorhub**

- Support for ADC FIFO Mode and Multi channel is open
- PS1-state supports only ADC sensor
- Power transitions with AWS are not stable in Sensorhub
- The process of integrating the tickless component and power manager service into the Sensorhub app is currently underway

**Network Stack**

- Sometimes during SSL Handshake, ECC curve parameters generated are wrong, resulting in connection failure with BBD2 error. However, this recovers in the next attempt.
- Randomize the client port if using rapid connect/disconnect of the MQTT session on the same client port with the power save.
- Secure SSL renegotiation not supported in Embedded Networking Stack.
- Disable power save before making TCP connection for NCP-UART interface.

**Wi-Fi**

- TWT device (STA) may not go to sleep in between TWT intervals in case of burst data traffics with data size more than the configured 'average tx throughput', until completion of data transfer.
- There are performance and IOP issues with MU MIMO.
- WPA3 Connection with the Hunting and Pecking algorithm takes about 3-4 seconds.
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.
- Low Wi-Fi+BLE throughput
- TCP/UDP TX/RX Data stall observed in CoEx scenarios
- Observed HTTPS Continuous download fails with TA Power save
- Performance improvements are in progress for lower performance metrics.
- Observed interop issue (connectivity failure) with few AP's when device reset/reboot happens on active connection.
- In concurrent mode, AP restart fails after stopping it with ap\_stop command.
- DUT deep sleep will not work after stopping AP with ap\_stop command.
- Unable to get SNTP async events when coex mode and Power save is enabled
- Fine Tuning 802.11ax Spectral mask in Progress
- Fine Tuning 11b mask in Ch11 in progress
- DUT is unable to connect to the AP with WPA3 security when we enable coex mode (WLAN+BLE) in opermode
- Socket listen API is failing from the second iteration
- Disconnections observed with Netgear RAX120 AP in WPA3 security
- Observed connection failures with some AP's in more channel congestion open lab environment
- Firmware Upgrade example is not working in PSRAM boards
- deep sleep example is not supported with power manager

**BLE**

- HID profile data transfer is not working, when power save is enabled in SoC.
- BLE reconnection is not working in ble_multiconnection_gatt demo, when power save is enabled in SoC
- BLE throughputs are less with STM32 compared to EFR

**Co-Existence**

- Observed HTTP continuous download is not happening in Powersave mode after BLE connection established using wifi\_https\_ble\_dual\_role application
- Observed DUT hang while Wi-Fi UDP/TCP Tx and BLE continuous scan.

**System**

- BRD8045A and BRD8045C does not have CTS and RTS pins routed from SiWx917 NCP, which are used for UART flow control

**MCU**

- Refer to the respective Radio board user guides for specific pinout details. Examples are targeted to a specific version mentioned in the respective readme.
- Few peripherals like WDT when configured with RO clock is not working as expected. No impact on the feature but the clocks are not accurate.
- Few(BOD and Comparator) wakeup resources are not working as expected in Power manager service.
- Observed expected RO and BJT Temperature values only on calibrated FW18 boards.
- Force generate is required in order to generate pin_config.h from the Pin tool because Simplicity Studio's generate option isn't functioning in current version.
- Character Timeout feature for all communication protocols is not supported
- ADC Multichannel support is not working at different Sample rates HP 100K, ULP 10K/500 samples
- It's important to select Non-psram examples manually for OPNs because unsupported examples are also included in the "Example Projects & Demos" section.
- By default SYSrtc and wake on wireless enabled please do not reinstall these two wakeup sources 
- Minimum idle-time to Sleep 100ms as configured in FreeRtos_config.h
- PowerManager does not support MCU without retention
- Default Power Manager example will not work
- Calendar based wake-up was not working in the Tick-less based power manager 
- ULP_DMA, ULP_UART and ULP_I2C ULP Perpheral examples are not working as expected which were integrated with power manager

**Limitations and Unsupported Features**

**SDK**

- WiSeConnect3_SDK_3.1.3 and later versions are not compatible with firmware versions prior to 1711.2.10.1.2.0.4, due to enhancements in max transmit power configuration during Wi-Fi join/connection, need to be cautious while doing OTA firmware upgrade.

**Wi-Fi/Network Stack**

- TLS 1.3 Server is not supported
- In AP mode, IPv6 Router Advertisements are not supported. Although STA connected to the APUT can transfer IPv6 data to the peers by using SLAAC for address configuration.
- When sl\_wifi\_enable\_target\_wake\_time() API is used, observed occasional MQTT disconnections with longer TWT intervals (>30secs) with embedded MQTT + TWT.
- AMSDU TX is not supported.
- Fragmentation is not supported.
- AMSDUs within AMPDU is not supported.
- Currently, the module does not support Radio Measurement Requests feature of CCX V2
- 802.11k is not supported
- 40 MHz bandwidth for 2.4 GHz band is not supported.
- 802.11J channel 14 is not supported.
- MQTT versions 3 and 4 are supported.
- Maximum of 3 SSL connections are supported.
- In SSL ECC Curve ID supported is 23. SSL handshake with 3rd party clients depends on the SSL ECC Curve ID.
- LP mode is not supported.
- In iTWT mode, downlink data traffic should be limited. Disconnections may be observed if AP fails to send all the buffered data in the next TWT Service Period.
- Number of MBSSIDs processed is limited by the beacon length that can be processed by the stack (which is limited to 1024 bytes). Beacons greater than 1024 Bytes in length will not be processed.
- CoEx + EAP Security in 352K/320k is not feasible. This issue is observed due to a lack of memory in the 352k/320k Memory Configuration. It is supported with other EXT\_FEAT\_416K\_M4SS\_256K and EXT\_FEAT\_480K\_M4SS\_192K memory configurations.
- UL MUMIMO is not supported.
- The embedded HTTP server is not supported.
- Baremetal is not supported.
- Compared to SoC mode, NCP mode has fewer examples, but more will be enabled in upcoming releases.
- Maximum Supported length for Embedded MQTT username up to 120 bytes , topic length up to 200 bytes and password upto 62 bytes.
- UART 2 Debug prints are supported only on ULP_GPIO_9.
- WOW LAN feature is not supported.
- SA Query procedure is not supported in AP mode.
- Maximum Supported length for HTTP GET URL is up to 2048 bytes.
- Azure SDK with embedded MQTT is not supported.
- Power save is not supported in Azure MQTT.
- MDNS service discovery is currently not supported.
- sli_si91x_accept_async is not thread-safe
- Observed some background compatibility issues with coex and http in few corner cases
- AP mode does not support Tx and Rx aggregation in Concurrent mode.
- Concurrent STA mode, Rx aggregation is not supported. Tx aggregation is supported but it is not recommended.
- AP standalone mode does not support Tx aggregation. Rx aggregation is supported with limited number of BA sessions.

**BLE**

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.
- BLE TX/RX throughput is less when tested with EFM as compared to EFR
- Maximum supported AE data length is 200 bytes.
- Supports only two ADV\_EXT sets.
- Supports only two BLE connections (1 Central and 1 Peripheral) with AE.
- Advertising Extension feature is not supported in Coexistence.
- The  ae\_central & ae\_peripheral applications are not supported with TA\_352K\_M4\_320K RAM configuration.
- Setting PLL mode as 1 is not supported in Coexistence

**MCU**

- Manual chip select option is not supported when using GSPI.
- SSI Dual and Quad mode is not working as expected.
- SPI sensor will not work in the Sensor HUB application.
- For ADC Multichannel sampling rate is limited to less than 15Ksps, number of samples is less than 500 and with a maximum of 4 channel
- TA Connected sleep and M4 PS2 sleep aren't compatible with our SI917 design
- M4 PS2 active and sleep is not supported when SL_SI91X_EXT_FEAT_FRONT_END_SWITCH_PINS_ULP_GPIO_4_5_0 is enabled in SoC mode
- GSPI communication with non-DMA has low performance with respect to time
- LittleFS example supports only with Dual flash

**Simplicity Studio and Commander**

- Default GDB debug configuration is not supported for SoC projects, work around details provided in "Getting-Started-with-SiWx917"
- Observing flash download failures(ERROR 108) for a few image sizes
- While creating project through Simplicity Studio, "copy contents" option not supported.
- Simplicity commander does not support options under "Debug Lock tools".
- All projects in the package are compatible with GCC 10.3.1 version.

**Terminology**

|**Term**|**Description**|
| :- | :- |
|**New Features**|These items are new to this release|
|**Changes/Issues Fixed**|Changes made to existing features found in previous software releases.|
||Enhancements to existing product flow and feature set.|
||Bug fixes done in the release|
|**Deprecated Items**|Features or functions or APIs that are removed from the distributed release to align with the software roadmap|
|**Known Issues**|Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases|
|**Limitations/Recommendations**|Describes the limitations on product usage and recommendations for optimal use cases|

**Note**

- Change SPI frequency to 12.5Mhz while measuring BLE throughput with EFR32

<br>

**WiSeConnect3\_SDK\_3.3.0-rc1 Release Notes**

This SDK package supports SoC Mode and NCP Mode for B0:

- In SoC Mode: Customer applications can run on Cortex M4. Wireless, network, and security stacks run on the wireless subsystem.
- In NCP mode: Wireless, network, and security stacks run on the Wireless subsystem. Customer applications run on the external host MCU.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

**Note**: Use Simplicity Studio version SV5.8.0.1 onwards

**SoC Highlights**

- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support ultra low power Wi-Fi standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode
- **MCU examples** : GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers, Config Timers, ULP (Ultra Low Power) Timers, Sleeptimer, IOSTREAM, NVM3, MEMLCD, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, Sensorhub, Joystick, Relative Humidity and Temperature sensor (RHT), Analog Comparator, Digital to Analog Converter and Temperature sensors (RO and BJT), CRC, LittleFS, Power Manager with RTOS
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE whitelisting, and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack, All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS client
- **IDE** : Simplicity Studio with Windows 10(64-bit), Linux, Mac OS
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** :
  - Si-MB4002A Main board
  - SiWx917 Radio boards

|**RadioBoard Type**|**SiWx917B0 with Board Version**|
| :- | :- |
|Common flash|Si917-BRD4338A(2.0)|
|Dual flash|Si917-BRD4339B(2.0)|
|External PSRAM|Si917-BRD4340A(2.0), Si917-BRD4342A(2.0)|
|Internal PSRAM|Si917-BRD4339A(2.0)|
|Dev Kit|Si917-2605A|

**NCP Highlights**

- **Host Interface** : SPI, UART
- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode.
- **Wi-Fi** : 2.4GHz Wi-Fi Support, WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE Whitelisting and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack , BLE Stack , All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS Client.
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **Hardware kits to evaluate NCP Mode**
  - NCP EFR Expansion Kit with NCP Radio board (BRD4338A(NCP MBR) + BRD8045A)
  - Wireless Pro kit Mainboard BRD4002A Rev A06
  - EFR32xG24 Wireless 2.4 GHz +10 dBm Radio Board xG24-RB4186C

**Release Details**

|**Item**|**Details**|
| :- | :- |
|Release date|May 17th, 2024|
|SDK Version|3.3.0-rc1|
|Firmware Version|1711\.2.12.1.0.0.4|
|Package Name|WiSeConnect3\_SDK\_3.3.0-rc1|
| GSDK Version | SiSDK-2024.6.0 |
|Supported RTOS|FreeRTOS|
|Operating Modes Supported|Wi-Fi STA, Wi-Fi AP, Wi-Fi STA+BLE, Wi-Fi STA+AP|
|Build Quality|GA|

- SiWx917 release consists of two components
  - Wireless Firmware - SiWx917 Firmware Binaries
  - Wiseconnect3 Library - Wiseconnect3 SDK library runs on the external host in NCP mode and internal Cortex M4 in SoC Mode.
- This release is meant only for use with designs based on SiWx917 Silicon
- The firmware to load is available in the following format:
  - SiWG917-B.2.12.1.x.0.x.rps - B0 Full-featured firmware binary
  - SiWG917-B.2.12.1.x.0.x.rps - B0 Optimized firmware binary

**Features Supported**

**Sensorhub service**

- Support for ADC, SPI, SDC and I2C based sensors
- Support for PS2 and sleep wakeups
- Support added for SDC

**MCU**

- ADC Single Channel, ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, GPIO, I2C, I2S, NVM3, OPAMP, PSRAM, PWM, QEI, RTC, SDIO Secondary, SPI Master and Slave, UART, Micro DMA, USART, Watchdog Timer, Temperature Sensors (RO and BJT), USART Master and Slave, CRC
- UC Supported Peripherals - GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers , Config Timers, ULP (Ultra Low Power) Timers, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, MEMLCD, Analog Comparator and Digital to Analog Converter.
- Services - Sleeptimer, IOSTREAM, NVM3, Power Manager, LittleFS, Pin Tool (support for USART, I2C, SSI, GSPI, SIO, SCT, PWM, I2S, ADC, DAC and Analog Comparator) and Clock Manager (Phase-1)
- ULP (Ultra Low Power) Peripherals - ulp\_gpio, ulp\_adc ulp\_i2c, ulp\_i2s, ulp\_ir\_decoder, ulp\_spi, ulp\_timer, ulp\_uart, ulp\_udma, ulp\ssi
- Extended flash write support for NWP flash region and added read api to read from NWP flash region
- SoC OPN based project support in SSv5
- List of OPN's supported si917-sb00, siwg917m111mgtba, siwg917m100mgtba, siwg917m111xgtba, siwg917m100xntba, siwg917m121xgtba, siwg917m110lgtba and siwg917m141xgtba
- SiWx917 2605A Dev Kit supported
- Added flash examples support for BRD4340A and BRD4342A

**Wi-Fi**

- WPA2/WPA3 Personal, WPS and WPA2-EAP Support for Station Mode
- TCP/IP stack with IPv4, IPv6, TCP, UDP, TLS, HTTP/HTTPS, DHCPv4, DHCPv6, MQTT Client, DNS Client, SNTP client.
- Support for SSL client versions TLSV1.0, TLSV1.2, TLSV1.3 and SSL server versions TLSV1.0 and TLSV1.2
- Wi-Fi STA (802.11n/802.11ax) + 802.11n AP Support
- HE (802.11ax) and Individual TWT Feature Support
- Multiple BSSID feature support as an STA
- Secure OTA support on B0 radio boards.
- Support for LWIP network stack
- Support for AWS MQTT library
- Support for Azure MQTT library
- Support for BSD and IoT sockets application programming interface(API)
- Support added to change the listen interval after association with Access Point
- New API sl_si91x_fwup_abort added to support aborting firmware upgrade

**Bluetooth Low Energy**

- BLE central & peripheral connections are supported.
- Ultra-low power save is supported.

**Power Save**

- Max PSP, enhanced MAX PSP, Fast PSP, and 802.11ax TWT power save modes are supported in WiFi.
- Only Max PSP power save mode is supported in BLE

**Crypto Support**

- AES, SHA, AES-CCM, HMAC, GCM, Chacha-poly, ECDH and TRNG FW Crypto API support added.
- PSA enabled Mbed TLS support added
- NVM support added for key storage
- Symmetric and asymmetric key storage
- TRNG, AES, SHA, HMAC, GCM, Chacha-poly, ECDH and AES-CCM hardware crypto engine is integrated with PSA crypto.

**Changes and Fixes**

**SDK**

- None

**MCU**

- Button based Wake-up support added in the Tick-less based power manager 
- Resolved power manager build errors in Matter release
- Changed minimum values for interrupt time and system reset time in UC
- Removed i2c leader and follower peripheral examples
- SQA bugs - SI91X-15727, SI91X-15767, SI91X-15671

**Wi-Fi & Network Stack**

- Upgrade gsdk to simplicity sdk
- Update MQTT module in according to the changes made to the TA (SI91X-15350, WIFISDK-1275)
- Add Hardware flow control support for NCP UART (RSCDEV-27929)
- Add async dhcp event (SI91X-15768)
- Add test agent support for BRD4339A (SI91X-14075)
- Added switch to M4 frequency setting & Async socket support in wlan_throughput_v6 app (SI91X-15404)
- Updated MDNS host name to end with dot(.) (RSCDEV-27727)
- http client post response from server is not sent to app (SI91X-15321)
- Modified wifi_station_ble_provisioning_aws to support Tickless sleep (SI91X-15203)
- Moved eap_flags to sl_net_wifi_client_profile_t (SI91X-15203)
- Added Null check for *data_length in sl_si91x_host_get_buffer_data (RSCDEV-27955)
- SQA BUGS - SI91X-15761, SI91X-15789

**BLE**

- Updated readme for bt_stack_bypass demo

**CoEx**

- None

**System**

- None

**Recommendations**

**System**

- The current revision of SiWx917 B0 has:
  - RAM memory of 672k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_672K\_M4SS\_0K- This mode configures TA with 672k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By default EXT\_FEAT\_352K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_480K\_M4SS\_192K - This mode configures TA with 480k and M4 with 192K bytes of memory
    - EXT\_FEAT\_416K\_M4SS\_256K - This mode configures TA with 416k and M4 with 256K bytes of memory
    - EXT\_FEAT\_352K\_M4SS\_320K - This mode configures TA with 352k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 672K\_M4SS\_0K.
  - SoC mode should not use 672k\_M4SS\_0k memory configuration.
- Set the recommended Power Save Profile (PSP) type to Enhanced Max PSP.

**IDE**

- Download the latest version of Simplicity Studio
- Refer to the latest version of the SoC/NCP "Getting-Started-with-SiWx917" guide for more details

**Wi-Fi & Network Stack****

- The recommended embedded MQTT Publish payload is 1 kBytes.
- It is recommended to enable bit 16 of the 'Extended TCP IP Feature' bit map in the opermode command for all Wi-Fi Socket operations from the host to ensure graceful handling during asynchronous closures from the peer.
- Aggregation (bit 2 of feature\_bit\_map) is recommended to be enabled in opermode. This enables software to aggregate multiple packets to achieve better throughput
- TCP retransmission count value is recommended to be 30 or higher so that the TCP does not disconnect while the rejoin happens.
- To restart the module, the application needs to call sl\_wifi\_deinit() followed by sl\_wifi\_init().
- Register 'Join Fail Callback' function every time when join is called, as in the rejoin failure path the callback is deregistered. If not done, this might result in a scan not functioning on rejoin failure.
- User can enable SL\_SI91X\_EXT\_TCP\_IP\_SSL\_16K\_RECORD in 'Extended TCP IP Feature'bit map in opermode, if HTTPS download is failing after receiving HTTP headers..
- iTWT setup is recommended after IP assignment/TCP connection/application specific socket connections.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, increase TCP / ARP Timeouts at the remote side depending upon the configured TWT interval configured.
- In case of TWT+coex, when using sl\_wifi\_enable\_target\_wakeup\_time API, use TWT wake duration <= 16 ms and TWT wake interval >= 1 sec. If wake duration > 16 ms or TWT wake interval < 1sec, there might be performance issues.
- For iTWT GTK Interval Should be kept max possible value or zero. If GTK interval is not configurable, recommended TWT interval (in case of sl\_wifi\_enable\_target\_wakeup\_time API) or RX Latency (in case of sl\_wifi\_target\_wake\_time\_auto\_selection API) is less than 4sec.
- Disable Power Save for High Throughput Applications.
- The application needs to ensure that it sets RTC with the correct timestamp when the feature is enabled before establishing the SSL connection.
- The timeout value should not be less than 1 second for socket select and socket receive calls. Timeout value of less than 1 second is not currently supported.
- When sl\_wifi\_enable\_target\_wakeup\_time API is used, configuring TWT Wake interval beyond 1 min might lead to disconnections from the AP. Recommended to use TWT wakeup interval of less than or equal to 1 min.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, it is recommended to set missed\_beacon\_count of sl\_wifi\_set\_advanced\_client\_configuration API greater than 2 times of the configured TWT Interval.
- Disable power save and suspend any active TWT sessions before triggering HTTP OTAF.
- It is recommended to enable bit 31 of the 'TCP IP Feature' bit map in the opermode command to support multicast protocol

**BLE**

- In BLE, the recommended range of Connection Interval in
  - Power Save (BLE Only) - 100 ms to 1.28 s.
- In BLE, during Connection, the configuration of Scan Interval and Scan Window with the same value is not recommended. The suggested ratio of Scan Window to Scan Interval is 3:4.
- In BLE, if a device is acting as Central, the scan window (in set\_scan\_params and create\_connection commands) must be less than the existing Connection Interval. The suggested ratio of Scan Window to Connection Interval is 2:3.
- In BLE mode, if scanning and advertising are in progress on the SiWx91x module and it subsequently gets connected and moves to the central role, scanning stops else if it moves to the peripheral role, advertising stops. To further establish a connection to another peripheral device or to a central device, the application should give a command for starting advertising and scanning again.

**Co-Existence**

- For concurrent Wi-Fi + BLE, and while a Wi-Fi connection is active, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
- Wi-Fi + BLE Advertising
  - All standard advertising intervals are supported. As Wi-Fi throughput is increased, a slight difference in on-air advertisements compared to configured intervals may be observed.
  - BLE advertising is skipped if the advertising interval collides with Wi-Fi activity.
- Wi-Fi + BLE scanning
  - All standard scan intervals are supported. For better scan results, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
  - BLE scanning will be stopped for intervals that collide with Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Connections
  - All standard connection intervals are supported.
  - For a stable connection, use optimal connection intervals and max supervision timeout in the presence of Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Data Transfer
  - To achieve higher throughput for both Wi-Fi and BLE, use medium connection intervals, such as 45 to 80 ms with maximum supervision timeout.
  - Ensure Wi-Fi activity consumes lower intervals.

**Known Issues**

**Sensorhub**

- Support for ADC FIFO Mode and Multi channel is open
- PS1-state supports only ADC sensor
- Power transitions with AWS are not stable in Sensorhub

**Network Stack**

- Sometimes during SSL Handshake, ECC curve parameters generated are wrong, resulting in connection failure with BBD2 error. However, this recovers in the next attempt.
- Randomize the client port if using rapid connect/disconnect of the MQTT session on the same client port with the power save.
- Secure SSL renegotiation not supported in Embedded Networking Stack.
- Disable power save before making TCP connection for NCP-UART interface.

**Wi-Fi**

- TWT device (STA) may not go to sleep in between TWT intervals in case of burst data traffics with data size more than the configured 'average tx throughput', until completion of data transfer.
- There are performance and IOP issues with MU MIMO.
- WPA3 Connection with the Hunting and Pecking algorithm takes about 3-4 seconds.
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.
- Low Wi-Fi+BLE throughput
- TCP/UDP TX/RX Data stall observed in CoEx scenarios
- Observed HTTPS Continuous download fails with TA Power save
- Performance improvements are in progress for lower performance metrics.
- Observed interop issue (connectivity failure) with few AP's when device reset/reboot happens on active connection.
- In concurrent mode, AP restart fails after stopping it with ap\_stop command.
- DUT deep sleep will not work after stopping AP with ap\_stop command.
- Unable to get SNTP async events when coex mode and Power save is enabled
- Fine Tuning 802.11ax Spectral mask in Progress
- Fine Tuning 11b mask in Ch11 in progress
- DUT is unable to connect to the AP with WPA3 security when we enable coex mode (WLAN+BLE) in opermode
- Socket listen API is failing from the second iteration
- Disconnections observed with Netgear RAX120 AP in WPA3 security
- Observed connection failures with some AP's in more channel congestion open lab environment
- Firmware Upgrade example is not working in PSRAM boards
- deep sleep example is not supported with power manager

**BLE**

- HID profile data transfer is not working, when power save is enabled in SoC.
- BLE reconnection is not working in ble_multiconnection_gatt demo, when power save is enabled in SoC
- BLE throughputs are less with STM32 compared to EFR

**Co-Existence**

- Observed HTTP continuous download is not happening in Powersave mode after BLE connection established using wifi\_https\_ble\_dual\_role application
- Observed DUT hang while Wi-Fi UDP/TCP Tx and BLE continuous scan.

**System**

- BRD8045A and BRD8045C does not have CTS and RTS pins routed from SiWx917 NCP, which are used for UART flow control

**MCU**

- Refer to the respective Radio board user guides for specific pinout details. Examples are targeted to a specific version mentioned in the respective readme.
- Few peripherals like WDT when configured with RO clock is not working as expected. No impact on the feature but the clocks are not accurate.
- Few(BOD and Comparator) wakeup resources are not working as expected in Power manager service.
- Observed expected RO and BJT Temperature values only on calibrated FW18 boards.
- Force generate is required in order to generate pin_config.h from the Pin tool because Simplicity Studio's generate option isn't functioning in current version.
- Character Timeout feature for all communication protocols is not supported
- ADC Multichannel support is not working at different Sample rates HP 100K, ULP 10K/500 samples
- It's important to select Non-psram examples manually for OPNs because unsupported examples are also included in the "Example Projects & Demos" section.
- By default SYSrtc and wake on wireless enabled please do not reinstall these two wakeup sources 
- Minimum idle-time to Sleep 100ms as configured in FreeRtos_config.h
- PowerManager does not support MCU without retention
- Default Power Manager example will not work
- Calendar based wake-up was not working in the Tick-less based power manager 
- ULP_DMA, ULP_UART and ULP_I2C ULP Perpheral examples are not working as expected which were integrated with power manager

**Limitations and Unsupported Features**

**SDK**

- WiSeConnect3_SDK_3.1.3 and later versions are not compatible with firmware versions prior to 1711.2.10.1.2.0.4, due to enhancements in max transmit power configuration during Wi-Fi join/connection, need to be cautious while doing OTA firmware upgrade.

**Wi-Fi/Network Stack**

- TLS 1.3 Server is not supported
- In AP mode, IPv6 Router Advertisements are not supported. Although STA connected to the APUT can transfer IPv6 data to the peers by using SLAAC for address configuration.
- When sl\_wifi\_enable\_target\_wake\_time() API is used, observed occasional MQTT disconnections with longer TWT intervals (>30secs) with embedded MQTT + TWT.
- AMSDU TX is not supported.
- Fragmentation is not supported.
- AMSDUs within AMPDU is not supported.
- Currently, the module does not support Radio Measurement Requests feature of CCX V2
- 802.11k is not supported
- 40 MHz bandwidth for 2.4 GHz band is not supported.
- 802.11J channel 14 is not supported.
- MQTT versions 3 and 4 are supported.
- Maximum of 3 SSL connections are supported.
- In SSL ECC Curve ID supported is 23. SSL handshake with 3rd party clients depends on the SSL ECC Curve ID.
- LP mode is not supported.
- In iTWT mode, downlink data traffic should be limited. Disconnections may be observed if AP fails to send all the buffered data in the next TWT Service Period.
- Number of MBSSIDs processed is limited by the beacon length that can be processed by the stack (which is limited to 1024 bytes). Beacons greater than 1024 Bytes in length will not be processed.
- CoEx + EAP Security in 352K/320k is not feasible. This issue is observed due to a lack of memory in the 352k/320k Memory Configuration. It is supported with other EXT\_FEAT\_416K\_M4SS\_256K and EXT\_FEAT\_480K\_M4SS\_192K memory configurations.
- UL MUMIMO is not supported.
- The embedded HTTP server is not supported.
- Baremetal is not supported.
- Compared to SoC mode, NCP mode has fewer examples, but more will be enabled in upcoming releases.
- Maximum Supported length for Embedded MQTT username up to 120 bytes , topic length up to 200 bytes and password upto 62 bytes.
- UART 2 Debug prints are supported only on ULP_GPIO_9.
- WOW LAN feature is not supported.
- SA Query procedure is not supported in AP mode.
- Maximum Supported length for HTTP GET URL is up to 2048 bytes.
- Azure SDK with embedded MQTT is not supported.
- Power save is not supported in Azure MQTT.
- MDNS service discovery is currently not supported.
- sli_si91x_accept_async is not thread-safe
- Observed some background compatibility issues with coex and http in few corner cases
- AP mode does not support Tx and Rx aggregation in Concurrent mode.
- Concurrent STA mode, Rx aggregation is not supported. Tx aggregation is supported but it is not recommended.
- AP standalone mode does not support Tx aggregation. Rx aggregation is supported with limited number of BA sessions.

**BLE**

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.
- BLE TX/RX throughput is less when tested with EFM as compared to EFR
- Maximum supported AE data length is 200 bytes.
- Supports only two ADV\_EXT sets.
- Supports only two BLE connections (1 Central and 1 Peripheral) with AE.
- Advertising Extension feature is not supported in Coexistence.
- The  ae\_central & ae\_peripheral applications are not supported with TA\_352K\_M4\_320K RAM configuration.
- Setting PLL mode as 1 is not supported in Coexistence

**MCU**

- Manual chip select option is not supported when using GSPI.
- SSI Dual and Quad mode is not working as expected.
- SPI sensor will not work in the Sensor HUB application.
- For ADC Multichannel sampling rate is limited to less than 15Ksps, number of samples is less than 500 and with a maximum of 4 channel
- TA Connected sleep and M4 PS2 sleep aren't compatible with our SI917 design
- M4 PS2 active and sleep is not supported when SL_SI91X_EXT_FEAT_FRONT_END_SWITCH_PINS_ULP_GPIO_4_5_0 is enabled in SoC mode
- GSPI communication with non-DMA has low performance with respect to time
- LittleFS example supports only with Dual flash

**Simplicity Studio and Commander**

- Default GDB debug configuration is not supported for SoC projects, work around details provided in "Getting-Started-with-SiWx917"
- Observing flash download failures(ERROR 108) for a few image sizes
- While creating project through Simplicity Studio, "copy contents" option not supported.
- Simplicity commander does not support options under "Debug Lock tools".
- All projects in the package are compatible with GCC 10.3.1 version.

**Terminology**

|**Term**|**Description**|
| :- | :- |
|**New Features**|These items are new to this release|
|**Changes/Issues Fixed**|Changes made to existing features found in previous software releases.|
||Enhancements to existing product flow and feature set.|
||Bug fixes done in the release|
|**Deprecated Items**|Features or functions or APIs that are removed from the distributed release to align with the software roadmap|
|**Known Issues**|Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases|
|**Limitations/Recommendations**|Describes the limitations on product usage and recommendations for optimal use cases|

**Note**

- Change SPI frequency to 12.5Mhz while measuring BLE throughput with EFR32

<br>


**WiSeConnect3\_SDK\_3.3.0-fc Release Notes**

This SDK package supports SoC Mode and NCP Mode for B0:

- In SoC Mode: Customer applications can run on Cortex M4. Wireless, network, and security stacks run on the wireless subsystem.
- In NCP mode: Wireless, network, and security stacks run on the Wireless subsystem. Customer applications run on the external host MCU.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

**Note**: Use Simplicity Studio version SV5.8.0.1 onwards

**SoC Highlights**

- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support ultra low power Wi-Fi standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode
- **MCU examples** : GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers, Config Timers, ULP (Ultra Low Power) Timers, Sleeptimer, IOSTREAM, NVM3, MEMLCD, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, Sensorhub, Joystick, Relative Humidity and Temperature sensor (RHT), Analog Comparator, Digital to Analog Converter and Temperature sensors (RO and BJT), CRC, LittleFS, Power Manager with RTOS
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE whitelisting, and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack, All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS client
- **IDE** : Simplicity Studio with Windows 10(64-bit), Linux, Mac OS
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** :
  - Si-MB4002A Main board
  - SiWx917 Radio boards

|**RadioBoard Type**|**SiWx917B0 with Board Version**|
| :- | :- |
|Common flash|Si917-BRD4338A(2.0)|
|Dual flash|Si917-BRD4339B(2.0)|
|External PSRAM|Si917-BRD4340A(2.0), Si917-BRD4342A(2.0)|
|Internal PSRAM|Si917-BRD4339A(2.0)|
|Dev Kit|Si917-2605A|

**NCP Highlights**

- **Host Interface** : SPI, UART
- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode.
- **Wi-Fi** : 2.4GHz Wi-Fi Support, WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE Whitelisting and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack , BLE Stack , All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS Client.
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **Hardware kits to evaluate NCP Mode**
  - NCP EFR Expansion Kit with NCP Radio board (BRD4338A(NCP MBR) + BRD8045A)
  - Wireless Pro kit Mainboard BRD4002A Rev A06
  - EFR32xG24 Wireless 2.4 GHz +10 dBm Radio Board xG24-RB4186C

**Release Details**

|**Item**|**Details**|
| :- | :- |
|Release date|May 10th, 2024|
|SDK Version|3.3.0-fc|
|Firmware Version|1711\.2.12.1.0.0.3|
|Package Name|WiSeConnect3\_SDK\_3.3.0-fc|
| GSDK Version | 4.4.3 RC2 |
|Supported RTOS|FreeRTOS|
|Operating Modes Supported|Wi-Fi STA, Wi-Fi AP, Wi-Fi STA+BLE, Wi-Fi STA+AP|
|Build Quality|GA|

- SiWx917 release consists of two components
  - Wireless Firmware - SiWx917 Firmware Binaries
  - Wiseconnect3 Library - Wiseconnect3 SDK library runs on the external host in NCP mode and internal Cortex M4 in SoC Mode.
- This release is meant only for use with designs based on SiWx917 Silicon
- The firmware to load is available in the following format:
  - SiWG917-B.2.11.1.x.0.x.rps - B0 Full-featured firmware binary

**Features Supported**

**Sensorhub service**

- Support for ADC, SPI, SDC and I2C based sensors
- Support for PS2 and sleep wakeups
- Support added for SDC

**MCU**

- ADC Single Channel, ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, GPIO, I2C, I2S, NVM3, OPAMP, PSRAM, PWM, QEI, RTC, SDIO Secondary, SPI Master and Slave, UART, Micro DMA, USART, Watchdog Timer, Temperature Sensors (RO and BJT), USART Master and Slave, CRC
- UC Supported Peripherals - GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers , Config Timers, ULP (Ultra Low Power) Timers, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, MEMLCD, Analog Comparator and Digital to Analog Converter.
- Services - Sleeptimer, IOSTREAM, NVM3, Power Manager, LittleFS, Pin Tool (support for USART, I2C, SSI, GSPI, SIO, SCT, PWM, I2S, ADC, DAC and Analog Comparator) and Clock Manager (Phase-1)
- ULP (Ultra Low Power) Peripherals - ulp\_gpio, ulp\_adc ulp\_i2c, ulp\_i2s, ulp\_ir\_decoder, ulp\_spi, ulp\_timer, ulp\_uart, ulp\_udma, ulp\ssi
- Extended flash write support for NWP flash region and added read api to read from NWP flash region
- SoC OPN based project support in SSv5
- List of OPN's supported si917-sb00, siwg917m111mgtba, siwg917m100mgtba, siwg917m111xgtba, siwg917m100xntba, siwg917m121xgtba, siwg917m110lgtba and siwg917m141xgtba
- SiWx917 2605A Dev Kit supported
- Added flash examples support for BRD4340A and BRD4342A

**Wi-Fi**

- WPA2/WPA3 Personal, WPS and WPA2-EAP Support for Station Mode
- TCP/IP stack with IPv4, IPv6, TCP, UDP, TLS, HTTP/HTTPS, DHCPv4, DHCPv6, MQTT Client, DNS Client, SNTP client.
- Support for SSL client versions TLSV1.0, TLSV1.2, TLSV1.3 and SSL server versions TLSV1.0 and TLSV1.2
- Wi-Fi STA (802.11n/802.11ax) + 802.11n AP Support
- HE (802.11ax) and Individual TWT Feature Support
- Multiple BSSID feature support as an STA
- Secure OTA support on B0 radio boards.
- Support for LWIP network stack
- Support for AWS MQTT library
- Support for Azure MQTT library
- Support for BSD and IoT sockets application programming interface(API)
- Support added to change the listen interval after association with Access Point
- New API sl_si91x_fwup_abort added to support aborting firmware upgrade

**Bluetooth Low Energy**

- BLE central & peripheral connections are supported.
- Ultra-low power save is supported.

**Power Save**

- Max PSP, enhanced MAX PSP, Fast PSP, and 802.11ax TWT power save modes are supported in WiFi.
- Only Max PSP power save mode is supported in BLE

**Crypto Support**

- AES, SHA, AES-CCM, HMAC, GCM, Chacha-poly, ECDH and TRNG FW Crypto API support added.
- PSA enabled Mbed TLS support added
- NVM support added for key storage
- Symmetric and asymmetric key storage
- TRNG, AES, SHA, HMAC, GCM, Chacha-poly, ECDH and AES-CCM hardware crypto engine is integrated with PSA crypto.

**Changes and Fixes**

**SDK**

- None

**MCU**

- New peripheral support - CRC
- New service support - LittleFS(Dual flash), Clock Manager Phase-1 (API Support for basic Clock configuration)
- Provided Power Manager with Tickless Idle mode support
- For ease of use, following peripheral examples have been split:
  - UART - UART, USART and ULP UART
  - ADC - Static Mode and FIFO Mode
  - GPIO - Simple IO, Interrupt-based and Detailed IO
- Additional APIs added to GPIO Driver
- Macro ROM_DRIVER_PRESENT is replaced with peripheral-specific macros
- Documentation updates based on the feedback
- Resolved GSPI Master to SSI slave data transfer issue - SI91X-15586
- Change led and button macro names instances as below SI91X - 15676
  - button_instance to simple_button_instance
  - button to simple_button
  - led to simple led
  - led_instance to simple_led_instance
- SQA bug fixes - SI91X-15432, SI91X-15532, SI91X-15163, SI91X-15186, SI91X-15161, SI91X-15005, SI91X-15036, SI91X-14957, SI91X-15641, SI91X-15144, SI91X-14701,SI91X-13971, SI91X-15347, SI91X-15533,SI91X-15538, SI91X-15707, SI91X-15586, SI91X-15311, SI91X-15057, SI91X-15676

**Wi-Fi & Network Stack**

- Universal Configurator for EFR32xG Products in NCP Modes NCP-SPI(WIFISDK-1115) and NCP-UART(RSCDEV-27222)
- Low power examples clean up and show datasheet number (SI91X-15364)
- Added support for Power Manager Tickless count in WLAN powersave examples (RSCDEV-27689)
- Added test agent support for BRD4342A(SI91X-14074)
- Fixed hard fault issue in STM32 (SI91X-15685)
- Added new API sl_wifi_get_wlan_info (RSCDEV-26987)
- Sonarqube Duplication issues fix (RSCDEV-27246)
- Fix memory leak issue when used pkcs7_padding (SI91X-15736)
- Updated Readme for HTTP Client application (SI91X-15686)
- tick_count_s variable is removed from all the examples (RSCDEV-26876)
- SQA BUGS - SI91X-14434

**BLE**

- Added Power Manager Tickless changes in BLE applications
- Updated readme files and images for few BLE application.

**CoEx**

- None

**System**

- None

**Recommendations**

**System**

- The current revision of SiWx917 B0 has:
  - RAM memory of 672k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_672K\_M4SS\_0K- This mode configures TA with 672k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By default EXT\_FEAT\_352K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_480K\_M4SS\_192K - This mode configures TA with 480k and M4 with 192K bytes of memory
    - EXT\_FEAT\_416K\_M4SS\_256K - This mode configures TA with 416k and M4 with 256K bytes of memory
    - EXT\_FEAT\_352K\_M4SS\_320K - This mode configures TA with 352k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 672K\_M4SS\_0K.
  - SoC mode should not use 672k\_M4SS\_0k memory configuration.
- Set the recommended Power Save Profile (PSP) type to Enhanced Max PSP.

**IDE**

- Download the latest version of Simplicity Studio
- Refer to the latest version of the SoC/NCP "Getting-Started-with-SiWx917" guide for more details

**Wi-Fi & Network Stack****

- The recommended embedded MQTT Publish payload is 1 kBytes.
- It is recommended to enable bit 16 of the 'Extended TCP IP Feature' bit map in the opermode command for all Wi-Fi Socket operations from the host to ensure graceful handling during asynchronous closures from the peer.
- Aggregation (bit 2 of feature\_bit\_map) is recommended to be enabled in opermode. This enables software to aggregate multiple packets to achieve better throughput
- TCP retransmission count value is recommended to be 30 or higher so that the TCP does not disconnect while the rejoin happens.
- To restart the module, the application needs to call sl\_wifi\_deinit() followed by sl\_wifi\_init().
- Register 'Join Fail Callback' function every time when join is called, as in the rejoin failure path the callback is deregistered. If not done, this might result in a scan not functioning on rejoin failure.
- User can enable SL\_SI91X\_EXT\_TCP\_IP\_SSL\_16K\_RECORD in 'Extended TCP IP Feature'bit map in opermode, if HTTPS download is failing after receiving HTTP headers..
- iTWT setup is recommended after IP assignment/TCP connection/application specific socket connections.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, increase TCP / ARP Timeouts at the remote side depending upon the configured TWT interval configured.
- In case of TWT+coex, when using sl\_wifi\_enable\_target\_wakeup\_time API, use TWT wake duration <= 16 ms and TWT wake interval >= 1 sec. If wake duration > 16 ms or TWT wake interval < 1sec, there might be performance issues.
- For iTWT GTK Interval Should be kept max possible value or zero. If GTK interval is not configurable, recommended TWT interval (in case of sl\_wifi\_enable\_target\_wakeup\_time API) or RX Latency (in case of sl\_wifi\_target\_wake\_time\_auto\_selection API) is less than 4sec.
- Disable Power Save for High Throughput Applications.
- The application needs to ensure that it sets RTC with the correct timestamp when the feature is enabled before establishing the SSL connection.
- The timeout value should not be less than 1 second for socket select and socket receive calls. Timeout value of less than 1 second is not currently supported.
- When sl\_wifi\_enable\_target\_wakeup\_time API is used, configuring TWT Wake interval beyond 1 min might lead to disconnections from the AP. Recommended to use TWT wakeup interval of less than or equal to 1 min.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, it is recommended to set missed\_beacon\_count of sl\_wifi\_set\_advanced\_client\_configuration API greater than 2 times of the configured TWT Interval.
- Disable power save and suspend any active TWT sessions before triggering HTTP OTAF.
- It is recommended to enable bit 31 of the 'TCP IP Feature' bit map in the opermode command to support multicast protocol

**BLE**

- In BLE, the recommended range of Connection Interval in
  - Power Save (BLE Only) - 100 ms to 1.28 s.
- In BLE, during Connection, the configuration of Scan Interval and Scan Window with the same value is not recommended. The suggested ratio of Scan Window to Scan Interval is 3:4.
- In BLE, if a device is acting as Central, the scan window (in set\_scan\_params and create\_connection commands) must be less than the existing Connection Interval. The suggested ratio of Scan Window to Connection Interval is 2:3.
- In BLE mode, if scanning and advertising are in progress on the SiWx91x module and it subsequently gets connected and moves to the central role, scanning stops else if it moves to the peripheral role, advertising stops. To further establish a connection to another peripheral device or to a central device, the application should give a command for starting advertising and scanning again.

**Co-Existence**

- For concurrent Wi-Fi + BLE, and while a Wi-Fi connection is active, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
- Wi-Fi + BLE Advertising
  - All standard advertising intervals are supported. As Wi-Fi throughput is increased, a slight difference in on-air advertisements compared to configured intervals may be observed.
  - BLE advertising is skipped if the advertising interval collides with Wi-Fi activity.
- Wi-Fi + BLE scanning
  - All standard scan intervals are supported. For better scan results, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
  - BLE scanning will be stopped for intervals that collide with Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Connections
  - All standard connection intervals are supported.
  - For a stable connection, use optimal connection intervals and max supervision timeout in the presence of Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Data Transfer
  - To achieve higher throughput for both Wi-Fi and BLE, use medium connection intervals, such as 45 to 80 ms with maximum supervision timeout.
  - Ensure Wi-Fi activity consumes lower intervals.

**Known Issues**

**Sensorhub**

- Support for ADC FIFO Mode and Multi channel is open
- PS1-state supports only ADC sensor
- Power transitions with AWS are not stable in Sensorhub

**Network Stack**

- Sometimes during SSL Handshake, ECC curve parameters generated are wrong, resulting in connection failure with BBD2 error. However, this recovers in the next attempt.
- Randomize the client port if using rapid connect/disconnect of the MQTT session on the same client port with the power save.
- Secure SSL renegotiation not supported in Embedded Networking Stack.
- Disable power save before making TCP connection for NCP-UART interface.

**Wi-Fi**

- TWT device (STA) may not go to sleep in between TWT intervals in case of burst data traffics with data size more than the configured 'average tx throughput', until completion of data transfer.
- There are performance and IOP issues with MU MIMO.
- WPA3 Connection with the Hunting and Pecking algorithm takes about 3-4 seconds.
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.
- Low Wi-Fi+BLE throughput
- TCP/UDP TX/RX Data stall observed in CoEx scenarios
- Observed HTTPS Continuous download fails with TA Power save
- Performance improvements are in progress for lower performance metrics.
- Observed interop issue (connectivity failure) with few AP's when device reset/reboot happens on active connection.
- In concurrent mode, AP restart fails after stopping it with ap\_stop command.
- DUT deep sleep will not work after stopping AP with ap\_stop command.
- Unable to get SNTP async events when coex mode and Power save is enabled
- Fine Tuning 802.11ax Spectral mask in Progress
- Fine Tuning 11b mask in Ch11 in progress
- DUT is unable to connect to the AP with WPA3 security when we enable coex mode (WLAN+BLE) in opermode
- Socket listen API is failing from the second iteration
- Disconnections observed with Netgear RAX120 AP in WPA3 security
- Observed connection failures with some AP's in more channel congestion open lab environment
- Firmware Upgrade example is not working in PSRAM boards
- deep sleep example is not supported with power manager

**BLE**

- HID profile data transfer is not working, when power save is enabled in SoC.
- BLE reconnection is not working in ble_multiconnection_gatt demo, when power save is enabled in SoC
- BLE throughputs are less with STM32 compared to EFR

**Co-Existence**

- Observed HTTP continuous download is not happening in Powersave mode after BLE connection established using wifi\_https\_ble\_dual\_role application
- Observed DUT hang while Wi-Fi UDP/TCP Tx and BLE continuous scan.

**System**

- BRD8045A and BRD8045C does not have CTS and RTS pins routed from SiWx917 NCP, which are used for UART flow control

**MCU**

- Refer to the respective Radio board user guides for specific pinout details. Examples are targeted to a specific version mentioned in the respective readme.
- Few peripherals like WDT when configured with RO clock is not working as expected. No impact on the feature but the clocks are not accurate.
- Few(BOD and Comparator) wakeup resources are not working as expected in Power manager service.
- Observed expected RO and BJT Temperature values only on calibrated FW18 boards.
- Force generate is required in order to generate pin_config.h from the Pin tool because Simplicity Studio's generate option isn't functioning in current version.
- Character Timeout feature for all communication protocols is not supported
- ADC Multichannel support is not working at different Sample rates HP 100K, ULP 10K/500 samples
- It's important to select Non-psram examples manually for OPNs because unsupported examples are also included in the "Example Projects & Demos" section.
- By default SYSrtc and wake on wireless enabled please do not reinstall these two wakeup sources 
- Minimum idle-time to Sleep 100ms as configured in FreeRtos_config.h
- PowerManager does not support MCU without retention
- ULP_DMA, ULP_UART and ULP_I2C ULP Perpheral examples are not working as expected which were integrated with power manager

**Limitations and Unsupported Features**

**SDK**

- WiSeConnect3_SDK_3.1.3 and later versions are not compatible with firmware versions prior to 1711.2.10.1.2.0.4, due to enhancements in max transmit power configuration during Wi-Fi join/connection, need to be cautious while doing OTA firmware upgrade.

**Wi-Fi/Network Stack**

- TLS 1.3 Server is not supported
- In AP mode, IPv6 Router Advertisements are not supported. Although STA connected to the APUT can transfer IPv6 data to the peers by using SLAAC for address configuration.
- When sl\_wifi\_enable\_target\_wake\_time() API is used, observed occasional MQTT disconnections with longer TWT intervals (>30secs) with embedded MQTT + TWT.
- AMSDU TX is not supported.
- Fragmentation is not supported.
- AMSDUs within AMPDU is not supported.
- Currently, the module does not support Radio Measurement Requests feature of CCX V2
- 802.11k is not supported
- 40 MHz bandwidth for 2.4 GHz band is not supported.
- 802.11J channel 14 is not supported.
- MQTT versions 3 and 4 are supported.
- Maximum of 3 SSL connections are supported.
- In SSL ECC Curve ID supported is 23. SSL handshake with 3rd party clients depends on the SSL ECC Curve ID.
- LP mode is not supported.
- In iTWT mode, downlink data traffic should be limited. Disconnections may be observed if AP fails to send all the buffered data in the next TWT Service Period.
- Number of MBSSIDs processed is limited by the beacon length that can be processed by the stack (which is limited to 1024 bytes). Beacons greater than 1024 Bytes in length will not be processed.
- CoEx + EAP Security in 352K/320k is not feasible. This issue is observed due to a lack of memory in the 352k/320k Memory Configuration. It is supported with other EXT\_FEAT\_416K\_M4SS\_256K and EXT\_FEAT\_480K\_M4SS\_192K memory configurations.
- UL MUMIMO is not supported.
- The embedded HTTP server is not supported.
- Baremetal is not supported.
- Compared to SoC mode, NCP mode has fewer examples, but more will be enabled in upcoming releases.
- Maximum Supported length for Embedded MQTT username up to 120 bytes , topic length up to 200 bytes and password upto 62 bytes.
- UART 2 Debug prints are supported only on ULP_GPIO_9.
- WOW LAN feature is not supported.
- SA Query procedure is not supported in AP mode.
- Maximum Supported length for HTTP GET URL is up to 2048 bytes.
- Azure SDK with embedded MQTT is not supported.
- Power save is not supported in Azure MQTT.
- MDNS service discovery is currently not supported.
- sli_si91x_accept_async is not thread-safe
- Observed some background compatibility issues with coex and http in few corner cases
- AP mode does not support Tx and Rx aggregation in Concurrent mode.
- Concurrent STA mode, Rx aggregation is not supported. Tx aggregation is supported but it is not recommended.
- AP standalone mode does not support Tx aggregation. Rx aggregation is supported with limited number of BA sessions.

**BLE**

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.
- BLE TX/RX throughput is less when tested with EFM as compared to EFR
- Maximum supported AE data length is 200 bytes.
- Supports only two ADV\_EXT sets.
- Supports only two BLE connections (1 Central and 1 Peripheral) with AE.
- Advertising Extension feature is not supported in Coexistence.
- The  ae\_central & ae\_peripheral applications are not supported with TA\_352K\_M4\_320K RAM configuration.
- Setting PLL mode as 1 is not supported in Coexistence

**MCU**

- Manual chip select option is not supported when using GSPI.
- SSI Dual and Quad mode is not working as expected.
- SPI sensor will not work in the Sensor HUB application.
- For ADC Multichannel sampling rate is limited to less than 15Ksps, number of samples is less than 500 and with a maximum of 4 channel
- TA Connected sleep and M4 PS2 sleep aren't compatible with our SI917 design
- M4 PS2 active and sleep is not supported when SL_SI91X_EXT_FEAT_FRONT_END_SWITCH_PINS_ULP_GPIO_4_5_0 is enabled in SoC mode
- GSPI communication with non-DMA has low performance with respect to time
- LittleFS example supports only with Dual flash

**Simplicity Studio and Commander**

- Default GDB debug configuration is not supported for SoC projects, work around details provided in "Getting-Started-with-SiWx917"
- Observing flash download failures(ERROR 108) for a few image sizes
- While creating project through Simplicity Studio, "copy contents" option not supported.
- Simplicity commander does not support options under "Debug Lock tools".
- All projects in the package are compatible with GCC 10.3.1 version.

**Terminology**

|**Term**|**Description**|
| :- | :- |
|**New Features**|These items are new to this release|
|**Changes/Issues Fixed**|Changes made to existing features found in previous software releases.|
||Enhancements to existing product flow and feature set.|
||Bug fixes done in the release|
|**Deprecated Items**|Features or functions or APIs that are removed from the distributed release to align with the software roadmap|
|**Known Issues**|Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases|
|**Limitations/Recommendations**|Describes the limitations on product usage and recommendations for optimal use cases|

**Note**

- Change SPI frequency to 12.5Mhz while measuring BLE throughput with EFR32

<br>

**WiSeConnect3\_SDK\_3.3.0-ifc2 Release Notes**

This SDK package supports SoC Mode and NCP Mode for B0:

- In SoC Mode: Customer applications can run on Cortex M4. Wireless, network, and security stacks run on the wireless subsystem.
- In NCP mode: Wireless, network, and security stacks run on the Wireless subsystem. Customer applications run on the external host MCU.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

**Note**: Use Simplicity Studio version SV5.8.0.1 onwards

**SoC Highlights**

- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support ultra low power Wi-Fi standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode
- **MCU examples** : GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers, Config Timers, ULP (Ultra Low Power) Timers, Sleeptimer, IOSTREAM, NVM3, MEMLCD, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, Sensorhub, Joystick and Relative Humidity and Temparature sensor(RHT), Analog Comparator, Digital to Analog Converter and Temperature sensor(RO and BJT)
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE whitelisting, and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack, All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS client
- **IDE** : Simplicity Studio with Windows 10(64-bit), Linux, Mac OS
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** :
  - Si-MB4002A Main board
  - SiWx917 Radio boards

|**RadioBoard Type**|**SiWx917B0 with Board Version**|
| :- | :- |
|Common flash|Si917-BRD4338A(2.0)|
|Dual flash|Si917-BRD4339B(2.0)|
|External PSRAM|Si917-BRD4340A(2.0), Si917-BRD4342A(2.0)|
|Internal PSRAM|Si917-BRD4339A(2.0)|
|Dev Kit|Si917-2605A|

**NCP Highlights**

- **Host Interface** : SPI, UART
- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode.
- **Wi-Fi** : 2.4GHz Wi-Fi Support, WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE Whitelisting and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack , BLE Stack , All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS Client.
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **Hardware kits to evaluate NCP Mode**
  - NCP EFR Expansion Kit with NCP Radio board (BRD4338A(NCP MBR) + BRD8045A)
  - Wireless Pro kit Mainboard BRD4002A Rev A06
  - EFR32xG24 Wireless 2.4 GHz +10 dBm Radio Board xG24-RB4186C

**Release Details**

|**Item**|**Details**|
| :- | :- |
|Release date|May 3rd, 2024|
|SDK Version|3.3.0-ifc2|
|Firmware Version|1711\.2.12.1.0.0.2|
|Package Name|WiSeConnect3\_SDK\_3.3.0-ifc2|
| GSDK Version | 4.4.3 RC2 |
|Supported RTOS|FreeRTOS|
|Operating Modes Supported|Wi-Fi STA, Wi-Fi AP, Wi-Fi STA+BLE, Wi-Fi STA+AP|
|Build Quality|GA|

- SiWx917 release consists of two components
  - Wireless Firmware - SiWx917 Firmware Binaries
  - Wiseconnect3 Library - Wiseconnect3 SDK library runs on the external host in NCP mode and internal Cortex M4 in SoC Mode.
- This release is meant only for use with designs based on SiWx917 Silicon
- The firmware to load is available in the following format:
  - SiWG917-B.2.11.1.x.0.x.rps - B0 Full-featured firmware binary

**Features Supported**

**Sensorhub service**

- Support for ADC, SPI, SDC and I2C based sensors
- Support for PS2 and sleep wakeups
- Support added for SDC

**MCU**

- ADC Single Channel, ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, GPIO, I2C, I2S, NVM3, OPAMP, PSRAM, PWM, QEI, RTC, SDIO Secondary, SPI Master and Slave, UART, Micro DMA, USART, Watchdog Timer, Temperature Sensor(RO and BJT), USART Master and Slave
- UC Supported Peripherals - GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers , Config Timers, ULP (Ultra Low Power) Timers, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, MEMLCD, Analog Comparator and Digital to Analog Converter.
- Services - Sleeptimer, IOSTREAM, NVM3, Power Manager and Pin Tool (support for USART, I2C, SSI, GSPI, SIO, SCT, PWM and I2S).
- ULP (Ultra Low Power) Peripherals - ulp\_gpio, ulp\_adc ulp\_i2c, ulp\_i2s, ulp\_ir\_decoder, ulp\_spi, ulp\_timer, ulp\_uart, ulp\_udma, ulp\ssi
- Extended flash write support for NWP flash region and added read api to read from NWP flash region
- SoC OPN based project support in SSv5
- List of OPN's supported si917-sb00, siwg917m111mgtba, siwg917m100mgtba, siwg917m111xgtba, siwg917m100xntba, siwg917m121xgtba, siwg917m110lgtba and siwg917m141xgtba
- SiWx917 2605A Dev Kit supported

**Wi-Fi**

- WPA2/WPA3 Personal, WPS and WPA2-EAP Support for Station Mode
- TCP/IP stack with IPv4, IPv6, TCP, UDP, TLS, HTTP/HTTPS, DHCPv4, DHCPv6, MQTT Client, DNS Client, SNTP client.
- Support for SSL client versions TLSV1.0, TLSV1.2, TLSV1.3 and SSL server versions TLSV1.0 and TLSV1.2
- Wi-Fi STA (802.11n/802.11ax) + 802.11n AP Support
- HE (802.11ax) and Individual TWT Feature Support
- Multiple BSSID feature support as an STA
- Secure OTA support on B0 radio boards.
- Support for LWIP network stack
- Support for AWS MQTT library
- Support for Azure MQTT library
- Support for BSD and IoT sockets application programming interface(API)
- Support added to change the listen interval after association with Access Point
- New API sl_si91x_fwup_abort added to support aborting firmware upgrade

**Bluetooth Low Energy**

- BLE central & peripheral connections are supported.
- Ultra-low power save is supported.

**Power Save**

- Max PSP, enhanced MAX PSP, Fast PSP, and 802.11ax TWT power save modes are supported in WiFi.
- Only Max PSP power save mode is supported in BLE

**Crypto Support**

- AES, SHA, AES-CCM, HMAC, GCM, Chacha-poly, ECDH and TRNG FW Crypto API support added.
- PSA enabled Mbed TLS support added
- NVM support added for key storage
- Symmetric and asymmetric key storage
- TRNG, AES, SHA, HMAC, GCM, Chacha-poly, ECDH and AES-CCM hardware crypto engine is integrated with PSA crypto.

**Changes and Fixes**

**SDK**

- None

**MCU**

- Added warnings as errors in the platform examples and identified warnings were subsequently resolved.
- Resolved board component issues
- Added examples support for brd4339a boards for stage-6 verification
- Added freertos support for nvm3 dual flash application
- SQA bugs: SI91X-15592, SI91X-15619

**Wi-Fi & Network Stack**

- WIFISDK-422 - Handled known issues of embedded mqtt client
- RSCDEV-27082 - Sonarqube/Duplication sntp issue fix
- RSCDEV-27318 - Defined passive scan timeout in twt_use_case_demo application
- RSCDEV-27245 - Maintainability reported issues - phase 4
- RSCDEV-27652 - For NCP UART enabled back DMA functionality for Tx and Rx handling
- SQA bugs: SI91X-13634, SI91X-14911, SI91X-15237


**BLE**

- Enabled log prints for "ble_multiconn_gatt_test" application in NCP

**CoEx**

- None

**System**

- None

**Recommendations**

**System**

- The current revision of SiWx917 B0 has:
  - RAM memory of 672k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_672K\_M4SS\_0K- This mode configures TA with 672k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By default EXT\_FEAT\_352K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_480K\_M4SS\_192K - This mode configures TA with 480k and M4 with 192K bytes of memory
    - EXT\_FEAT\_416K\_M4SS\_256K - This mode configures TA with 416k and M4 with 256K bytes of memory
    - EXT\_FEAT\_352K\_M4SS\_320K - This mode configures TA with 352k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 672K\_M4SS\_0K.
  - SoC mode should not use 672k\_M4SS\_0k memory configuration.
- Set the recommended Power Save Profile (PSP) type to Enhanced Max PSP.

**IDE**

- Download the latest version of Simplicity Studio
- Refer to the latest version of the SoC/NCP "Getting-Started-with-SiWx917" guide for more details

**Wi-Fi & Network Stack****

- The recommended embedded MQTT Publish payload is 1 kBytes.
- It is recommended to enable bit 16 of the 'Extended TCP IP Feature' bit map in the opermode command for all Wi-Fi Socket operations from the host to ensure graceful handling during asynchronous closures from the peer.
- Aggregation (bit 2 of feature\_bit\_map) is recommended to be enabled in opermode. This enables software to aggregate multiple packets to achieve better throughput
- TCP retransmission count value is recommended to be 30 or higher so that the TCP does not disconnect while the rejoin happens.
- To restart the module, the application needs to call sl\_wifi\_deinit() followed by sl\_wifi\_init().
- Register 'Join Fail Callback' function every time when join is called, as in the rejoin failure path the callback is deregistered. If not done, this might result in a scan not functioning on rejoin failure.
- User can enable SL\_SI91X\_EXT\_TCP\_IP\_SSL\_16K\_RECORD in 'Extended TCP IP Feature'bit map in opermode, if HTTPS download is failing after receiving HTTP headers..
- iTWT setup is recommended after IP assignment/TCP connection/application specific socket connections.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, increase TCP / ARP Timeouts at the remote side depending upon the configured TWT interval configured.
- In case of TWT+coex, when using sl\_wifi\_enable\_target\_wakeup\_time API, use TWT wake duration <= 16 ms and TWT wake interval >= 1 sec. If wake duration > 16 ms or TWT wake interval < 1sec, there might be performance issues.
- For iTWT GTK Interval Should be kept max possible value or zero. If GTK interval is not configurable, recommended TWT interval (in case of sl\_wifi\_enable\_target\_wakeup\_time API) or RX Latency (in case of sl\_wifi\_target\_wake\_time\_auto\_selection API) is less than 4sec.
- Disable Power Save for High Throughput Applications.
- The application needs to ensure that it sets RTC with the correct timestamp when the feature is enabled before establishing the SSL connection.
- The timeout value should not be less than 1 second for socket select and socket receive calls. Timeout value of less than 1 second is not currently supported.
- When sl\_wifi\_enable\_target\_wakeup\_time API is used, configuring TWT Wake interval beyond 1 min might lead to disconnections from the AP. Recommended to use TWT wakeup interval of less than or equal to 1 min.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, it is recommended to set missed\_beacon\_count of sl\_wifi\_set\_advanced\_client\_configuration API greater than 2 times of the configured TWT Interval.
- Disable power save and suspend any active TWT sessions before triggering HTTP OTAF.
- It is recommended to enable bit 31 of the 'TCP IP Feature' bit map in the opermode command to support multicast protocol

**BLE**

- In BLE, the recommended range of Connection Interval in
  - Power Save (BLE Only) - 100 ms to 1.28 s.
- In BLE, during Connection, the configuration of Scan Interval and Scan Window with the same value is not recommended. The suggested ratio of Scan Window to Scan Interval is 3:4.
- In BLE, if a device is acting as Central, the scan window (in set\_scan\_params and create\_connection commands) must be less than the existing Connection Interval. The suggested ratio of Scan Window to Connection Interval is 2:3.
- In BLE mode, if scanning and advertising are in progress on the SiWx91x module and it subsequently gets connected and moves to the central role, scanning stops else if it moves to the peripheral role, advertising stops. To further establish a connection to another peripheral device or to a central device, the application should give a command for starting advertising and scanning again.

**Co-Existence**

- For concurrent Wi-Fi + BLE, and while a Wi-Fi connection is active, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
- Wi-Fi + BLE Advertising
  - All standard advertising intervals are supported. As Wi-Fi throughput is increased, a slight difference in on-air advertisements compared to configured intervals may be observed.
  - BLE advertising is skipped if the advertising interval collides with Wi-Fi activity.
- Wi-Fi + BLE scanning
  - All standard scan intervals are supported. For better scan results, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
  - BLE scanning will be stopped for intervals that collide with Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Connections
  - All standard connection intervals are supported.
  - For a stable connection, use optimal connection intervals and max supervision timeout in the presence of Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Data Transfer
  - To achieve higher throughput for both Wi-Fi and BLE, use medium connection intervals, such as 45 to 80 ms with maximum supervision timeout.
  - Ensure Wi-Fi activity consumes lower intervals.

**Known Issues**

**Sensorhub**

- Support for ADC FIFO Mode and Multi channel is open
- PS1-state supports only ADC sensor
- Power transitions with AWS are not stable in Sensorhub

**Network Stack**

- Sometimes during SSL Handshake, ECC curve parameters generated are wrong, resulting in connection failure with BBD2 error. However, this recovers in the next attempt.
- Randomize the client port if using rapid connect/disconnect of the MQTT session on the same client port with the power save.
- Secure SSL renegotiation not supported in Embedded Networking Stack.
- Disable power save before making TCP connection for NCP-UART interface.

**Wi-Fi**

- TWT device (STA) may not go to sleep in between TWT intervals in case of burst data traffics with data size more than the configured 'average tx throughput', until completion of data transfer.
- There are performance and IOP issues with MU MIMO.
- WPA3 Connection with the Hunting and Pecking algorithm takes about 3-4 seconds.
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.
- Low Wi-Fi+BLE throughput
- TCP/UDP TX/RX Data stall observed in CoEx scenarios
- Observed HTTPS Continuous download fails with TA Power save
- Performance improvements are in progress for lower performance metrics.
- Observed interop issue (connectivity failure) with few AP's when device reset/reboot happens on active connection.
- In concurrent mode, AP restart fails after stopping it with ap\_stop command.
- DUT deep sleep will not work after stopping AP with ap\_stop command.
- Unable to get SNTP async events when coex mode and Power save is enabled
- Fine Tuning 802.11ax Spectral mask in Progress
- Fine Tuning 11b mask in Ch11 in progress
- DUT is unable to connect to the AP with WPA3 security when we enable coex mode (WLAN+BLE) in opermode
- Socket listen API is failing from the second iteration
- Disconnections observed with Netgear RAX120 AP in WPA3 security
- Observed connection failures with some AP's in more channel congestion open lab environment
- Firmware Upgrade example is not working in PSRAM boards

**BLE**

- HID profile data transfer is not working, when power save is enabled in SoC.
- BLE reconnection is not working in ble_multiconnection_gatt demo, when power save is enabled in SoC
- BLE throughputs are less with STM32 compared to EFR

**Co-Existence**

- Observed HTTP continuous download is not happening in Powersave mode after BLE connection established using wifi\_https\_ble\_dual\_role application
- Observed DUT hang while Wi-Fi UDP/TCP Tx and BLE continuous scan.

**System**

- BRD8045A and BRD8045C does not have CTS and RTS pins routed from SiWx917 NCP, which are used for UART flow control

**MCU**

- Refer to the respective Radio board user guides for specific pinout details. Examples are targeted to a specific version mentioned in the respective readme.
- Few peripherals like WDT when configured with RO clock is not working as expected. No impact on the feature but the clocks are not accurate.
- ADC Differential mode is not working as expected if negative input value set above 2.4V.
- Few(BOD, Comparator and SysRTC) wakeup resources are not working as expected in Power manager service.
- Observed expected RO and BJT Temperature values only on calibrated FW18 boards.
- Force generate is required in order to generate pin_config.h from the Pin tool because Simplicity Studio's generate option isn't functioning in current version.
- SSI supports only upto 23MHz now
- Character Timeout feature for all communication protocols
- ADC Multichannel support is not present at different Sample rates HP -100K, ULP 10k/500 samples - not working
- it's important to select Non-psram examples manually for OPNs because unsupported examples are also included in the "Example Projects & Demos" section.
- ULP_ADC is not working as expected

**Limitations and Unsupported Features**

**SDK**

- WiSeConnect3_SDK_3.1.3 and later versions are not compatible with firmware versions prior to 1711.2.10.1.2.0.4, due to enhancements in max transmit power configuration during Wi-Fi join/connection, need to be cautious while doing OTA firmware upgrade.

**Wi-Fi/Network Stack**

- TLS 1.3 Server is not supported
- In AP mode, IPv6 Router Advertisements are not supported. Although STA connected to the APUT can transfer IPv6 data to the peers by using SLAAC for address configuration.
- When sl\_wifi\_enable\_target\_wake\_time() API is used, observed occasional MQTT disconnections with longer TWT intervals (>30secs) with embedded MQTT + TWT.
- AMSDU TX is not supported.
- Fragmentation is not supported.
- AMSDUs within AMPDU is not supported.
- Currently, the module does not support Radio Measurement Requests feature of CCX V2
- 802.11k is not supported
- 40 MHz bandwidth for 2.4 GHz band is not supported.
- 802.11J channel 14 is not supported.
- MQTT versions 3 and 4 are supported.
- Maximum of 3 SSL connections are supported.
- In SSL ECC Curve ID supported is 23. SSL handshake with 3rd party clients depends on the SSL ECC Curve ID.
- LP mode is not supported.
- In iTWT mode, downlink data traffic should be limited. Disconnections may be observed if AP fails to send all the buffered data in the next TWT Service Period.
- Number of MBSSIDs processed is limited by the beacon length that can be processed by the stack (which is limited to 1024 bytes). Beacons greater than 1024 Bytes in length will not be processed.
- CoEx + EAP Security in 352K/320k is not feasible. This issue is observed due to a lack of memory in the 352k/320k Memory Configuration. It is supported with other EXT\_FEAT\_416K\_M4SS\_256K and EXT\_FEAT\_480K\_M4SS\_192K memory configurations.
- UL MUMIMO is not supported.
- The embedded HTTP server is not supported.
- Baremetal is not supported.
- Compared to SoC mode, NCP mode has fewer examples, but more will be enabled in upcoming releases.
- Maximum Supported length for Embedded MQTT username up to 120 bytes , topic length up to 200 bytes and password upto 62 bytes.
- UART 2 Debug prints are supported only on ULP_GPIO_9.
- WOW LAN feature is not supported.
- SA Query procedure is not supported in AP mode.
- Maximum Supported length for HTTP GET URL is up to 2048 bytes.
- Azure SDK with embedded MQTT is not supported.
- Power save is not supported in Azure MQTT.
- MDNS service discovery is currently not supported.
- sli_si91x_accept_async is not thread-safe
- Observed some background compatibility issues with coex and http in few corner cases
- AP mode does not support Tx and Rx aggregation in Concurrent mode.
- Concurrent STA mode, Rx aggregation is not supported. Tx aggregation is supported but it is not recommended.
- AP standalone mode does not support Tx aggregation. Rx aggregation is supported with limited number of BA sessions.

**BLE**

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.
- BLE TX/RX throughput is less when tested with EFM as compared to EFR
- Maximum supported AE data length is 200 bytes.
- Supports only two ADV\_EXT sets.
- Supports only two BLE connections (1 Central and 1 Peripheral) with AE.
- Advertising Extension feature is not supported in Coexistence.
- The  ae\_central & ae\_peripheral applications are not supported with TA\_352K\_M4\_320K RAM configuration.
- Setting PLL mode as 1 is not supported in Coexistence

**MCU**

- ULP Peripherals examples configurations are for RAM-based execution, as flash is powered off in ULP Mode.
- Manual chip select option is not supported when using GSPI.
- SSI Dual and Quad mode is not working as expected.
- SPI sensor will not work in the Sensor HUB application.
- For ADC Multichannel sampling rate is limited to less than 15Ksps, number of samples is less than 500 and with a maximum of 4 channel
- Added power manager support to ULP_ADC, ULP_ADC_MultiChannel, ULP_Calendar, ULP_I2C_Driver examples
- Pin tool phase-2 would be available from GSDK v4.4.2-rc1 and above
- TA Connected sleep and M4 PS2 sleep aren't compatible with our SI917 design
- M4 PS2 active and sleep is not supported when SL_SI91X_EXT_FEAT_FRONT_END_SWITCH_PINS_ULP_GPIO_4_5_0 is enabled in SoC mode

**Simplicity Studio and Commander**

- Default GDB debug configuration is not supported for SoC projects, work around details provided in "Getting-Started-with-SiWx917"
- Observing flash download failures(ERROR 108) for a few image sizes
- While creating project through Simplicity Studio, "copy contents" option not supported.
- Simplicity commander does not support options under "Debug Lock tools".
- All projects in the package are compatible with GCC 10.3.1 version.

**Terminology**

|**Term**|**Description**|
| :- | :- |
|**New Features**|These items are new to this release|
|**Changes/Issues Fixed**|Changes made to existing features found in previous software releases.|
||Enhancements to existing product flow and feature set.|
||Bug fixes done in the release|
|**Deprecated Items**|Features or functions or APIs that are removed from the distributed release to align with the software roadmap|
|**Known Issues**|Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases|
|**Limitations/Recommendations**|Describes the limitations on product usage and recommendations for optimal use cases|

**Note**

- Change SPI frequency to 12.5Mhz while measuring BLE throughput with EFR32

<br>

**WiSeConnect3\_SDK\_3.3.0-ifc1 Release Notes**

This SDK package supports SoC Mode and NCP Mode for B0:

- In SoC Mode: Customer applications can run on Cortex M4. Wireless, network, and security stacks run on the wireless subsystem.
- In NCP mode: Wireless, network, and security stacks run on the Wireless subsystem. Customer applications run on the external host MCU.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

**Note**: Use Simplicity Studio version SV5.8.0.1 onwards

**SoC Highlights**

- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support ultra low power Wi-Fi standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode
- **MCU examples** : GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers, Config Timers, ULP (Ultra Low Power) Timers, Sleeptimer, IOSTREAM, NVM3, MEMLCD, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, Sensorhub, Joystick and Relative Humidity and Temparature sensor(RHT), Analog Comparator, Digital to Analog Converter and Temperature sensor(RO and BJT)
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE whitelisting, and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack, All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS client
- **IDE** : Simplicity Studio with Windows 10(64-bit), Linux, Mac OS
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** :
  - Si-MB4002A Main board
  - SiWx917 Radio boards

|**RadioBoard Type**|**SiWx917B0 with Board Version**|
| :- | :- |
|Common flash|Si917-BRD4338A(2.0)|
|Dual flash|Si917-BRD4339B(2.0)|
|External PSRAM|Si917-BRD4340A(2.0), Si917-BRD4342A(2.0)|

**NCP Highlights**

- **Host Interface** : SPI, UART
- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode.
- **Wi-Fi** : 2.4GHz Wi-Fi Support, WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE Whitelisting and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack , BLE Stack , All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS Client.
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **Hardware kits to evaluate NCP Mode**
  - NCP EFR Expansion Kit with NCP Radio board (BRD4338A(NCP MBR) + BRD8045A)
  - Wireless Pro kit Mainboard BRD4002A Rev A06
  - EFR32xG24 Wireless 2.4 GHz +10 dBm Radio Board xG24-RB4186C

**Release Details**

|**Item**|**Details**|
| :- | :- |
|Release date|Apr 26th, 2024|
|SDK Version|3.3.0-ifc1|
|Firmware Version|1711\.2.12.1.0.0.1|
|Package Name|WiSeConnect3\_SDK\_3.3.0-ifc1|
| GSDK Version | 4.4.2 |
|Supported RTOS|FreeRTOS|
|Operating Modes Supported|Wi-Fi STA, Wi-Fi AP, Wi-Fi STA+BLE, Wi-Fi STA+AP|
|Build Quality|GA|

- SiWx917 release consists of two components
  - Wireless Firmware - SiWx917 Firmware Binaries
  - Wiseconnect3 Library - Wiseconnect3 SDK library runs on the external host in NCP mode and internal Cortex M4 in SoC Mode.
- This release is meant only for use with designs based on SiWx917 Silicon
- The firmware to load is available in the following format:
  - SiWG917-B.2.11.1.x.0.x.rps - B0 Full-featured firmware binary

**Features Supported**

**Sensorhub service**

- Support for ADC, SPI, SDC and I2C based sensors
- Support for PS2 and sleep wakeups
- Support added for SDC
- SoC OPN based project support in SSv5
- List of OPN's supported si917-sb00, siwg917m111mgtba, siwg917m100mgtba, siwg917m111xgtba, siwg917m100xntba, siwg917m121xgtba, siwg917m110lgtba and siwg917m141xgtba

**MCU**

- ADC Single Channel, ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, GPIO, I2C, I2S, NVM3, OPAMP, PSRAM, PWM, QEI, RTC, SDIO Secondary, SPI Master and Slave, UART, Micro DMA, USART, Watchdog Timer, Temperature Sensor(RO and BJT), USART Master and Slave
- UC Supported Peripherals - GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers , Config Timers, ULP (Ultra Low Power) Timers, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, MEMLCD, Analog Comparator and Digital to Analog Converter.
- Services - Sleeptimer, IOSTREAM, NVM3, Power Manager and Pin Tool (support for USART, I2C, SSI, GSPI, SIO, SCT, PWM and I2S).
- ULP (Ultra Low Power) Peripherals - ulp\_gpio, ulp\_adc ulp\_i2c, ulp\_i2s, ulp\_ir\_decoder, ulp\_spi, ulp\_timer, ulp\_uart, ulp\_udma, ulp\ssi
- Extended flash write support for NWP flash region and added read api to read from NWP flash region

**Wi-Fi**

- WPA2/WPA3 Personal, WPS and WPA2-EAP Support for Station Mode
- TCP/IP stack with IPv4, IPv6, TCP, UDP, TLS, HTTP/HTTPS, DHCPv4, DHCPv6, MQTT Client, DNS Client, SNTP client.
- Support for SSL client versions TLSV1.0, TLSV1.2, TLSV1.3 and SSL server versions TLSV1.0 and TLSV1.2
- Wi-Fi STA (802.11n/802.11ax) + 802.11n AP Support
- HE (802.11ax) and Individual TWT Feature Support
- Multiple BSSID feature support as an STA
- Secure OTA support on B0 radio boards.
- Support for LWIP network stack
- Support for AWS MQTT library
- Support for Azure MQTT library
- Support for BSD and IoT sockets application programming interface(API)
- Support added to change the listen interval after association with Access Point
- New API sl_si91x_fwup_abort added to support aborting firmware upgrade

**Bluetooth Low Energy**

- BLE central & peripheral connections are supported.
- Ultra-low power save is supported.

**Power Save**

- Max PSP, enhanced MAX PSP, Fast PSP, and 802.11ax TWT power save modes are supported in WiFi.
- Only Max PSP power save mode is supported in BLE

**Crypto Support**

- AES, SHA, AES-CCM, HMAC, GCM, Chacha-poly, ECDH and TRNG FW Crypto API support added.
- PSA enabled Mbed TLS support added
- NVM support added for key storage
- Symmetric and asymmetric key storage
- TRNG, AES, SHA, HMAC, GCM, Chacha-poly, ECDH and AES-CCM hardware crypto engine is integrated with PSA crypto.

**Changes and Fixes**

**SDK**
- None

**MCU**

- None

**Wi-Fi & Network Stack**

- WLAN transmit modulation performance improvements at hot temperature
- Minor improvements in FCC band edge performance for 11ax
- Added Multicast filter API
- Added the calibartion commands in the readme file
- Added the information regarding the opened example project folder structure in readme
- Updated the description about WLAN transmit power range varies w.r.t region and device limitation
- Updated Wiseconnect3 SDK version to 3.3.0
- Added fixes for Sonarqube Duplications/Security Review issues RSCDEV-26939, RSCDEV-27081
- Removed duplicate references of get_operational_statistics
- SQA bugs: SI91X-14773, SI91X-15512, SI91X-15632


**BLE**

- BLE High Performance chain FCC margin improvements across corners
- BLE2M receive max input power improvements
- BLE power backoff offsets implementation similar to WLAN
- Improved power vs index linearity in BLE High Performance chain

**CoEx**

- Macros clean up in coex applications

**System**

- None

**Recommendations**

**System**

- The current revision of SiWx917 B0 has:
  - RAM memory of 672k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_672K\_M4SS\_0K- This mode configures TA with 672k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By default EXT\_FEAT\_352K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_480K\_M4SS\_192K - This mode configures TA with 480k and M4 with 192K bytes of memory
    - EXT\_FEAT\_416K\_M4SS\_256K - This mode configures TA with 416k and M4 with 256K bytes of memory
    - EXT\_FEAT\_352K\_M4SS\_320K - This mode configures TA with 352k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 672K\_M4SS\_0K.
  - SoC mode should not use 672k\_M4SS\_0k memory configuration.
- Set the recommended Power Save Profile (PSP) type to Enhanced Max PSP.

**IDE**

- Download the latest version of Simplicity Studio
- Refer to the latest version of the SoC/NCP "Getting-Started-with-SiWx917" guide for more details

**Wi-Fi & Network Stack****

- The recommended embedded MQTT Publish payload is 1 kBytes.
- It is recommended to enable bit 16 of the 'Extended TCP IP Feature' bit map in the opermode command for all Wi-Fi Socket operations from the host to ensure graceful handling during asynchronous closures from the peer.
- Aggregation (bit 2 of feature\_bit\_map) is recommended to be enabled in opermode. This enables software to aggregate multiple packets to achieve better throughput
- TCP retransmission count value is recommended to be 30 or higher so that the TCP does not disconnect while the rejoin happens.
- To restart the module, the application needs to call sl\_wifi\_deinit() followed by sl\_wifi\_init().
- Register 'Join Fail Callback' function every time when join is called, as in the rejoin failure path the callback is deregistered. If not done, this might result in a scan not functioning on rejoin failure.
- User can enable SL\_SI91X\_EXT\_TCP\_IP\_SSL\_16K\_RECORD in 'Extended TCP IP Feature'bit map in opermode, if HTTPS download is failing after receiving HTTP headers..
- iTWT setup is recommended after IP assignment/TCP connection/application specific socket connections.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, increase TCP / ARP Timeouts at the remote side depending upon the configured TWT interval configured.
- In case of TWT+coex, when using sl\_wifi\_enable\_target\_wakeup\_time API, use TWT wake duration <= 16 ms and TWT wake interval >= 1 sec. If wake duration > 16 ms or TWT wake interval < 1sec, there might be performance issues.
- For iTWT GTK Interval Should be kept max possible value or zero. If GTK interval is not configurable, recommended TWT interval (in case of sl\_wifi\_enable\_target\_wakeup\_time API) or RX Latency (in case of sl\_wifi\_target\_wake\_time\_auto\_selection API) is less than 4sec.
- Disable Power Save for High Throughput Applications.
- The application needs to ensure that it sets RTC with the correct timestamp when the feature is enabled before establishing the SSL connection.
- The timeout value should not be less than 1 second for socket select and socket receive calls. Timeout value of less than 1 second is not currently supported.
- When sl\_wifi\_enable\_target\_wakeup\_time API is used, configuring TWT Wake interval beyond 1 min might lead to disconnections from the AP. Recommended to use TWT wakeup interval of less than or equal to 1 min.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, it is recommended to set missed\_beacon\_count of sl\_wifi\_set\_advanced\_client\_configuration API greater than 2 times of the configured TWT Interval.
- Disable power save and suspend any active TWT sessions before triggering HTTP OTAF.
- It is recommended to enable bit 31 of the 'TCP IP Feature' bit map in the opermode command to support multicast protocol

**BLE**

- In BLE, the recommended range of Connection Interval in
  - Power Save (BLE Only) - 100 ms to 1.28 s.
- In BLE, during Connection, the configuration of Scan Interval and Scan Window with the same value is not recommended. The suggested ratio of Scan Window to Scan Interval is 3:4.
- In BLE, if a device is acting as Central, the scan window (in set\_scan\_params and create\_connection commands) must be less than the existing Connection Interval. The suggested ratio of Scan Window to Connection Interval is 2:3.
- In BLE mode, if scanning and advertising are in progress on the SiWx91x module and it subsequently gets connected and moves to the central role, scanning stops else if it moves to the peripheral role, advertising stops. To further establish a connection to another peripheral device or to a central device, the application should give a command for starting advertising and scanning again.

**Co-Existence**

- For concurrent Wi-Fi + BLE, and while a Wi-Fi connection is active, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
- Wi-Fi + BLE Advertising
  - All standard advertising intervals are supported. As Wi-Fi throughput is increased, a slight difference in on-air advertisements compared to configured intervals may be observed.
  - BLE advertising is skipped if the advertising interval collides with Wi-Fi activity.
- Wi-Fi + BLE scanning
  - All standard scan intervals are supported. For better scan results, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
  - BLE scanning will be stopped for intervals that collide with Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Connections
  - All standard connection intervals are supported.
  - For a stable connection, use optimal connection intervals and max supervision timeout in the presence of Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Data Transfer
  - To achieve higher throughput for both Wi-Fi and BLE, use medium connection intervals, such as 45 to 80 ms with maximum supervision timeout.
  - Ensure Wi-Fi activity consumes lower intervals.

**Known Issues**

**Sensorhub**

- Support for ADC FIFO Mode and Multi channel is open
- PS1-state supports only ADC sensor
- Power transitions with AWS are not stable in Sensorhub

**Network Stack**

- Sometimes during SSL Handshake, ECC curve parameters generated are wrong, resulting in connection failure with BBD2 error. However, this recovers in the next attempt.
- Randomize the client port if using rapid connect/disconnect of the MQTT session on the same client port with the power save.
- Secure SSL renegotiation not supported in Embedded Networking Stack.
- Disable power save before making TCP connection for NCP-UART interface.

**Wi-Fi**

- TWT device (STA) may not go to sleep in between TWT intervals in case of burst data traffics with data size more than the configured 'average tx throughput', until completion of data transfer.
- There are performance and IOP issues with MU MIMO.
- WPA3 Connection with the Hunting and Pecking algorithm takes about 3-4 seconds.
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.
- Low Wi-Fi+BLE throughput
- TCP/UDP TX/RX Data stall observed in CoEx scenarios
- Observed HTTPS Continuous download fails with TA Power save
- Performance improvements are in progress for lower performance metrics.
- Observed interop issue (connectivity failure) with few AP's when device reset/reboot happens on active connection.
- In concurrent mode, AP restart fails after stopping it with ap\_stop command.
- DUT deep sleep will not work after stopping AP with ap\_stop command.
- Unable to get SNTP async events when coex mode and Power save is enabled
- Fine Tuning 802.11ax Spectral mask in Progress
- Fine Tuning 11b mask in Ch11 in progress
- DUT is unable to connect to the AP with WPA3 security when we enable coex mode (WLAN+BLE) in opermode
- Socket listen API is failing from the second iteration
- Disconnections observed with Netgear RAX120 AP in WPA3 security
- Observed connection failures with some AP's in more channel congestion open lab environment
- Firmware Upgrade example is not working in PSRAM boards

**BLE**

- HID profile data transfer is not working, when power save is enabled in SoC.
- BLE reconnection is not working in ble_multiconnection_gatt demo, when power save is enabled in SoC
- BLE throughputs are less with STM32 compared to EFR

**Co-Existence**

- Observed HTTP continuous download is not happening in Powersave mode after BLE connection established using wifi\_https\_ble\_dual\_role application
- Observed DUT hang while Wi-Fi UDP/TCP Tx and BLE continuous scan.

**System**

- BRD8045A and BRD8045C does not have CTS and RTS pins routed from SiWx917 NCP, which are used for UART flow control

**MCU**

- Refer to the respective Radio board user guides for specific pinout details. Examples are targeted to a specific version mentioned in the respective readme.
- Few peripherals like WDT when configured with RO clock is not working as expected. No impact on the feature but the clocks are not accurate.
- ADC Differential mode is not working as expected if negative input value set above 2.4V.
- Few(BOD, Comparator and SysRTC) wakeup resources are not working as expected in Power manager service.
- Observed expected RO and BJT Temperature values only on calibrated FW18 boards.
- Force generate is required in order to generate pin_config.h from the Pin tool because Simplicity Studio's generate option isn't functioning in current version.
- SSI supports only upto 23MHz now
- Character Timeout feature for all communication protocols
- ADC Multichannel support is not present at different Sample rates HP -100K, ULP 10k/500 samples - not working
- NVM3 is currently not supported for OPN
- it's important to select Non-psram examples manually for OPNs because unsupported examples are also included in the "Example Projects & Demos" section.
- ULP_ADC and ULP_I2S are not working as expected

**Limitations and Unsupported Features**

**SDK**

- WiSeConnect3_SDK_3.1.3 and later versions are not compatible with firmware versions prior to 1711.2.10.1.2.0.4, due to enhancements in max transmit power configuration during Wi-Fi join/connection, need to be cautious while doing OTA firmware upgrade.

**Wi-Fi/Network Stack**

- TLS 1.3 Server is not supported
- In AP mode, IPv6 Router Advertisements are not supported. Although STA connected to the APUT can transfer IPv6 data to the peers by using SLAAC for address configuration.
- When sl\_wifi\_enable\_target\_wake\_time() API is used, observed occasional MQTT disconnections with longer TWT intervals (>30secs) with embedded MQTT + TWT.
- AMSDU TX is not supported.
- Fragmentation is not supported.
- AMSDUs within AMPDU is not supported.
- Currently, the module does not support Radio Measurement Requests feature of CCX V2
- 802.11k is not supported
- 40 MHz bandwidth for 2.4 GHz band is not supported.
- 802.11J channel 14 is not supported.
- MQTT versions 3 and 4 are supported.
- Maximum of 3 SSL connections are supported.
- In SSL ECC Curve ID supported is 23. SSL handshake with 3rd party clients depends on the SSL ECC Curve ID.
- LP mode is not supported.
- In iTWT mode, downlink data traffic should be limited. Disconnections may be observed if AP fails to send all the buffered data in the next TWT Service Period.
- Number of MBSSIDs processed is limited by the beacon length that can be processed by the stack (which is limited to 1024 bytes). Beacons greater than 1024 Bytes in length will not be processed.
- CoEx + EAP Security in 352K/320k is not feasible. This issue is observed due to a lack of memory in the 352k/320k Memory Configuration. It is supported with other EXT\_FEAT\_416K\_M4SS\_256K and EXT\_FEAT\_480K\_M4SS\_192K memory configurations.
- UL MUMIMO is not supported.
- The embedded HTTP server is not supported.
- Baremetal is not supported.
- Compared to SoC mode, NCP mode has fewer examples, but more will be enabled in upcoming releases.
- Maximum Supported length for Embedded MQTT username up to 120 bytes , topic length up to 200 bytes and password upto 62 bytes.
- UART 2 Debug prints are supported only on ULP_GPIO_9.
- WOW LAN feature is not supported.
- SA Query procedure is not supported in AP mode.
- Maximum Supported length for HTTP GET URL is up to 2048 bytes.
- Azure SDK with embedded MQTT is not supported.
- Power save is not supported in Azure MQTT.
- MDNS service discovery is currently not supported.
- sli_si91x_accept_async is not thread-safe
- Observed some background compatibility issues with coex and http in few corner cases
- AP mode does not support Tx and Rx aggregation in Concurrent mode.
- Concurrent STA mode, Rx aggregation is not supported. Tx aggregation is supported but it is not recommended.
- AP standalone mode does not support Tx aggregation. Rx aggregation is supported with limited number of BA sessions.

**BLE**

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.
- BLE TX/RX throughput is less when tested with EFM as compared to EFR
- Maximum supported AE data length is 200 bytes.
- Supports only two ADV\_EXT sets.
- Supports only two BLE connections (1 Central and 1 Peripheral) with AE.
- Advertising Extension feature is not supported in Coexistence.
- The  ae\_central & ae\_peripheral applications are not supported with TA\_352K\_M4\_320K RAM configuration.
- Setting PLL mode as 1 is not supported in Coexistence

**MCU**

- ULP Peripherals examples configurations are for RAM-based execution, as flash is powered off in ULP Mode.
- Manual chip select option is not supported when using GSPI.
- SSI Dual and Quad mode is not working as expected.
- SPI sensor will not work in the Sensor HUB application.
- For ADC Multichannel sampling rate is limited to less than 15Ksps, number of samples is less than 500 and with a maximum of 4 channel
- Added power manager support to ULP_ADC, ULP_ADC_MultiChannel, ULP_Calendar, ULP_I2C_Driver examples
- Pin tool phase-2 would be available from GSDK v4.4.2-rc1 and above
- TA Connected sleep and M4 PS2 sleep aren't compatible with our SI917 design
- M4 PS2 active and sleep is not supported when SL_SI91X_EXT_FEAT_FRONT_END_SWITCH_PINS_ULP_GPIO_4_5_0 is enabled in SoC mode

**Simplicity Studio and Commander**

- Default GDB debug configuration is not supported for SoC projects, work around details provided in "Getting-Started-with-SiWx917"
- Observing flash download failures(ERROR 108) for a few image sizes
- While creating project through Simplicity Studio, "copy contents" option not supported.
- Simplicity commander does not support options under "Debug Lock tools".
- All projects in the package are compatible with GCC 10.3.1 version.

**Terminology**

|**Term**|**Description**|
| :- | :- |
|**New Features**|These items are new to this release|
|**Changes/Issues Fixed**|Changes made to existing features found in previous software releases.|
||Enhancements to existing product flow and feature set.|
||Bug fixes done in the release|
|**Deprecated Items**|Features or functions or APIs that are removed from the distributed release to align with the software roadmap|
|**Known Issues**|Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases|
|**Limitations/Recommendations**|Describes the limitations on product usage and recommendations for optimal use cases|

**Note**

- Change SPI frequency to 12.5Mhz while measuring BLE throughput with EFR32

<br>

|**Item**|**Details**|
| :- | :- |
|Release date|Apr 30th, 2024|
|SDK Version|3\.2.0-rc5|
|Firmware Version|1711\.2.11.1.0.0.7|
|Package Name|WiSeConnect3\_SDK\_3.2.0-rc6|
| GSDK Version | 4.4.2 |
|Supported RTOS|FreeRTOS|
|Operating Modes Supported|Wi-Fi STA, Wi-Fi AP, Wi-Fi STA+BLE, Wi-Fi STA+AP|
|Build Quality|GA|

- SiWx917 release consists of two components
  - Wireless Firmware - SiWx917 Firmware Binaries
  - Wiseconnect3 Library - Wiseconnect3 SDK library runs on the external host in NCP mode and internal Cortex M4 in SoC Mode.
- This release is meant only for use with designs based on SiWx917 Silicon
- The firmware to load is available in the following format:
  - SiWG917-B.2.11.1.x.0.x.rps - B0 Full-featured firmware binary

**Features Supported**

**Sensorhub service**

- Support for ADC, SPI, SDC and I2C based sensors
- Support for PS2 and sleep wakeups
- Support added for SDC
- SoC OPN based project support in SSv5
- List of OPN's supported si917-sb00, siwg917m111mgtba, siwg917m100mgtba, siwg917m111xgtba, siwg917m100xntba, siwg917m121xgtba, siwg917m110lgtba and siwg917m141xgtba

**MCU**

- ADC Single Channel, ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, GPIO, I2C, I2S, NVM3, OPAMP, PSRAM, PWM, QEI, RTC, SDIO Secondary, SPI Master and Slave, UART, Micro DMA, USART, Watchdog Timer, Temperature Sensor(RO and BJT), USART Master and Slave
- UC Supported Peripherals - GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers , Config Timers, ULP (Ultra Low Power) Timers, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, MEMLCD, Analog Comparator and Digital to Analog Converter.
- Services - Sleeptimer, IOSTREAM, NVM3, Power Manager and Pin Tool (support for USART, I2C, SSI, GSPI, SIO, SCT, PWM and I2S).
- ULP (Ultra Low Power) Peripherals - ulp\_gpio, ulp\_adc ulp\_i2c, ulp\_i2s, ulp\_ir\_decoder, ulp\_spi, ulp\_timer, ulp\_uart, ulp\_udma, ulp\ssi
- Extended flash write support for NWP flash region and added read api to read from NWP flash region

**Wi-Fi**

- WPA2/WPA3 Personal, WPS and WPA2-EAP Support for Station Mode
- TCP/IP stack with IPv4, IPv6, TCP, UDP, TLS, HTTP/HTTPS, DHCPv4, DHCPv6, MQTT Client, DNS Client, SNTP client.
- Support for SSL client versions TLSV1.0, TLSV1.2, TLSV1.3 and SSL server versions TLSV1.0 and TLSV1.2
- Wi-Fi STA (802.11n/802.11ax) + 802.11n AP Support
- HE (802.11ax) and Individual TWT Feature Support
- Multiple BSSID feature support as an STA
- Secure OTA support on B0 radio boards.
- Support for LWIP network stack
- Support for AWS MQTT library
- Support for Azure MQTT library
- Support for BSD and IoT sockets application programming interface(API)

**Bluetooth Low Energy**

- BLE central & peripheral connections are supported.
- Ultra-low power save is supported.

**Power Save**

- Max PSP, enhanced MAX PSP, Fast PSP, and 802.11ax TWT power save modes are supported in WiFi.
- Only Max PSP power save mode is supported in BLE

**Crypto Support**

- AES, SHA, AES-CCM, HMAC, GCM, Chacha-poly, ECDH and TRNG FW Crypto API support added.
- PSA enabled Mbed TLS support added
- NVM support added for key storage
- Symmetric and asymmetric key storage
- TRNG, AES, SHA, HMAC, GCM, Chacha-poly, ECDH and AES-CCM hardware crypto engine is integrated with PSA crypto.

**Changes and Fixes**

**SDK**
- None

**MCU**
Renamed below macro's in RTE_Device_917.h file
- RTE_UART1_FRAC_DIV_EN changed to RTE_UART1_FRAC_DIV_SEL
- RTE_USART0_FRAC_DIV_EN changed to RTE_USART0_FRAC_DIV_SEL

**Wi-Fi & Network Stack**

- SQA bugs: SI91X-15659, SI91X-15381, SI91X-15654

**BLE**

 - None

**CoEx**

- None

**System**

- None

**Recommendations**

**System**

- The current revision of SiWx917 B0 has:
  - RAM memory of 672k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_672K\_M4SS\_0K- This mode configures TA with 672k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By default EXT\_FEAT\_352K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_480K\_M4SS\_192K - This mode configures TA with 480k and M4 with 192K bytes of memory
    - EXT\_FEAT\_416K\_M4SS\_256K - This mode configures TA with 416k and M4 with 256K bytes of memory
    - EXT\_FEAT\_352K\_M4SS\_320K - This mode configures TA with 352k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 672K\_M4SS\_0K.
  - SoC mode should not use 672k\_M4SS\_0k memory configuration.
- Set the recommended Power Save Profile (PSP) type to Enhanced Max PSP.

**IDE**

- Download the latest version of Simplicity Studio
- Refer to the latest version of the SoC/NCP "Getting-Started-with-SiWx917" guide for more details

**Wi-Fi & Network Stack****

- The recommended embedded MQTT Publish payload is 1 kBytes.
- It is recommended to enable bit 16 of the 'Extended TCP IP Feature' bit map in the opermode command for all Wi-Fi Socket operations from the host to ensure graceful handling during asynchronous closures from the peer.
- Aggregation (bit 2 of feature\_bit\_map) is recommended to be enabled in opermode. This enables software to aggregate multiple packets to achieve better throughput
- TCP retransmission count value is recommended to be 30 or higher so that the TCP does not disconnect while the rejoin happens.
- To restart the module, the application needs to call sl\_wifi\_deinit() followed by sl\_wifi\_init().
- Register 'Join Fail Callback' function every time when join is called, as in the rejoin failure path the callback is deregistered. If not done, this might result in a scan not functioning on rejoin failure.
- User can enable SL\_SI91X\_EXT\_TCP\_IP\_SSL\_16K\_RECORD in 'Extended TCP IP Feature'bit map in opermode, if HTTPS download is failing after receiving HTTP headers..
- iTWT setup is recommended after IP assignment/TCP connection/application specific socket connections.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, increase TCP / ARP Timeouts at the remote side depending upon the configured TWT interval configured.
- In case of TWT+coex, when using sl\_wifi\_enable\_target\_wakeup\_time API, use TWT wake duration <= 16 ms and TWT wake interval >= 1 sec. If wake duration > 16 ms or TWT wake interval < 1sec, there might be performance issues.
- For iTWT GTK Interval Should be kept max possible value or zero. If GTK interval is not configurable, recommended TWT interval (in case of sl\_wifi\_enable\_target\_wakeup\_time API) or RX Latency (in case of sl\_wifi\_target\_wake\_time\_auto\_selection API) is less than 4sec.
- Disable Power Save for High Throughput Applications.
- The application needs to ensure that it sets RTC with the correct timestamp when the feature is enabled before establishing the SSL connection.
- The timeout value should not be less than 1 second for socket select and socket receive calls. Timeout value of less than 1 second is not currently supported.
- When sl\_wifi\_enable\_target\_wakeup\_time API is used, configuring TWT Wake interval beyond 1 min might lead to disconnections from the AP. Recommended to use TWT wakeup interval of less than or equal to 1 min.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, it is recommended to set missed\_beacon\_count of sl\_wifi\_set\_advanced\_client\_configuration API greater than 2 times of the configured TWT Interval.
- Disable power save and suspend any active TWT sessions before triggering HTTP OTAF.
- It is recommended to enable bit 31 of the 'TCP IP Feature' bit map in the opermode command to support multicast protocol

**BLE**

- In BLE, the recommended range of Connection Interval in
  - Power Save (BLE Only) - 100 ms to 1.28 s.
- In BLE, during Connection, the configuration of Scan Interval and Scan Window with the same value is not recommended. The suggested ratio of Scan Window to Scan Interval is 3:4.
- In BLE, if a device is acting as Central, the scan window (in set\_scan\_params and create\_connection commands) must be less than the existing Connection Interval. The suggested ratio of Scan Window to Connection Interval is 2:3.
- In BLE mode, if scanning and advertising are in progress on the SiWx91x module and it subsequently gets connected and moves to the central role, scanning stops else if it moves to the peripheral role, advertising stops. To further establish a connection to another peripheral device or to a central device, the application should give a command for starting advertising and scanning again.

**Co-Existence**

- For concurrent Wi-Fi + BLE, and while a Wi-Fi connection is active, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
- Wi-Fi + BLE Advertising
  - All standard advertising intervals are supported. As Wi-Fi throughput is increased, a slight difference in on-air advertisements compared to configured intervals may be observed.
  - BLE advertising is skipped if the advertising interval collides with Wi-Fi activity.
- Wi-Fi + BLE scanning
  - All standard scan intervals are supported. For better scan results, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
  - BLE scanning will be stopped for intervals that collide with Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Connections
  - All standard connection intervals are supported.
  - For a stable connection, use optimal connection intervals and max supervision timeout in the presence of Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Data Transfer
  - To achieve higher throughput for both Wi-Fi and BLE, use medium connection intervals, such as 45 to 80 ms with maximum supervision timeout.
  - Ensure Wi-Fi activity consumes lower intervals.

**Known Issues**

**Sensorhub**

- Support for ADC FIFO Mode and Multi channel is open
- PS1-state supports only ADC sensor
- Power transitions with AWS are not stable in Sensorhub

**Network Stack**

- Sometimes during SSL Handshake, ECC curve parameters generated are wrong, resulting in connection failure with BBD2 error. However, this recovers in the next attempt.
- Randomize the client port if using rapid connect/disconnect of the MQTT session on the same client port with the power save.
- Secure SSL renegotiation not supported in Embedded Networking Stack.
- Disable power save before making TCP connection for NCP-UART interface.

**Wi-Fi**

- TWT device (STA) may not go to sleep in between TWT intervals in case of burst data traffics with data size more than the configured 'average tx throughput', until completion of data transfer.
- There are performance and IOP issues with MU MIMO.
- WPA3 Connection with the Hunting and Pecking algorithm takes about 3-4 seconds.
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.
- Low Wi-Fi+BLE throughput
- TCP/UDP TX/RX Data stall observed in CoEx scenarios
- Observed HTTPS Continuous download fails with TA Power save
- Performance improvements are in progress for lower performance metrics.
- Observed interop issue (connectivity failure) with few AP's when device reset/reboot happens on active connection.
- In concurrent mode, AP restart fails after stopping it with ap\_stop command.
- DUT deep sleep will not work after stopping AP with ap\_stop command.
- Unable to get SNTP async events when coex mode and Power save is enabled
- Fine Tuning 802.11ax Spectral mask in Progress
- Fine Tuning 11b mask in Ch11 in progress
- DUT is unable to connect to the AP with WPA3 security when we enable coex mode (WLAN+BLE) in opermode
- Socket listen API is failing from the second iteration
- Disconnections observed with Netgear RAX120 AP in WPA3 security
- Observed connection failures with some AP's in more channel congestion open lab environment
- Firmware Upgrade example is not working in PSRAM boards

**BLE**

- HID profile data transfer is not working, when power save is enabled in SoC.
- BLE reconnection is not working in ble_multiconnection_gatt demo, when power save is enabled in SoC
- BLE throughputs are less with STM32 compared to EFR

**Co-Existence**

- Observed HTTP continuous download is not happening in Powersave mode after BLE connection established using wifi\_https\_ble\_dual\_role application
- Observed DUT hang while Wi-Fi UDP/TCP Tx and BLE continuous scan.

**System**

- BRD8045A and BRD8045C does not have CTS and RTS pins routed from SiWx917 NCP, which are used for UART flow control

**MCU**

- Refer to the respective Radio board user guides for specific pinout details. Examples are targeted to a specific version mentioned in the respective readme.
- Few peripherals like WDT when configured with RO clock is not working as expected. No impact on the feature but the clocks are not accurate.
- ADC Differential mode is not working as expected if negative input value set above 2.4V.
- Few(BOD, Comparator and SysRTC) wakeup resources are not working as expected in Power manager service.
- Observed expected RO and BJT Temperature values only on calibrated FW18 boards.
- Force generate is required in order to generate pin_config.h from the Pin tool because Simplicity Studio's generate option isn't functioning in current version.
- SSI supports only upto 23MHz now
- Character Timeout feature for all communication protocols
- ADC Multichannel support is not present at different Sample rates HP -100K, ULP 10k/500 samples - not working
- NVM3 is currently not supported for OPN
- it's important to select Non-psram examples manually for OPNs because unsupported examples are also included in the "Example Projects & Demos" section.
- ULP_ADC and ULP_I2S are not working as expected

**Limitations and Unsupported Features**

**SDK**

- WiSeConnect3_SDK_3.1.3 and later versions are not compatible with firmware versions prior to 1711.2.10.1.2.0.4, due to enhancements in max transmit power configuration during Wi-Fi join/connection, need to be cautious while doing OTA firmware upgrade.

**Wi-Fi/Network Stack**

- TLS 1.3 Server is not supported
- In AP mode, IPv6 Router Advertisements are not supported. Although STA connected to the APUT can transfer IPv6 data to the peers by using SLAAC for address configuration.
- When sl\_wifi\_enable\_target\_wake\_time() API is used, observed occasional MQTT disconnections with longer TWT intervals (>30secs) with embedded MQTT + TWT.
- AMSDU TX is not supported.
- Fragmentation is not supported.
- AMSDUs within AMPDU is not supported.
- Currently, the module does not support Radio Measurement Requests feature of CCX V2
- 802.11k is not supported
- 40 MHz bandwidth for 2.4 GHz band is not supported.
- 802.11J channel 14 is not supported.
- MQTT versions 3 and 4 are supported.
- Maximum of 3 SSL connections are supported.
- In SSL ECC Curve ID supported is 23. SSL handshake with 3rd party clients depends on the SSL ECC Curve ID.
- LP mode is not supported.
- In iTWT mode, downlink data traffic should be limited. Disconnections may be observed if AP fails to send all the buffered data in the next TWT Service Period.
- Number of MBSSIDs processed is limited by the beacon length that can be processed by the stack (which is limited to 1024 bytes). Beacons greater than 1024 Bytes in length will not be processed.
- CoEx + EAP Security in 352K/320k is not feasible. This issue is observed due to a lack of memory in the 352k/320k Memory Configuration. It is supported with other EXT\_FEAT\_416K\_M4SS\_256K and EXT\_FEAT\_480K\_M4SS\_192K memory configurations.
- UL MUMIMO is not supported.
- The embedded HTTP server is not supported.
- Baremetal is not supported.
- Compared to SoC mode, NCP mode has fewer examples, but more will be enabled in upcoming releases.
- Maximum Supported length for Embedded MQTT username up to 120 bytes , topic length up to 200 bytes and password upto 62 bytes.
- UART 2 Debug prints are supported only on ULP_GPIO_9.
- WOW LAN feature is not supported.
- SA Query procedure is not supported in AP mode.
- Maximum Supported length for HTTP GET URL is up to 2048 bytes.
- Azure SDK with embedded MQTT is not supported.
- Power save is not supported in Azure MQTT.
- MDNS service discovery is currently not supported.
- sli_si91x_accept_async is not thread-safe
- Observed some background compatibility issues with coex and http in few corner cases
- AP mode does not support Tx and Rx aggregation in Concurrent mode.
- Concurrent STA mode, Rx aggregation is not supported. Tx aggregation is supported but it is not recommended.
- AP standalone mode does not support Tx aggregation. Rx aggregation is supported with limited number of BA sessions.

**BLE**

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.
- BLE TX/RX throughput is less when tested with EFM as compared to EFR
- Maximum supported AE data length is 200 bytes.
- Supports only two ADV\_EXT sets.
- Supports only two BLE connections (1 Central and 1 Peripheral) with AE.
- Advertising Extension feature is not supported in Coexistence.
- The  ae\_central & ae\_peripheral applications are not supported with TA\_352K\_M4\_320K RAM configuration.
- Setting PLL mode as 1 is not supported in Coexistence

**MCU**

- ULP Peripherals examples configurations are for RAM-based execution, as flash is powered off in ULP Mode.
- Manual chip select option is not supported when using GSPI.
- SSI Dual and Quad mode is not working as expected.
- SPI sensor will not work in the Sensor HUB application.
- For ADC Multichannel sampling rate is limited to less than 15Ksps, number of samples is less than 500 and with a maximum of 4 channel
- Added power manager support to ULP_ADC, ULP_ADC_MultiChannel, ULP_Calendar, ULP_I2C_Driver examples
- Pin tool phase-2 would be available from GSDK v4.4.2-rc1 and above
- TA Connected sleep and M4 PS2 sleep aren't compatible with our SI917 design
- M4 PS2 active and sleep is not supported when SL_SI91X_EXT_FEAT_FRONT_END_SWITCH_PINS_ULP_GPIO_4_5_0 is enabled in SoC mode

**Simplicity Studio and Commander**

- Default GDB debug configuration is not supported for SoC projects, work around details provided in "Getting-Started-with-SiWx917"
- Observing flash download failures(ERROR 108) for a few image sizes
- While creating project through Simplicity Studio, "copy contents" option not supported.
- Simplicity commander does not support options under "Debug Lock tools".
- All projects in the package are compatible with GCC 10.3.1 version.

**Terminology**

|**Term**|**Description**|
| :- | :- |
|**New Features**|These items are new to this release|
|**Changes/Issues Fixed**|Changes made to existing features found in previous software releases.|
||Enhancements to existing product flow and feature set.|
||Bug fixes done in the release|
|**Deprecated Items**|Features or functions or APIs that are removed from the distributed release to align with the software roadmap|
|**Known Issues**|Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases|
|**Limitations/Recommendations**|Describes the limitations on product usage and recommendations for optimal use cases|

**Note**

- Change SPI frequency to 12.5Mhz while measuring BLE throughput with EFR32

<br>

**WiSeConnect3\_SDK\_3.2.0-rc5 Release Notes**

This SDK package supports SoC Mode and NCP Mode for B0:

- In SoC Mode: Customer applications can run on Cortex M4. Wireless, network, and security stacks run on the wireless subsystem.
- In NCP mode: Wireless, network, and security stacks run on the Wireless subsystem. Customer applications run on the external host MCU.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

**Note**: Use Simplicity Studio version SV5.8.0.1 onwards

**SoC Highlights**

- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support ultra low power Wi-Fi standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode
- **MCU examples** : GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers, Config Timers, ULP (Ultra Low Power) Timers, Sleeptimer, IOSTREAM, NVM3, MEMLCD, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, Sensorhub, Joystick and Relative Humidity and Temparature sensor(RHT), Analog Comparator, Digital to Analog Converter and Temperature sensor(RO and BJT)
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE whitelisting, and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack, All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS client
- **IDE** : Simplicity Studio with Windows 10(64-bit), Linux, Mac OS
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** :
  - Si-MB4002A Main board
  - SiWx917 Radio boards

|**RadioBoard Type**|**SiWx917B0 with Board Version**|
| :- | :- |
|Common flash|Si917-BRD4338A(2.0)|
|Dual flash|Si917-BRD4339B(2.0)|
|External PSRAM|Si917-BRD4340A(2.0), Si917-BRD4342A(2.0)|

**NCP Highlights**

- **Host Interface** : SPI, UART
- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode.
- **Wi-Fi** : 2.4GHz Wi-Fi Support, WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE Whitelisting and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack , BLE Stack , All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS Client.
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **Hardware kits to evaluate NCP Mode**
  - NCP EFR Expansion Kit with NCP Radio board (BRD4338A(NCP MBR) + BRD8045A)
  - Wireless Pro kit Mainboard BRD4002A Rev A06
  - EFR32xG24 Wireless 2.4 GHz +10 dBm Radio Board xG24-RB4186C

**Release Details**

|**Item**|**Details**|
| :- | :- |
|Release date|Apr 26th, 2024|
|SDK Version|3\.2.0-rc5|
|Firmware Version|1711\.2.11.1.0.0.6|
|Package Name|WiSeConnect3\_SDK\_3.2.0-rc5|
| GSDK Version | 4.4.2 |
|Supported RTOS|FreeRTOS|
|Operating Modes Supported|Wi-Fi STA, Wi-Fi AP, Wi-Fi STA+BLE, Wi-Fi STA+AP|
|Build Quality|GA|

- SiWx917 release consists of two components
  - Wireless Firmware - SiWx917 Firmware Binaries
  - Wiseconnect3 Library - Wiseconnect3 SDK library runs on the external host in NCP mode and internal Cortex M4 in SoC Mode.
- This release is meant only for use with designs based on SiWx917 Silicon
- The firmware to load is available in the following format:
  - SiWG917-B.2.11.1.x.0.x.rps - B0 Full-featured firmware binary

**Features Supported**

**Sensorhub service**

- Support for ADC, SPI, SDC and I2C based sensors
- Support for PS2 and sleep wakeups
- Support added for SDC
- SoC OPN based project support in SSv5
- List of OPN's supported si917-sb00, siwg917m111mgtba, siwg917m100mgtba, siwg917m111xgtba, siwg917m100xntba, siwg917m121xgtba, siwg917m110lgtba and siwg917m141xgtba

**MCU**

- ADC Single Channel, ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, GPIO, I2C, I2S, NVM3, OPAMP, PSRAM, PWM, QEI, RTC, SDIO Secondary, SPI Master and Slave, UART, Micro DMA, USART, Watchdog Timer, Temperature Sensor(RO and BJT), USART Master and Slave
- UC Supported Peripherals - GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers , Config Timers, ULP (Ultra Low Power) Timers, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, MEMLCD, Analog Comparator and Digital to Analog Converter.
- Services - Sleeptimer, IOSTREAM, NVM3, Power Manager and Pin Tool (support for USART, I2C, SSI, GSPI, SIO, SCT, PWM and I2S).
- ULP (Ultra Low Power) Peripherals - ulp\_gpio, ulp\_adc ulp\_i2c, ulp\_i2s, ulp\_ir\_decoder, ulp\_spi, ulp\_timer, ulp\_uart, ulp\_udma, ulp\ssi
- Extended flash write support for NWP flash region and added read api to read from NWP flash region

**Wi-Fi**

- WPA2/WPA3 Personal, WPS and WPA2-EAP Support for Station Mode
- TCP/IP stack with IPv4, IPv6, TCP, UDP, TLS, HTTP/HTTPS, DHCPv4, DHCPv6, MQTT Client, DNS Client, SNTP client.
- Support for SSL client versions TLSV1.0, TLSV1.2, TLSV1.3 and SSL server versions TLSV1.0 and TLSV1.2
- Wi-Fi STA (802.11n/802.11ax) + 802.11n AP Support
- HE (802.11ax) and Individual TWT Feature Support
- Multiple BSSID feature support as an STA
- Secure OTA support on B0 radio boards.
- Support for LWIP network stack
- Support for AWS MQTT library
- Support for Azure MQTT library
- Support for BSD and IoT sockets application programming interface(API)

**Bluetooth Low Energy**

- BLE central & peripheral connections are supported.
- Ultra-low power save is supported.

**Power Save**

- Max PSP, enhanced MAX PSP, Fast PSP, and 802.11ax TWT power save modes are supported in WiFi.
- Only Max PSP power save mode is supported in BLE

**Crypto Support**

- AES, SHA, AES-CCM, HMAC, GCM, Chacha-poly, ECDH and TRNG FW Crypto API support added.
- PSA enabled Mbed TLS support added
- NVM support added for key storage
- Symmetric and asymmetric key storage
- TRNG, AES, SHA, HMAC, GCM, Chacha-poly, ECDH and AES-CCM hardware crypto engine is integrated with PSA crypto.

**Changes and Fixes**

**SDK**
- Documentation enhancements

**MCU**

- SQA bugs: SI91X-15612, SI91X-15398

**Wi-Fi & Network Stack**

- None

**BLE**

 - SQA bugs: SI91X-15621, SI91X-15615

**CoEx**

- None

**System**

- None

**Recommendations**

**System**

- The current revision of SiWx917 B0 has:
  - RAM memory of 672k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_672K\_M4SS\_0K- This mode configures TA with 672k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By default EXT\_FEAT\_352K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_480K\_M4SS\_192K - This mode configures TA with 480k and M4 with 192K bytes of memory
    - EXT\_FEAT\_416K\_M4SS\_256K - This mode configures TA with 416k and M4 with 256K bytes of memory
    - EXT\_FEAT\_352K\_M4SS\_320K - This mode configures TA with 352k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 672K\_M4SS\_0K.
  - SoC mode should not use 672k\_M4SS\_0k memory configuration.
- Set the recommended Power Save Profile (PSP) type to Enhanced Max PSP.

**IDE**

- Download the latest version of Simplicity Studio
- Refer to the latest version of the SoC/NCP "Getting-Started-with-SiWx917" guide for more details

**Wi-Fi & Network Stack****

- The recommended embedded MQTT Publish payload is 1 kBytes.
- It is recommended to enable bit 16 of the 'Extended TCP IP Feature' bit map in the opermode command for all Wi-Fi Socket operations from the host to ensure graceful handling during asynchronous closures from the peer.
- Aggregation (bit 2 of feature\_bit\_map) is recommended to be enabled in opermode. This enables software to aggregate multiple packets to achieve better throughput
- TCP retransmission count value is recommended to be 30 or higher so that the TCP does not disconnect while the rejoin happens.
- To restart the module, the application needs to call sl\_wifi\_deinit() followed by sl\_wifi\_init().
- Register 'Join Fail Callback' function every time when join is called, as in the rejoin failure path the callback is deregistered. If not done, this might result in a scan not functioning on rejoin failure.
- User can enable SL\_SI91X\_EXT\_TCP\_IP\_SSL\_16K\_RECORD in 'Extended TCP IP Feature'bit map in opermode, if HTTPS download is failing after receiving HTTP headers..
- iTWT setup is recommended after IP assignment/TCP connection/application specific socket connections.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, increase TCP / ARP Timeouts at the remote side depending upon the configured TWT interval configured.
- In case of TWT+coex, when using sl\_wifi\_enable\_target\_wakeup\_time API, use TWT wake duration <= 16 ms and TWT wake interval >= 1 sec. If wake duration > 16 ms or TWT wake interval < 1sec, there might be performance issues.
- For iTWT GTK Interval Should be kept max possible value or zero. If GTK interval is not configurable, recommended TWT interval (in case of sl\_wifi\_enable\_target\_wakeup\_time API) or RX Latency (in case of sl\_wifi\_target\_wake\_time\_auto\_selection API) is less than 4sec.
- Disable Power Save for High Throughput Applications.
- The application needs to ensure that it sets RTC with the correct timestamp when the feature is enabled before establishing the SSL connection.
- The timeout value should not be less than 1 second for socket select and socket receive calls. Timeout value of less than 1 second is not currently supported.
- When sl\_wifi\_enable\_target\_wakeup\_time API is used, configuring TWT Wake interval beyond 1 min might lead to disconnections from the AP. Recommended to use TWT wakeup interval of less than or equal to 1 min.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, it is recommended to set missed\_beacon\_count of sl\_wifi\_set\_advanced\_client\_configuration API greater than 2 times of the configured TWT Interval.
- Disable power save and suspend any active TWT sessions before triggering HTTP OTAF.
- It is recommended to enable bit 31 of the 'TCP IP Feature' bit map in the opermode command to support multicast protocol

**BLE**

- In BLE, the recommended range of Connection Interval in
  - Power Save (BLE Only) - 100 ms to 1.28 s.
- In BLE, during Connection, the configuration of Scan Interval and Scan Window with the same value is not recommended. The suggested ratio of Scan Window to Scan Interval is 3:4.
- In BLE, if a device is acting as Central, the scan window (in set\_scan\_params and create\_connection commands) must be less than the existing Connection Interval. The suggested ratio of Scan Window to Connection Interval is 2:3.
- In BLE mode, if scanning and advertising are in progress on the SiWx91x module and it subsequently gets connected and moves to the central role, scanning stops else if it moves to the peripheral role, advertising stops. To further establish a connection to another peripheral device or to a central device, the application should give a command for starting advertising and scanning again.

**Co-Existence**

- For concurrent Wi-Fi + BLE, and while a Wi-Fi connection is active, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
- Wi-Fi + BLE Advertising
  - All standard advertising intervals are supported. As Wi-Fi throughput is increased, a slight difference in on-air advertisements compared to configured intervals may be observed.
  - BLE advertising is skipped if the advertising interval collides with Wi-Fi activity.
- Wi-Fi + BLE scanning
  - All standard scan intervals are supported. For better scan results, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
  - BLE scanning will be stopped for intervals that collide with Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Connections
  - All standard connection intervals are supported.
  - For a stable connection, use optimal connection intervals and max supervision timeout in the presence of Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Data Transfer
  - To achieve higher throughput for both Wi-Fi and BLE, use medium connection intervals, such as 45 to 80 ms with maximum supervision timeout.
  - Ensure Wi-Fi activity consumes lower intervals.

**Known Issues**

**Sensorhub**

- Support for ADC FIFO Mode and Multi channel is open
- PS1-state supports only ADC sensor
- Power transitions with AWS are not stable in Sensorhub

**Network Stack**

- Sometimes during SSL Handshake, ECC curve parameters generated are wrong, resulting in connection failure with BBD2 error. However, this recovers in the next attempt.
- Randomize the client port if using rapid connect/disconnect of the MQTT session on the same client port with the power save.
- Secure SSL renegotiation not supported in Embedded Networking Stack.
- Disable power save before making TCP connection for NCP-UART interface.

**Wi-Fi**

- TWT device (STA) may not go to sleep in between TWT intervals in case of burst data traffics with data size more than the configured 'average tx throughput', until completion of data transfer.
- There are performance and IOP issues with MU MIMO.
- WPA3 Connection with the Hunting and Pecking algorithm takes about 3-4 seconds.
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.
- Low Wi-Fi+BLE throughput
- TCP/UDP TX/RX Data stall observed in CoEx scenarios
- Observed HTTPS Continuous download fails with TA Power save
- Performance improvements are in progress for lower performance metrics.
- Observed interop issue (connectivity failure) with few AP's when device reset/reboot happens on active connection.
- In concurrent mode, AP restart fails after stopping it with ap\_stop command.
- DUT deep sleep will not work after stopping AP with ap\_stop command.
- Unable to get SNTP async events when coex mode and Power save is enabled
- Fine Tuning 802.11ax Spectral mask in Progress
- Fine Tuning 11b mask in Ch11 in progress
- DUT is unable to connect to the AP with WPA3 security when we enable coex mode (WLAN+BLE) in opermode
- Socket listen API is failing from the second iteration
- Disconnections observed with Netgear RAX120 AP in WPA3 security
- Observed connection failures with some AP's in more channel congestion open lab environment
- Firmware Upgrade example is not working in PSRAM boards

**BLE**

- HID profile data transfer is not working, when power save is enabled in SoC.
- BLE reconnection is not working in ble_multiconnection_gatt demo, when power save is enabled in SoC
- BLE throughputs are less with STM32 compared to EFR

**Co-Existence**

- Observed HTTP continuous download is not happening in Powersave mode after BLE connection established using wifi\_https\_ble\_dual\_role application
- Observed DUT hang while Wi-Fi UDP/TCP Tx and BLE continuous scan.

**System**

- BRD8045A and BRD8045C does not have CTS and RTS pins routed from SiWx917 NCP, which are used for UART flow control

**MCU**

- Refer to the respective Radio board user guides for specific pinout details. Examples are targeted to a specific version mentioned in the respective readme.
- Few peripherals like WDT when configured with RO clock is not working as expected. No impact on the feature but the clocks are not accurate.
- ADC Differential mode is not working as expected if negative input value set above 2.4V.
- Few(BOD, Comparator and SysRTC) wakeup resources are not working as expected in Power manager service.
- Observed expected RO and BJT Temperature values only on calibrated FW18 boards.
- Force generate is required in order to generate pin_config.h from the Pin tool because Simplicity Studio's generate option isn't functioning in current version.
- SSI supports only upto 23MHz now
- Character Timeout feature for all communication protocols
- ADC Multichannel support is not present at different Sample rates HP -100K, ULP 10k/500 samples - not working
- NVM3 is currently not supported for OPN
- it's important to select Non-psram examples manually for OPNs because unsupported examples are also included in the "Example Projects & Demos" section.
- ULP_ADC and ULP_I2S are not working as expected

**Limitations and Unsupported Features**

**SDK**

- WiSeConnect3_SDK_3.1.3 and later versions are not compatible with firmware versions prior to 1711.2.10.1.2.0.4, due to enhancements in max transmit power configuration during Wi-Fi join/connection, need to be cautious while doing OTA firmware upgrade.

**Wi-Fi/Network Stack**

- TLS 1.3 Server is not supported
- In AP mode, IPv6 Router Advertisements are not supported. Although STA connected to the APUT can transfer IPv6 data to the peers by using SLAAC for address configuration.
- When sl\_wifi\_enable\_target\_wake\_time() API is used, observed occasional MQTT disconnections with longer TWT intervals (>30secs) with embedded MQTT + TWT.
- AMSDU TX is not supported.
- Fragmentation is not supported.
- AMSDUs within AMPDU is not supported.
- Currently, the module does not support Radio Measurement Requests feature of CCX V2
- 802.11k is not supported
- 40 MHz bandwidth for 2.4 GHz band is not supported.
- 802.11J channel 14 is not supported.
- MQTT versions 3 and 4 are supported.
- Maximum of 3 SSL connections are supported.
- In SSL ECC Curve ID supported is 23. SSL handshake with 3rd party clients depends on the SSL ECC Curve ID.
- LP mode is not supported.
- In iTWT mode, downlink data traffic should be limited. Disconnections may be observed if AP fails to send all the buffered data in the next TWT Service Period.
- Number of MBSSIDs processed is limited by the beacon length that can be processed by the stack (which is limited to 1024 bytes). Beacons greater than 1024 Bytes in length will not be processed.
- CoEx + EAP Security in 352K/320k is not feasible. This issue is observed due to a lack of memory in the 352k/320k Memory Configuration. It is supported with other EXT\_FEAT\_416K\_M4SS\_256K and EXT\_FEAT\_480K\_M4SS\_192K memory configurations.
- UL MUMIMO is not supported.
- The embedded HTTP server is not supported.
- Baremetal is not supported.
- Compared to SoC mode, NCP mode has fewer examples, but more will be enabled in upcoming releases.
- Maximum Supported length for Embedded MQTT username up to 120 bytes , topic length up to 200 bytes and password upto 62 bytes.
- UART 2 Debug prints are supported only on ULP_GPIO_9.
- WOW LAN feature is not supported.
- SA Query procedure is not supported in AP mode.
- Maximum Supported length for HTTP GET URL is up to 2048 bytes.
- Azure SDK with embedded MQTT is not supported.
- Power save is not supported in Azure MQTT.
- MDNS service discovery is currently not supported.
- sli_si91x_accept_async is not thread-safe
- Observed some background compatibility issues with coex and http in few corner cases
- AP mode does not support Tx and Rx aggregation in Concurrent mode.
- Concurrent STA mode, Rx aggregation is not supported. Tx aggregation is supported but it is not recommended.
- AP standalone mode does not support Tx aggregation. Rx aggregation is supported with limited number of BA sessions.

**BLE**

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.
- BLE TX/RX throughput is less when tested with EFM as compared to EFR
- Maximum supported AE data length is 200 bytes.
- Supports only two ADV\_EXT sets.
- Supports only two BLE connections (1 Central and 1 Peripheral) with AE.
- Advertising Extension feature is not supported in Coexistence.
- The  ae\_central & ae\_peripheral applications are not supported with TA\_352K\_M4\_320K RAM configuration.
- Setting PLL mode as 1 is not supported in Coexistence

**MCU**

- ULP Peripherals examples configurations are for RAM-based execution, as flash is powered off in ULP Mode.
- Manual chip select option is not supported when using GSPI.
- SSI Dual and Quad mode is not working as expected.
- SPI sensor will not work in the Sensor HUB application.
- For ADC Multichannel sampling rate is limited to less than 15Ksps, number of samples is less than 500 and with a maximum of 4 channel
- Added power manager support to ULP_ADC, ULP_ADC_MultiChannel, ULP_Calendar, ULP_I2C_Driver examples
- Pin tool phase-2 would be available from GSDK v4.4.2-rc1 and above
- TA Connected sleep and M4 PS2 sleep aren't compatible with our SI917 design
- M4 PS2 active and sleep is not supported when SL_SI91X_EXT_FEAT_FRONT_END_SWITCH_PINS_ULP_GPIO_4_5_0 is enabled in SoC mode

**Simplicity Studio and Commander**

- Default GDB debug configuration is not supported for SoC projects, work around details provided in "Getting-Started-with-SiWx917"
- Observing flash download failures(ERROR 108) for a few image sizes
- While creating project through Simplicity Studio, "copy contents" option not supported.
- Simplicity commander does not support options under "Debug Lock tools".
- All projects in the package are compatible with GCC 10.3.1 version.

**Terminology**

|**Term**|**Description**|
| :- | :- |
|**New Features**|These items are new to this release|
|**Changes/Issues Fixed**|Changes made to existing features found in previous software releases.|
||Enhancements to existing product flow and feature set.|
||Bug fixes done in the release|
|**Deprecated Items**|Features or functions or APIs that are removed from the distributed release to align with the software roadmap|
|**Known Issues**|Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases|
|**Limitations/Recommendations**|Describes the limitations on product usage and recommendations for optimal use cases|

**Note**

- Change SPI frequency to 12.5Mhz while measuring BLE throughput with EFR32

<br>

**WiSeConnect3\_SDK\_3.2.0-rc4 Release Notes**

This SDK package supports SoC Mode and NCP Mode for B0:

- In SoC Mode: Customer applications can run on Cortex M4. Wireless, network, and security stacks run on the wireless subsystem.
- In NCP mode: Wireless, network, and security stacks run on the Wireless subsystem. Customer applications run on the external host MCU.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

**Note**: Use Simplicity Studio version SV5.8.0.1 onwards

**SoC Highlights**

- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support ultra low power Wi-Fi standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode
- **MCU examples** : GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers, Config Timers, ULP (Ultra Low Power) Timers, Sleeptimer, IOSTREAM, NVM3, MEMLCD, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, Sensorhub, Joystick and Relative Humidity and Temparature sensor(RHT), Analog Comparator, Digital to Analog Converter and Temperature sensor(RO and BJT)
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE whitelisting, and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack, All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS client
- **IDE** : Simplicity Studio with Windows 10(64-bit), Linux, Mac OS
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** :
  - Si-MB4002A Main board
  - SiWx917 Radio boards

|**RadioBoard Type**|**SiWx917B0 with Board Version**|
| :- | :- |
|Common flash|Si917-BRD4338A(2.0)|
|Dual flash|Si917-BRD4339B(2.0)|
|External PSRAM|Si917-BRD4340A(2.0), Si917-BRD4342A(2.0)|

**NCP Highlights**

- **Host Interface** : SPI, UART
- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode.
- **Wi-Fi** : 2.4GHz Wi-Fi Support, WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE Whitelisting and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack , BLE Stack , All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS Client.
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **Hardware kits to evaluate NCP Mode**
  - NCP EFR Expansion Kit with NCP Radio board (BRD4338A(NCP MBR) + BRD8045A)
  - Wireless Pro kit Mainboard BRD4002A Rev A06
  - EFR32xG24 Wireless 2.4 GHz +10 dBm Radio Board xG24-RB4186C

**Release Details**

|**Item**|**Details**|
| :- | :- |
|Release date|Apr 19th, 2024|
|SDK Version|3\.2.0-rc4|
|Firmware Version|1711\.2.11.1.0.0.6|
|Package Name|WiSeConnect3\_SDK\_3.2.0-rc4|
| GSDK Version | 4.4.2 |
|Supported RTOS|FreeRTOS|
|Operating Modes Supported|Wi-Fi STA, Wi-Fi AP, Wi-Fi STA+BLE, Wi-Fi STA+AP|
|Build Quality|GA|

- SiWx917 release consists of two components
  - Wireless Firmware - SiWx917 Firmware Binaries
  - Wiseconnect3 Library - Wiseconnect3 SDK library runs on the external host in NCP mode and internal Cortex M4 in SoC Mode.
- This release is meant only for use with designs based on SiWx917 Silicon
- The firmware to load is available in the following format:
  - SiWG917-B.2.11.1.x.0.x.rps - B0 Full-featured firmware binary

**Features Supported**

**Sensorhub service**

- Support for ADC, SPI, SDC and I2C based sensors
- Support for PS2 and sleep wakeups
- Support added for SDC
- SoC OPN based project support in SSv5
- List of OPN's supported si917-sb00, siwg917m111mgtba, siwg917m100mgtba, siwg917m111xgtba, siwg917m100xntba, siwg917m121xgtba, siwg917m110lgtba and siwg917m141xgtba

**MCU**

- ADC Single Channel, ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, GPIO, I2C, I2S, NVM3, OPAMP, PSRAM, PWM, QEI, RTC, SDIO Secondary, SPI Master and Slave, UART, Micro DMA, USART, Watchdog Timer, Temperature Sensor(RO and BJT), USART Master and Slave
- UC Supported Peripherals - GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers , Config Timers, ULP (Ultra Low Power) Timers, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, MEMLCD, Analog Comparator and Digital to Analog Converter.
- Services - Sleeptimer, IOSTREAM, NVM3, Power Manager and Pin Tool (support for USART, I2C, SSI, GSPI, SIO, SCT, PWM and I2S).
- ULP (Ultra Low Power) Peripherals - ulp\_gpio, ulp\_adc ulp\_i2c, ulp\_i2s, ulp\_ir\_decoder, ulp\_spi, ulp\_timer, ulp\_uart, ulp\_udma, ulp\ssi
- Extended flash write support for NWP flash region and added read api to read from NWP flash region

**Wi-Fi**

- WPA2/WPA3 Personal, WPS and WPA2-EAP Support for Station Mode
- TCP/IP stack with IPv4, IPv6, TCP, UDP, TLS, HTTP/HTTPS, DHCPv4, DHCPv6, MQTT Client, DNS Client, SNTP client.
- Support for SSL client versions TLSV1.0, TLSV1.2, TLSV1.3 and SSL server versions TLSV1.0 and TLSV1.2
- Wi-Fi STA (802.11n/802.11ax) + 802.11n AP Support
- HE (802.11ax) and Individual TWT Feature Support
- Multiple BSSID feature support as an STA
- Secure OTA support on B0 radio boards.
- Support for LWIP network stack
- Support for AWS MQTT library
- Support for Azure MQTT library
- Support for BSD and IoT sockets application programming interface(API)

**Bluetooth Low Energy**

- BLE central & peripheral connections are supported.
- Ultra-low power save is supported.

**Power Save**

- Max PSP, enhanced MAX PSP, Fast PSP, and 802.11ax TWT power save modes are supported in WiFi.
- Only Max PSP power save mode is supported in BLE

**Crypto Support**

- AES, SHA, AES-CCM, HMAC, GCM, Chacha-poly, ECDH and TRNG FW Crypto API support added.
- PSA enabled Mbed TLS support added
- NVM support added for key storage
- Symmetric and asymmetric key storage
- TRNG, AES, SHA, HMAC, GCM, Chacha-poly, ECDH and AES-CCM hardware crypto engine is integrated with PSA crypto.

**Changes and Fixes**

**SDK**
- Documentation enhancements

**MCU**

- Fixed documentation links issue.
- Added QSPI example support
- The retention voltage fix for FW17 boards has been moved from the sl_si91x_trigger_sleep API to the sl_wifi_init AP
- SQA Bugs: SI91X-15444, SI91X-15225, SI91X-15343, SI91X-15105, SI91X-14658, SI91X-15238, SI91X-14955, SI91X-15134, SI91X-15184, SI91X-15360

**Wi-Fi & Network Stack**

- Enabled rejoin support in http otaf application.
- Added documentation feedback fixes.
- wifisdk maintainability reported issue fixes, RSCDEV-26936.
- configTIMER_TASK_PRIORITY is changed to 55 for NCP applications
- Increased the stack size for bus thread to 1636
- SQA Bugs: SI91X-15415, SI91X-15416, SI91X-14369, SI91X-15375, SI91X-15279, SI91X-15367, SI91X-15146, SI91X-15233, SI91X-15374, SI91X-15417, SI91X-15436, SI91X-15355, SI91X-14973, SI91X-14780, SI91X-15528, SI91X-15166, SI91X-15386, SI91X-15271, SI91X-15201, SI91X-15496, SI91X-15366, SI91X-15150, SI91X-15381, SI91X-15211, SI91X-15508, SI91X-15249, SI91X-14548, SI91X-15205, SI91X-15207, SI91X-15285, SI91X-15303, SI91X-14952, SI91X-15542, SI91X-14814, SI91X-15459, SI91X-15126


**BLE**

 - Updated readme files for "ble_accept_list" and "ble_testmodes" applications based on OOB feedback.
 - Added change to obtain 6 bytes Bluetooth device address when the "rsi_bt_get_local_device_address" API is called in all BLE applications.
 - Updated "tx_power" description for HP mode in "rsi-ble-per-transmit-s" structure.
 - Fixed invalid connection request(CVE-2019-19193) vulnerability.

**CoEx**

**System**

- None

**Recommendations**

**System**

- The current revision of SiWx917 B0 has:
  - RAM memory of 672k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_672K\_M4SS\_0K- This mode configures TA with 672k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By default EXT\_FEAT\_352K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_480K\_M4SS\_192K - This mode configures TA with 480k and M4 with 192K bytes of memory
    - EXT\_FEAT\_416K\_M4SS\_256K - This mode configures TA with 416k and M4 with 256K bytes of memory
    - EXT\_FEAT\_352K\_M4SS\_320K - This mode configures TA with 352k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 672K\_M4SS\_0K.
  - SoC mode should not use 672k\_M4SS\_0k memory configuration.
- Set the recommended Power Save Profile (PSP) type to Enhanced Max PSP.

**IDE**

- Download the latest version of Simplicity Studio
- Refer to the latest version of the SoC/NCP "Getting-Started-with-SiWx917" guide for more details

**Wi-Fi & Network Stack****

- The recommended embedded MQTT Publish payload is 1 kBytes.
- It is recommended to enable bit 16 of the 'Extended TCP IP Feature' bit map in the opermode command for all Wi-Fi Socket operations from the host to ensure graceful handling during asynchronous closures from the peer.
- Aggregation (bit 2 of feature\_bit\_map) is recommended to be enabled in opermode. This enables software to aggregate multiple packets to achieve better throughput
- TCP retransmission count value is recommended to be 30 or higher so that the TCP does not disconnect while the rejoin happens.
- To restart the module, the application needs to call sl\_wifi\_deinit() followed by sl\_wifi\_init().
- Register 'Join Fail Callback' function every time when join is called, as in the rejoin failure path the callback is deregistered. If not done, this might result in a scan not functioning on rejoin failure.
- User can enable SL\_SI91X\_EXT\_TCP\_IP\_SSL\_16K\_RECORD in 'Extended TCP IP Feature'bit map in opermode, if HTTPS download is failing after receiving HTTP headers..
- iTWT setup is recommended after IP assignment/TCP connection/application specific socket connections.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, increase TCP / ARP Timeouts at the remote side depending upon the configured TWT interval configured.
- In case of TWT+coex, when using sl\_wifi\_enable\_target\_wakeup\_time API, use TWT wake duration <= 16 ms and TWT wake interval >= 1 sec. If wake duration > 16 ms or TWT wake interval < 1sec, there might be performance issues.
- For iTWT GTK Interval Should be kept max possible value or zero. If GTK interval is not configurable, recommended TWT interval (in case of sl\_wifi\_enable\_target\_wakeup\_time API) or RX Latency (in case of sl\_wifi\_target\_wake\_time\_auto\_selection API) is less than 4sec.
- Disable Power Save for High Throughput Applications.
- The application needs to ensure that it sets RTC with the correct timestamp when the feature is enabled before establishing the SSL connection.
- The timeout value should not be less than 1 second for socket select and socket receive calls. Timeout value of less than 1 second is not currently supported.
- When sl\_wifi\_enable\_target\_wakeup\_time API is used, configuring TWT Wake interval beyond 1 min might lead to disconnections from the AP. Recommended to use TWT wakeup interval of less than or equal to 1 min.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, it is recommended to set missed\_beacon\_count of sl\_wifi\_set\_advanced\_client\_configuration API greater than 2 times of the configured TWT Interval.
- Disable power save and suspend any active TWT sessions before triggering HTTP OTAF.
- It is recommended to enable bit 31 of the 'TCP IP Feature' bit map in the opermode command to support multicast protocol

**BLE**

- In BLE, the recommended range of Connection Interval in
  - Power Save (BLE Only) - 100 ms to 1.28 s.
- In BLE, during Connection, the configuration of Scan Interval and Scan Window with the same value is not recommended. The suggested ratio of Scan Window to Scan Interval is 3:4.
- In BLE, if a device is acting as Central, the scan window (in set\_scan\_params and create\_connection commands) must be less than the existing Connection Interval. The suggested ratio of Scan Window to Connection Interval is 2:3.
- In BLE mode, if scanning and advertising are in progress on the SiWx91x module and it subsequently gets connected and moves to the central role, scanning stops else if it moves to the peripheral role, advertising stops. To further establish a connection to another peripheral device or to a central device, the application should give a command for starting advertising and scanning again.

**Co-Existence**

- For concurrent Wi-Fi + BLE, and while a Wi-Fi connection is active, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
- Wi-Fi + BLE Advertising
  - All standard advertising intervals are supported. As Wi-Fi throughput is increased, a slight difference in on-air advertisements compared to configured intervals may be observed.
  - BLE advertising is skipped if the advertising interval collides with Wi-Fi activity.
- Wi-Fi + BLE scanning
  - All standard scan intervals are supported. For better scan results, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
  - BLE scanning will be stopped for intervals that collide with Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Connections
  - All standard connection intervals are supported.
  - For a stable connection, use optimal connection intervals and max supervision timeout in the presence of Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Data Transfer
  - To achieve higher throughput for both Wi-Fi and BLE, use medium connection intervals, such as 45 to 80 ms with maximum supervision timeout.
  - Ensure Wi-Fi activity consumes lower intervals.

**Known Issues**

**Sensorhub**

- Support for ADC FIFO Mode and Multi channel is open
- PS1-state supports only ADC sensor
- Power transitions with AWS are not stable in Sensorhub

**Network Stack**

- Sometimes during SSL Handshake, ECC curve parameters generated are wrong, resulting in connection failure with BBD2 error. However, this recovers in the next attempt.
- Randomize the client port if using rapid connect/disconnect of the MQTT session on the same client port with the power save.
- Secure SSL renegotiation not supported in Embedded Networking Stack.
- Disable power save before making TCP connection for NCP-UART interface.

**Wi-Fi**

- TWT device (STA) may not go to sleep in between TWT intervals in case of burst data traffics with data size more than the configured 'average tx throughput', until completion of data transfer.
- There are performance and IOP issues with MU MIMO.
- WPA3 Connection with the Hunting and Pecking algorithm takes about 3-4 seconds.
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.
- Low Wi-Fi+BLE throughput
- TCP/UDP TX/RX Data stall observed in CoEx scenarios
- Observed HTTPS Continuous download fails with TA Power save
- Performance improvements are in progress for lower performance metrics.
- Observed interop issue (connectivity failure) with few AP's when device reset/reboot happens on active connection.
- In concurrent mode, AP restart fails after stopping it with ap\_stop command.
- DUT deep sleep will not work after stopping AP with ap\_stop command.
- Unable to get SNTP async events when coex mode and Power save is enabled
- Fine Tuning 802.11ax Spectral mask in Progress
- Fine Tuning 11b mask in Ch11 in progress
- DUT is unable to connect to the AP with WPA3 security when we enable coex mode (WLAN+BLE) in opermode
- Socket listen API is failing from the second iteration
- Disconnections observed with Netgear RAX120 AP in WPA3 security
- Observed connection failures with some AP's in more channel congestion open lab environment
- Firmware Upgrade example is not working in PSRAM boards

**BLE**

- HID profile data transfer is not working, when power save is enabled in SoC.
- BLE reconnection is not working in ble_multiconnection_gatt demo, when power save is enabled in SoC
- BLE throughputs are less with STM32 compared to EFR

**Co-Existence**

- Observed HTTP continuous download is not happening in Powersave mode after BLE connection established using wifi\_https\_ble\_dual\_role application
- Observed DUT hang while Wi-Fi UDP/TCP Tx and BLE continuous scan.

**System**

- BRD8045A and BRD8045C does not have CTS and RTS pins routed from SiWx917 NCP, which are used for UART flow control

**MCU**

- Refer to the respective Radio board user guides for specific pinout details. Examples are targeted to a specific version mentioned in the respective readme.
- Few peripherals like WDT when configured with RO clock is not working as expected. No impact on the feature but the clocks are not accurate.
- ADC Differential mode is not working as expected if negative input value set above 2.4V.
- Few(BOD, Comparator and SysRTC) wakeup resources are not working as expected in Power manager service.
- Observed expected RO and BJT Temperature values only on calibrated FW18 boards.
- Force generate is required in order to generate pin_config.h from the Pin tool because Simplicity Studio's generate option isn't functioning in current version.
- SSI supports only upto 23MHz now
- Character Timeout feature for all communication protocols
- ADC Multichannel support is not present at different Sample rates HP -100K, ULP 10k/500 samples - not working
- NVM3 is currently not supported for OPN
- it's important to select Non-psram examples manually for OPNs because unsupported examples are also included in the "Example Projects & Demos" section.
- ULP_ADC and ULP_I2S are not working as expected

**Limitations and Unsupported Features**

**SDK**

- WiSeConnect3_SDK_3.1.3 and later versions are not compatible with firmware versions prior to 1711.2.10.1.2.0.4, due to enhancements in max transmit power configuration during Wi-Fi join/connection, need to be cautious while doing OTA firmware upgrade.

**Wi-Fi/Network Stack**

- TLS 1.3 Server is not supported
- In AP mode, IPv6 Router Advertisements are not supported. Although STA connected to the APUT can transfer IPv6 data to the peers by using SLAAC for address configuration.
- When sl\_wifi\_enable\_target\_wake\_time() API is used, observed occasional MQTT disconnections with longer TWT intervals (>30secs) with embedded MQTT + TWT.
- AMSDU TX is not supported.
- Fragmentation is not supported.
- AMSDUs within AMPDU is not supported.
- Currently, the module does not support Radio Measurement Requests feature of CCX V2
- 802.11k is not supported
- 40 MHz bandwidth for 2.4 GHz band is not supported.
- 802.11J channel 14 is not supported.
- MQTT versions 3 and 4 are supported.
- Maximum of 3 SSL connections are supported.
- In SSL ECC Curve ID supported is 23. SSL handshake with 3rd party clients depends on the SSL ECC Curve ID.
- LP mode is not supported.
- In iTWT mode, downlink data traffic should be limited. Disconnections may be observed if AP fails to send all the buffered data in the next TWT Service Period.
- Number of MBSSIDs processed is limited by the beacon length that can be processed by the stack (which is limited to 1024 bytes). Beacons greater than 1024 Bytes in length will not be processed.
- CoEx + EAP Security in 352K/320k is not feasible. This issue is observed due to a lack of memory in the 352k/320k Memory Configuration. It is supported with other EXT\_FEAT\_416K\_M4SS\_256K and EXT\_FEAT\_480K\_M4SS\_192K memory configurations.
- UL MUMIMO is not supported.
- The embedded HTTP server is not supported.
- Baremetal is not supported.
- Compared to SoC mode, NCP mode has fewer examples, but more will be enabled in upcoming releases.
- Maximum Supported length for Embedded MQTT username up to 120 bytes , topic length up to 200 bytes and password upto 62 bytes.
- UART 2 Debug prints are supported only on ULP_GPIO_9.
- WOW LAN feature is not supported.
- SA Query procedure is not supported in AP mode.
- Maximum Supported length for HTTP GET URL is up to 2048 bytes.
- Azure SDK with embedded MQTT is not supported.
- Power save is not supported in Azure MQTT.
- MDNS service discovery is currently not supported.
- sli_si91x_accept_async is not thread-safe
- Observed some background compatibility issues with coex and http in few corner cases
- AP mode does not support Tx and Rx aggregation in Concurrent mode.
- Concurrent STA mode, Rx aggregation is not supported. Tx aggregation is supported but it is not recommended.
- AP standalone mode does not support Tx aggregation. Rx aggregation is supported with limited number of BA sessions.

**BLE**

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.
- BLE TX/RX throughput is less when tested with EFM as compared to EFR
- Maximum supported AE data length is 200 bytes.
- Supports only two ADV\_EXT sets.
- Supports only two BLE connections (1 Central and 1 Peripheral) with AE.
- Advertising Extension feature is not supported in Coexistence.
- The  ae\_central & ae\_peripheral applications are not supported with TA\_352K\_M4\_320K RAM configuration.
- Setting PLL mode as 1 is not supported in Coexistence

**MCU**

- ULP Peripherals examples configurations are for RAM-based execution, as flash is powered off in ULP Mode.
- Manual chip select option is not supported when using GSPI.
- SSI Dual and Quad mode is not working as expected.
- SPI sensor will not work in the Sensor HUB application.
- For ADC Multichannel sampling rate is limited to less than 15Ksps, number of samples is less than 500 and with a maximum of 4 channel
- Added power manager support to ULP_ADC, ULP_ADC_MultiChannel, ULP_Calendar, ULP_I2C_Driver examples
- Pin tool phase-2 would be available from GSDK v4.4.2-rc1 and above
- TA Connected sleep and M4 PS2 sleep aren't compatible with our SI917 design
- M4 PS2 active and sleep is not supported when SL_SI91X_EXT_FEAT_FRONT_END_SWITCH_PINS_ULP_GPIO_4_5_0 is enabled in SoC mode

**Simplicity Studio and Commander**

- Default GDB debug configuration is not supported for SoC projects, work around details provided in "Getting-Started-with-SiWx917"
- Observing flash download failures(ERROR 108) for a few image sizes
- While creating project through Simplicity Studio, "copy contents" option not supported.
- Simplicity commander does not support options under "Debug Lock tools".
- All projects in the package are compatible with GCC 10.3.1 version.

**Terminology**

|**Term**|**Description**|
| :- | :- |
|**New Features**|These items are new to this release|
|**Changes/Issues Fixed**|Changes made to existing features found in previous software releases.|
||Enhancements to existing product flow and feature set.|
||Bug fixes done in the release|
|**Deprecated Items**|Features or functions or APIs that are removed from the distributed release to align with the software roadmap|
|**Known Issues**|Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases|
|**Limitations/Recommendations**|Describes the limitations on product usage and recommendations for optimal use cases|

**Note**

- Change SPI frequency to 12.5Mhz while measuring BLE throughput with EFR32

<br>

**WiSeConnect3\_SDK\_3.2.0-rc3 Release Notes**

This SDK package supports SoC Mode and NCP Mode for B0:

- In SoC Mode: Customer applications can run on Cortex M4. Wireless, network, and security stacks run on the wireless subsystem.
- In NCP mode: Wireless, network, and security stacks run on the Wireless subsystem. Customer applications run on the external host MCU.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

**Note**: Use Simplicity Studio version SV5.8.0.1 onwards

**SoC Highlights**

- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support ultra low power Wi-Fi standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode
- **MCU examples** : GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers, Config Timers, ULP (Ultra Low Power) Timers, Sleeptimer, IOSTREAM, NVM3, MEMLCD, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, Sensorhub, Joystick and Relative Humidity and Temparature sensor(RHT), Analog Comparator, Digital to Analog Converter and Temperature sensor(RO and BJT)
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE whitelisting, and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack, All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS client
- **IDE** : Simplicity Studio with Windows 10(64-bit), Linux, Mac OS
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** :
  - Si-MB4002A Main board
  - SiWx917 Radio boards

|**RadioBoard Type**|**SiWx917B0 with Board Version**|
| :- | :- |
|Common flash|Si917-BRD4338A(2.0)|
|Dual flash|Si917-BRD4339B(2.0)|
|External PSRAM|Si917-BRD4340A(2.0), Si917-BRD4342A(2.0)|

**NCP Highlights**

- **Host Interface** : SPI, UART
- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode.
- **Wi-Fi** : 2.4GHz Wi-Fi Support, WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE Whitelisting and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack , BLE Stack , All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS Client.
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **Hardware kits to evaluate NCP Mode**
  - NCP EFR Expansion Kit with NCP Radio board (BRD4338A(NCP MBR) + BRD8045A)
  - Wireless Pro kit Mainboard BRD4002A Rev A06
  - EFR32xG24 Wireless 2.4 GHz +10 dBm Radio Board xG24-RB4186C

**Release Details**

|**Item**|**Details**|
| :- | :- |
|Release date|Mar 29th, 2024|
|SDK Version|3\.2.0-rc3|
|Firmware Version|1711\.2.11.1.0.0.3|
|Package Name|WiSeConnect3\_SDK\_3.2.0-rc3|
|Supported RTOS|FreeRTOS|
|Operating Modes Supported|Wi-Fi STA, Wi-Fi AP, Wi-Fi STA+BLE, Wi-Fi STA+AP|
|Build Quality|GA|

- SiWx917 release consists of two components
  - Wireless Firmware - SiWx917 Firmware Binaries
  - Wiseconnect3 Library - Wiseconnect3 SDK library runs on the external host in NCP mode and internal Cortex M4 in SoC Mode.
- This release is meant only for use with designs based on SiWx917 Silicon
- The firmware to load is available in the following format:
  - SiWG917-B.2.11.1.x.0.x.rps - B0 Full-featured firmware binary

**Features Supported**

**Sensorhub service**

- Support for ADC, SPI, SDC and I2C based sensors
- Support for PS2 and sleep wakeups
- Support added for SDC
- SoC OPN based project support in SSv5
- List of OPN's supported si917-sb00, siwg917m111mgtba, siwg917m100mgtba, siwg917m111xgtba, siwg917m100xntba, siwg917m121xgtba, siwg917m110lgtba and siwg917m141xgtba

**MCU**

- ADC Single Channel, ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, GPIO, I2C, I2S, NVM3, OPAMP, PSRAM, PWM, QEI, RTC, SDIO Secondary, SPI Master and Slave, UART, Micro DMA, USART, Watchdog Timer, Temperature Sensor(RO and BJT), USART Master and Slave
- UC Supported Peripherals - GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers , Config Timers, ULP (Ultra Low Power) Timers, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, MEMLCD, Analog Comparator and Digital to Analog Converter.
- Services - Sleeptimer, IOSTREAM, NVM3, Power Manager and Pin Tool (support for USART, I2C, SSI, GSPI, SIO, SCT, PWM and I2S).
- ULP (Ultra Low Power) Peripherals - ulp\_gpio, ulp\_adc ulp\_i2c, ulp\_i2s, ulp\_ir\_decoder, ulp\_spi, ulp\_timer, ulp\_uart, ulp\_udma
- Extended flash write support for NWP flash region and added read api to read from NWP flash region

**Wi-Fi**

- WPA2/WPA3 Personal, WPS and WPA2-EAP Support for Station Mode
- TCP/IP stack with IPv4, IPv6, TCP, UDP, TLS, HTTP/HTTPS, DHCPv4, DHCPv6, MQTT Client, DNS Client, SNTP client.
- Support for SSL client versions TLSV1.0, TLSV1.2, TLSV1.3 and SSL server versions TLSV1.0 and TLSV1.2
- Wi-Fi STA (802.11n/802.11ax) + 802.11n AP Support
- HE (802.11ax) and Individual TWT Feature Support
- Multiple BSSID feature support as an STA
- Secure OTA support on B0 radio boards.
- Support for LWIP network stack
- Support for AWS MQTT library
- Support for Azure MQTT library
- Support for BSD and IoT sockets application programming interface(API)

**Bluetooth Low Energy**

- BLE central & peripheral connections are supported.
- Ultra-low power save is supported.

**Power Save**

- Max PSP, enhanced MAX PSP, Fast PSP, and 802.11ax TWT power save modes are supported in WiFi.
- Only Max PSP power save mode is supported in BLE

**Crypto Support**

- AES, SHA, AES-CCM, HMAC, GCM, Chacha-poly, ECDH and TRNG FW Crypto API support added.
- PSA enabled Mbed TLS support added
- NVM support added for key storage
- Symmetric and asymmetric key storage
- TRNG, AES, SHA, HMAC, GCM, Chacha-poly, ECDH and AES-CCM hardware crypto engine is integrated with PSA crypto.

**Changes and Fixes**

**SDK**

- Fixed TX and command in flight issue in bus thread.
- Fixed false events and timeouts issue for the driver commands.
- Fixed deinit issue with mem pool buffer quota in SoC - RSCDEV-25868.

**MCU**

- Fixed documentation links.
- SI91X-15322, SI91X-14959, SI91X-15315.

**Wi-Fi & Network Stack**

- Code cleanup of Azure mqtt example.
- Add usage note to Wi-Fi callback.
- Fixed Sonarqube issues - RSCDEV-26769, RSCDEV-26887, RSCDEV-26870.
- Fixed lwip_tcp_client sl_net_up issue.
- Added default SSID and passphrase details in readme for access point configuration, SI91X-15368.
- Added an example for data transfer in station and ap interfaces in bridge mode.
- Added long URL support for HTTP OTAF, supporting URLs with a maximum length of 2048 bytes.
- Fixed Embedded mqtt state machine related issues while doing wlan connect and disconnect in a loop.
- Fixed mdns service discover issues.
- Added an example, flash_read_write, to read and write from flash.
- Resolved with extended headers enabled in the HTTP client application, SI91X-15335.
- Added changes to enable Higher PWM RO frequency mode to PMU block for FW17 boards.
- Updated the of network managment apis in dsc for 917 ncp, SI91X-14951.
- Fixed matter application commisioning issue, SI91X-15339.
- SQA bugs: SI91X-14832, SI91X-15143, SI91X-14928, SI91X-15148, SI91X-15147, SI91X-15223, SI91X-15084, SI91X-15222, SI91X-15015, SI91X-14209.

**BLE**

- Fixed reconnection issue in case of pairing failure.
- Fixed BLE disconnection issue while running wifi_https_ble_dual_role application when powersave is disabled.
- Added "ble_throughput_app" and "ble_power_save" applications for STM32.
- Code clean up of BLE driver module.
- SQA bugs: SI91X-15316, SI91X-14430, SI91X-14431.

**CoEx**

- Fixed build errors when power save enabled in mesh coex app.
- SQA bugs: SI91X-15342, SI91X-15167, SI91X-15286, SI91X-15166.

**System**

- None

**Recommendations**

**System**

- The current revision of SiWx917 B0 has:
  - RAM memory of 672k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_672K\_M4SS\_0K- This mode configures TA with 672k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By default EXT\_FEAT\_352K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_480K\_M4SS\_192K - This mode configures TA with 480k and M4 with 192K bytes of memory
    - EXT\_FEAT\_416K\_M4SS\_256K - This mode configures TA with 416k and M4 with 256K bytes of memory
    - EXT\_FEAT\_352K\_M4SS\_320K - This mode configures TA with 352k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 672K\_M4SS\_0K.
  - SoC mode should not use 672k\_M4SS\_0k memory configuration.
- Set the recommended Power Save Profile (PSP) type to Enhanced Max PSP.

**IDE**

- Download the latest version of Simplicity Studio
- Refer to the latest version of the SoC/NCP "Getting-Started-with-SiWx917" guide for more details

**Wi-Fi & Network Stack****

- The recommended embedded MQTT Publish payload is 1 kBytes.
- It is recommended to enable bit 16 of the 'Extended TCP IP Feature' bit map in the opermode command for all Wi-Fi Socket operations from the host to ensure graceful handling during asynchronous closures from the peer.
- Aggregation (bit 2 of feature\_bit\_map) is recommended to be enabled in opermode. This enables software to aggregate multiple packets to achieve better throughput
- TCP retransmission count value is recommended to be 30 or higher so that the TCP does not disconnect while the rejoin happens.
- To restart the module, the application needs to call sl\_wifi\_deinit() followed by sl\_wifi\_init().
- Register 'Join Fail Callback' function every time when join is called, as in the rejoin failure path the callback is deregistered. If not done, this might result in a scan not functioning on rejoin failure.
- User can enable SL\_SI91X\_EXT\_TCP\_IP\_SSL\_16K\_RECORD in 'Extended TCP IP Feature'bit map in opermode, if HTTPS download is failing after receiving HTTP headers..
- iTWT setup is recommended after IP assignment/TCP connection/application specific socket connections.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, increase TCP / ARP Timeouts at the remote side depending upon the configured TWT interval configured.
- In case of TWT+coex, when using sl\_wifi\_enable\_target\_wakeup\_time API, use TWT wake duration <= 16 ms and TWT wake interval >= 1 sec. If wake duration > 16 ms or TWT wake interval < 1sec, there might be performance issues.
- For iTWT GTK Interval Should be kept max possible value or zero. If GTK interval is not configurable, recommended TWT interval (in case of sl\_wifi\_enable\_target\_wakeup\_time API) or RX Latency (in case of sl\_wifi\_target\_wake\_time\_auto\_selection API) is less than 4sec.
- Disable Power Save for High Throughput Applications.
- The application needs to ensure that it sets RTC with the correct timestamp when the feature is enabled before establishing the SSL connection.
- The timeout value should not be less than 1 second for socket select and socket receive calls. Timeout value of less than 1 second is not currently supported.
- When sl\_wifi\_enable\_target\_wakeup\_time API is used, configuring TWT Wake interval beyond 1 min might lead to disconnections from the AP. Recommended to use TWT wakeup interval of less than or equal to 1 min.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, it is recommended to set missed\_beacon\_count of sl\_wifi\_set\_advanced\_client\_configuration API greater than 2 times of the configured TWT Interval.
- Disable power save and suspend any active TWT sessions before triggering HTTP OTAF.
- It is recommended to enable bit 31 of the 'TCP IP Feature' bit map in the opermode command to support multicast protocol

**BLE**

- In BLE, the recommended range of Connection Interval in
  - Power Save (BLE Only) - 100 ms to 1.28 s.
- In BLE, during Connection, the configuration of Scan Interval and Scan Window with the same value is not recommended. The suggested ratio of Scan Window to Scan Interval is 3:4.
- In BLE, if a device is acting as Central, the scan window (in set\_scan\_params and create\_connection commands) must be less than the existing Connection Interval. The suggested ratio of Scan Window to Connection Interval is 2:3.
- In BLE mode, if scanning and advertising are in progress on the SiWx91x module and it subsequently gets connected and moves to the central role, scanning stops else if it moves to the peripheral role, advertising stops. To further establish a connection to another peripheral device or to a central device, the application should give a command for starting advertising and scanning again.

**Co-Existence**

- For concurrent Wi-Fi + BLE, and while a Wi-Fi connection is active, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
- Wi-Fi + BLE Advertising
  - All standard advertising intervals are supported. As Wi-Fi throughput is increased, a slight difference in on-air advertisements compared to configured intervals may be observed.
  - BLE advertising is skipped if the advertising interval collides with Wi-Fi activity.
- Wi-Fi + BLE scanning
  - All standard scan intervals are supported. For better scan results, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
  - BLE scanning will be stopped for intervals that collide with Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Connections
  - All standard connection intervals are supported.
  - For a stable connection, use optimal connection intervals and max supervision timeout in the presence of Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Data Transfer
  - To achieve higher throughput for both Wi-Fi and BLE, use medium connection intervals, such as 45 to 80 ms with maximum supervision timeout.
  - Ensure Wi-Fi activity consumes lower intervals.

**Known Issues**

**Sensorhub**

- Support for ADC FIFO Mode and Multi channel is open
- PS1-state supports only ADC sensor
- Power transitions with AWS are not stable in Sensorhub

**Network Stack**

- Sometimes during SSL Handshake, ECC curve parameters generated are wrong, resulting in connection failure with BBD2 error. However, this recovers in the next attempt.
- Randomize the client port if using rapid connect/disconnect of the MQTT session on the same client port with the power save.
- Secure SSL renegotiation not supported in Embedded Networking Stack.
- Disable power save before making TCP connection for NCP-UART interface.

**Wi-Fi**

- TWT device (STA) may not go to sleep in between TWT intervals in case of burst data traffics with data size more than the configured 'average tx throughput', until completion of data transfer.
- There are performance and IOP issues with MU MIMO.
- WPA3 Connection with the Hunting and Pecking algorithm takes about 3-4 seconds.
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.
- Low Wi-Fi+BLE throughput
- TCP/UDP TX/RX Data stall observed in CoEx scenarios
- Observed HTTPS Continuous download fails with TA Power save
- Performance improvements are in progress for lower performance metrics.
- Observed interop issue (connectivity failure) with few AP's when device reset/reboot happens on active connection.
- In concurrent mode, AP restart fails after stopping it with ap\_stop command.
- DUT deep sleep will not work after stopping AP with ap\_stop command.
- Unable to get SNTP async events when coex mode and Power save is enabled
- Fine Tuning 802.11ax Spectral mask in Progress
- Fine Tuning 11b mask in Ch11 in progress
- DUT is unable to connect to the AP with WPA3 security when we enable coex mode (WLAN+BLE) in opermode
- Socket listen API is failing from the second iteration
- Disconnections observed with Netgear RAX120 AP in WPA3 security
- Observed connection failures with some AP's in more channel congestion open lab environment
- Firmware Upgrade example is not working in PSRAM boards

**BLE**

- HID profile data transfer is not working, when power save is enabled in SoC.
- BLE reconnection is not working in ble_multiconnection_gatt demo, when power save is enabled in SoC
- BLE throughputs are less with STM32 compared to EFR

**Co-Existence**

- Observed HTTP continuous download is not happening in Powersave mode after BLE connection established using wifi\_https\_ble\_dual\_role application
- Observed DUT hang while Wi-Fi UDP/TCP Tx and BLE continuous scan.

**System**

- None

**MCU**

- Refer to the respective Radio board user guides for specific pinout details. Examples are targeted to a specific version mentioned in the respective readme.
- Few peripherals like WDT when configured with RO clock is not working as expected. No impact on the feature but the clocks are not accurate.
- ADC Differential mode is not working as expected if negative input value set above 2.4V.
- Few(BOD, Comparator and SysRTC) wakeup resources are not working as expected in Power manager service.
- Observed expected RO and BJT Temperature values only on calibrated FW18 boards.
- Force generate is required in order to generate pin_config.h from the Pin tool because Simplicity Studio's generate option isn't functioning in current version.
- SSI supports only upto 23MHz now
- Character Timeout feature for all communication protocols
- ADC Multichannel support is not present at different Sample rates HP -100K, ULP 10k/500 samples - not working
- NVM3 is currently not supported for OPN
- it's important to select Non-psram examples manually for OPNs because unsupported examples are also included in the "Example Projects & Demos" section.

**Limitations and Unsupported Features**

**Wi-Fi/Network Stack**

- TLS 1.3 Server is not supported
- In AP mode, IPv6 Router Advertisements are not supported. Although STA connected to the APUT can transfer IPv6 data to the peers by using SLAAC for address configuration.
- When sl\_wifi\_enable\_target\_wake\_time() API is used, observed occasional MQTT disconnections with longer TWT intervals (>30secs) with embedded MQTT + TWT.
- AMSDU TX is not supported.
- Fragmentation is not supported.
- AMSDUs within AMPDU is not supported.
- Currently, the module does not support Radio Measurement Requests feature of CCX V2
- 802.11k is not supported
- 40 MHz bandwidth for 2.4 GHz band is not supported.
- 802.11J channel 14 is not supported.
- MQTT versions 3 and 4 are supported.
- Maximum of 3 SSL connections are supported.
- In SSL ECC Curve ID supported is 23. SSL handshake with 3rd party clients depends on the SSL ECC Curve ID.
- LP mode is not supported.
- In iTWT mode, downlink data traffic should be limited. Disconnections may be observed if AP fails to send all the buffered data in the next TWT Service Period.
- Number of MBSSIDs processed is limited by the beacon length that can be processed by the stack (which is limited to 1024 bytes). Beacons greater than 1024 Bytes in length will not be processed.
- CoEx + EAP Security in 352K/320k is not feasible. This issue is observed due to a lack of memory in the 352k/320k Memory Configuration. It is supported with other EXT\_FEAT\_416K\_M4SS\_256K and EXT\_FEAT\_480K\_M4SS\_192K memory configurations.
- UL MUMIMO is not supported.
- The embedded HTTP server is not supported.
- Baremetal is not supported.
- Compared to SoC mode, NCP mode has fewer examples, but more will be enabled in upcoming releases.
- Maximum Supported length for Embedded MQTT username up to 120 bytes , topic length up to 200 bytes and password upto 62 bytes.
- UART 2 Debug prints are supported only on ULP_GPIO_9.
- WOW LAN feature is not supported.
- SA Query procedure is not supported in AP mode.
- Maximum Supported length for HTTP GET URL is up to 2048 bytes.
- Azure SDK with embedded MQTT is not supported.
- Power save is not supported in Azure MQTT.
- MDNS service discovery is currently not supported.
- sli_si91x_accept_async is not thread-safe
- Observed some background compatibility issues with coex and http in few corner cases

**BLE**

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.
- BLE TX/RX throughput is less when tested with EFM as compared to EFR
- Maximum supported AE data length is 200 bytes.
- Supports only two ADV\_EXT sets.
- Supports only two BLE connections (1 Central and 1 Peripheral) with AE.
- Advertising Extension feature is not supported in Coexistence.
- The  ae\_central & ae\_peripheral applications are not supported with TA\_352K\_M4\_320K RAM configuration.
- Setting PLL mode as 1 is not supported in Coexistence

**MCU**

- ULP Peripherals examples configurations are for RAM-based execution, as flash is powered off in ULP Mode.
- Manual chip select option is not supported when using GSPI.
- SSI Dual and Quad mode is not working as expected.
- SPI sensor will not work in the Sensor HUB application.
- For ADC Multichannel sampling rate is limited to less than 15Ksps, number of samples is less than 500 and with a maximum of 4 channel
- Added power manager support to ULP_ADC, ULP_ADC_MultiChannel, ULP_Calendar, ULP_I2C_Driver examples
- Pin tool phase-2 would be available from GSDK v4.4.2-rc1 and above
- TA Connected sleep and M4 PS2 sleep aren't compatible with our SI917 design
- M4 PS2 active and sleep is not supported when SL_SI91X_EXT_FEAT_FRONT_END_SWITCH_PINS_ULP_GPIO_4_5_0 is enabled in SoC mode

**Simplicity Studio and Commander**

- Default GDB debug configuration is not supported for SoC projects, work around details provided in "Getting-Started-with-SiWx917"
- Observing flash download failures(ERROR 108) for a few image sizes
- While creating project through Simplicity Studio, "copy contents" option not supported.
- Simplicity commander does not support options under "Debug Lock tools".
- All projects in the package are compatible with GCC 10.3.1 version.

**Terminology**

|**Term**|**Description**|
| :- | :- |
|**New Features**|These items are new to this release|
|**Changes/Issues Fixed**|Changes made to existing features found in previous software releases.|
||Enhancements to existing product flow and feature set.|
||Bug fixes done in the release|
|**Deprecated Items**|Features or functions or APIs that are removed from the distributed release to align with the software roadmap|
|**Known Issues**|Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases|
|**Limitations/Recommendations**|Describes the limitations on product usage and recommendations for optimal use cases|

**Note**

- Change SPI frequency to 12.5Mhz while measuring BLE throughput with EFR32

<br>

**WiSeConnect3\_SDK\_3.2.0-rc2 Release Notes**

This SDK package supports SoC Mode and NCP Mode for B0:

- In SoC Mode: Customer applications can run on Cortex M4. Wireless, network, and security stacks run on the wireless subsystem.
- In NCP mode: Wireless, network, and security stacks run on the Wireless subsystem. Customer applications run on the external host MCU.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

**Note**: Use Simplicity Studio version SV5.8.0.1 onwards

**SoC Highlights**

- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support ultra low power Wi-Fi standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode
- **MCU examples** : GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers, Config Timers, ULP (Ultra Low Power) Timers, Sleeptimer, IOSTREAM, NVM3, MEMLCD, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, Sensorhub, Joystick and Relative Humidity and Temparature sensor(RHT), Analog Comparator, Digital to Analog Converter and Temperature sensor(RO and BJT)
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE whitelisting, and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack, All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS client
- **IDE** : Simplicity Studio with Windows 10(64-bit), Linux, Mac OS
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** :
  - Si-MB4002A Main board
  - SiWx917 Radio boards

|**RadioBoard Type**|**SiWx917B0 with Board Version**|
| :- | :- |
|Common flash|Si917-BRD4338A(2.0)|
|Dual flash|Si917-BRD4339B(2.0)|
|External PSRAM|Si917-BRD4340A(2.0), Si917-BRD4342A(2.0)|

**NCP Highlights**

- **Host Interface** : SPI, UART
- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode.
- **Wi-Fi** : 2.4GHz Wi-Fi Support, WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE Whitelisting and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack , BLE Stack , All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS Client.
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **Hardware kits to evaluate NCP Mode**
  - NCP EFR Expansion Kit with NCP Radio board (BRD4338A(NCP MBR) + BRD8045A)
  - Wireless Pro kit Mainboard BRD4002A Rev A06
  - EFR32xG24 Wireless 2.4 GHz +10 dBm Radio Board xG24-RB4186C

**Release Details**

|**Item**|**Details**|
| :- | :- |
|Release date|Mar 21st, 2024|
|SDK Version|3\.2.0-rc2|
|Firmware Version|1711\.2.11.1.0.0.2|
|Package Name|WiSeConnect3\_SDK\_3.2.0-rc2|
|Supported RTOS|FreeRTOS|
|Operating Modes Supported|Wi-Fi STA, Wi-Fi AP, Wi-Fi STA+BLE, Wi-Fi STA+AP|
|Build Quality|GA|

- SiWx917 release consists of two components
  - Wireless Firmware - SiWx917 Firmware Binaries
  - Wiseconnect3 Library - Wiseconnect3 SDK library runs on the external host in NCP mode and internal Cortex M4 in SoC Mode.
- This release is meant only for use with designs based on SiWx917 Silicon
- The firmware to load is available in the following format:
  - SiWG917-B.2.11.1.x.0.x.rps - B0 Full-featured firmware binary

**Features Supported**

**Sensorhub service**

- Support for ADC, SPI, SDC and I2C based sensors
- Support for PS2 and sleep wakeups
- Support added for SDC
- SoC OPN based project support in SSv5
- List of OPN's supported si917-sb00, siwg917m111mgtba, siwg917m100mgtba, siwg917m111xgtba, siwg917m100xntba, siwg917m121xgtba, siwg917m110lgtba and siwg917m141xgtba

**MCU**

- ADC Single Channel, ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, GPIO, I2C, I2S, NVM3, OPAMP, PSRAM, PWM, QEI, RTC, SDIO Secondary, SPI Master and Slave, UART, Micro DMA, USART, Watchdog Timer, Temperature Sensor(RO and BJT), USART Master and Slave
- UC Supported Peripherals - GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers , Config Timers, ULP (Ultra Low Power) Timers, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, MEMLCD, Analog Comparator and Digital to Analog Converter.
- Services - Sleeptimer, IOSTREAM, NVM3, Power Manager and Pin Tool (support for USART, I2C, SSI, GSPI, SIO, SCT, PWM and I2S).
- ULP (Ultra Low Power) Peripherals - ulp\_gpio, ulp\_adc ulp\_i2c, ulp\_i2s, ulp\_ir\_decoder, ulp\_spi, ulp\_timer, ulp\_uart, ulp\_udma
- Extended flash write support for NWP flash region and added read api to read from NWP flash region

**Wi-Fi**

- WPA2/WPA3 Personal, WPS and WPA2-EAP Support for Station Mode
- TCP/IP stack with IPv4, IPv6, TCP, UDP, TLS, HTTP/HTTPS, DHCPv4, DHCPv6, MQTT Client, DNS Client, SNTP client.
- Support for SSL client versions TLSV1.0, TLSV1.2, TLSV1.3 and SSL server versions TLSV1.0 and TLSV1.2
- Wi-Fi STA (802.11n/802.11ax) + 802.11n AP Support
- HE (802.11ax) and Individual TWT Feature Support
- Multiple BSSID feature support as an STA
- Secure OTA support on B0 radio boards.
- Support for LWIP network stack
- Support for AWS MQTT library
- Support for Azure MQTT library
- Support for BSD and IoT sockets application programming interface(API)

**Bluetooth Low Energy**

- BLE central & peripheral connections are supported.
- Ultra-low power save is supported.

**Power Save**

- Max PSP, enhanced MAX PSP, Fast PSP, and 802.11ax TWT power save modes are supported in WiFi.
- Only Max PSP power save mode is supported in BLE

**Crypto Support**

- AES, SHA, AES-CCM, HMAC, GCM, Chacha-poly, ECDH and TRNG FW Crypto API support added.
- PSA enabled Mbed TLS support added
- NVM support added for key storage
- Symmetric and asymmetric key storage
- TRNG, AES, SHA, HMAC, GCM, Chacha-poly, ECDH and AES-CCM hardware crypto engine is integrated with PSA crypto.

**Changes and Fixes**

**SDK**

- None

**MCU**

- Implemented I2C 7 or 10-bit combined format transfers
- Integrated SSI with SL DMA
- Fixed the transfer for ULP SSI Master DMA issue
- The issue of IRQ26 Handler not being triggered for wireless-based wakeups has been resolved.
- Added IPMU changes to reduce the Ret ldo values on FW17 and FW18 boards
- Removed powermanager components while publishing.
- Resolved Power Manager component is missing in the UC issue
- Updated documentation and UC for Consistency - API Documentation, Readme, SRM and UC
- SQA bug fixes - SI91X-14786, SI91X-15212, SI91X-15210, SI91X-15194, SI91X-14955, SI91X-15208, SI91X-14658, SI91X-15032, SI91x-15277

**Wi-Fi & Network Stack**

- Updated asynchronous accept API
- Fixed menu structure for sl_si91x_mem_pool_buffers_with_quota.slcc
- GSDK outside docker for release/3.2.0
- Updated Readme file for Powersave deep sleep example
- Cleared the rx event when rx packet is read by rx_packet_pending_flag variable.
- Added long URL support for HTTP OTAF
- SQA BUGS - SI91X-15226, SI91X-15058, SI91X-14672, SI91X-15171, SI91X-14832, SI91X-15164, SI91X-14982, SI91X-14978, SI91X-15084, SI91X-15096, SI91X-15222, SI91X-15223.

**BLE**

- Resolved the issue with BLE PER stats cmd API
- Ported "ble_ae_central " & "ble_ae_peripheral" applications for STM32.

**CoEx**

- Configured to FAST PSP instead of MAX PSP
- SQA BUGS - SI91X-15155

**System**

- None

**Recommendations**

**System**

- The current revision of SiWx917 B0 has:
  - RAM memory of 672k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_672K\_M4SS\_0K- This mode configures TA with 672k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By default EXT\_FEAT\_352K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_480K\_M4SS\_192K - This mode configures TA with 480k and M4 with 192K bytes of memory
    - EXT\_FEAT\_416K\_M4SS\_256K - This mode configures TA with 416k and M4 with 256K bytes of memory
    - EXT\_FEAT\_352K\_M4SS\_320K - This mode configures TA with 352k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 672K\_M4SS\_0K.
  - SoC mode should not use 672k\_M4SS\_0k memory configuration.
- Set the recommended Power Save Profile (PSP) type to Enhanced Max PSP.

**IDE**

- Download the latest version of Simplicity Studio
- Refer to the latest version of the SoC/NCP "Getting-Started-with-SiWx917" guide for more details

**Wi-Fi & Network Stack****

- The recommended embedded MQTT Publish payload is 1 kBytes.
- It is recommended to enable bit 16 of the 'Extended TCP IP Feature' bit map in the opermode command for all Wi-Fi Socket operations from the host to ensure graceful handling during asynchronous closures from the peer.
- Aggregation (bit 2 of feature\_bit\_map) is recommended to be enabled in opermode. This enables software to aggregate multiple packets to achieve better throughput
- TCP retransmission count value is recommended to be 30 or higher so that the TCP does not disconnect while the rejoin happens.
- To restart the module, the application needs to call sl\_wifi\_deinit() followed by sl\_wifi\_init().
- Register 'Join Fail Callback' function every time when join is called, as in the rejoin failure path the callback is deregistered. If not done, this might result in a scan not functioning on rejoin failure.
- User can enable SL\_SI91X\_EXT\_TCP\_IP\_SSL\_16K\_RECORD in 'Extended TCP IP Feature'bit map in opermode, if HTTPS download is failing after receiving HTTP headers..
- iTWT setup is recommended after IP assignment/TCP connection/application specific socket connections.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, increase TCP / ARP Timeouts at the remote side depending upon the configured TWT interval configured.
- In case of TWT+coex, when using sl\_wifi\_enable\_target\_wakeup\_time API, use TWT wake duration <= 16 ms and TWT wake interval >= 1 sec. If wake duration > 16 ms or TWT wake interval < 1sec, there might be performance issues.
- For iTWT GTK Interval Should be kept max possible value or zero. If GTK interval is not configurable, recommended TWT interval (in case of sl\_wifi\_enable\_target\_wakeup\_time API) or RX Latency (in case of sl\_wifi\_target\_wake\_time\_auto\_selection API) is less than 4sec.
- Disable Power Save for High Throughput Applications.
- The application needs to ensure that it sets RTC with the correct timestamp when the feature is enabled before establishing the SSL connection.
- The timeout value should not be less than 1 second for socket select and socket receive calls. Timeout value of less than 1 second is not currently supported.
- When sl\_wifi\_enable\_target\_wakeup\_time API is used, configuring TWT Wake interval beyond 1 min might lead to disconnections from the AP. Recommended to use TWT wakeup interval of less than or equal to 1 min.
- Embedded MQTT keep alive interval should be either 0 or a value greater than 35 seconds.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, it is recommended to set missed\_beacon\_count of sl\_wifi\_set\_advanced\_client\_configuration API greater than 2 times of the configured TWT Interval.
- Disable power save and suspend any active TWT sessions before triggering HTTP OTAF.
- It is recommended to enable bit 31 of the 'TCP IP Feature' bit map in the opermode command to support multicast protocol

**BLE**

- In BLE, the recommended range of Connection Interval in
  - Power Save (BLE Only) - 100 ms to 1.28 s.
- In BLE, during Connection, the configuration of Scan Interval and Scan Window with the same value is not recommended. The suggested ratio of Scan Window to Scan Interval is 3:4.
- In BLE, if a device is acting as Central, the scan window (in set\_scan\_params and create\_connection commands) must be less than the existing Connection Interval. The suggested ratio of Scan Window to Connection Interval is 2:3.
- In BLE mode, if scanning and advertising are in progress on the SiWx91x module and it subsequently gets connected and moves to the central role, scanning stops else if it moves to the peripheral role, advertising stops. To further establish a connection to another peripheral device or to a central device, the application should give a command for starting advertising and scanning again.

**Co-Existence**

- For concurrent Wi-Fi + BLE, and while a Wi-Fi connection is active, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
- Wi-Fi + BLE Advertising
  - All standard advertising intervals are supported. As Wi-Fi throughput is increased, a slight difference in on-air advertisements compared to configured intervals may be observed.
  - BLE advertising is skipped if the advertising interval collides with Wi-Fi activity.
- Wi-Fi + BLE scanning
  - All standard scan intervals are supported. For better scan results, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
  - BLE scanning will be stopped for intervals that collide with Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Connections
  - All standard connection intervals are supported.
  - For a stable connection, use optimal connection intervals and max supervision timeout in the presence of Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Data Transfer
  - To achieve higher throughput for both Wi-Fi and BLE, use medium connection intervals, such as 45 to 80 ms with maximum supervision timeout.
  - Ensure Wi-Fi activity consumes lower intervals.

**Known Issues**

**Sensorhub**

- Support for ADC FIFO Mode and Multi channel is open
- PS1-state supports only ADC sensor
- Power transitions with AWS are not stable in Sensorhub

**Network Stack**

- Sometimes during SSL Handshake, ECC curve parameters generated are wrong, resulting in connection failure with BBD2 error. However, this recovers in the next attempt.
- Randomize the client port if using rapid connect/disconnect of the MQTT session on the same client port with the power save.
- Secure SSL renegotiation not supported in Embedded Networking Stack.
- Disable power save before making TCP connection for NCP-UART interface.

**Wi-Fi**

- TWT device (STA) may not go to sleep in between TWT intervals in case of burst data traffics with data size more than the configured 'average tx throughput', until completion of data transfer.
- There are performance and IOP issues with MU MIMO.
- WPA3 Connection with the Hunting and Pecking algorithm takes about 3-4 seconds.
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.
- Low Wi-Fi+BLE throughput
- TCP/UDP TX/RX Data stall observed in CoEx scenarios
- Observed HTTPS Continuous download fails with TA Power save
- Performance improvements are in progress for lower performance metrics.
- Observed interop issue (connectivity failure) with few AP's when device reset/reboot happens on active connection.
- In concurrent mode, AP restart fails after stopping it with ap\_stop command.
- DUT deep sleep will not work after stopping AP with ap\_stop command.
- Unable to get SNTP async events when coex mode and Power save is enabled
- Fine Tuning 802.11ax Spectral mask in Progress
- Fine Tuning 11b mask in Ch11 in progress
- DUT is unable to connect to the AP with WPA3 security when we enable coex mode (WLAN+BLE) in opermode
- Socket listen API is failing from the second iteration
- Disconnections observed with Netgear RAX120 AP in WPA3 security
- Observed connection failures with some AP's in more channel congestion open lab environment
- Firmware Upgrade example is not working in PSRAM boards

**BLE**

- HID profile data transfer is not working, when power save is enabled in SoC.
- BLE reconnection is not working in ble_multiconnection_gatt demo, when power save is enabled in SoC

**Co-Existence**

- Observed HTTP continuous download is not happening in Powersave mode after BLE connection established using wifi\_https\_ble\_dual\_role application
- Observed DUT hang while Wi-Fi UDP/TCP Tx and BLE continuous scan.

**System**

- None

**MCU**

- Refer to the respective Radio board user guides for specific pinout details. Examples are targeted to a specific version mentioned in the respective readme.
- Few peripherals like WDT when configured with RO clock is not working as expected. No impact on the feature but the clocks are not accurate.
- ADC Differential mode is not working as expected if negative input value set above 2.4V.
- Few(BOD, Comparator and SysRTC) wakeup resources are not working as expected in Power manager service.
- Observed expected RO and BJT Temperature values only on calibrated FW18 boards.
- Force generate is required in order to generate pin_config.h from the Pin tool because Simplicity Studio's generate option isn't functioning in current version.
- SSI supports only upto 23MHz now
- Character Timeout feature for all communication protocols
- ADC Multichannel support is not present at different Sample rates HP -100K, ULP 10k/500 samples - not working
- NVM3 is currently not supported for OPN
- it's important to select Non-psram examples manually for OPNs because unsupported examples are also included in the "Example Projects & Demos" section.

**Limitations and Unsupported Features**

**Wi-Fi/Network Stack**

- TLS 1.3 Server is not supported
- In AP mode, IPv6 Router Advertisements are not supported. Although STA connected to the APUT can transfer IPv6 data to the peers by using SLAAC for address configuration.
- When sl\_wifi\_enable\_target\_wake\_time() API is used, observed occasional MQTT disconnections with longer TWT intervals (>30secs) with embedded MQTT + TWT.
- AMSDU TX is not supported.
- Fragmentation is not supported.
- AMSDUs within AMPDU is not supported.
- Currently, the module does not support Radio Measurement Requests feature of CCX V2
- 802.11k is not supported
- 40 MHz bandwidth for 2.4 GHz band is not supported.
- 802.11J channel 14 is not supported.
- MQTT versions 3 and 4 are supported.
- Maximum of 3 SSL connections are supported.
- In SSL ECC Curve ID supported is 23. SSL handshake with 3rd party clients depends on the SSL ECC Curve ID.
- LP mode is not supported.
- In iTWT mode, downlink data traffic should be limited. Disconnections may be observed if AP fails to send all the buffered data in the next TWT Service Period.
- Number of MBSSIDs processed is limited by the beacon length that can be processed by the stack (which is limited to 1024 bytes). Beacons greater than 1024 Bytes in length will not be processed.
- CoEx + EAP Security in 352K/320k is not feasible. This issue is observed due to a lack of memory in the 352k/320k Memory Configuration. It is supported with other EXT\_FEAT\_416K\_M4SS\_256K and EXT\_FEAT\_480K\_M4SS\_192K memory configurations.
- UL MUMIMO is not supported.
- The embedded HTTP server is not supported.
- Baremetal is not supported.
- Compared to SoC mode, NCP mode has fewer examples, but more will be enabled in upcoming releases.
- Maximum Supported length for Embedded MQTT username up to 120 bytes , topic length up to 200 bytes and password upto 62 bytes.
- UART 2 Debug prints are supported only on ULP_GPIO_9.
- WOW LAN feature is not supported.
- SA Query procedure is not supported in AP mode.
- Maximum Supported length for HTTP GET URL is up to 2048 bytes.
- Azure SDK with embedded MQTT is not supported.
- Power save is not supported in Azure MQTT.
- MDNS service discovery is currently not supported.
- sli_si91x_accept_async is not thread-safe
- Observed some background compatibility issues with coex and http in few corner cases

**BLE**

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.
- BLE TX/RX throughput is less when tested with EFM as compared to EFR
- Maximum supported AE data length is 200 bytes.
- Supports only two ADV\_EXT sets.
- Supports only two BLE connections (1 Central and 1 Peripheral) with AE.
- Advertising Extension feature is not supported in Coexistence.
- The  ae\_central & ae\_peripheral applications are not supported with TA\_352K\_M4\_320K RAM configuration.
- Setting PLL mode as 1 is not supported in Coexistence

**MCU**

- ULP Peripherals examples configurations are for RAM-based execution, as flash is powered off in ULP Mode.
- Manual chip select option is not supported when using GSPI.
- SSI Dual and Quad mode is not working as expected.
- SPI sensor will not work in the Sensor HUB application.
- For ADC Multichannel sampling rate is limited to less than 15Ksps, number of samples is less than 500 and with a maximum of 4 channel
- Added power manager support to ULP_ADC, ULP_ADC_MultiChannel, ULP_Calendar, ULP_I2C_Driver examples
- Pin tool phase-2 would be available from GSDK v4.4.2-rc1 and above

**Simplicity Studio and Commander**

- Default GDB debug configuration is not supported for SoC projects, work around details provided in "Getting-Started-with-SiWx917"
- Observing flash download failures(ERROR 108) for a few image sizes
- While creating project through Simplicity Studio, "copy contents" option not supported.
- Simplicity commander does not support options under "Debug Lock tools".
- All projects in the package are compatible with GCC 10.3.1 version.

**Terminology**

|**Term**|**Description**|
| :- | :- |
|**New Features**|These items are new to this release|
|**Changes/Issues Fixed**|Changes made to existing features found in previous software releases.|
||Enhancements to existing product flow and feature set.|
||Bug fixes done in the release|
|**Deprecated Items**|Features or functions or APIs that are removed from the distributed release to align with the software roadmap|
|**Known Issues**|Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases|
|**Limitations/Recommendations**|Describes the limitations on product usage and recommendations for optimal use cases|

**Note**

- Change SPI frequency to 12.5Mhz while measuring BLE throughput with EFR32

<br>


**WiSeConnect3\_SDK\_3.1.4-rc6 Release Notes**

This SDK package supports SoC Mode and NCP Mode for B0:

- In SoC Mode: Customer applications can run on Cortex M4. Wireless, network, and security stacks run on the wireless subsystem.
- In NCP mode: Wireless, network, and security stacks run on the Wireless subsystem. Customer applications run on the external host MCU.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

**Note**: Use Simplicity Studio version SV5.8.0.1 onwards

**SoC Highlights**

- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support ultra low power Wi-Fi standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode
- **MCU examples** : GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers, Config Timers, ULP (Ultra Low Power) Timers, Sleeptimer, IOSTREAM, NVM3, MEMLCD, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, Sensorhub, Joystick and Relative Humidity and Temparature sensor(RHT), Analog Comparator, Digital to Analog Converter and Temperature sensor(RO and BJT)
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE whitelisting, and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack, All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS client
- **IDE** : Simplicity Studio with Windows 10(64-bit), Linux, Mac OS
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** :
  - Si-MB4002A Main board
  - SiWx917 Radio boards

|**RadioBoard Type**|**SiWx917B0 with Board Version**|
| :- | :- |
|Common flash|Si917-BRD4338A(2.0)|
|Dual flash|Si917-BRD4339B(2.0)|
|External PSRAM|Si917-BRD4340A(2.0), Si917-BRD4342A(2.0)|

**NCP Highlights**

- **Host Interface** : SPI, UART
- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode.
- **Wi-Fi** : 2.4GHz Wi-Fi Support, WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE Whitelisting and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack , BLE Stack , All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS Client.
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **Hardware kits to evaluate NCP Mode**
  - NCP EFR Expansion Kit with NCP Radio board (BRD4338A(NCP MBR) + BRD8045A)
  - Wireless Pro kit Mainboard BRD4002A Rev A06
  - EFR32xG24 Wireless 2.4 GHz +10 dBm Radio Board xG24-RB4186C

**WiSeConnect3\_SDK\_3.2.0-rc1 Release Notes**

This SDK package supports SoC Mode and NCP Mode for B0:

- In SoC Mode: Customer applications can run on Cortex M4. Wireless, network, and security stacks run on the wireless subsystem.
- In NCP mode: Wireless, network, and security stacks run on the Wireless subsystem. Customer applications run on the external host MCU.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

**Note**: Use Simplicity Studio version SV5.8.0.1 onwards

**SoC Highlights**

- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support ultra low power Wi-Fi standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode
- **MCU examples** : GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers, Config Timers, ULP (Ultra Low Power) Timers, Sleeptimer, IOSTREAM, NVM3, MEMLCD, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, Sensorhub, Joystick and Relative Humidity and Temparature sensor(RHT), Analog Comparator, Digital to Analog Converter and Temperature sensor(RO and BJT)
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE whitelisting, and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack, All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS client
- **IDE** : Simplicity Studio with Windows 10(64-bit), Linux, Mac OS
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** :
  - Si-MB4002A Main board
  - SiWx917 Radio boards

|**RadioBoard Type**|**SiWx917B0 with Board Version**|
| :- | :- |
|Common flash|Si917-BRD4338A(2.0)|
|Dual flash|Si917-BRD4339B(2.0)|
|External PSRAM|Si917-BRD4340A(2.0), Si917-BRD4342A(2.0)|

**NCP Highlights**

- **Host Interface** : SPI, UART
- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode.
- **Wi-Fi** : 2.4GHz Wi-Fi Support, WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE Whitelisting and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack , BLE Stack , All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS Client.
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **Hardware kits to evaluate NCP Mode**
  - NCP EFR Expansion Kit with NCP Radio board (BRD4338A(NCP MBR) + BRD8045A)
  - Wireless Pro kit Mainboard BRD4002A Rev A06
  - EFR32xG24 Wireless 2.4 GHz +10 dBm Radio Board xG24-RB4186C

**Release Details**

|**Item**|**Details**|
| :- | :- |
|Release date|Mar 15th, 2024|
|SDK Version|3\.2.0-rc1|
|Firmware Version|1711\.2.11.1.0.0.1|
|Package Name|WiSeConnect3\_SDK\_3.2.0-rc1|
|Supported RTOS|FreeRTOS|
|Operating Modes Supported|Wi-Fi STA, Wi-Fi AP, Wi-Fi STA+BLE, Wi-Fi STA+AP|
|Build Quality|GA|

- SiWx917 release consists of two components
  - Wireless Firmware - SiWx917 Firmware Binaries
  - Wiseconnect3 Library - Wiseconnect3 SDK library runs on the external host in NCP mode and internal Cortex M4 in SoC Mode.
- This release is meant only for use with designs based on SiWx917 Silicon
- The firmware to load is available in the following format:
  - SiWG917-B.2.11.1.x.0.x.rps - B0 Full-featured firmware binary

**Features Supported**

**Sensorhub service**

- Support for ADC, SPI, SDC and I2C based sensors
- Support for PS2 and sleep wakeups
- Support added for SDC
- SoC OPN based project support in SSv5
- List of OPN's supported si917-sb00, siwg917m111mgtba, siwg917m100mgtba, siwg917m111xgtba, siwg917m100xntba, siwg917m121xgtba, siwg917m110lgtba and siwg917m141xgtba

**MCU**

- ADC Single Channel, ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, GPIO, I2C, I2S, NVM3, OPAMP, PSRAM, PWM, QEI, RTC, SDIO Secondary, SPI Master and Slave, UART, Micro DMA, USART, Watchdog Timer, Temperature Sensor(RO and BJT), USART Master and Slave
- UC Supported Peripherals - GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers , Config Timers, ULP (Ultra Low Power) Timers, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, MEMLCD, Analog Comparator and Digital to Analog Converter.
- Services - Sleeptimer, IOSTREAM, NVM3, Power Manager and Pin Tool (support for USART, I2C, SSI, GSPI, SIO, SCT, PWM and I2S).
- ULP (Ultra Low Power) Peripherals - ulp\_gpio, ulp\_adc ulp\_i2c, ulp\_i2s, ulp\_ir\_decoder, ulp\_spi, ulp\_timer, ulp\_uart, ulp\_udma
- Extended flash write support for NWP flash region and added read api to read from NWP flash region

**Wi-Fi**

- WPA2/WPA3 Personal, WPS and WPA2-EAP Support for Station Mode
- TCP/IP stack with IPv4, IPv6, TCP, UDP, TLS, HTTP/HTTPS, DHCPv4, DHCPv6, MQTT Client, DNS Client, SNTP client.
- Support for SSL client versions TLSV1.0, TLSV1.2, TLSV1.3 and SSL server versions TLSV1.0 and TLSV1.2
- Wi-Fi STA (802.11n/802.11ax) + 802.11n AP Support
- HE (802.11ax) and Individual TWT Feature Support
- Multiple BSSID feature support as an STA
- Secure OTA support on B0 radio boards.
- Support for LWIP network stack
- Support for AWS MQTT library
- Support for Azure MQTT library
- Support for BSD and IoT sockets application programming interface(API)

**Bluetooth Low Energy**

- BLE central & peripheral connections are supported.
- Ultra-low power save is supported.

**Power Save**

- Max PSP, enhanced MAX PSP, Fast PSP, and 802.11ax TWT power save modes are supported in WiFi.
- Only Max PSP power save mode is supported in BLE

**Crypto Support**

- AES, SHA, AES-CCM, HMAC, GCM, Chacha-poly, ECDH and TRNG FW Crypto API support added.
- PSA enabled Mbed TLS support added
- NVM support added for key storage
- Symmetric and asymmetric key storage
- TRNG, AES, SHA, HMAC, GCM, Chacha-poly, ECDH and AES-CCM hardware crypto engine is integrated with PSA crypto.

**Changes and Fixes**

**SDK**

- Added buffer quota support in SDK for command, Tx and Rx packets.
- Added long URL support for HTTP OTAF in SDK.
- Added support to LEAP security in EAP mode.
- Enhanced bus thread design for Tx path.
- Fixed data transfer issues in NCP over EFR.
- Fixed TCP Tx and UDP Tx data transfer issue in STM32.
- Fixed STM32 compilation issues for applications.
- Updated "AWS MQTT" readme document.

**MCU**

- Fixed NVM3 compilation issues for SOC / OPN.

**Wi-Fi & Network Stack**

- None

**BLE**

- None.

**CoEx**

- Observed few compatibility issues in coex mode.

**System**

- None

**Recommendations**

**System**

- The current revision of SiWx917 B0 has:
  - RAM memory of 672k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_672K\_M4SS\_0K- This mode configures TA with 672k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By default EXT\_FEAT\_352K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_480K\_M4SS\_192K - This mode configures TA with 480k and M4 with 192K bytes of memory
    - EXT\_FEAT\_416K\_M4SS\_256K - This mode configures TA with 416k and M4 with 256K bytes of memory
    - EXT\_FEAT\_352K\_M4SS\_320K - This mode configures TA with 352k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 672K\_M4SS\_0K.
  - SoC mode should not use 672k\_M4SS\_0k memory configuration.
- Set the recommended Power Save Profile (PSP) type to Enhanced Max PSP.

**IDE**

- Download the latest version of Simplicity Studio
- Refer to the latest version of the SoC/NCP "Getting-Started-with-SiWx917" guide for more details

**Wi-Fi & Network Stack****

- The recommended embedded MQTT Publish payload is 1 kBytes.
- It is recommended to enable bit 16 of the 'Extended TCP IP Feature' bit map in the opermode command for all Wi-Fi Socket operations from the host to ensure graceful handling during asynchronous closures from the peer.
- Aggregation (bit 2 of feature\_bit\_map) is recommended to be enabled in opermode. This enables software to aggregate multiple packets to achieve better throughput
- TCP retransmission count value is recommended to be 30 or higher so that the TCP does not disconnect while the rejoin happens.
- To restart the module, the application needs to call sl\_wifi\_deinit() followed by sl\_wifi\_init().
- Register 'Join Fail Callback' function every time when join is called, as in the rejoin failure path the callback is deregistered. If not done, this might result in a scan not functioning on rejoin failure.
- User can enable SL\_SI91X\_EXT\_TCP\_IP\_SSL\_16K\_RECORD in 'Extended TCP IP Feature'bit map in opermode, if HTTPS download is failing after receiving HTTP headers..
- iTWT setup is recommended after IP assignment/TCP connection/application specific socket connections.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, increase TCP / ARP Timeouts at the remote side depending upon the configured TWT interval configured.
- In case of TWT+coex, when using sl\_wifi\_enable\_target\_wakeup\_time API, use TWT wake duration <= 16 ms and TWT wake interval >= 1 sec. If wake duration > 16 ms or TWT wake interval < 1sec, there might be performance issues.
- For iTWT GTK Interval Should be kept max possible value or zero. If GTK interval is not configurable, recommended TWT interval (in case of sl\_wifi\_enable\_target\_wakeup\_time API) or RX Latency (in case of sl\_wifi\_target\_wake\_time\_auto\_selection API) is less than 4sec.
- Disable Power Save for High Throughput Applications.
- The application needs to ensure that it sets RTC with the correct timestamp when the feature is enabled before establishing the SSL connection.
- The timeout value should not be less than 1 second for socket select and socket receive calls. Timeout value of less than 1 second is not currently supported.
- When sl\_wifi\_enable\_target\_wakeup\_time API is used, configuring TWT Wake interval beyond 1 min might lead to disconnections from the AP. Recommended to use TWT wakeup interval of less than or equal to 1 min.
- Embedded MQTT keep alive interval should be either 0 or a value greater than 35 seconds.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, it is recommended to set missed\_beacon\_count of sl\_wifi\_set\_advanced\_client\_configuration API greater than 2 times of the configured TWT Interval.
- Disable power save and suspend any active TWT sessions before triggering HTTP OTAF.
- It is recommended to enable bit 31 of the 'TCP IP Feature' bit map in the opermode command to support multicast protocol

**BLE**

- In BLE, the recommended range of Connection Interval in
  - Power Save (BLE Only) - 100 ms to 1.28 s.
- In BLE, during Connection, the configuration of Scan Interval and Scan Window with the same value is not recommended. The suggested ratio of Scan Window to Scan Interval is 3:4.
- In BLE, if a device is acting as Central, the scan window (in set\_scan\_params and create\_connection commands) must be less than the existing Connection Interval. The suggested ratio of Scan Window to Connection Interval is 2:3.
- In BLE mode, if scanning and advertising are in progress on the SiWx91x module and it subsequently gets connected and moves to the central role, scanning stops else if it moves to the peripheral role, advertising stops. To further establish a connection to another peripheral device or to a central device, the application should give a command for starting advertising and scanning again.

**Co-Existence**

- For concurrent Wi-Fi + BLE, and while a Wi-Fi connection is active, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
- Wi-Fi + BLE Advertising
  - All standard advertising intervals are supported. As Wi-Fi throughput is increased, a slight difference in on-air advertisements compared to configured intervals may be observed.
  - BLE advertising is skipped if the advertising interval collides with Wi-Fi activity.
- Wi-Fi + BLE scanning
  - All standard scan intervals are supported. For better scan results, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
  - BLE scanning will be stopped for intervals that collide with Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Connections
  - All standard connection intervals are supported.
  - For a stable connection, use optimal connection intervals and max supervision timeout in the presence of Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Data Transfer
  - To achieve higher throughput for both Wi-Fi and BLE, use medium connection intervals, such as 45 to 80 ms with maximum supervision timeout.
  - Ensure Wi-Fi activity consumes lower intervals.

**Known Issues**

**Sensorhub**

- Support for ADC FIFO Mode and Multi channel is open
- Support for ADC Powersave is open
- PS1-state supports only ADC sensor

**Network Stack**

- Sometimes during SSL Handshake, ECC curve parameters generated are wrong, resulting in connection failure with BBD2 error. However, this recovers in the next attempt.
- Randomize the client port if using rapid connect/disconnect of the MQTT session on the same client port with the power save.
- Secure SSL renegotiation not supported in Embedded Networking Stack.
- Disable power save before making TCP connection for NCP-UART interface.

**Wi-Fi**

- TWT device (STA) may not go to sleep in between TWT intervals in case of burst data traffics with data size more than the configured 'average tx throughput', until completion of data transfer.
- There are performance and IOP issues with MU MIMO.
- WPA3 Connection with the Hunting and Pecking algorithm takes about 3-4 seconds.
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.
- Low Wi-Fi+BLE throughput
- TCP/UDP TX/RX Data stall observed in CoEx scenarios
- Observed HTTPS Continuous download fails with TA Power save
- Performance improvements are in progress for lower performance metrics.
- Observed interop issue (connectivity failure) with few AP's when device reset/reboot happens on active connection.
- In concurrent mode, AP restart fails after stopping it with ap\_stop command.
- DUT deep sleep will not work after stopping AP with ap\_stop command.
- Unable to get SNTP async events when coex mode and Power save is enabled
- Fine Tuning 802.11ax Spectral mask in Progress
- Fine Tuning 11b mask in Ch11 in progress
- DUT is unable to connect to the AP with WPA3 security when we enable coex mode (WLAN+BLE) in opermode
- Socket listen API is failing from the second iteration
- Disconnections observed with Netgear RAX120 AP in WPA3 security
- Observed connection failures with some AP's in more channel congestion open lab environment
- Firmware Upgrade example is not working in PSRAM boards

**BLE**

- HID profile data transfer is not working, when power save is enabled in SoC.
- BLE reconnection is not working in ble_multiconnection_gatt demo, when power save is enabled in SoC

**Co-Existence**

- Observed HTTP continuous download is not happening in Powersave mode after BLE connection established using wifi\_https\_ble\_dual\_role application
- Observed DUT hang while Wi-Fi UDP/TCP Tx and BLE continuous scan.

**System**

- None

**MCU**

- Refer to the respective Radio board user guides for specific pinout details. Examples are targeted to a specific version mentioned in the respective readme.
- Few peripherals like WDT when configured with RO clock is not working as expected. No impact on the feature but the clocks are not accurate.
- ADC Differential mode is not working as expected if negative input value set above 2.4V.
- Few(BOD, Comparator and SysRTC) wakeup resources are not working as expected in Power manager service.
- Observed expected RO and BJT Temperature values only on calibrated FW18 boards.
- Force generate is required in order to generate pin_config.h from the Pin tool because Simplicity Studio's generate option isn't functioning in current version.
- SSI supports only upto 23MHz now
- SSI Full Duplex in DMA mode is not working as expected
- SSI in DMA mode is limited to only 1024 bytes of buffer size
- Character Timeout feature for all communication protocols
- ADC Multichannel support is not present at different Sample rates HP -100K, ULP 10k/500 samples - not working
- NVM3 is currently not supported for OPN
- it's important to select Non-psram examples manually for OPNs because unsupported examples are also included in the "Example Projects & Demos" section.

**Limitations and Unsupported Features**

**Wi-Fi/Network Stack**

- TLS 1.3 Server is not supported
- In AP mode, IPv6 Router Advertisements are not supported. Although STA connected to the APUT can transfer IPv6 data to the peers by using SLAAC for address configuration.
- When sl\_wifi\_enable\_target\_wake\_time() API is used, observed occasional MQTT disconnections with longer TWT intervals (>30secs) with embedded MQTT + TWT.
- AMSDU TX is not supported.
- Fragmentation is not supported.
- AMSDUs within AMPDU is not supported.
- Currently, the module does not support Radio Measurement Requests feature of CCX V2
- 802.11k is not supported
- 40 MHz bandwidth for 2.4 GHz band is not supported.
- 802.11J channel 14 is not supported.
- MQTT versions 3 and 4 are supported.
- Maximum of 3 SSL connections are supported.
- In SSL ECC Curve ID supported is 23. SSL handshake with 3rd party clients depends on the SSL ECC Curve ID.
- LP mode is not supported.
- In iTWT mode, downlink data traffic should be limited. Disconnections may be observed if AP fails to send all the buffered data in the next TWT Service Period.
- Number of MBSSIDs processed is limited by the beacon length that can be processed by the stack (which is limited to 1024 bytes). Beacons greater than 1024 Bytes in length will not be processed.
- CoEx + EAP Security in 352K/320k is not feasible. This issue is observed due to a lack of memory in the 352k/320k Memory Configuration. It is supported with other EXT\_FEAT\_416K\_M4SS\_256K and EXT\_FEAT\_480K\_M4SS\_192K memory configurations.
- UL MUMIMO is not supported.
- The embedded HTTP server is not supported.
- Baremetal is not supported.
- Compared to SoC mode, NCP mode has fewer examples, but more will be enabled in upcoming releases.
- Maximum Supported length for Embedded MQTT username up to 120 bytes , topic length up to 200 bytes and password upto 62 bytes.
- UART 2 Debug prints are supported only on ULP_GPIO_9.
- WOW LAN feature is not supported.
- SA Query procedure is not supported in AP mode.
- Maximum Supported length for HTTP GET URL is up to 2048 bytes.
- Azure SDK with embedded MQTT is not supported.
- Power save is not supported in Azure MQTT.
- MDNS service discovery is currently not supported.

**BLE**

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.
- BLE TX/RX throughput is less when tested with EFM as compared to EFR
- Maximum supported AE data length is 200 bytes.
- Supports only two ADV\_EXT sets.
- Supports only two BLE connections (1 Central and 1 Peripheral) with AE.
- Advertising Extension feature is not supported in Coexistence.
- The  ae\_central & ae\_peripheral applications are not supported with TA\_352K\_M4\_320K RAM configuration.
- Setting PLL mode as 1 is not supported in Coexistence

**MCU**

- ULP Peripherals examples configurations are for RAM-based execution, as flash is powered off in ULP Mode.
- Manual chip select option is not supported when using GSPI.
- SSI Dual and Quad mode is not working as expected.
- SPI sensor will not work in the Sensor HUB application.
- For ADC Multichannel sampling rate is limited to less than 15Ksps, number of samples is less than 500 and with a maximum of 4 channel

**Simplicity Studio and Commander**

- Default GDB debug configuration is not supported for SoC projects, work around details provided in "Getting-Started-with-SiWx917"
- Observing flash download failures(ERROR 108) for a few image sizes
- While creating project through Simplicity Studio, "copy contents" option not supported.
- Simplicity commander does not support options under "Debug Lock tools".
- All projects in the package are compatible with GCC 10.3.1 version.

**Terminology**

|**Term**|**Description**|
| :- | :- |
|**New Features**|These items are new to this release|
|**Changes/Issues Fixed**|Changes made to existing features found in previous software releases.|
||Enhancements to existing product flow and feature set.|
||Bug fixes done in the release|
|**Deprecated Items**|Features or functions or APIs that are removed from the distributed release to align with the software roadmap|
|**Known Issues**|Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases|
|**Limitations/Recommendations**|Describes the limitations on product usage and recommendations for optimal use cases|

**Note**

- Change SPI frequency to 12.5Mhz while measuring BLE throughput with EFR32

<br>


**WiSeConnect3\_SDK\_3.1.4-rc6 Release Notes**

This SDK package supports SoC Mode and NCP Mode for B0:

- In SoC Mode: Customer applications can run on Cortex M4. Wireless, network, and security stacks run on the wireless subsystem.
- In NCP mode: Wireless, network, and security stacks run on the Wireless subsystem. Customer applications run on the external host MCU.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

**Note**: Use Simplicity Studio version SV5.8.0.1 onwards

**SoC Highlights**

- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support ultra low power Wi-Fi standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode
- **MCU examples** : GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers, Config Timers, ULP (Ultra Low Power) Timers, Sleeptimer, IOSTREAM, NVM3, MEMLCD, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, Sensorhub, Joystick and Relative Humidity and Temparature sensor(RHT), Analog Comparator, Digital to Analog Converter and Temperature sensor(RO and BJT)
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE whitelisting, and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack, All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS client
- **IDE** : Simplicity Studio with Windows 10(64-bit), Linux, Mac OS
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** :
  - Si-MB4002A Main board
  - SiWx917 Radio boards

|**RadioBoard Type**|**SiWx917B0 with Board Version**|
| :- | :- |
|Common flash|Si917-BRD4338A(2.0)|
|Dual flash|Si917-BRD4339B(2.0)|
|External PSRAM|Si917-BRD4340A(2.0), Si917-BRD4342A(2.0)|

**NCP Highlights**

- **Host Interface** : SPI, UART
- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode.
- **Wi-Fi** : 2.4GHz Wi-Fi Support, WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE Whitelisting and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack , BLE Stack , All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS Client.
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **Hardware kits to evaluate NCP Mode**
  - NCP EFR Expansion Kit with NCP Radio board (BRD4338A(NCP MBR) + BRD8045A)
  - Wireless Pro kit Mainboard BRD4002A Rev A06
  - EFR32xG24 Wireless 2.4 GHz +10 dBm Radio Board xG24-RB4186C

**Release Details**

|**Item**|**Details**|
| :- | :- |
|Release date|Mar 13th, 2024|
|SDK Version|3\.1.4-rc6|
|Firmware Version|1711\.2.10.1.3.0.7|
|Package Name|WiSeConnect3\_SDK\_3.1.4-rc6|
|Supported RTOS|FreeRTOS|
|Operating Modes Supported|Wi-Fi STA, Wi-Fi AP, Wi-Fi STA+BLE, Wi-Fi STA+AP|
|Build Quality|GA|

- SiWx917 release consists of two components
  - Wireless Firmware - SiWx917 Firmware Binaries
  - Wiseconnect3 Library - Wiseconnect3 SDK library runs on the external host in NCP mode and internal Cortex M4 in SoC Mode.
- This release is meant only for use with designs based on SiWx917 Silicon
- The firmware to load is available in the following format:
  - SiWG917-B.2.10.1.x.0.x.rps - B0 Full-featured firmware binary

**Features Supported**

**Sensorhub service**

- Support for ADC, SPI, SDC and I2C based sensors
- Support for PS2 and sleep wakeups
- Support added for SDC
- SoC OPN based project support in SSv5
- List of OPN's supported si917-sb00, siwg917m111mgtba, siwg917m100mgtba, siwg917m111xgtba, siwg917m100xntba, siwg917m121xgtba, siwg917m110lgtba and siwg917m141xgtba

**MCU**

- ADC Single Channel, ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, GPIO, I2C, I2S, NVM3, OPAMP, PSRAM, PWM, QEI, RTC, SDIO Secondary, SPI Master and Slave, UART, Micro DMA, USART, Watchdog Timer, Temperature Sensor(RO and BJT), USART Master and Slave
- UC Supported Peripherals - GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers , Config Timers, ULP (Ultra Low Power) Timers, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, MEMLCD, Analog Comparator and Digital to Analog Converter.
- Services - Sleeptimer, IOSTREAM, NVM3, Power Manager and Pin Tool (support for USART, I2C, SSI, GSPI, SIO, SCT, PWM and I2S).
- ULP (Ultra Low Power) Peripherals - ulp\_gpio, ulp\_adc ulp\_i2c, ulp\_i2s, ulp\_ir\_decoder, ulp\_spi, ulp\_timer, ulp\_uart, ulp\_udma
- Extended flash write support for NWP flash region and added read api to read from NWP flash region

**Wi-Fi**

- WPA2/WPA3 Personal, WPS and WPA2-EAP Support for Station Mode
- TCP/IP stack with IPv4, IPv6, TCP, UDP, TLS, HTTP/HTTPS, DHCPv4, DHCPv6, MQTT Client, DNS Client, SNTP client.
- Support for SSL client versions TLSV1.0, TLSV1.2, TLSV1.3 and SSL server versions TLSV1.0 and TLSV1.2
- Wi-Fi STA (802.11n/802.11ax) + 802.11n AP Support
- HE (802.11ax) and Individual TWT Feature Support
- Multiple BSSID feature support as an STA
- Secure OTA support on B0 radio boards.
- Support for LWIP network stack
- Support for AWS MQTT library
- Support for Azure MQTT library
- Support for BSD and IoT sockets application programming interface(API)

**Bluetooth Low Energy**

- BLE central & peripheral connections are supported.
- Ultra-low power save is supported.

**Power Save**

- Max PSP, enhanced MAX PSP, Fast PSP, and 802.11ax TWT power save modes are supported in WiFi.
- Only Max PSP power save mode is supported in BLE

**Crypto Support**

- AES, SHA, AES-CCM, HMAC, GCM, Chacha-poly, ECDH and TRNG FW Crypto API support added.
- PSA enabled Mbed TLS support added
- NVM support added for key storage
- Symmetric and asymmetric key storage
- TRNG, AES, SHA, HMAC, GCM, Chacha-poly, ECDH and AES-CCM hardware crypto engine is integrated with PSA crypto.

**Changes and Fixes**

**SDK**

- None

**MCU**

- Removed tickless mode support

**Wi-Fi & Network Stack**

- None

**BLE**

- None

**CoEx**

- None

**System**

- None

**Recommendations**

**System**

- The current revision of SiWx917 B0 has:
  - RAM memory of 672k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_672K\_M4SS\_0K- This mode configures TA with 672k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By default EXT\_FEAT\_352K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_480K\_M4SS\_192K - This mode configures TA with 480k and M4 with 192K bytes of memory
    - EXT\_FEAT\_416K\_M4SS\_256K - This mode configures TA with 416k and M4 with 256K bytes of memory
    - EXT\_FEAT\_352K\_M4SS\_320K - This mode configures TA with 352k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 672K\_M4SS\_0K.
  - SoC mode should not use 672k\_M4SS\_0k memory configuration.
- Set the recommended Power Save Profile (PSP) type to Enhanced Max PSP.

**IDE**

- Download the latest version of Simplicity Studio
- Refer to the latest version of the SoC/NCP "Getting-Started-with-SiWx917" guide for more details

**Wi-Fi & Network Stack****

- The recommended embedded MQTT Publish payload is 1 kBytes.
- It is recommended to enable bit 16 of the 'Extended TCP IP Feature' bit map in the opermode command for all Wi-Fi Socket operations from the host to ensure graceful handling during asynchronous closures from the peer.
- Aggregation (bit 2 of feature\_bit\_map) is recommended to be enabled in opermode. This enables software to aggregate multiple packets to achieve better throughput
- TCP retransmission count value is recommended to be 30 or higher so that the TCP does not disconnect while the rejoin happens.
- To restart the module, the application needs to call sl\_wifi\_deinit() followed by sl\_wifi\_init().
- Register 'Join Fail Callback' function every time when join is called, as in the rejoin failure path the callback is deregistered. If not done, this might result in a scan not functioning on rejoin failure.
- User can enable SL\_SI91X\_EXT\_TCP\_IP\_SSL\_16K\_RECORD in 'Extended TCP IP Feature'bit map in opermode, if HTTPS download is failing after receiving HTTP headers..
- iTWT setup is recommended after IP assignment/TCP connection/application specific socket connections.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, increase TCP / ARP Timeouts at the remote side depending upon the configured TWT interval configured.
- In case of TWT+coex, when using sl\_wifi\_enable\_target\_wakeup\_time API, use TWT wake duration <= 16 ms and TWT wake interval >= 1 sec. If wake duration > 16 ms or TWT wake interval < 1sec, there might be performance issues.
- For iTWT GTK Interval Should be kept max possible value or zero. If GTK interval is not configurable, recommended TWT interval (in case of sl\_wifi\_enable\_target\_wakeup\_time API) or RX Latency (in case of sl\_wifi\_target\_wake\_time\_auto\_selection API) is less than 4sec.
- Disable Power Save for High Throughput Applications.
- The application needs to ensure that it sets RTC with the correct timestamp when the feature is enabled before establishing the SSL connection.
- The timeout value should not be less than 1 second for socket select and socket receive calls. Timeout value of less than 1 second is not currently supported.
- When sl\_wifi\_enable\_target\_wakeup\_time API is used, configuring TWT Wake interval beyond 1 min might lead to disconnections from the AP. Recommended to use TWT wakeup interval of less than or equal to 1 min.
- Embedded MQTT keep alive interval should be either 0 or a value greater than 35 seconds.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, it is recommended to set missed\_beacon\_count of sl\_wifi\_set\_advanced\_client\_configuration API greater than 2 times of the configured TWT Interval.
- Disable power save and suspend any active TWT sessions before triggering HTTP OTAF.
- It is recommended to enable bit 31 of the 'TCP IP Feature' bit map in the opermode command to support multicast protocol

**BLE**

- In BLE, the recommended range of Connection Interval in
  - Power Save (BLE Only) - 100 ms to 1.28 s.
- In BLE, during Connection, the configuration of Scan Interval and Scan Window with the same value is not recommended. The suggested ratio of Scan Window to Scan Interval is 3:4.
- In BLE, if a device is acting as Central, the scan window (in set\_scan\_params and create\_connection commands) must be less than the existing Connection Interval. The suggested ratio of Scan Window to Connection Interval is 2:3.
- In BLE mode, if scanning and advertising are in progress on the SiWx91x module and it subsequently gets connected and moves to the central role, scanning stops else if it moves to the peripheral role, advertising stops. To further establish a connection to another peripheral device or to a central device, the application should give a command for starting advertising and scanning again.

**Co-Existence**

- For concurrent Wi-Fi + BLE, and while a Wi-Fi connection is active, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
- Wi-Fi + BLE Advertising
  - All standard advertising intervals are supported. As Wi-Fi throughput is increased, a slight difference in on-air advertisements compared to configured intervals may be observed.
  - BLE advertising is skipped if the advertising interval collides with Wi-Fi activity.
- Wi-Fi + BLE scanning
  - All standard scan intervals are supported. For better scan results, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
  - BLE scanning will be stopped for intervals that collide with Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Connections
  - All standard connection intervals are supported.
  - For a stable connection, use optimal connection intervals and max supervision timeout in the presence of Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Data Transfer
  - To achieve higher throughput for both Wi-Fi and BLE, use medium connection intervals, such as 45 to 80 ms with maximum supervision timeout.
  - Ensure Wi-Fi activity consumes lower intervals.

**Known Issues**

**Sensorhub**

- Support for ADC FIFO Mode and Multi channel is open
- Support for ADC Powersave is open
- PS1-state supports only ADC sensor

**Network Stack**

- Sometimes during SSL Handshake, ECC curve parameters generated are wrong, resulting in connection failure with BBD2 error. However, this recovers in the next attempt.
- Randomize the client port if using rapid connect/disconnect of the MQTT session on the same client port with the power save.
- Secure SSL renegotiation not supported in Embedded Networking Stack.
- Disable power save before making TCP connection for NCP-UART interface.

**Wi-Fi**

- TWT device (STA) may not go to sleep in between TWT intervals in case of burst data traffics with data size more than the configured 'average tx throughput', until completion of data transfer.
- There are performance and IOP issues with MU MIMO.
- WPA3 Connection with the Hunting and Pecking algorithm takes about 3-4 seconds.
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.
- Low Wi-Fi+BLE throughput
- TCP/UDP TX/RX Data stall observed in CoEx scenarios
- Observed HTTPS Continuous download fails with TA Power save
- Performance improvements are in progress for lower performance metrics.
- Observed interop issue (connectivity failure) with few AP's when device reset/reboot happens on active connection.
- In concurrent mode, AP restart fails after stopping it with ap\_stop command.
- DUT deep sleep will not work after stopping AP with ap\_stop command.
- Unable to get SNTP async events when coex mode and Power save is enabled
- Fine Tuning 802.11ax Spectral mask in Progress
- Fine Tuning 11b mask in Ch11 in progress
- DUT is unable to connect to the AP with WPA3 security when we enable coex mode (WLAN+BLE) in opermode
- Socket listen API is failing from the second iteration
- Disconnections observed with Netgear RAX120 AP in WPA3 security
- Observed connection failures with some AP's in more channel congestion open lab environment
- Firmware Upgrade example is not working in PSRAM boards

**BLE**

- HID profile data transfer is not working, when power save is enabled in SoC.
- BLE reconnection is not working in ble_multiconnection_gatt demo, when power save is enabled in SoC

**Co-Existence**

- Observed HTTP continuous download is not happening in Powersave mode after BLE connection established using wifi\_https\_ble\_dual\_role application
- Observed DUT hang while Wi-Fi UDP Tx and BLE continuous scan run for long time.

**System**

- None

**MCU**

- Refer to the respective Radio board user guides for specific pinout details. Examples are targeted to a specific version mentioned in the respective readme.
- Few peripherals like WDT when configured with RO clock is not working as expected. No impact on the feature but the clocks are not accurate.
- ADC Differential mode is not working as expected if negative input value set above 2.4V.
- Few(BOD, Comparator and SysRTC) wakeup resources are not working as expected in Power manager service.
- Observed expected RO and BJT Temperature values only on calibrated FW18 boards.
- Force generate is required in order to generate pin_config.h from the Pin tool because Simplicity Studio's generate option isn't functioning in current version.
- SSI supports only upto 23MHz now
- SSI Full Duplex in DMA mode is not working as expected
- SSI in DMA mode is limited to only 1024 bytes of buffer size
- Character Timeout feature for all communication protocols
- ADC Multichannel support is not present at different Sample rates HP -100K, ULP 10k/500 samples - not working
- NVM3 is currently not supported for OPN
- it's important to select Non-psram examples manually for OPNs because unsupported examples are also included in the "Example Projects & Demos" section.

**Limitations and Unsupported Features**

**Wi-Fi/Network Stack**

- TLS 1.3 Server is not supported
- In AP mode, IPv6 Router Advertisements are not supported. Although STA connected to the APUT can transfer IPv6 data to the peers by using SLAAC for address configuration.
- When sl\_wifi\_enable\_target\_wake\_time() API is used, observed occasional MQTT disconnections with longer TWT intervals (>30secs) with embedded MQTT + TWT.
- AMSDU TX is not supported.
- Fragmentation is not supported.
- AMSDUs within AMPDU is not supported.
- Currently, the module does not support Radio Measurement Requests feature of CCX V2
- 802.11k is not supported
- 40 MHz bandwidth for 2.4 GHz band is not supported.
- 802.11J channel 14 is not supported.
- MQTT versions 3 and 4 are supported.
- Maximum of 3 SSL connections are supported.
- In SSL ECC Curve ID supported is 23. SSL handshake with 3rd party clients depends on the SSL ECC Curve ID.
- LP mode is not supported.
- In iTWT mode, downlink data traffic should be limited. Disconnections may be observed if AP fails to send all the buffered data in the next TWT Service Period.
- Number of MBSSIDs processed is limited by the beacon length that can be processed by the stack (which is limited to 1024 bytes). Beacons greater than 1024 Bytes in length will not be processed.
- CoEx + EAP Security in 352K/320k is not feasible. This issue is observed due to a lack of memory in the 352k/320k Memory Configuration. It is supported with other EXT\_FEAT\_416K\_M4SS\_256K and EXT\_FEAT\_480K\_M4SS\_192K memory configurations.
- UL MUMIMO is not supported.
- The embedded HTTP server is not supported.
- Baremetal is not supported.
- Compared to SoC mode, NCP mode has fewer examples, but more will be enabled in upcoming releases.
- Maximum Supported length for Embedded MQTT username up to 120 bytes , topic length up to 200 bytes and password upto 62 bytes.
- UART 2 Debug prints are supported only on ULP_GPIO_9.
- WOW LAN feature is not supported.
- SA Query procedure is not supported in AP mode.
- Maximum Supported length for HTTP GET URL is up to 2048 bytes.
- Azure SDK with embedded MQTT is not supported.
- Power save is not supported in Azure MQTT.
- MDNS service discovery is currently not supported.

**BLE**

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.
- BLE TX/RX throughput is less when tested with EFM as compared to EFR
- Maximum supported AE data length is 200 bytes.
- Supports only two ADV\_EXT sets.
- Supports only two BLE connections (1 Central and 1 Peripheral) with AE.
- Advertising Extension feature is not supported in Coexistence.
- The  ae\_central & ae\_peripheral applications are not supported with TA\_352K\_M4\_320K RAM configuration.
- Setting PLL mode as 1 is not supported in Coexistence

**MCU**

- ULP Peripherals examples configurations are for RAM-based execution, as flash is powered off in ULP Mode.
- Manual chip select option is not supported when using GSPI.
- SSI Dual and Quad mode is not working as expected.
- SPI sensor will not work in the Sensor HUB application.
- For ADC Multichannel sampling rate is limited to less than 15Ksps, number of samples is less than 500 and with a maximum of 4 channel

**Simplicity Studio and Commander**

- Default GDB debug configuration is not supported for SoC projects, work around details provided in "Getting-Started-with-SiWx917"
- Observing flash download failures(ERROR 108) for a few image sizes
- While creating project through Simplicity Studio, "copy contents" option not supported.
- Simplicity commander does not support options under "Debug Lock tools".
- All projects in the package are compatible with GCC 10.3.1 version.

**Terminology**

|**Term**|**Description**|
| :- | :- |
|**New Features**|These items are new to this release|
|**Changes/Issues Fixed**|Changes made to existing features found in previous software releases.|
||Enhancements to existing product flow and feature set.|
||Bug fixes done in the release|
|**Deprecated Items**|Features or functions or APIs that are removed from the distributed release to align with the software roadmap|
|**Known Issues**|Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases|
|**Limitations/Recommendations**|Describes the limitations on product usage and recommendations for optimal use cases|

**Note**

- Change SPI frequency to 12.5Mhz while measuring BLE throughput with EFR32

<br>

**WiSeConnect3\_SDK\_3.1.4-rc5 Release Notes**

This SDK package supports SoC Mode and NCP Mode for B0:

- In SoC Mode: Customer applications can run on Cortex M4. Wireless, network, and security stacks run on the wireless subsystem.
- In NCP mode: Wireless, network, and security stacks run on the Wireless subsystem. Customer applications run on the external host MCU.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

**Note**: Use Simplicity Studio version SV5.8.0.1 onwards

**SoC Highlights**

- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support ultra low power Wi-Fi standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode
- **MCU examples** : GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers, Config Timers, ULP (Ultra Low Power) Timers, Sleeptimer, IOSTREAM, NVM3, MEMLCD, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, Sensorhub, Joystick and Relative Humidity and Temparature sensor(RHT), Analog Comparator, Digital to Analog Converter and Temperature sensor(RO and BJT)
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE whitelisting, and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack, All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS client
- **IDE** : Simplicity Studio with Windows 10(64-bit), Linux, Mac OS
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** :
  - Si-MB4002A Main board
  - SiWx917 Radio boards

|**RadioBoard Type**|**SiWx917B0 with Board Version**|
| :- | :- |
|Common flash|Si917-BRD4338A(2.0)|
|Dual flash|Si917-BRD4339B(2.0)|
|External PSRAM|Si917-BRD4340A(2.0), Si917-BRD4342A(2.0)|

**NCP Highlights**

- **Host Interface** : SPI, UART
- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode.
- **Wi-Fi** : 2.4GHz Wi-Fi Support, WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE Whitelisting and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack , BLE Stack , All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS Client.
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **Hardware kits to evaluate NCP Mode**
  - NCP EFR Expansion Kit with NCP Radio board (BRD4338A(NCP MBR) + BRD8045A)
  - Wireless Pro kit Mainboard BRD4002A Rev A06
  - EFR32xG24 Wireless 2.4 GHz +10 dBm Radio Board xG24-RB4186C

**Release Details**

|**Item**|**Details**|
| :- | :- |
|Release date|Mar 12th, 2024|
|SDK Version|3\.1.4-rc5|
|Firmware Version|1711\.2.10.1.3.0.7|
|Package Name|WiSeConnect3\_SDK\_3.1.4-rc5|
|Supported RTOS|FreeRTOS|
|Operating Modes Supported|Wi-Fi STA, Wi-Fi AP, Wi-Fi STA+BLE, Wi-Fi STA+AP|
|Build Quality|GA|

- SiWx917 release consists of two components
  - Wireless Firmware - SiWx917 Firmware Binaries
  - Wiseconnect3 Library - Wiseconnect3 SDK library runs on the external host in NCP mode and internal Cortex M4 in SoC Mode.
- This release is meant only for use with designs based on SiWx917 Silicon
- The firmware to load is available in the following format:
  - SiWG917-B.2.10.1.x.0.x.rps - B0 Full-featured firmware binary

**Features Supported**

**Sensorhub service**

- Support for ADC, SPI, SDC and I2C based sensors
- Support for PS2 and sleep wakeups
- Support added for SDC
- SoC OPN based project support in SSv5
- List of OPN's supported si917-sb00, siwg917m111mgtba, siwg917m100mgtba, siwg917m111xgtba, siwg917m100xntba, siwg917m121xgtba, siwg917m110lgtba and siwg917m141xgtba

**MCU**

- ADC Single Channel, ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, GPIO, I2C, I2S, NVM3, OPAMP, PSRAM, PWM, QEI, RTC, SDIO Secondary, SPI Master and Slave, UART, Micro DMA, USART, Watchdog Timer, Temperature Sensor(RO and BJT), USART Master and Slave
- UC Supported Peripherals - GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers , Config Timers, ULP (Ultra Low Power) Timers, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, MEMLCD, Analog Comparator and Digital to Analog Converter.
- Services - Sleeptimer, IOSTREAM, NVM3, Power Manager and Pin Tool (support for USART, I2C, SSI, GSPI, SIO, SCT, PWM and I2S).
- ULP (Ultra Low Power) Peripherals - ulp\_gpio, ulp\_adc ulp\_i2c, ulp\_i2s, ulp\_ir\_decoder, ulp\_spi, ulp\_timer, ulp\_uart, ulp\_udma
- Extended flash write support for NWP flash region and added read api to read from NWP flash region

**Wi-Fi**

- WPA2/WPA3 Personal, WPS and WPA2-EAP Support for Station Mode
- TCP/IP stack with IPv4, IPv6, TCP, UDP, TLS, HTTP/HTTPS, DHCPv4, DHCPv6, MQTT Client, DNS Client, SNTP client.
- Support for SSL client versions TLSV1.0, TLSV1.2, TLSV1.3 and SSL server versions TLSV1.0 and TLSV1.2
- Wi-Fi STA (802.11n/802.11ax) + 802.11n AP Support
- HE (802.11ax) and Individual TWT Feature Support
- Multiple BSSID feature support as an STA
- Secure OTA support on B0 radio boards.
- Support for LWIP network stack
- Support for AWS MQTT library
- Support for Azure MQTT library
- Support for BSD and IoT sockets application programming interface(API)

**Bluetooth Low Energy**

- BLE central & peripheral connections are supported.
- Ultra-low power save is supported.

**Power Save**

- Max PSP, enhanced MAX PSP, Fast PSP, and 802.11ax TWT power save modes are supported in WiFi.
- Only Max PSP power save mode is supported in BLE

**Crypto Support**

- AES, SHA, AES-CCM, HMAC, GCM, Chacha-poly, ECDH and TRNG FW Crypto API support added.
- PSA enabled Mbed TLS support added
- NVM support added for key storage
- Symmetric and asymmetric key storage
- TRNG, AES, SHA, HMAC, GCM, Chacha-poly, ECDH and AES-CCM hardware crypto engine is integrated with PSA crypto.

**Changes and Fixes**

**SDK**

- None

**MCU**

- Fixed Sleep Timer component installation issue.
- Implemented support for tickless mode alpha phase.
- Fixed the SYSRTC console output image.
- Reverted pin tool phase 2 changes.
- The LF clock source has been switched from RO (32kHz) to RC. Adjustments were made in power save applications to reflect this switch.

**Wi-Fi & Network Stack**

- Removed wifi_station_ble_throughput_app_ncp, wifi_throughput_ble_dual_role_ncp examples from Patch3.
- SQA bugs: SI91X-15174, SI91X-15131, SI91X-15189, SI91X-15043, SI91X-15197.

**BLE**

- None

**CoEx**

- None

**System**

- None

**Recommendations**

**System**

- The current revision of SiWx917 B0 has:
  - RAM memory of 672k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_672K\_M4SS\_0K- This mode configures TA with 672k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By default EXT\_FEAT\_352K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_480K\_M4SS\_192K - This mode configures TA with 480k and M4 with 192K bytes of memory
    - EXT\_FEAT\_416K\_M4SS\_256K - This mode configures TA with 416k and M4 with 256K bytes of memory
    - EXT\_FEAT\_352K\_M4SS\_320K - This mode configures TA with 352k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 672K\_M4SS\_0K.
  - SoC mode should not use 672k\_M4SS\_0k memory configuration.
- Set the recommended Power Save Profile (PSP) type to Enhanced Max PSP.

**IDE**

- Download the latest version of Simplicity Studio
- Refer to the latest version of the SoC/NCP "Getting-Started-with-SiWx917" guide for more details

**Wi-Fi & Network Stack****

- The recommended embedded MQTT Publish payload is 1 kBytes.
- It is recommended to enable bit 16 of the 'Extended TCP IP Feature' bit map in the opermode command for all Wi-Fi Socket operations from the host to ensure graceful handling during asynchronous closures from the peer.
- Aggregation (bit 2 of feature\_bit\_map) is recommended to be enabled in opermode. This enables software to aggregate multiple packets to achieve better throughput
- TCP retransmission count value is recommended to be 30 or higher so that the TCP does not disconnect while the rejoin happens.
- To restart the module, the application needs to call sl\_wifi\_deinit() followed by sl\_wifi\_init().
- Register 'Join Fail Callback' function every time when join is called, as in the rejoin failure path the callback is deregistered. If not done, this might result in a scan not functioning on rejoin failure.
- User can enable SL\_SI91X\_EXT\_TCP\_IP\_SSL\_16K\_RECORD in 'Extended TCP IP Feature'bit map in opermode, if HTTPS download is failing after receiving HTTP headers..
- iTWT setup is recommended after IP assignment/TCP connection/application specific socket connections.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, increase TCP / ARP Timeouts at the remote side depending upon the configured TWT interval configured.
- In case of TWT+coex, when using sl\_wifi\_enable\_target\_wakeup\_time API, use TWT wake duration <= 16 ms and TWT wake interval >= 1 sec. If wake duration > 16 ms or TWT wake interval < 1sec, there might be performance issues.
- For iTWT GTK Interval Should be kept max possible value or zero. If GTK interval is not configurable, recommended TWT interval (in case of sl\_wifi\_enable\_target\_wakeup\_time API) or RX Latency (in case of sl\_wifi\_target\_wake\_time\_auto\_selection API) is less than 4sec.
- Disable Power Save for High Throughput Applications.
- The application needs to ensure that it sets RTC with the correct timestamp when the feature is enabled before establishing the SSL connection.
- The timeout value should not be less than 1 second for socket select and socket receive calls. Timeout value of less than 1 second is not currently supported.
- When sl\_wifi\_enable\_target\_wakeup\_time API is used, configuring TWT Wake interval beyond 1 min might lead to disconnections from the AP. Recommended to use TWT wakeup interval of less than or equal to 1 min.
- Embedded MQTT keep alive interval should be either 0 or a value greater than 35 seconds.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, it is recommended to set missed\_beacon\_count of sl\_wifi\_set\_advanced\_client\_configuration API greater than 2 times of the configured TWT Interval.
- Disable power save and suspend any active TWT sessions before triggering HTTP OTAF.
- It is recommended to enable bit 31 of the 'TCP IP Feature' bit map in the opermode command to support multicast protocol

**BLE**

- In BLE, the recommended range of Connection Interval in
  - Power Save (BLE Only) - 100 ms to 1.28 s.
- In BLE, during Connection, the configuration of Scan Interval and Scan Window with the same value is not recommended. The suggested ratio of Scan Window to Scan Interval is 3:4.
- In BLE, if a device is acting as Central, the scan window (in set\_scan\_params and create\_connection commands) must be less than the existing Connection Interval. The suggested ratio of Scan Window to Connection Interval is 2:3.
- In BLE mode, if scanning and advertising are in progress on the SiWx91x module and it subsequently gets connected and moves to the central role, scanning stops else if it moves to the peripheral role, advertising stops. To further establish a connection to another peripheral device or to a central device, the application should give a command for starting advertising and scanning again.

**Co-Existence**

- For concurrent Wi-Fi + BLE, and while a Wi-Fi connection is active, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
- Wi-Fi + BLE Advertising
  - All standard advertising intervals are supported. As Wi-Fi throughput is increased, a slight difference in on-air advertisements compared to configured intervals may be observed.
  - BLE advertising is skipped if the advertising interval collides with Wi-Fi activity.
- Wi-Fi + BLE scanning
  - All standard scan intervals are supported. For better scan results, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
  - BLE scanning will be stopped for intervals that collide with Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Connections
  - All standard connection intervals are supported.
  - For a stable connection, use optimal connection intervals and max supervision timeout in the presence of Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Data Transfer
  - To achieve higher throughput for both Wi-Fi and BLE, use medium connection intervals, such as 45 to 80 ms with maximum supervision timeout.
  - Ensure Wi-Fi activity consumes lower intervals.

**Known Issues**

**Sensorhub**

- Support for ADC FIFO Mode and Multi channel is open
- Support for ADC Powersave is open
- PS1-state supports only ADC sensor

**Network Stack**

- Sometimes during SSL Handshake, ECC curve parameters generated are wrong, resulting in connection failure with BBD2 error. However, this recovers in the next attempt.
- Randomize the client port if using rapid connect/disconnect of the MQTT session on the same client port with the power save.
- Secure SSL renegotiation not supported in Embedded Networking Stack.
- Disable power save before making TCP connection for NCP-UART interface.

**Wi-Fi**

- TWT device (STA) may not go to sleep in between TWT intervals in case of burst data traffics with data size more than the configured 'average tx throughput', until completion of data transfer.
- There are performance and IOP issues with MU MIMO.
- WPA3 Connection with the Hunting and Pecking algorithm takes about 3-4 seconds.
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.
- Low Wi-Fi+BLE throughput
- TCP/UDP TX/RX Data stall observed in CoEx scenarios
- Observed HTTPS Continuous download fails with TA Power save
- Performance improvements are in progress for lower performance metrics.
- Observed interop issue (connectivity failure) with few AP's when device reset/reboot happens on active connection.
- In concurrent mode, AP restart fails after stopping it with ap\_stop command.
- DUT deep sleep will not work after stopping AP with ap\_stop command.
- Unable to get SNTP async events when coex mode and Power save is enabled
- Fine Tuning 802.11ax Spectral mask in Progress
- Fine Tuning 11b mask in Ch11 in progress
- DUT is unable to connect to the AP with WPA3 security when we enable coex mode (WLAN+BLE) in opermode
- Socket listen API is failing from the second iteration
- Disconnections observed with Netgear RAX120 AP in WPA3 security
- Observed connection failures with some AP's in more channel congestion open lab environment
- Firmware Upgrade example is not working in PSRAM boards

**BLE**

- HID profile data transfer is not working, when power save is enabled in SoC.
- BLE reconnection is not working in ble_multiconnection_gatt demo, when power save is enabled in SoC

**Co-Existence**

- Observed HTTP continuous download is not happening in Powersave mode after BLE connection established using wifi\_https\_ble\_dual\_role application
- Observed DUT hang while Wi-Fi UDP Tx and BLE continuous scan run for long time.

**System**

- None

**MCU**

- Refer to the respective Radio board user guides for specific pinout details. Examples are targeted to a specific version mentioned in the respective readme.
- Few peripherals like WDT when configured with RO clock is not working as expected. No impact on the feature but the clocks are not accurate.
- ADC Differential mode is not working as expected if negative input value set above 2.4V.
- Few(BOD, Comparator and SysRTC) wakeup resources are not working as expected in Power manager service.
- Observed expected RO and BJT Temperature values only on calibrated FW18 boards.
- Force generate is required in order to generate pin_config.h from the Pin tool because Simplicity Studio's generate option isn't functioning in current version.
- SSI supports only upto 23MHz now
- SSI Full Duplex in DMA mode is not working as expected
- SSI in DMA mode is limited to only 1024 bytes of buffer size
- Character Timeout feature for all communication protocols
- ADC Multichannel support is not present at different Sample rates HP -100K, ULP 10k/500 samples - not working
- Enabling tickless mode in a RTOS does introduce some level of timer drift
- NVM3 is currently not supported for OPN
- it's important to select Non-psram examples manually for OPNs because unsupported examples are also included in the "Example Projects & Demos" section.

**Limitations and Unsupported Features**

**Wi-Fi/Network Stack**

- TLS 1.3 Server is not supported
- In AP mode, IPv6 Router Advertisements are not supported. Although STA connected to the APUT can transfer IPv6 data to the peers by using SLAAC for address configuration.
- When sl\_wifi\_enable\_target\_wake\_time() API is used, observed occasional MQTT disconnections with longer TWT intervals (>30secs) with embedded MQTT + TWT.
- AMSDU TX is not supported.
- Fragmentation is not supported.
- AMSDUs within AMPDU is not supported.
- Currently, the module does not support Radio Measurement Requests feature of CCX V2
- 802.11k is not supported
- 40 MHz bandwidth for 2.4 GHz band is not supported.
- 802.11J channel 14 is not supported.
- MQTT versions 3 and 4 are supported.
- Maximum of 3 SSL connections are supported.
- In SSL ECC Curve ID supported is 23. SSL handshake with 3rd party clients depends on the SSL ECC Curve ID.
- LP mode is not supported.
- In iTWT mode, downlink data traffic should be limited. Disconnections may be observed if AP fails to send all the buffered data in the next TWT Service Period.
- Number of MBSSIDs processed is limited by the beacon length that can be processed by the stack (which is limited to 1024 bytes). Beacons greater than 1024 Bytes in length will not be processed.
- CoEx + EAP Security in 352K/320k is not feasible. This issue is observed due to a lack of memory in the 352k/320k Memory Configuration. It is supported with other EXT\_FEAT\_416K\_M4SS\_256K and EXT\_FEAT\_480K\_M4SS\_192K memory configurations.
- UL MUMIMO is not supported.
- The embedded HTTP server is not supported.
- Baremetal is not supported.
- Compared to SoC mode, NCP mode has fewer examples, but more will be enabled in upcoming releases.
- Maximum Supported length for Embedded MQTT username up to 120 bytes , topic length up to 200 bytes and password upto 62 bytes.
- UART 2 Debug prints are supported only on ULP_GPIO_9.
- WOW LAN feature is not supported.
- SA Query procedure is not supported in AP mode.
- Maximum Supported length for HTTP GET URL is up to 2048 bytes.
- Azure SDK with embedded MQTT is not supported.
- Power save is not supported in Azure MQTT.
- MDNS service discovery is currently not supported.

**BLE**

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.
- BLE TX/RX throughput is less when tested with EFM as compared to EFR
- Maximum supported AE data length is 200 bytes.
- Supports only two ADV\_EXT sets.
- Supports only two BLE connections (1 Central and 1 Peripheral) with AE.
- Advertising Extension feature is not supported in Coexistence.
- The  ae\_central & ae\_peripheral applications are not supported with TA\_352K\_M4\_320K RAM configuration.
- Setting PLL mode as 1 is not supported in Coexistence

**MCU**

- ULP Peripherals examples configurations are for RAM-based execution, as flash is powered off in ULP Mode.
- Manual chip select option is not supported when using GSPI.
- SSI Dual and Quad mode is not working as expected.
- SPI sensor will not work in the Sensor HUB application.
- For ADC Multichannel sampling rate is limited to less than 15Ksps, number of samples is less than 500 and with a maximum of 4 channel

**Simplicity Studio and Commander**

- Default GDB debug configuration is not supported for SoC projects, work around details provided in "Getting-Started-with-SiWx917"
- Observing flash download failures(ERROR 108) for a few image sizes
- While creating project through Simplicity Studio, "copy contents" option not supported.
- Simplicity commander does not support options under "Debug Lock tools".
- All projects in the package are compatible with GCC 10.3.1 version.

**Terminology**

|**Term**|**Description**|
| :- | :- |
|**New Features**|These items are new to this release|
|**Changes/Issues Fixed**|Changes made to existing features found in previous software releases.|
||Enhancements to existing product flow and feature set.|
||Bug fixes done in the release|
|**Deprecated Items**|Features or functions or APIs that are removed from the distributed release to align with the software roadmap|
|**Known Issues**|Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases|
|**Limitations/Recommendations**|Describes the limitations on product usage and recommendations for optimal use cases|

**Note**

- Change SPI frequency to 12.5Mhz while measuring BLE throughput with EFR32

<br>

**WiSeConnect3\_SDK\_3.1.4-rc4 Release Notes**

This SDK package supports SoC Mode and NCP Mode for B0:

- In SoC Mode: Customer applications can run on Cortex M4. Wireless, network, and security stacks run on the wireless subsystem.
- In NCP mode: Wireless, network, and security stacks run on the Wireless subsystem. Customer applications run on the external host MCU.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

**Note**: Use Simplicity Studio version SV5.8.0.1 onwards

**SoC Highlights**

- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support ultra low power Wi-Fi standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode
- **MCU examples** : GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers, Config Timers, ULP (Ultra Low Power) Timers, Sleeptimer, IOSTREAM, NVM3, MEMLCD, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, Sensorhub, Joystick and Relative Humidity and Temparature sensor(RHT), Analog Comparator, Digital to Analog Converter and Temperature sensor(RO and BJT)
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE whitelisting, and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack, All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS client
- **IDE** : Simplicity Studio with Windows 10(64-bit), Linux, Mac OS
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** :
  - Si-MB4002A Main board
  - SiWx917 Radio boards

|**RadioBoard Type**|**SiWx917B0 with Board Version**|
| :- | :- |
|Common flash|Si917-BRD4338A(2.0)|
|Dual flash|Si917-BRD4339B(2.0)|
|External PSRAM|Si917-BRD4340A(2.0), Si917-BRD4342A(2.0)|

**NCP Highlights**

- **Host Interface** : SPI, UART
- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode.
- **Wi-Fi** : 2.4GHz Wi-Fi Support, WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE Whitelisting and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack , BLE Stack , All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS Client.
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **Hardware kits to evaluate NCP Mode**
  - NCP EFR Expansion Kit with NCP Radio board (BRD4338A(NCP MBR) + BRD8045A)
  - Wireless Pro kit Mainboard BRD4002A Rev A06
  - EFR32xG24 Wireless 2.4 GHz +10 dBm Radio Board xG24-RB4186C

**Release Details**

|**Item**|**Details**|
| :- | :- |
|Release date|Mar 7th, 2024|
|SDK Version|3\.1.4-rc4|
|Firmware Version|1711\.2.10.1.3.0.5|
|Package Name|WiSeConnect3\_SDK\_3.1.4-rc4|
|Supported RTOS|FreeRTOS|
|Operating Modes Supported|Wi-Fi STA, Wi-Fi AP, Wi-Fi STA+BLE, Wi-Fi STA+AP|
|Build Quality|GA|

- SiWx917 release consists of two components
  - Wireless Firmware - SiWx917 Firmware Binaries
  - Wiseconnect3 Library - Wiseconnect3 SDK library runs on the external host in NCP mode and internal Cortex M4 in SoC Mode.
- This release is meant only for use with designs based on SiWx917 Silicon
- The firmware to load is available in the following format:
  - SiWG917-B.2.10.1.x.0.x.rps - B0 Full-featured firmware binary

**Features Supported**

**Sensorhub service**

- Support for ADC, SPI, SDC and I2C based sensors
- Support for PS2 and sleep wakeups
- Support added for SDC
- SoC OPN based project support in SSv5
- List of OPN's supported si917-sb00, siwg917m111mgtba, siwg917m100mgtba, siwg917m111xgtba, siwg917m100xntba, siwg917m121xgtba, siwg917m110lgtba and siwg917m141xgtba

**MCU**

- ADC Single Channel, ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, GPIO, I2C, I2S, NVM3, OPAMP, PSRAM, PWM, QEI, RTC, SDIO Secondary, SPI Master and Slave, UART, Micro DMA, USART, Watchdog Timer, Temperature Sensor(RO and BJT), USART Master and Slave
- UC Supported Peripherals - GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers , Config Timers, ULP (Ultra Low Power) Timers, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, MEMLCD, Analog Comparator and Digital to Analog Converter.
- Services - Sleeptimer, IOSTREAM, NVM3, Power Manager and Pin Tool (support for USART, I2C, SSI, GSPI, SIO, SCT, PWM and I2S).
- ULP (Ultra Low Power) Peripherals - ulp\_gpio, ulp\_adc ulp\_i2c, ulp\_i2s, ulp\_ir\_decoder, ulp\_spi, ulp\_timer, ulp\_uart, ulp\_udma
- Extended flash write support for NWP flash region and added read api to read from NWP flash region

**Wi-Fi**

- WPA2/WPA3 Personal, WPS and WPA2-EAP Support for Station Mode
- TCP/IP stack with IPv4, IPv6, TCP, UDP, TLS, HTTP/HTTPS, DHCPv4, DHCPv6, MQTT Client, DNS Client, SNTP client.
- Support for SSL client versions TLSV1.0, TLSV1.2, TLSV1.3 and SSL server versions TLSV1.0 and TLSV1.2
- Wi-Fi STA (802.11n/802.11ax) + 802.11n AP Support
- HE (802.11ax) and Individual TWT Feature Support
- Multiple BSSID feature support as an STA
- Secure OTA support on B0 radio boards.
- Support for LWIP network stack
- Support for AWS MQTT library
- Support for Azure MQTT library
- Support for BSD and IoT sockets application programming interface(API)

**Bluetooth Low Energy**

- BLE central & peripheral connections are supported.
- Ultra-low power save is supported.

**Power Save**

- Max PSP, enhanced MAX PSP, Fast PSP, and 802.11ax TWT power save modes are supported in WiFi.
- Only Max PSP power save mode is supported in BLE

**Crypto Support**

- AES, SHA, AES-CCM, HMAC, GCM, Chacha-poly, ECDH and TRNG FW Crypto API support added.
- PSA enabled Mbed TLS support added
- NVM support added for key storage
- Symmetric and asymmetric key storage
- TRNG, AES, SHA, HMAC, GCM, Chacha-poly, ECDH and AES-CCM hardware crypto engine is integrated with PSA crypto.

**Changes and Fixes**

**SDK**

- None

**MCU**

- Added support for tick-less mode-1.
- Added SDK support for siwg917m111mgtba, siwg917m121xgtba and siwg917m141xgtba OPNs.
- Fixed issue in the sl_si91x_configure_ram_retention() function where the ram config was not being set correctly based on the chosen memory configuration.
- Updated SDC support related data in README.
- SQA bugs: SI91X-15031, SI91X-14967, SI91X-14815, SI91X-15154, SI91X-15160, SI91X-15159, SI91X-14659, SI91X-15090, SI91X-14850

**Wi-Fi & Network Stack**

- Added API support get socket information from firmware.
- Added the documentation for HTTP Server Component.
- Addressed Sonaqube reported issues
- Fixed SNTP client stop issue.
- Removed WiFi- Firmware flashing via XMODEM example (NCP) is removed for Patch3 release.
- Removed http server filesystem support.

**BLE**

- Resolved the BLE hang issue when DUT was trying to connect to the nRf dongle with I/O capability as 0x00.

**CoEx**

- Moved mesh_unified_ae_coex_app to _internal examples folder
- SQA bugs: SI91X-15165

**System**

- None

**Recommendations**

**System**

- The current revision of SiWx917 B0 has:
  - RAM memory of 672k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_672K\_M4SS\_0K- This mode configures TA with 672k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By default EXT\_FEAT\_352K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_480K\_M4SS\_192K - This mode configures TA with 480k and M4 with 192K bytes of memory
    - EXT\_FEAT\_416K\_M4SS\_256K - This mode configures TA with 416k and M4 with 256K bytes of memory
    - EXT\_FEAT\_352K\_M4SS\_320K - This mode configures TA with 352k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 672K\_M4SS\_0K.
  - SoC mode should not use 672k\_M4SS\_0k memory configuration.
- Set the recommended Power Save Profile (PSP) type to Enhanced Max PSP.

**IDE**

- Download the latest version of Simplicity Studio
- Refer to the latest version of the SoC/NCP "Getting-Started-with-SiWx917" guide for more details

**Wi-Fi & Network Stack****

- The recommended embedded MQTT Publish payload is 1 kBytes.
- It is recommended to enable bit 16 of the 'Extended TCP IP Feature' bit map in the opermode command for all Wi-Fi Socket operations from the host to ensure graceful handling during asynchronous closures from the peer.
- Aggregation (bit 2 of feature\_bit\_map) is recommended to be enabled in opermode. This enables software to aggregate multiple packets to achieve better throughput
- TCP retransmission count value is recommended to be 30 or higher so that the TCP does not disconnect while the rejoin happens.
- To restart the module, the application needs to call sl\_wifi\_deinit() followed by sl\_wifi\_init().
- Register 'Join Fail Callback' function every time when join is called, as in the rejoin failure path the callback is deregistered. If not done, this might result in a scan not functioning on rejoin failure.
- User can enable SL\_SI91X\_EXT\_TCP\_IP\_SSL\_16K\_RECORD in 'Extended TCP IP Feature'bit map in opermode, if HTTPS download is failing after receiving HTTP headers..
- iTWT setup is recommended after IP assignment/TCP connection/application specific socket connections.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, increase TCP / ARP Timeouts at the remote side depending upon the configured TWT interval configured.
- In case of TWT+coex, when using sl\_wifi\_enable\_target\_wakeup\_time API, use TWT wake duration <= 16 ms and TWT wake interval >= 1 sec. If wake duration > 16 ms or TWT wake interval < 1sec, there might be performance issues.
- For iTWT GTK Interval Should be kept max possible value or zero. If GTK interval is not configurable, recommended TWT interval (in case of sl\_wifi\_enable\_target\_wakeup\_time API) or RX Latency (in case of sl\_wifi\_target\_wake\_time\_auto\_selection API) is less than 4sec.
- Disable Power Save for High Throughput Applications.
- The application needs to ensure that it sets RTC with the correct timestamp when the feature is enabled before establishing the SSL connection.
- The timeout value should not be less than 1 second for socket select and socket receive calls. Timeout value of less than 1 second is not currently supported.
- When sl\_wifi\_enable\_target\_wakeup\_time API is used, configuring TWT Wake interval beyond 1 min might lead to disconnections from the AP. Recommended to use TWT wakeup interval of less than or equal to 1 min.
- Embedded MQTT keep alive interval should be either 0 or a value greater than 35 seconds.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, it is recommended to set missed\_beacon\_count of sl\_wifi\_set\_advanced\_client\_configuration API greater than 2 times of the configured TWT Interval.
- Disable power save and suspend any active TWT sessions before triggering HTTP OTAF.
- It is recommended to enable bit 31 of the 'TCP IP Feature' bit map in the opermode command to support multicast protocol

**BLE**

- In BLE, the recommended range of Connection Interval in
  - Power Save (BLE Only) - 100 ms to 1.28 s.
- In BLE, during Connection, the configuration of Scan Interval and Scan Window with the same value is not recommended. The suggested ratio of Scan Window to Scan Interval is 3:4.
- In BLE, if a device is acting as Central, the scan window (in set\_scan\_params and create\_connection commands) must be less than the existing Connection Interval. The suggested ratio of Scan Window to Connection Interval is 2:3.
- In BLE mode, if scanning and advertising are in progress on the SiWx91x module and it subsequently gets connected and moves to the central role, scanning stops else if it moves to the peripheral role, advertising stops. To further establish a connection to another peripheral device or to a central device, the application should give a command for starting advertising and scanning again.

**Co-Existence**

- For concurrent Wi-Fi + BLE, and while a Wi-Fi connection is active, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
- Wi-Fi + BLE Advertising
  - All standard advertising intervals are supported. As Wi-Fi throughput is increased, a slight difference in on-air advertisements compared to configured intervals may be observed.
  - BLE advertising is skipped if the advertising interval collides with Wi-Fi activity.
- Wi-Fi + BLE scanning
  - All standard scan intervals are supported. For better scan results, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
  - BLE scanning will be stopped for intervals that collide with Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Connections
  - All standard connection intervals are supported.
  - For a stable connection, use optimal connection intervals and max supervision timeout in the presence of Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Data Transfer
  - To achieve higher throughput for both Wi-Fi and BLE, use medium connection intervals, such as 45 to 80 ms with maximum supervision timeout.
  - Ensure Wi-Fi activity consumes lower intervals.

**Known Issues**

**Sensorhub**

- Support for ADC FIFO Mode and Multi channel is open
- Support for ADC Powersave is open
- PS1-state supports only ADC sensor

**Network Stack**

- Sometimes during SSL Handshake, ECC curve parameters generated are wrong, resulting in connection failure with BBD2 error. However, this recovers in the next attempt.
- Randomize the client port if using rapid connect/disconnect of the MQTT session on the same client port with the power save.
- Secure SSL renegotiation not supported in Embedded Networking Stack.
- Disable power save before making TCP connection for NCP-UART interface.

**Wi-Fi**

- TWT device (STA) may not go to sleep in between TWT intervals in case of burst data traffics with data size more than the configured 'average tx throughput', until completion of data transfer.
- There are performance and IOP issues with MU MIMO.
- WPA3 Connection with the Hunting and Pecking algorithm takes about 3-4 seconds.
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.
- Low Wi-Fi+BLE throughput
- TCP/UDP TX/RX Data stall observed in CoEx scenarios
- Observed HTTPS Continuous download fails with TA Power save
- Performance improvements are in progress for lower performance metrics.
- Observed interop issue (connectivity failure) with few AP's when device reset/reboot happens on active connection.
- In concurrent mode, AP restart fails after stopping it with ap\_stop command.
- DUT deep sleep will not work after stopping AP with ap\_stop command.
- Unable to get SNTP async events when coex mode and Power save is enabled
- Fine Tuning 802.11ax Spectral mask in Progress
- Fine Tuning 11b mask in Ch11 in progress
- DUT is unable to connect to the AP with WPA3 security when we enable coex mode (WLAN+BLE) in opermode
- Socket listen API is failing from the second iteration
- Disconnections observed with Netgear RAX120 AP in WPA3 security
- Observed connection failures with some AP's in more channel congestion open lab environment
- Firmware Upgrade example is not working in PSRAM boards

**BLE**

- HID profile data transfer is not working, when power save is enabled in SoC.
- BLE reconnection is not working in ble_multiconnection_gatt demo, when power save is enabled in SoC

**Co-Existence**

- Observed HTTP continuous download is not happening in Powersave mode after BLE connection established using wifi\_https\_ble\_dual\_role application
- Observed DUT hang while Wi-Fi UDP Tx and BLE continuous scan run for long time.

**System**

- None

**MCU**

- Refer to the respective Radio board user guides for specific pinout details. Examples are targeted to a specific version mentioned in the respective readme.
- Few peripherals like WDT when configured with RO clock is not working as expected. No impact on the feature but the clocks are not accurate.
- ADC Differential mode is not working as expected if negative input value set above 2.4V.
- Few(BOD, Comparator and SysRTC) wakeup resources are not working as expected in Power manager service.
- Observed expected RO and BJT Temperature values only on calibrated FW18 boards.
- Force generate is required in order to generate pin_config.h from the Pin tool because Simplicity Studio's generate option isn't functioning in current version.
- SSI supports only upto 23MHz now
- SSI Full Duplex in DMA mode is not working as expected
- SSI in DMA mode is limited to only 1024 bytes of buffer size
- Character Timeout feature for all communication protocols
- ADC Multichannel support is not present at different Sample rates HP -100K, ULP 10k/500 samples - not working
- Enabling tickless mode in a RTOS does introduce some level of timer drift
- NVM3 is currently not supported for OPN
- it's important to select Non-psram examples manually for OPNs because unsupported examples are also included in the "Example Projects & Demos" section.

**Limitations and Unsupported Features**

**Wi-Fi/Network Stack**

- TLS 1.3 Server is not supported
- In AP mode, IPv6 Router Advertisements are not supported. Although STA connected to the APUT can transfer IPv6 data to the peers by using SLAAC for address configuration.
- When sl\_wifi\_enable\_target\_wake\_time() API is used, observed occasional MQTT disconnections with longer TWT intervals (>30secs) with embedded MQTT + TWT.
- AMSDU TX is not supported.
- Fragmentation is not supported.
- AMSDUs within AMPDU is not supported.
- Currently, the module does not support Radio Measurement Requests feature of CCX V2
- 802.11k is not supported
- 40 MHz bandwidth for 2.4 GHz band is not supported.
- 802.11J channel 14 is not supported.
- MQTT versions 3 and 4 are supported.
- Maximum of 3 SSL connections are supported.
- In SSL ECC Curve ID supported is 23. SSL handshake with 3rd party clients depends on the SSL ECC Curve ID.
- LP mode is not supported.
- In iTWT mode, downlink data traffic should be limited. Disconnections may be observed if AP fails to send all the buffered data in the next TWT Service Period.
- Number of MBSSIDs processed is limited by the beacon length that can be processed by the stack (which is limited to 1024 bytes). Beacons greater than 1024 Bytes in length will not be processed.
- CoEx + EAP Security in 352K/320k is not feasible. This issue is observed due to a lack of memory in the 352k/320k Memory Configuration. It is supported with other EXT\_FEAT\_416K\_M4SS\_256K and EXT\_FEAT\_480K\_M4SS\_192K memory configurations.
- UL MUMIMO is not supported.
- The embedded HTTP server is not supported.
- Baremetal is not supported.
- Compared to SoC mode, NCP mode has fewer examples, but more will be enabled in upcoming releases.
- Maximum Supported length for Embedded MQTT username up to 120 bytes , topic length up to 200 bytes and password upto 62 bytes.
- UART 2 Debug prints are supported only on ULP_GPIO_9.
- WOW LAN feature is not supported.
- SA Query procedure is not supported in AP mode.
- Maximum Supported length for HTTP GET URL is up to 2048 bytes.
- Azure SDK with embedded MQTT is not supported.
- Power save is not supported in Azure MQTT.
- MDNS service discovery is currently not supported.

**BLE**

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.
- BLE TX/RX throughput is less when tested with EFM as compared to EFR
- Maximum supported AE data length is 200 bytes.
- Supports only two ADV\_EXT sets.
- Supports only two BLE connections (1 Central and 1 Peripheral) with AE.
- Advertising Extension feature is not supported in Coexistence.
- The  ae\_central & ae\_peripheral applications are not supported with TA\_352K\_M4\_320K RAM configuration.
- Setting PLL mode as 1 is not supported in Coexistence

**MCU**

- ULP Peripherals examples configurations are for RAM-based execution, as flash is powered off in ULP Mode.
- Manual chip select option is not supported when using GSPI.
- SSI Dual and Quad mode is not working as expected.
- SPI sensor will not work in the Sensor HUB application.
- For ADC Multichannel sampling rate is limited to less than 15Ksps, number of samples is less than 500 and with a maximum of 4 channel

**Simplicity Studio and Commander**

- Default GDB debug configuration is not supported for SoC projects, work around details provided in "Getting-Started-with-SiWx917"
- Observing flash download failures(ERROR 108) for a few image sizes
- While creating project through Simplicity Studio, "copy contents" option not supported.
- Simplicity commander does not support options under "Debug Lock tools".
- All projects in the package are compatible with GCC 10.3.1 version.

**Terminology**

|**Term**|**Description**|
| :- | :- |
|**New Features**|These items are new to this release|
|**Changes/Issues Fixed**|Changes made to existing features found in previous software releases.|
||Enhancements to existing product flow and feature set.|
||Bug fixes done in the release|
|**Deprecated Items**|Features or functions or APIs that are removed from the distributed release to align with the software roadmap|
|**Known Issues**|Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases|
|**Limitations/Recommendations**|Describes the limitations on product usage and recommendations for optimal use cases|

**Note**

- Change SPI frequency to 12.5Mhz while measuring BLE throughput with EFR32

<br>

**WiSeConnect3\_SDK\_3.1.4-rc3 Release Notes**

This SDK package supports SoC Mode and NCP Mode for B0:

- In SoC Mode: Customer applications can run on Cortex M4. Wireless, network, and security stacks run on the wireless subsystem.
- In NCP mode: Wireless, network, and security stacks run on the Wireless subsystem. Customer applications run on the external host MCU.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

**Note**: Use Simplicity Studio version SV5.8.0.1 onwards

**SoC Highlights**

- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support ultra low power Wi-Fi standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode
- **MCU examples** : GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers, Config Timers, ULP (Ultra Low Power) Timers, Sleeptimer, IOSTREAM, NVM3, MEMLCD, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, Sensorhub, Joystick and Relative Humidity and Temparature sensor(RHT), Analog Comparator, Digital to Analog Converter and Temperature sensor(RO and BJT)
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE whitelisting, and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack, All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS client
- **IDE** : Simplicity Studio with Windows 10(64-bit), Linux, Mac OS
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** :
  - Si-MB4002A Main board
  - SiWx917 Radio boards

|**RadioBoard Type**|**SiWx917B0 with Board Version**|
| :- | :- |
|Common flash|Si917-BRD4338A(2.0)|
|Dual flash|Si917-BRD4339B(2.0)|
|External PSRAM|Si917-BRD4340A(2.0), Si917-BRD4342A(2.0)|

**NCP Highlights**

- **Host Interface** : SPI, UART
- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode.
- **Wi-Fi** : 2.4GHz Wi-Fi Support, WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE Whitelisting and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack , BLE Stack , All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS Client.
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **Hardware kits to evaluate NCP Mode**
  - NCP EFR Expansion Kit with NCP Radio board (BRD4338A(NCP MBR) + BRD8045A)
  - Wireless Pro kit Mainboard BRD4002A Rev A06
  - EFR32xG24 Wireless 2.4 GHz +10 dBm Radio Board xG24-RB4186C

**Release Details**

|**Item**|**Details**|
| :- | :- |
|Release date|Feb 29th, 2024|
|SDK Version|3\.1.4-rc3|
|Firmware Version|1711\.2.10.1.3.0.4|
|Package Name|WiSeConnect3\_SDK\_3.1.4-rc3|
|Supported RTOS|FreeRTOS|
|Operating Modes Supported|Wi-Fi STA, Wi-Fi AP, Wi-Fi STA+BLE, Wi-Fi STA+AP|
|Build Quality|GA|

- SiWx917 release consists of two components
  - Wireless Firmware - SiWx917 Firmware Binaries
  - Wiseconnect3 Library - Wiseconnect3 SDK library runs on the external host in NCP mode and internal Cortex M4 in SoC Mode.
- This release is meant only for use with designs based on SiWx917 Silicon
- The firmware to load is available in the following format:
  - SiWG917-B.2.10.1.x.0.x.rps - B0 Full-featured firmware binary

**Features Supported**

**Sensorhub service**

- Support for ADC, SPI, SDC and I2C based sensors
- Support for PS2 and sleep wakeups
- Support added for SDC
- SoC OPN based project support in SSv5
- List of OPN's supported si917-sb00, siwg917m111mgtba, siwg917m100mgtba, siwg917m111xgtba, siwg917m100xntba, siwg917m121xgtba, siwg917m110lgtba and siwg917m141xgtba

**MCU**

- ADC Single Channel, ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, GPIO, I2C, I2S, NVM3, OPAMP, PSRAM, PWM, QEI, RTC, SDIO Secondary, SPI Master and Slave, UART, Micro DMA, USART, Watchdog Timer, Temperature Sensor(RO and BJT), USART Master and Slave
- UC Supported Peripherals - GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers , Config Timers, ULP (Ultra Low Power) Timers, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, MEMLCD, Analog Comparator and Digital to Analog Converter.
- Services - Sleeptimer, IOSTREAM, NVM3, Power Manager and Pin Tool (support for USART, I2C, SSI, GSPI, SIO, SCT, PWM and I2S).
- ULP (Ultra Low Power) Peripherals - ulp\_gpio, ulp\_adc ulp\_i2c, ulp\_i2s, ulp\_ir\_decoder, ulp\_spi, ulp\_timer, ulp\_uart, ulp\_udma
- Extended flash write support for NWP flash region and added read api to read from NWP flash region

**Wi-Fi**

- WPA2/WPA3 Personal, WPS and WPA2-EAP Support for Station Mode
- TCP/IP stack with IPv4, IPv6, TCP, UDP, TLS, HTTP/HTTPS, DHCPv4, DHCPv6, MQTT Client, DNS Client, SNTP client.
- Support for SSL client versions TLSV1.0, TLSV1.2, TLSV1.3 and SSL server versions TLSV1.0 and TLSV1.2
- Wi-Fi STA (802.11n/802.11ax) + 802.11n AP Support
- HE (802.11ax) and Individual TWT Feature Support
- Multiple BSSID feature support as an STA
- Secure OTA support on B0 radio boards.
- Support for LWIP network stack
- Support for AWS MQTT library
- Support for Azure MQTT library
- Support for BSD and IoT sockets application programming interface(API)

**Bluetooth Low Energy**

- BLE central & peripheral connections are supported.
- Ultra-low power save is supported.

**Power Save**

- Max PSP, enhanced MAX PSP, Fast PSP, and 802.11ax TWT power save modes are supported in WiFi.
- Only Max PSP power save mode is supported in BLE

**Crypto Support**

- AES, SHA, AES-CCM, HMAC, GCM, Chacha-poly, ECDH and TRNG FW Crypto API support added.
- PSA enabled Mbed TLS support added
- NVM support added for key storage
- Symmetric and asymmetric key storage
- TRNG, AES, SHA, HMAC, GCM, Chacha-poly, ECDH and AES-CCM hardware crypto engine is integrated with PSA crypto.

**Changes and Fixes**

**SDK**

- None

**MCU**

- Addressed feedback from Matter team related to FreeRTOS issue(RSCDEV-26118).
- Added details about SDC and AWS to the Sensor Hub readme. (SI91X-15033,SI91X-15035).
- Resolved DMA bug associated with SQRH variant of PSRAM.
- Support added for the OPNs SI91WGM121XGTBA and SI91WGM141XGTBA has been added. Support added for no flash OPNs.
- SQA bugs: SI91X-14514, SI91X-14819, SI91X-14880, SI91X-14967.

**Wi-Fi & Network Stack**

- Added DNS-SD record in the MDNS query response to allow discovery of DUT's MDNS service with consistency.
- Added support to configure Link-Local address from host bypassing the unique global address.
- Updated the missing error codes in the documentation.
- Added IPv6 support in aws_mqtt application.
- Provided XMODEM Bootloader application aupport on EFR32.
- Enhanced http server application with filesystem support.
- Added HTTP Server Support.
- Added support to get Wi-Fi statistics.
- Added API support to get socket information from firmware.
- SQA bugs: SI91X-15109, SI91X-15003, SI91X-15063.

**BLE**

- Added external PSRAM support for ble_datalength application.
- Added BLE error code details in 917 documentation.

**CoEx**

- Added STM32+SPI support for wifi_station_ble_provisioning_aws example.

**System**

- None

**Recommendations**

**System**

- The current revision of SiWx917 B0 has:
  - RAM memory of 672k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_672K\_M4SS\_0K- This mode configures TA with 672k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By default EXT\_FEAT\_352K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_480K\_M4SS\_192K - This mode configures TA with 480k and M4 with 192K bytes of memory
    - EXT\_FEAT\_416K\_M4SS\_256K - This mode configures TA with 416k and M4 with 256K bytes of memory
    - EXT\_FEAT\_352K\_M4SS\_320K - This mode configures TA with 352k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 672K\_M4SS\_0K.
  - SoC mode should not use 672k\_M4SS\_0k memory configuration.
- Set the recommended Power Save Profile (PSP) type to Enhanced Max PSP.

**IDE**

- Download the latest version of Simplicity Studio
- Refer to the latest version of the SoC/NCP "Getting-Started-with-SiWx917" guide for more details

**Wi-Fi & Network Stack****

- The recommended embedded MQTT Publish payload is 1 kBytes.
- It is recommended to enable bit 16 of the 'Extended TCP IP Feature' bit map in the opermode command for all Wi-Fi Socket operations from the host to ensure graceful handling during asynchronous closures from the peer.
- Aggregation (bit 2 of feature\_bit\_map) is recommended to be enabled in opermode. This enables software to aggregate multiple packets to achieve better throughput
- TCP retransmission count value is recommended to be 30 or higher so that the TCP does not disconnect while the rejoin happens.
- To restart the module, the application needs to call sl\_wifi\_deinit() followed by sl\_wifi\_init().
- Register 'Join Fail Callback' function every time when join is called, as in the rejoin failure path the callback is deregistered. If not done, this might result in a scan not functioning on rejoin failure.
- User can enable SL\_SI91X\_EXT\_TCP\_IP\_SSL\_16K\_RECORD in 'Extended TCP IP Feature'bit map in opermode, if HTTPS download is failing after receiving HTTP headers..
- iTWT setup is recommended after IP assignment/TCP connection/application specific socket connections.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, increase TCP / ARP Timeouts at the remote side depending upon the configured TWT interval configured.
- In case of TWT+coex, when using sl\_wifi\_enable\_target\_wakeup\_time API, use TWT wake duration <= 16 ms and TWT wake interval >= 1 sec. If wake duration > 16 ms or TWT wake interval < 1sec, there might be performance issues.
- For iTWT GTK Interval Should be kept max possible value or zero. If GTK interval is not configurable, recommended TWT interval (in case of sl\_wifi\_enable\_target\_wakeup\_time API) or RX Latency (in case of sl\_wifi\_target\_wake\_time\_auto\_selection API) is less than 4sec.
- Disable Power Save for High Throughput Applications.
- The application needs to ensure that it sets RTC with the correct timestamp when the feature is enabled before establishing the SSL connection.
- The timeout value should not be less than 1 second for socket select and socket receive calls. Timeout value of less than 1 second is not currently supported.
- When sl\_wifi\_enable\_target\_wakeup\_time API is used, configuring TWT Wake interval beyond 1 min might lead to disconnections from the AP. Recommended to use TWT wakeup interval of less than or equal to 1 min.
- Embedded MQTT keep alive interval should be either 0 or a value greater than 35 seconds.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, it is recommended to set missed\_beacon\_count of sl\_wifi\_set\_advanced\_client\_configuration API greater than 2 times of the configured TWT Interval.
- Disable power save and suspend any active TWT sessions before triggering HTTP OTAF.
- It is recommended to enable bit 31 of the 'TCP IP Feature' bit map in the opermode command to support multicast protocol

**BLE**

- In BLE, the recommended range of Connection Interval in
  - Power Save (BLE Only) - 100 ms to 1.28 s.
- In BLE, during Connection, the configuration of Scan Interval and Scan Window with the same value is not recommended. The suggested ratio of Scan Window to Scan Interval is 3:4.
- In BLE, if a device is acting as Central, the scan window (in set\_scan\_params and create\_connection commands) must be less than the existing Connection Interval. The suggested ratio of Scan Window to Connection Interval is 2:3.
- In BLE mode, if scanning and advertising are in progress on the SiWx91x module and it subsequently gets connected and moves to the central role, scanning stops else if it moves to the peripheral role, advertising stops. To further establish a connection to another peripheral device or to a central device, the application should give a command for starting advertising and scanning again.

**Co-Existence**

- For concurrent Wi-Fi + BLE, and while a Wi-Fi connection is active, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
- Wi-Fi + BLE Advertising
  - All standard advertising intervals are supported. As Wi-Fi throughput is increased, a slight difference in on-air advertisements compared to configured intervals may be observed.
  - BLE advertising is skipped if the advertising interval collides with Wi-Fi activity.
- Wi-Fi + BLE scanning
  - All standard scan intervals are supported. For better scan results, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
  - BLE scanning will be stopped for intervals that collide with Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Connections
  - All standard connection intervals are supported.
  - For a stable connection, use optimal connection intervals and max supervision timeout in the presence of Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Data Transfer
  - To achieve higher throughput for both Wi-Fi and BLE, use medium connection intervals, such as 45 to 80 ms with maximum supervision timeout.
  - Ensure Wi-Fi activity consumes lower intervals.

**Known Issues**

**Sensorhub**

- Support for ADC FIFO Mode and Multi channel is open
- Support for ADC Powersave is open
- PS1-state supports only ADC sensor

**Network Stack**

- Sometimes during SSL Handshake, ECC curve parameters generated are wrong, resulting in connection failure with BBD2 error. However, this recovers in the next attempt.
- Randomize the client port if using rapid connect/disconnect of the MQTT session on the same client port with the power save.
- Secure SSL renegotiation not supported in Embedded Networking Stack.
- Disable power save before making TCP connection for NCP-UART interface.

**Wi-Fi**

- TWT device (STA) may not go to sleep in between TWT intervals in case of burst data traffics with data size more than the configured 'average tx throughput', until completion of data transfer.
- There are performance and IOP issues with MU MIMO.
- WPA3 Connection with the Hunting and Pecking algorithm takes about 3-4 seconds.
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.
- Low Wi-Fi+BLE throughput
- TCP/UDP TX/RX Data stall observed in CoEx scenarios
- Observed HTTPS Continuous download fails with TA Power save
- Performance improvements are in progress for lower performance metrics.
- Observed interop issue (connectivity failure) with few AP's when device reset/reboot happens on active connection.
- In concurrent mode, AP restart fails after stopping it with ap\_stop command.
- DUT deep sleep will not work after stopping AP with ap\_stop command.
- Unable to get SNTP async events when coex mode and Power save is enabled
- Fine Tuning 802.11ax Spectral mask in Progress
- Fine Tuning 11b mask in Ch11 in progress
- DUT is unable to connect to the AP with WPA3 security when we enable coex mode (WLAN+BLE) in opermode
- Socket listen API is failing from the second iteration
- Disconnections observed with Netgear RAX120 AP in WPA3 security
- Observed connection failures with some AP's in more channel congestion open lab environment
- Firmware Upgrade example is not working in PSRAM boards

**BLE**

- HID profile data transfer is not working, when power save is enabled in SoC.
- BLE reconnection is not working in ble_multiconnection_gatt demo, when power save is enabled in SoC

**Co-Existence**

- Observed HTTP continuous download is not happening in Powersave mode after BLE connection established using wifi\_https\_ble\_dual\_role application
- Observed DUT hang while Wi-Fi UDP Tx and BLE continuous scan run for long time.

**System**

- None

**MCU**

- Refer to the respective Radio board user guides for specific pinout details. Examples are targeted to a specific version mentioned in the respective readme.
- Few peripherals like WDT when configured with RO clock is not working as expected. No impact on the feature but the clocks are not accurate.
- ADC Differential mode is not working as expected if negative input value set above 2.4V.
- Few(BOD, Comparator and SysRTC) wakeup resources are not working as expected in Power manager service.
- Observed expected RO and BJT Temperature values only on calibrated FW18 boards.
- Force generate is required in order to generate pin_config.h from the Pin tool because Simplicity Studio's generate option isn't functioning in current version.
- SSI supports only upto 23MHz now
- Comparator pin details are not present in the PinTool
- Character Timeout feature for all communication protocols
- ADC Multichannel support is not present at different Sample rates HP -100K, ULP 10k/500 samples - not working

**Limitations and Unsupported Features**

**Wi-Fi/Network Stack**

- TLS 1.3 Server is not supported
- In AP mode, IPv6 Router Advertisements are not supported. Although STA connected to the APUT can transfer IPv6 data to the peers by using SLAAC for address configuration.
- When sl\_wifi\_enable\_target\_wake\_time() API is used, observed occasional MQTT disconnections with longer TWT intervals (>30secs) with embedded MQTT + TWT.
- AMSDU TX is not supported.
- Fragmentation is not supported.
- AMSDUs within AMPDU is not supported.
- Currently, the module does not support Radio Measurement Requests feature of CCX V2
- 802.11k is not supported
- 40 MHz bandwidth for 2.4 GHz band is not supported.
- 802.11J channel 14 is not supported.
- MQTT versions 3 and 4 are supported.
- Maximum of 3 SSL connections are supported.
- In SSL ECC Curve ID supported is 23. SSL handshake with 3rd party clients depends on the SSL ECC Curve ID.
- LP mode is not supported.
- In iTWT mode, downlink data traffic should be limited. Disconnections may be observed if AP fails to send all the buffered data in the next TWT Service Period.
- Number of MBSSIDs processed is limited by the beacon length that can be processed by the stack (which is limited to 1024 bytes). Beacons greater than 1024 Bytes in length will not be processed.
- CoEx + EAP Security in 352K/320k is not feasible. This issue is observed due to a lack of memory in the 352k/320k Memory Configuration. It is supported with other EXT\_FEAT\_416K\_M4SS\_256K and EXT\_FEAT\_480K\_M4SS\_192K memory configurations.
- UL MUMIMO is not supported.
- The embedded HTTP server is not supported.
- Baremetal is not supported.
- Compared to SoC mode, NCP mode has fewer examples, but more will be enabled in upcoming releases.
- Maximum Supported length for Embedded MQTT username up to 120 bytes , topic length up to 200 bytes and password upto 62 bytes.
- UART 2 Debug prints are supported only on ULP_GPIO_9.
- WOW LAN feature is not supported.
- SA Query procedure is not supported in AP mode.
- Maximum Supported length for HTTP GET URL is up to 2048 bytes.
- Azure SDK with embedded MQTT is not supported.
- MDNS service discovery is currently not supported.

**BLE**

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.
- BLE TX/RX throughput is less when tested with EFM as compared to EFR
- Maximum supported AE data length is 200 bytes.
- Supports only two ADV\_EXT sets.
- Supports only two BLE connections (1 Central and 1 Peripheral) with AE.
- Advertising Extension feature is not supported in Coexistence.
- The  ae\_central & ae\_peripheral applications are not supported with TA\_352K\_M4\_320K RAM configuration.
- Setting PLL mode as 1 is not supported in Coexistence

**MCU**

- ULP Peripherals examples configurations are for RAM-based execution, as flash is powered off in ULP Mode.
- Manual chip select option is not supported when using GSPI.
- SSI Dual and Quad mode is not working as expected.
- SPI sensor will not work in the Sensor HUB application.
- For ADC Multichannel sampling rate is limited to less than 15Ksps, number of samples is less than 500 and with a maximum of 4 channel

**Simplicity Studio and Commander**

- Default GDB debug configuration is not supported for SoC projects, work around details provided in "Getting-Started-with-SiWx917"
- Observing flash download failures(ERROR 108) for a few image sizes
- While creating project through Simplicity Studio, "copy contents" option not supported.
- Simplicity commander does not support options under "Debug Lock tools".
- All projects in the package are compatible with GCC 10.3.1 version.

**Terminology**

|**Term**|**Description**|
| :- | :- |
|**New Features**|These items are new to this release|
|**Changes/Issues Fixed**|Changes made to existing features found in previous software releases.|
||Enhancements to existing product flow and feature set.|
||Bug fixes done in the release|
|**Deprecated Items**|Features or functions or APIs that are removed from the distributed release to align with the software roadmap|
|**Known Issues**|Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases|
|**Limitations/Recommendations**|Describes the limitations on product usage and recommendations for optimal use cases|

**Note**

- Change SPI frequency to 12.5Mhz while measuring BLE throughput with EFR32

<br>

**WiSeConnect3\_SDK\_3.1.4-rc2 Release Notes**

This SDK package supports SoC Mode and NCP Mode for B0:

- In SoC Mode: Customer applications can run on Cortex M4. Wireless, network, and security stacks run on the wireless subsystem.
- In NCP mode: Wireless, network, and security stacks run on the Wireless subsystem. Customer applications run on the external host MCU.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

**Note**: Use Simplicity Studio version SV5.8.0.1 onwards

**SoC Highlights**

- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support ultra low power Wi-Fi standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode
- **MCU examples** : GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers, Config Timers, ULP (Ultra Low Power) Timers, Sleeptimer, IOSTREAM, NVM3, MEMLCD, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, Sensorhub, Joystick and Relative Humidity and Temparature sensor(RHT), Analog Comparator, Digital to Analog Converter and Temperature sensor(RO and BJT)
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE whitelisting, and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack, All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS client
- **IDE** : Simplicity Studio with Windows 10(64-bit), Linux, Mac OS
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** :
  - Si-MB4002A Main board
  - SiWx917 Radio boards

|**RadioBoard Type**|**SiWx917B0 with Board Version**|
| :- | :- |
|Common flash|-|
|Common flash|Si917-BRD4338A(2.0)|
|Dual flash|Si917-BRD4339B(2.0)|
|External PSRAM|Si917-BRD4340A(2.0), Si917-BRD4342A(2.0)|

**NCP Highlights**

- **Host Interface** : SPI, UART
- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode.
- **Wi-Fi** : 2.4GHz Wi-Fi Support, WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE Whitelisting and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack , BLE Stack , All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS Client.
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **Hardware kits to evaluate NCP Mode**
  - NCP EFR Expansion Kit with NCP Radio board (BRD4338A(NCP MBR) + BRD8045A)
  - Wireless Pro kit Mainboard BRD4002A Rev A06
  - EFR32xG24 Wireless 2.4 GHz +10 dBm Radio Board xG24-RB4186C

**Release Details**

|**Item**|**Details**|
| :- | :- |
|Release date|Feb 21st, 2024|
|SDK Version|3\.1.4-rc2|
|Firmware Version|1711\.2.10.1.3.0.2|
|Package Name|WiSeConnect3\_SDK\_3.1.4-rc2|
|Supported RTOS|FreeRTOS|
|Operating Modes Supported|Wi-Fi STA, Wi-Fi AP, Wi-Fi STA+BLE, Wi-Fi STA+AP|
|Build Quality|GA|

- SiWx917 release consists of two components
  - Wireless Firmware - SiWx917 Firmware Binaries
  - Wiseconnect3 Library - Wiseconnect3 SDK library runs on the external host in NCP mode and internal Cortex M4 in SoC Mode.
- This release is meant only for use with designs based on SiWx917 Silicon
- The firmware to load is available in the following format:
  - SiWG917-B.2.10.1.x.0.x.rps - B0 Full-featured firmware binary

**Features Supported**

**Sensorhub service**

- Support for ADC, SPI, SDC and I2C based sensors
- Support for PS2 and sleep wakeups
- Support added for SDC
- SoC OPN based project support in SSv5
- List of OPN's supported si917-sb00, siwg917m111mgtba, siwg917m100mgtba, siwg917m111xgtba, siwg917m100xntba, siwg917m121xgtba, siwg917m110lgtba and siwg917m141xgtba

**MCU**

- ADC Single Channel, ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, GPIO, I2C, I2S, NVM3, OPAMP, PSRAM, PWM, QEI, RTC, SDIO Secondary, SPI Master and Slave, UART, Micro DMA, USART, Watchdog Timer, Temperature Sensor(RO and BJT), USART Master and Slave
- UC Supported Peripherals - GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers , Config Timers, ULP (Ultra Low Power) Timers, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, MEMLCD, Analog Comparator and Digital to Analog Converter.
- Services - Sleeptimer, IOSTREAM, NVM3, Power Manager and Pin Tool (support for USART, I2C, SSI, GSPI, SIO, SCT, PWM and I2S).
- ULP (Ultra Low Power) Peripherals - ulp\_gpio, ulp\_adc ulp\_i2c, ulp\_i2s, ulp\_ir\_decoder, ulp\_spi, ulp\_timer, ulp\_uart, ulp\_udma

**Wi-Fi**

- WPA2/WPA3 Personal, WPS and WPA2-EAP Support for Station Mode
- TCP/IP stack with IPv4, IPv6, TCP, UDP, TLS, HTTP/HTTPS, DHCPv4, DHCPv6, MQTT Client, DNS Client, SNTP client.
- Support for SSL client versions TLSV1.0, TLSV1.2, TLSV1.3 and SSL server versions TLSV1.0 and TLSV1.2
- Wi-Fi STA (802.11n/802.11ax) + 802.11n AP Support
- HE (802.11ax) and Individual TWT Feature Support
- Multiple BSSID feature support as an STA
- Secure OTA support on B0 radio boards.
- Support for LWIP network stack
- Support for AWS MQTT library
- Support for Azure MQTT library
- Support for BSD and IoT sockets application programming interface(API)

**Bluetooth Low Energy**

- BLE central & peripheral connections are supported.
- Ultra-low power save is supported.

**Power Save**

- Max PSP, enhanced MAX PSP, Fast PSP, and 802.11ax TWT power save modes are supported in WiFi.
- Only Max PSP power save mode is supported in BLE

**Crypto Support**

- AES, SHA, AES-CCM, HMAC, GCM, Chacha-poly, ECDH and TRNG FW Crypto API support added.
- PSA enabled Mbed TLS support added
- NVM support added for key storage
- Symmetric and asymmetric key storage
- TRNG, AES, SHA, HMAC, GCM, Chacha-poly, ECDH and AES-CCM hardware crypto engine is integrated with PSA crypto.

**Changes and Fixes**

**SDK**

-  Fixed deinit issue for mempool changes in SoC examples
-  Added NCP-SPI support for the following WLAN examples over STM32
   -  Powersave Deep Sleep, User Gain Table, Firmware Update, Powersave Standby Associated, AWS Device Shadow
-  Added multithreaded application for concurrent mode
-  SQA bugs - SI91X-14416, SI91X-14851, SI91X-15045, SI91X-15027, SI91X-15028

**MCU**

-  Optimized usage of M4/MCU RAM in SoC
-  Added component to configure stack size using cmsis annotation gui/ config header file

**Wi-Fi & Network Stack**

-  Added Security Check in AP Join configuration to fill JOIN_FEATURE_BIT_MAP
-  Enabled support for 3 SSL sockets in COEX mode
-  Added HTTP server support and example application
-  SQA bugs: SI91X-15061, SI91X-14931, SI91X-14891

**BLE**

-  Added UART support for ble_ae_peripheral example over EFR platform
-  Added external PSRAM support for ble_accept_list, ble_ae_central, ble_ae_peripheral, ble_central, ble_datalength, ble_heart_rate_profile, ble_hid_on_gatt, ble_ibeacon, ble_longrange_2mbps, ble_multiconnection_gatt_test, ble_privacy, ble_secureconnection, ble_testmodes, ble_unified_ae_coex_app, ble_update_gain_table and gatt_long_read applications
-  Fixed BLE start advertising API failed within five minutes of continuously doing ble start, stop, and clear the address resolution API, with an error code 0xffffffe2 (RSI_ERROR_RESPONSE_TIMEOUT)
-  Resolved BLE less throughput issue with 2Mbps using Dual flash boards

**CoEx**

- Ported mesh_unified_ae_coex_app Wi-Fi module to 3.0 SDK

**System**

- None

**Recommendations**

**System**

- The current revision of SiWx917 B0 has:
  - RAM memory of 672k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_672K\_M4SS\_0K- This mode configures TA with 672k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By default EXT\_FEAT\_352K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_480K\_M4SS\_192K - This mode configures TA with 480k and M4 with 192K bytes of memory
    - EXT\_FEAT\_416K\_M4SS\_256K - This mode configures TA with 416k and M4 with 256K bytes of memory
    - EXT\_FEAT\_352K\_M4SS\_320K - This mode configures TA with 352k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 672K\_M4SS\_0K.
  - SoC mode should not use 672k\_M4SS\_0k memory configuration.
- Set the recommended Power Save Profile (PSP) type to Enhanced Max PSP.

**IDE**

- Download the latest Simplicity Studio (SV5.7.0.1)
- Refer to the latest version of the SoC/NCP "Getting-Started-with-SiWx917" guide for more details

**Wi-Fi & Network Stack****

- The recommended embedded MQTT Publish payload is 1 kBytes.
- It is recommended to enable bit 16 of the 'Extended TCP IP Feature' bit map in the opermode command for all Wi-Fi Socket operations from the host to ensure graceful handling during asynchronous closures from the peer.
- Aggregation (bit 2 of feature\_bit\_map) is recommended to be enabled in opermode. This enables software to aggregate multiple packets to achieve better throughput
- TCP retransmission count value is recommended to be 30 or higher so that the TCP does not disconnect while the rejoin happens.
- To restart the module, the application needs to call sl\_wifi\_deinit() followed by sl\_wifi\_init().
- Register 'Join Fail Callback' function every time when join is called, as in the rejoin failure path the callback is deregistered. If not done, this might result in a scan not functioning on rejoin failure.
- User can enable SL\_SI91X\_EXT\_TCP\_IP\_SSL\_16K\_RECORD in 'Extended TCP IP Feature'bit map in opermode, if HTTPS download is failing after receiving HTTP headers..
- iTWT setup is recommended after IP assignment/TCP connection/application specific socket connections.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, increase TCP / ARP Timeouts at the remote side depending upon the configured TWT interval configured.
- In case of TWT+coex, when using sl\_wifi\_enable\_target\_wakeup\_time API, use TWT wake duration <= 16 ms and TWT wake interval >= 1 sec. If wake duration > 16 ms or TWT wake interval < 1sec, there might be performance issues.
- For iTWT GTK Interval Should be kept max possible value or zero. If GTK interval is not configurable, recommended TWT interval (in case of sl\_wifi\_enable\_target\_wakeup\_time API) or RX Latency (in case of sl\_wifi\_target\_wake\_time\_auto\_selection API) is less than 4sec.
- Disable Power Save for High Throughput Applications.
- The application needs to ensure that it sets RTC with the correct timestamp when the feature is enabled before establishing the SSL connection.
- The timeout value should not be less than 1 second for socket select and socket receive calls. Timeout value of less than 1 second is not currently supported.
- When sl\_wifi\_enable\_target\_wakeup\_time API is used, configuring TWT Wake interval beyond 1 min might lead to disconnections from the AP. Recommended to use TWT wakeup interval of less than or equal to 1 min.
- Embedded MQTT keep alive interval should be either 0 or a value greater than 35 seconds.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, it is recommended to set missed\_beacon\_count of sl\_wifi\_set\_advanced\_client\_configuration API greater than 2 times of the configured TWT Interval.
- Disable power save and suspend any active TWT sessions before triggering HTTP OTAF.
- It is recommended to enable bit 31 of the 'TCP IP Feature' bit map in the opermode command to support multicast protocol

**BLE**

- In BLE, the recommended range of Connection Interval in
  - Power Save (BLE Only) - 100 ms to 1.28 s.
- In BLE, during Connection, the configuration of Scan Interval and Scan Window with the same value is not recommended. The suggested ratio of Scan Window to Scan Interval is 3:4.
- In BLE, if a device is acting as Central, the scan window (in set\_scan\_params and create\_connection commands) must be less than the existing Connection Interval. The suggested ratio of Scan Window to Connection Interval is 2:3.
- In BLE mode, if scanning and advertising are in progress on the SiWx91x module and it subsequently gets connected and moves to the central role, scanning stops else if it moves to the peripheral role, advertising stops. To further establish a connection to another peripheral device or to a central device, the application should give a command for starting advertising and scanning again.

**Co-Existence**

- For concurrent Wi-Fi + BLE, and while a Wi-Fi connection is active, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
- Wi-Fi + BLE Advertising
  - All standard advertising intervals are supported. As Wi-Fi throughput is increased, a slight difference in on-air advertisements compared to configured intervals may be observed.
  - BLE advertising is skipped if the advertising interval collides with Wi-Fi activity.
- Wi-Fi + BLE scanning
  - All standard scan intervals are supported. For better scan results, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
  - BLE scanning will be stopped for intervals that collide with Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Connections
  - All standard connection intervals are supported.
  - For a stable connection, use optimal connection intervals and max supervision timeout in the presence of Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Data Transfer
  - To achieve higher throughput for both Wi-Fi and BLE, use medium connection intervals, such as 45 to 80 ms with maximum supervision timeout.
  - Ensure Wi-Fi activity consumes lower intervals.

**Known Issues**

**Sensorhub**

- Support for ADC FIFO Mode and Multi channel is open
- Support for ADC Powersave is open
- PS1-state supports only ADC sensor

**Network Stack**

- Sometimes during SSL Handshake, ECC curve parameters generated are wrong, resulting in connection failure with BBD2 error. However, this recovers in the next attempt.
- Randomize the client port if using rapid connect/disconnect of the MQTT session on the same client port with the power save.
- Secure SSL renegotiation not supported in Embedded Networking Stack.
- Disable power save before making TCP connection for NCP-UART interface.

**Wi-Fi**

- TWT device (STA) may not go to sleep in between TWT intervals in case of burst data traffics with data size more than the configured 'average tx throughput', until completion of data transfer.
- There are performance and IOP issues with MU MIMO.
- WPA3 Connection with the Hunting and Pecking algorithm takes about 3-4 seconds.
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.
- Low Wi-Fi+BLE throughput
- TCP/UDP TX/RX Data stall observed in CoEx scenarios
- Observed HTTPS Continuous download fails with TA Power save
- Performance improvements are in progress for lower performance metrics.
- Observed interop issue (connectivity failure) with few AP's when device reset/reboot happens on active connection.
- In concurrent mode, AP restart fails after stopping it with ap\_stop command.
- DUT deep sleep will not work after stopping AP with ap\_stop command.
- Unable to get SNTP async events when coex mode and Power save is enabled
- Fine Tuning 802.11ax Spectral mask in Progress
- Fine Tuning 11b mask in Ch11 in progress
- DUT is unable to connect to the AP with WPA3 security when we enable coex mode (WLAN+BLE) in opermode
- Socket listen API is failing from the second iteration
- Disconnections observed with Netgear RAX120 AP in WPA3 security
- Observed connection failures with some AP's in more channel congestion open lab environment
- Firmware Upgrade example is not working in PSRAM boards

**BLE**

- HID profile data transfer is not working, when power save is enabled in SoC.
- BLE reconnection is not working in ble_multiconnection_gatt demo, when power save is enabled in SoC

**Co-Existence**

- Observed HTTP continuous download is not happening in Powersave mode after BLE connection established using wifi\_https\_ble\_dual\_role application
- Observed DUT hang while Wi-Fi UDP Tx and BLE continuous scan run for long time.

**System**

- None

**MCU**

- Refer to the respective Radio board user guides for specific pinout details. Examples are targeted to a specific version mentioned in the respective readme.
- Few peripherals like WDT when configured with RO clock is not working as expected. No impact on the feature but the clocks are not accurate.
- ADC Differential mode is not working as expected if negative input value set above 2.4V.
- Few(BOD, Comparator and SysRTC) wakeup resources are not working as expected in Power manager service.
- Observed expected RO and BJT Temperature values only on calibrated FW18 boards.
- Force generate is required in order to generate pin_config.h from the Pin tool because Simplicity Studio's generate option isn't functioning in current version.

**Limitations and Unsupported Features**

**Wi-Fi/Network Stack**

- TLS 1.3 Server is not supported
- In AP mode, IPv6 Router Advertisements are not supported. Although STA connected to the APUT can transfer IPv6 data to the peers by using SLAAC for address configuration.
- When sl\_wifi\_enable\_target\_wake\_time() API is used, observed occasional MQTT disconnections with longer TWT intervals (>30secs) with embedded MQTT + TWT.
- AMSDU TX is not supported.
- Fragmentation is not supported.
- AMSDUs within AMPDU is not supported.
- Currently, the module does not support Radio Measurement Requests feature of CCX V2
- 802.11k is not supported
- 40 MHz bandwidth for 2.4 GHz band is not supported.
- 802.11J channel 14 is not supported.
- MQTT versions 3 and 4 are supported.
- Maximum of 3 SSL connections are supported.
- In SSL ECC Curve ID supported is 23. SSL handshake with 3rd party clients depends on the SSL ECC Curve ID.
- LP mode is not supported.
- In iTWT mode, downlink data traffic should be limited. Disconnections may be observed if AP fails to send all the buffered data in the next TWT Service Period.
- Number of MBSSIDs processed is limited by the beacon length that can be processed by the stack (which is limited to 1024 bytes). Beacons greater than 1024 Bytes in length will not be processed.
- CoEx + EAP Security in 352K/320k is not feasible. This issue is observed due to a lack of memory in the 352k/320k Memory Configuration. It is supported with other EXT\_FEAT\_416K\_M4SS\_256K and EXT\_FEAT\_480K\_M4SS\_192K memory configurations.
- UL MUMIMO is not supported.
- The embedded HTTP server is not supported.
- Baremetal is not supported.
- Compared to SoC mode, NCP mode has fewer examples, but more will be enabled in upcoming releases.
- Maximum Supported length for Embedded MQTT username up to 120 bytes , topic length up to 200 bytes and password upto 62 bytes.
- UART 2 Debug prints are supported only on ULP_GPIO_9.
- WOW LAN feature is not supported.
- SA Query procedure is not supported in AP mode.
- Maximum Supported length for HTTP GET URL is up to 2048 bytes.
- Azure SDK with embedded MQTT is not supported.

**BLE**

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.
- BLE TX/RX throughput is less when tested with EFM as compared to EFR
- Maximum supported AE data length is 200 bytes.
- Supports only two ADV\_EXT sets.
- Supports only two BLE connections (1 Central and 1 Peripheral) with AE.
- Advertising Extension feature is not supported in Coexistence.
- The  ae\_central & ae\_peripheral applications are not supported with TA\_352K\_M4\_320K RAM configuration.
- Setting PLL mode as 1 is not supported in Coexistence

**MCU**

- ULP Peripherals examples configurations are for RAM-based execution, as flash is powered off in ULP Mode.
- On 4338a board, two I2C instances(I2C1 and I2C2) are using same GPIOs, so support is not there for using two I2C instances simultaneously.
- I2C High speed and Fastplus mode not working at specifications speed.
- Manual chip select option is not supported when using GSPI.
- SSI Dual and Quad mode is not working as expected.
- ULP SSI wakeup source is not working as expected.
- SPI sensor will not work in the Sensor HUB application.
- For ADC Multichannel sampling rate is limited to less than 15Ksps, number of samples is less than 500 and with a maximum of 4 channel

**Simplicity Studio and Commander**

- Default GDB debug configuration is not supported for SoC projects, work around details provided in "Getting-Started-with-SiWx917"
- Observing flash download failures(ERROR 108) for a few image sizes
- While creating project through Simplicity Studio, "copy contents" option not supported.
- Simplicity commander does not support options under "Debug Lock tools" .
- All projects in the package are compatible with GCC 10.3.1 version.

**Terminology**

|**Term**|**Description**|
| :- | :- |
|**New Features**|These items are new to this release|
|**Changes/Issues Fixed**|Changes made to existing features found in previous software releases.|
||Enhancements to existing product flow and feature set.|
||Bug fixes done in the release|
|**Deprecated Items**|Features or functions or APIs that are removed from the distributed release to align with the software roadmap|
|**Known Issues**|Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases|
|**Limitations/Recommendations**|Describes the limitations on product usage and recommendations for optimal use cases|

**Note**

- Change SPI frequency to 12.5Mhz while measuring BLE throughput with EFR32

<br>

**WiSeConnect3\_SDK\_3.1.4-rc1 Release Notes**

This SDK package supports SoC Mode and NCP Mode for B0:

- In SoC Mode: Customer applications can run on Cortex M4. Wireless, network, and security stacks run on the wireless subsystem.
- In NCP mode: Wireless, network, and security stacks run on the Wireless subsystem. Customer applications run on the external host MCU.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

**Note**: Use Simplicity Studio version SV5.8.0.1 onwards

**SoC Highlights**

- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support ultra low power Wi-Fi standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode
- **MCU examples** : GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers, Config Timers, ULP (Ultra Low Power) Timers, Sleeptimer, IOSTREAM, NVM3, MEMLCD, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, Sensorhub, Joystick and Relative Humidity and Temparature sensor(RHT), Analog Comparator, Digital to Analog Converter and Temperature sensor(RO and BJT)
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE whitelisting, and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack, All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS client
- **IDE** : Simplicity Studio with Windows 10(64-bit), Linux, Mac OS
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** :
  - Si-MB4002A Main board
  - SiWx917 Radio boards

|**RadioBoard Type**|**SiWx917B0 with Board Version**|
| :- | :- |
|Common flash|-|
|Common flash|Si917-BRD4338A(2.0)|
|Dual flash|Si917-BRD4339B(2.0)|
|External PSRAM|Si917-BRD4340A(2.0), Si917-BRD4342A(2.0)|

**NCP Highlights**

- **Host Interface** : SPI, UART
- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode.
- **Wi-Fi** : 2.4GHz Wi-Fi Support, WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE Whitelisting and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack , BLE Stack , All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS Client.
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **Hardware kits to evaluate NCP Mode**
  - NCP EFR Expansion Kit with NCP Radio board (BRD4338A(NCP MBR) + BRD8045A)
  - Wireless Pro kit Mainboard BRD4002A Rev A06
  - EFR32xG24 Wireless 2.4 GHz +10 dBm Radio Board xG24-RB4186C

**Release Details**

|**Item**|**Details**|
| :- | :- |
|Release date|Feb 14th, 2024|
|SDK Version|3\.1.4-rc1|
|Firmware Version|1711\.2.10.1.3.0.1|
|Package Name|WiSeConnect3\_SDK\_3.1.4-rc1|
|Supported RTOS|FreeRTOS|
|Operating Modes Supported|Wi-Fi STA, Wi-Fi AP, Wi-Fi STA+BLE, Wi-Fi STA+AP|
|Build Quality|GA|

- SiWx917 release consists of two components
  - Wireless Firmware - SiWx917 Firmware Binaries
  - Wiseconnect3 Library - Wiseconnect3 SDK library runs on the external host in NCP mode and internal Cortex M4 in SoC Mode.
- This release is meant only for use with designs based on SiWx917 Silicon
- The firmware to load in your design are available in the following format:
  - SiWG917-B.2.10.1.x.0.x.rps - B0 Full-featured firmware binary

**Features Supported**

**Sensorhub service**

- Support for ADC, SPI, SDC and I2C based sensors
- Support for PS2 and sleep wakeups
- Support added for SDC
- SoC OPN based project support in SSv5
- List of OPN's supported si917-sb00, siwg917m111mgtba, siwg917m100mgtba, siwg917m111xgtba, siwg917m100xntba, siwg917m121xgtba, siwg917m110lgtba and siwg917m141xgtba

**MCU**

- ADC Single Channel, ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, GPIO, I2C, I2S, NVM3, OPAMP, PSRAM, PWM, QEI, RTC, SDIO Secondary, SPI Master and Slave, UART, Micro DMA, USART, Watchdog Timer, Temperature Sensor(RO and BJT), USART Master and Slave
- UC Supported Peripherals - GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers , Config Timers, ULP (Ultra Low Power) Timers, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, MEMLCD, Analog Comparator and Digital to Analog Converter.
- Services - Sleeptimer, IOSTREAM, NVM3, Power Manager and Pin Tool (support for USART, I2C, SSI, GSPI, SIO, SCT, PWM and I2S).
- ULP (Ultra Low Power) Peripherals - ulp\_gpio, ulp\_adc ulp\_i2c, ulp\_i2s, ulp\_ir\_decoder, ulp\_spi, ulp\_timer, ulp\_uart, ulp\_udma

**Wi-Fi**

- WPA2/WPA3 Personal, WPS and WPA2-EAP Support for Station Mode
- TCP/IP stack with IPv4, IPv6, TCP, UDP, TLS, HTTP/HTTPS, DHCPv4, DHCPv6, MQTT Client, DNS Client, SNTP client.
- Support for SSL client versions TLSV1.0, TLSV1.2, TLSV1.3 and SSL server versions TLSV1.0 and TLSV1.2
- Wi-Fi STA (802.11n/802.11ax) + 802.11n AP Support
- HE (802.11ax) and Individual TWT Feature Support
- Multiple BSSID feature support as an STA
- Secure OTA support on B0 radio boards.
- Support for LWIP network stack
- Support for AWS MQTT library
- Support for Azure MQTT library
- Support for BSD and IoT sockets application programming interface(API)

**Bluetooth Low Energy**

- BLE central & peripheral connections are supported.
- Ultra-low power save is supported.

**Power Save**

- Max PSP, enhanced MAX PSP, Fast PSP, and 802.11ax TWT power save modes are supported in WiFi.
- Only Max PSP power save mode is supported in BLE

**Crypto Support**

- AES, SHA, AES-CCM, HMAC, GCM, Chacha-poly, ECDH and TRNG FW Crypto API support added.
- PSA enabled Mbed TLS support added
- NVM support added for key storage
- Symmetric and asymmetric key storage
- TRNG, AES, SHA, HMAC, GCM, Chacha-poly, ECDH and AES-CCM hardware crypto engine is integrated with PSA crypto.

**Changes and Fixes**

**SDK**

- None

**MCU**

- None

**Wi-Fi & Network Stack**

- Resolved Sonarqube Security review issues
- Resolved Sonarqube reliability issues
- Renamed private APIs to have sli prefix
- Update documentation for HTTP
- Added mempool component in wlan examples slcp files for SOC and PSRAM
- Added PR builds for brd4339b and brd4342a
- Added NCP support for access_point, calibration_app, concurrent_mode, embedded_mqtt_client_twt, http_otaf, station_ping, cli_demo, wlan_rf_test, wifi6_twt_use_case_demo, power_save_deep_sleep, lwip_tcp_client
- SQA Bugs: SI91X-14894, SI91X-14737, SI91X-14885

**BLE**

- Add STM32 support for ble per application
- Added NCP-UART Support for examples - ble_ae_central, ble_power_save, ble_throughput_app

**CoEx**

- Added NCP-SPI support for wifi_station_ble_throughput_app and wifi_throughput_ble_dual_role
- Added NCP-UART support for wifi_station_ble_provisioning_aws
- Added BLE_ADVERTISE_ONLY macro in wifi_ble_power_save application

**System**

- None

**Recommendations**

**System**

- The current revision of SiWx917 B0 has:
  - RAM memory of 672k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_672K\_M4SS\_0K- This mode configures TA with 672k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By default EXT\_FEAT\_352K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_480K\_M4SS\_192K - This mode configures TA with 480k and M4 with 192K bytes of memory
    - EXT\_FEAT\_416K\_M4SS\_256K - This mode configures TA with 416k and M4 with 256K bytes of memory
    - EXT\_FEAT\_352K\_M4SS\_320K - This mode configures TA with 352k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 672K\_M4SS\_0K.
  - SoC mode should not use 672k\_M4SS\_0k memory configuration.
- Set the recommended Power Save Profile (PSP) type to Enhanced Max PSP.

**IDE**

- Download the latest Simplicity Studio (SV5.7.0.1)
- Refer to the latest version of the SoC/NCP "Getting-Started-with-SiWx917" guide for more details

**Wi-Fi & Network Stack****

- The recommended embedded MQTT Publish payload is 1 kBytes.
- It is recommended to enable bit 16 of the 'Extended TCP IP Feature' bit map in the opermode command for all Wi-Fi Socket operations from the host to ensure graceful handling during asynchronous closures from the peer.
- Aggregation (bit 2 of feature\_bit\_map) is recommended to be enabled in opermode. This enables software to aggregate multiple packets to achieve better throughput
- TCP retransmission count value is recommended to be 30 or higher so that the TCP does not disconnect while the rejoin happens.
- To restart the module, the application needs to call sl\_wifi\_deinit() followed by sl\_wifi\_init().
- Register 'Join Fail Callback' function every time when join is called, as in the rejoin failure path the callback is deregistered. If not done, this might result in a scan not functioning on rejoin failure.
- User can enable SL\_SI91X\_EXT\_TCP\_IP\_SSL\_16K\_RECORD in 'Extended TCP IP Feature'bit map in opermode, if HTTPS download is failing after receiving HTTP headers..
- iTWT setup is recommended after IP assignment/TCP connection/application specific socket connections.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, increase TCP / ARP Timeouts at the remote side depending upon the configured TWT interval configured.
- In case of TWT+coex, when using sl\_wifi\_enable\_target\_wakeup\_time API, use TWT wake duration <= 16 ms and TWT wake interval >= 1 sec. If wake duration > 16 ms or TWT wake interval < 1sec, there might be performance issues.
- For iTWT GTK Interval Should be kept max possible value or zero. If GTK interval is not configurable, recommended TWT interval (in case of sl\_wifi\_enable\_target\_wakeup\_time API) or RX Latency (in case of sl\_wifi\_target\_wake\_time\_auto\_selection API) is less than 4sec.
- Disable Power Save for High Throughput Applications.
- The application needs to ensure that it sets RTC with the correct timestamp when the feature is enabled before establishing the SSL connection.
- The timeout value should not be less than 1 second for socket select and socket receive calls. Timeout value of less than 1 second is not currently supported.
- When sl\_wifi\_enable\_target\_wakeup\_time API is used, configuring TWT Wake interval beyond 1 min might lead to disconnections from the AP. Recommended to use TWT wakeup interval of less than or equal to 1 min.
- Embedded MQTT keep alive interval should be either 0 or a value greater than 35 seconds.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, it is recommended to set missed\_beacon\_count of sl\_wifi\_set\_advanced\_client\_configuration API greater than 2 times of the configured TWT Interval.
- Disable power save and suspend any active TWT sessions before triggering HTTP OTAF.
- It is recommended to enable bit 31 of the 'TCP IP Feature' bit map in the opermode command to support multicast protocol

**BLE**

- In BLE, the recommended range of Connection Interval in
  - Power Save (BLE Only) - 100 ms to 1.28 s.
- In BLE, during Connection, the configuration of Scan Interval and Scan Window with the same value is not recommended. The suggested ratio of Scan Window to Scan Interval is 3:4.
- In BLE, if a device is acting as Central, the scan window (in set\_scan\_params and create\_connection commands) must be less than the existing Connection Interval. The suggested ratio of Scan Window to Connection Interval is 2:3.
- In BLE mode, if scanning and advertising are in progress on the SiWx91x module and it subsequently gets connected and moves to the central role, scanning stops else if it moves to the peripheral role, advertising stops. To further establish a connection to another peripheral device or to a central device, the application should give a command for starting advertising and scanning again.

**Co-Existence**

- For concurrent Wi-Fi + BLE, and while a Wi-Fi connection is active, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
- Wi-Fi + BLE Advertising
  - All standard advertising intervals are supported. As Wi-Fi throughput is increased, a slight difference in on-air advertisements compared to configured intervals may be observed.
  - BLE advertising is skipped if the advertising interval collides with Wi-Fi activity.
- Wi-Fi + BLE scanning
  - All standard scan intervals are supported. For better scan results, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
  - BLE scanning will be stopped for intervals that collide with Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Connections
  - All standard connection intervals are supported.
  - For a stable connection, use optimal connection intervals and max supervision timeout in the presence of Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Data Transfer
  - To achieve higher throughput for both Wi-Fi and BLE, use medium connection intervals, such as 45 to 80 ms with maximum supervision timeout.
  - Ensure Wi-Fi activity consumes lower intervals.

**Known Issues**

**Sensorhub**

- Support for ADC FIFO Mode and Multi channel is open
- Support for ADC Powersave is open
- PS1-state supports only ADC sensor

**Network Stack**

- Sometimes during SSL Handshake, ECC curve parameters generated are wrong, resulting in connection failure with BBD2 error. However, this recovers in the next attempt.
- Randomize the client port if using rapid connect/disconnect of the MQTT session on the same client port with the power save.
- Secure SSL renegotiation not supported in Embedded Networking Stack.
- Disable power save before making TCP connection for NCP-UART interface.

**Wi-Fi**

- TWT device (STA) may not go to sleep in between TWT intervals in case of burst data traffics with data size more than the configured 'average tx throughput', until completion of data transfer.
- There are performance and IOP issues with MU MIMO.
- WPA3 Connection with the Hunting and Pecking algorithm takes about 3-4 seconds.
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.
- Low Wi-Fi+BLE throughput
- TCP/UDP TX/RX Data stall observed in CoEx scenarios
- Observed HTTPS Continuous download fails with TA Power save
- Performance improvements are in progress for lower performance metrics.
- Observed interop issue (connectivity failure) with few AP's when device reset/reboot happens on active connection.
- In concurrent mode, AP restart fails after stopping it with ap\_stop command.
- DUT deep sleep will not work after stopping AP with ap\_stop command.
- Unable to get SNTP async events when coex mode and Power save is enabled
- Fine Tuning 802.11ax Spectral mask in Progress
- Fine Tuning 11b mask in Ch11 in progress
- DUT is unable to connect to the AP with WPA3 security when we enable coex mode (WLAN+BLE) in opermode
- Socket listen API is failing from the second iteration
- Disconnections observed with Netgear RAX120 AP in WPA3 security
- Observed connection failures with some AP's in more channel congestion open lab environment

**BLE**

- HID profile data transfer is not working, when power save is enabled in SoC.
- BLE reconnection is not working in ble_multiconnection_gatt demo, when power save is enabled in SoC

**Co-Existence**

- Observed HTTP continuous download is not happening in Powersave mode after BLE connection established using wifi\_https\_ble\_dual\_role application
- Observed DUT hang while Wi-Fi UDP Tx and BLE continuous scan run for long time.

**System**

- None

**MCU**

- Refer to the respective Radio board user guides for specific pinout details. Examples are targeted to a specific version mentioned in the respective readme.
- Few peripherals like WDT when configured with RO clock is not working as expected. No impact on the feature but the clocks are not accurate.
- ADC Differential mode is not working as expected if negative input value set above 2.4V.
- Few(BOD, Comparator and SysRTC) wakeup resources are not working as expected in Power manager service.
- Observed expected RO and BJT Temperature values only on calibrated FW18 boards.
- Force generate is required in order to generate pin_config.h from the Pin tool because Simplicity Studio's generate option isn't functioning in current version.

**Limitations and Unsupported Features**

**Wi-Fi/Network Stack**

- TLS 1.3 Server is not supported
- In AP mode, IPv6 Router Advertisements are not supported. Although STA connected to the APUT can transfer IPv6 data to the peers by using SLAAC for address configuration.
- When sl\_wifi\_enable\_target\_wake\_time() API is used, observed occasional MQTT disconnections with longer TWT intervals (>30secs) with embedded MQTT + TWT.
- AMSDU TX is not supported.
- Fragmentation is not supported.
- AMSDUs within AMPDU is not supported.
- Currently, the module does not support Radio Measurement Requests feature of CCX V2
- 802.11k is not supported
- 40 MHz bandwidth for 2.4 GHz band is not supported.
- 802.11J channel 14 is not supported.
- MQTT versions 3 and 4 are supported.
- Maximum of 3 SSL connections are supported in Wi-Fi alone mode.
- In SSL ECC Curve ID supported is 23. SSL handshake with 3rd party clients depends on the SSL ECC Curve ID.
- LP mode is not supported.
- In iTWT mode, downlink data traffic should be limited. Disconnections may be observed if AP fails to send all the buffered data in the next TWT Service Period.
- Number of MBSSIDs processed is limited by the beacon length that can be processed by the stack (which is limited to 1024 bytes). Beacons greater than 1024 Bytes in length will not be processed.
- CoEx + EAP Security in 352K/320k is not feasible. This issue is observed due to a lack of memory in the 352k/320k Memory Configuration. It is supported with other EXT\_FEAT\_416K\_M4SS\_256K and EXT\_FEAT\_480K\_M4SS\_192K memory configurations.
- UL MUMIMO is not supported.
- The embedded HTTP server is not supported.
- Baremetal is not supported.
- Compared to SoC mode, NCP mode has fewer examples, but more will be enabled in upcoming releases.
- Maximum Supported length for Embedded MQTT username up to 120 bytes , topic length up to 200 bytes and password upto 62 bytes.
- UART 2 Debug prints are supported only on ULP_GPIO_9.
- WOW LAN feature is not supported.
- SA Query procedure is not supported in AP mode.
- Maximum Supported length for HTTP GET URL is up to 2048 bytes.
- Azure SDK with embedded MQTT is not supported.

**BLE**

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.
- BLE TX/RX throughput is less when tested with EFM as compared to EFR
- Maximum supported AE data length is 200 bytes.
- Supports only two ADV\_EXT sets.
- Supports only two BLE connections (1 Central and 1 Peripheral) with AE.
- Advertising Extension feature is not supported in Coexistence.
- The  ae\_central & ae\_peripheral applications are not supported with TA\_352K\_M4\_320K RAM configuration.
- Setting PLL mode as 1 is not supported in Coexistence

**MCU**

- ULP Peripherals examples configurations are for RAM-based execution, as flash is powered off in ULP Mode.
- On 4338a board, two I2C instances(I2C1 and I2C2) are using same GPIOs, so support is not there for using two I2C instances simultaneously.
- I2C High speed and Fastplus mode not working at specifications speed.
- Manual chip select option is not supported when using GSPI.
- SSI Dual and Quad mode is not working as expected.
- ULP SSI wakeup source is not working as expected.
- SPI sensor will not work in the Sensor HUB application.
- For ADC Multichannel sampling rate is limited to less than 15Ksps, number of samples is less than 500 and with a maximum of 4 channel

**Simplicity Studio and Commander**

- Default GDB debug configuration is not supported for SoC projects, work around details provided in "Getting-Started-with-SiWx917"
- Observing flash download failures(ERROR 108) for a few image sizes
- While creating project through Simplicity Studio, "copy contents" option not supported.
- Simplicity commander does not support options under "Debug Lock tools" .
- All projects in the package are compatible with GCC 10.3.1 version.

**Terminology**

|**Term**|**Description**|
| :- | :- |
|**New Features**|These items are new to this release|
|**Changes/Issues Fixed**|Changes made to existing features found in previous software releases.|
||Enhancements to existing product flow and feature set.|
||Bug fixes done in the release|
|**Deprecated Items**|Features or functions or APIs that are removed from the distributed release to align with the software roadmap|
|**Known Issues**|Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases|
|**Limitations/Recommendations**|Describes the limitations on product usage and recommendations for optimal use cases|

**Note**

- Change SPI frequency to 12.5Mhz while measuring BLE throughput with EFR32

<br>


**WiSeConnect3\_SDK\_3.1.3-rc6 Release Notes**

This SDK package supports SoC Mode and NCP Mode for B0:

- In SoC Mode: Customer applications can run on Cortex M4. Wireless, network, and security stacks run on the wireless subsystem.
- In NCP mode: Wireless, network, and security stacks run on the Wireless subsystem. Customer applications run on the external host MCU.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

**Note**: Use Simplicity Studio version SV5.7.0.1 onwards

**SoC Highlights**

- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support ultra low power Wi-Fi standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode
- **MCU examples** : GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers, Config Timers, ULP (Ultra Low Power) Timers, Sleeptimer, IOSTREAM, NVM3, MEMLCD, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, Sensorhub, Joystick and Relative Humidity and Temparature sensor(RHT), Analog Comparator, Digital to Analog Converter and Temperature sensor(RO and BJT)
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE whitelisting, and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack, All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS client
- **IDE** : Simplicity Studio with Windows 10(64-bit), Linux, Mac OS
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** :
  - Si-MB4002A Main board
  - SiWx917 Radio boards

|**RadioBoard Type**|**SiWx917B0 with Board Version**|
| :- | :- |
|Common flash|-|
|Common flash|Si917-BRD4338A(2.0)|
|Dual flash|Si917-BRD4339B(2.0)|
|External PSRAM|Si917-BRD4340A(2.0), Si917-BRD4342A(2.0)|

**NCP Highlights**

- **Host Interface** : SPI, UART
- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode.
- **Wi-Fi** : 2.4GHz Wi-Fi Support, WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE Whitelisting and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack , BLE Stack , All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS Client.
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **Hardware kits to evaluate NCP Mode**
  - NCP EFR Expansion Kit with NCP Radio board (BRD4338A(NCP MBR) + BRD8045A)
  - Wireless Pro kit Mainboard BRD4002A Rev A06
  - EFR32xG24 Wireless 2.4 GHz +10 dBm Radio Board xG24-RB4186C

**Release Details**

|**Item**|**Details**|
| :- | :- |
|Release date|Feb 14th, 2024|
|SDK Version|3\.1.3-rc6|
|Firmware Version|1711\.2.10.1.2.0.4|
|Package Name|WiSeConnect3\_SDK\_3.1.3-rc6|
|Supported RTOS|FreeRTOS|
|Operating Modes Supported|Wi-Fi STA, Wi-Fi AP, Wi-Fi STA+BLE, Wi-Fi STA+AP|
|Build Quality|GA|

- SiWx917 release consists of two components
  - Wireless Firmware - SiWx917 Firmware Binaries
  - Wiseconnect3 Library - Wiseconnect3 SDK library runs on the external host in NCP mode and internal Cortex M4 in SoC Mode.
- This release is meant only for use with designs based on SiWx917 Silicon
- The firmware to load in your design are available in the following format:
  - SiWG917-B.2.10.1.x.0.x.rps - B0 Full-featured firmware binary

**Features Supported**

**Sensorhub service**

- Support for ADC, SPI, SDC and I2C based sensors
- Support for PS2 and sleep wakeups
- Support added for SDC
- SoC OPN based project support in SSv5
- List of OPN's supported si917-sb00, siwg917m111mgtba, siwg917m100mgtba, siwg917m111xgtba, siwg917m100xntba, siwg917m121xgtba, siwg917m110lgtba and siwg917m141xgtba

**MCU**

- ADC Single Channel, ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, GPIO, I2C, I2S, NVM3, OPAMP, PSRAM, PWM, QEI, RTC, SDIO Secondary, SPI Master and Slave, UART, Micro DMA, USART, Watchdog Timer, Temperature Sensor(RO and BJT), USART Master and Slave
- UC Supported Peripherals - GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers , Config Timers, ULP (Ultra Low Power) Timers, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, MEMLCD, Analog Comparator and Digital to Analog Converter.
- Services - Sleeptimer, IOSTREAM, NVM3, Power Manager and Pin Tool (support for USART, I2C, SSI, GSPI, SIO, SCT, PWM and I2S).
- ULP (Ultra Low Power) Peripherals - ulp\_gpio, ulp\_adc ulp\_i2c, ulp\_i2s, ulp\_ir\_decoder, ulp\_spi, ulp\_timer, ulp\_uart, ulp\_udma

**Wi-Fi**

- WPA2/WPA3 Personal, WPS and WPA2-EAP Support for Station Mode
- TCP/IP stack with IPv4, IPv6, TCP, UDP, TLS, HTTP/HTTPS, DHCPv4, DHCPv6, MQTT Client, DNS Client, SNTP client.
- Support for SSL client versions TLSV1.0, TLSV1.2, TLSV1.3 and SSL server versions TLSV1.0 and TLSV1.2
- Wi-Fi STA (802.11n/802.11ax) + 802.11n AP Support
- HE (802.11ax) and Individual TWT Feature Support
- Multiple BSSID feature support as an STA
- Secure OTA support on B0 radio boards.
- Support for LWIP network stack
- Support for AWS MQTT library
- Support for Azure MQTT library
- Support for BSD and IoT sockets application programming interface(API)

**Bluetooth Low Energy**

- BLE central & peripheral connections are supported.
- Ultra-low power save is supported.

**Power Save**

- Max PSP, enhanced MAX PSP, Fast PSP, and 802.11ax TWT power save modes are supported in WiFi.
- Only Max PSP power save mode is supported in BLE

**Crypto Support**

- AES, SHA, AES-CCM, HMAC, GCM, Chacha-poly, ECDH and TRNG FW Crypto API support added.
- PSA enabled Mbed TLS support added
- NVM support added for key storage
- Symmetric and asymmetric key storage
- TRNG, AES, SHA, HMAC, GCM, Chacha-poly, ECDH and AES-CCM hardware crypto engine is integrated with PSA crypto.

**Changes and Fixes**

**SDK**

- Documenation updates

**MCU**

- None

**Wi-Fi & Network Stack**

- Fixed issue over UART interface in NCP mode.

**BLE**

- None

**CoEx**

- None

**System**

- None

**Recommendations**

**System**

- The current revision of SiWx917 B0 has:
  - RAM memory of 672k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_672K\_M4SS\_0K- This mode configures TA with 672k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By default EXT\_FEAT\_352K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_480K\_M4SS\_192K - This mode configures TA with 480k and M4 with 192K bytes of memory
    - EXT\_FEAT\_416K\_M4SS\_256K - This mode configures TA with 416k and M4 with 256K bytes of memory
    - EXT\_FEAT\_352K\_M4SS\_320K - This mode configures TA with 352k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 672K\_M4SS\_0K.
  - SoC mode should not use 672k\_M4SS\_0k memory configuration.
- Set the recommended Power Save Profile (PSP) type to Enhanced Max PSP.

**IDE**

- Download the latest Simplicity Studio (SV5.7.0.1)
- Refer to the latest version of the SoC/NCP "Getting-Started-with-SiWx917" guide for more details

**Wi-Fi & Network Stack****

- The recommended embedded MQTT Publish payload is 1 kBytes.
- It is recommended to enable bit 16 of the 'Extended TCP IP Feature' bit map in the opermode command for all Wi-Fi Socket operations from the host to ensure graceful handling during asynchronous closures from the peer.
- Aggregation (bit 2 of feature\_bit\_map) is recommended to be enabled in opermode. This enables software to aggregate multiple packets to achieve better throughput
- TCP retransmission count value is recommended to be 30 or higher so that the TCP does not disconnect while the rejoin happens.
- To restart the module, the application needs to call sl\_wifi\_deinit() followed by sl\_wifi\_init().
- Register 'Join Fail Callback' function every time when join is called, as in the rejoin failure path the callback is deregistered. If not done, this might result in a scan not functioning on rejoin failure.
- User can enable SL\_SI91X\_EXT\_TCP\_IP\_SSL\_16K\_RECORD in 'Extended TCP IP Feature'bit map in opermode, if HTTPS download is failing after receiving HTTP headers..
- iTWT setup is recommended after IP assignment/TCP connection/application specific socket connections.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, increase TCP / ARP Timeouts at the remote side depending upon the configured TWT interval configured.
- In case of TWT+coex, when using sl\_wifi\_enable\_target\_wakeup\_time API, use TWT wake duration <= 16 ms and TWT wake interval >= 1 sec. If wake duration > 16 ms or TWT wake interval < 1sec, there might be performance issues.
- For iTWT GTK Interval Should be kept max possible value or zero. If GTK interval is not configurable, recommended TWT interval (in case of sl\_wifi\_enable\_target\_wakeup\_time API) or RX Latency (in case of sl\_wifi\_target\_wake\_time\_auto\_selection API) is less than 4sec.
- Disable Power Save for High Throughput Applications.
- The application needs to ensure that it sets RTC with the correct timestamp when the feature is enabled before establishing the SSL connection.
- The timeout value should not be less than 1 second for socket select and socket receive calls. Timeout value of less than 1 second is not currently supported.
- When sl\_wifi\_enable\_target\_wakeup\_time API is used, configuring TWT Wake interval beyond 1 min might lead to disconnections from the AP. Recommended to use TWT wakeup interval of less than or equal to 1 min.
- Embedded MQTT keep alive interval should be either 0 or a value greater than 35 seconds.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, it is recommended to set missed\_beacon\_count of sl\_wifi\_set\_advanced\_client\_configuration API greater than 2 times of the configured TWT Interval.
- Disable power save and suspend any active TWT sessions before triggering HTTP OTAF.
- It is recommended to enable bit 31 of the 'TCP IP Feature' bit map in the opermode command to support multicast protocol

**BLE**

- In BLE, the recommended range of Connection Interval in
  - Power Save (BLE Only) - 100 ms to 1.28 s.
- In BLE, during Connection, the configuration of Scan Interval and Scan Window with the same value is not recommended. The suggested ratio of Scan Window to Scan Interval is 3:4.
- In BLE, if a device is acting as Central, the scan window (in set\_scan\_params and create\_connection commands) must be less than the existing Connection Interval. The suggested ratio of Scan Window to Connection Interval is 2:3.
- In BLE mode, if scanning and advertising are in progress on the SiWx91x module and it subsequently gets connected and moves to the central role, scanning stops else if it moves to the peripheral role, advertising stops. To further establish a connection to another peripheral device or to a central device, the application should give a command for starting advertising and scanning again.

**Co-Existence**

- For concurrent Wi-Fi + BLE, and while a Wi-Fi connection is active, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
- Wi-Fi + BLE Advertising
  - All standard advertising intervals are supported. As Wi-Fi throughput is increased, a slight difference in on-air advertisements compared to configured intervals may be observed.
  - BLE advertising is skipped if the advertising interval collides with Wi-Fi activity.
- Wi-Fi + BLE scanning
  - All standard scan intervals are supported. For better scan results, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
  - BLE scanning will be stopped for intervals that collide with Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Connections
  - All standard connection intervals are supported.
  - For a stable connection, use optimal connection intervals and max supervision timeout in the presence of Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Data Transfer
  - To achieve higher throughput for both Wi-Fi and BLE, use medium connection intervals, such as 45 to 80 ms with maximum supervision timeout.
  - Ensure Wi-Fi activity consumes lower intervals.

**Known Issues**

**Sensorhub**

- Support for ADC FIFO Mode and Multi channel is open
- Support for ADC Powersave is open
- PS1-state supports only ADC sensor

**Network Stack**

- Sometimes during SSL Handshake, ECC curve parameters generated are wrong, resulting in connection failure with BBD2 error. However, this recovers in the next attempt.
- Randomize the client port if using rapid connect/disconnect of the MQTT session on the same client port with the power save.
- Secure SSL renegotiation not supported in Embedded Networking Stack.

**Wi-Fi**

- TWT device (STA) may not go to sleep in between TWT intervals in case of burst data traffics with data size more than the configured 'average tx throughput', until completion of data transfer.
- There are performance and IOP issues with MU MIMO.
- WPA3 Connection with the Hunting and Pecking algorithm takes about 3-4 seconds.
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.
- Low Wi-Fi+BLE throughput
- TCP/UDP TX/RX Data stall observed in CoEx scenarios
- Observed HTTPS Continuous download fails with TA Power save
- Performance improvements are in progress for lower performance metrics.
- Observed interop issue (connectivity failure) with few AP's when device reset/reboot happens on active connection.
- In concurrent mode, AP restart fails after stopping it with ap\_stop command.
- DUT deep sleep will not work after stopping AP with ap\_stop command.
- Unable to get SNTP async events when coex mode and Power save is enabled
- Fine Tuning 802.11ax Spectral mask in Progress
- Fine Tuning 11b mask in Ch11 in progress
- DUT is unable to connect to the AP with WPA3 security when we enable coex mode (WLAN+BLE) in opermode
- Socket listen API is failing from the second iteration
- Disconnections observed with Netgear RAX120 AP in WPA3 security
- Observed connection failures with some AP's in more channel congestion open lab environment

**BLE**

- HID profile data transfer is not working, when power save is enabled in SoC.
- BLE reconnection is not working in ble_multiconnection_gatt demo, when power save is enabled in SoC

**Co-Existence**

- Observed HTTP continuous download is not happening in Powersave mode after BLE connection established using wifi\_https\_ble\_dual\_role application
- Observed DUT hang while Wi-Fi UDP Tx and BLE continuous scan run for long time.

**System**

- None

**MCU**

- Refer to the respective Radio board user guides for specific pinout details. Examples are targeted to a specific version mentioned in the respective readme.
- Few peripherals like WDT when configured with RO clock is not working as expected. No impact on the feature but the clocks are not accurate.
- ADC Differential mode is not working as expected if negative input value set above 2.4V.
- Few(BOD, Comparator and SysRTC) wakeup resources are not working as expected in Power manager service.
- Observed expected RO and BJT Temperature values only on calibrated FW18 boards.
- Force generate is required in order to generate pin_config.h from the Pin tool because Simplicity Studio's generate option isn't functioning in current version.

**Limitations and Unsupported Features**

**Wi-Fi/Network Stack**

- TLS 1.3 Server is not supported
- In AP mode, IPv6 Router Advertisements are not supported. Although STA connected to the APUT can transfer IPv6 data to the peers by using SLAAC for address configuration.
- When sl\_wifi\_enable\_target\_wake\_time() API is used, observed occasional MQTT disconnections with longer TWT intervals (>30secs) with embedded MQTT + TWT.
- AMSDU TX is not supported.
- Fragmentation is not supported.
- AMSDUs within AMPDU is not supported.
- Currently, the module does not support Radio Measurement Requests feature of CCX V2
- 802.11k is not supported
- 40 MHz bandwidth for 2.4 GHz band is not supported.
- 802.11J channel 14 is not supported.
- MQTT versions 3 and 4 are supported.
- Maximum of 3 SSL connections are supported in Wi-Fi alone mode.
- In SSL ECC Curve ID supported is 23. SSL handshake with 3rd party clients depends on the SSL ECC Curve ID.
- LP mode is not supported.
- In iTWT mode, downlink data traffic should be limited. Disconnections may be observed if AP fails to send all the buffered data in the next TWT Service Period.
- Number of MBSSIDs processed is limited by the beacon length that can be processed by the stack (which is limited to 1024 bytes). Beacons greater than 1024 Bytes in length will not be processed.
- CoEx + EAP Security in 352K/320k is not feasible. This issue is observed due to a lack of memory in the 352k/320k Memory Configuration. It is supported with other EXT\_FEAT\_416K\_M4SS\_256K and EXT\_FEAT\_480K\_M4SS\_192K memory configurations.
- UL MUMIMO is not supported.
- The embedded HTTP server is not supported.
- Baremetal is not supported.
- Compared to SoC mode, NCP mode has fewer examples, but more will be enabled in upcoming releases.
- Maximum Supported length for Embedded MQTT username up to 120 bytes , topic length up to 200 bytes and password upto 62 bytes.
- UART 2 Debug prints are supported only on ULP_GPIO_9.
- WOW LAN feature is not supported.
- SA Query procedure is not supported in AP mode.
- Maximum Supported length for HTTP GET URL is up to 2048 bytes.
- Azure SDK with embedded MQTT is not supported.

**BLE**

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.
- BLE TX/RX throughput is less when tested with EFM as compared to EFR
- Maximum supported AE data length is 200 bytes.
- Supports only two ADV\_EXT sets.
- Supports only two BLE connections (1 Central and 1 Peripheral) with AE.
- Advertising Extension feature is not supported in Coexistence.
- The  ae\_central & ae\_peripheral applications are not supported with TA\_352K\_M4\_320K RAM configuration.
- Setting PLL mode as 1 is not supported in Coexistence

**MCU**

- ULP Peripherals examples configurations are for RAM-based execution, as flash is powered off in ULP Mode.
- On 4338a board, two I2C instances(I2C1 and I2C2) are using same GPIOs, so support is not there for using two I2C instances simultaneously.
- I2C High speed and Fastplus mode not working at specifications speed.
- Manual chip select option is not supported when using GSPI.
- SSI Dual and Quad mode is not working as expected.
- ULP SSI wakeup source is not working as expected.
- SPI sensor will not work in the Sensor HUB application.
- For ADC Multichannel sampling rate is limited to less than 15Ksps, number of samples is less than 500 and with a maximum of 4 channel

**Simplicity Studio and Commander**

- Default GDB debug configuration is not supported for SoC projects, work around details provided in "Getting-Started-with-SiWx917"
- Observing flash download failures(ERROR 108) for a few image sizes
- While creating project through Simplicity Studio, "copy contents" option not supported.
- Simplicity commander does not support options under "Debug Lock tools" .
- All projects in the package are compatible with GCC 10.3.1 version.

**Terminology**

|**Term**|**Description**|
| :- | :- |
|**New Features**|These items are new to this release|
|**Changes/Issues Fixed**|Changes made to existing features found in previous software releases.|
||Enhancements to existing product flow and feature set.|
||Bug fixes done in the release|
|**Deprecated Items**|Features or functions or APIs that are removed from the distributed release to align with the software roadmap|
|**Known Issues**|Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases|
|**Limitations/Recommendations**|Describes the limitations on product usage and recommendations for optimal use cases|

**Note**

- Change SPI frequency to 12.5Mhz while measuring BLE throughput with EFR32

<br>

**WiSeConnect3\_SDK\_3.1.3-rc5 Release Notes**

This SDK package supports SoC Mode and NCP Mode for B0:

- In SoC Mode: Customer applications can run on Cortex M4. Wireless, network, and security stacks run on the wireless subsystem.
- In NCP mode: Wireless, network, and security stacks run on the Wireless subsystem. Customer applications run on the external host MCU.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

**Note**: Use Simplicity Studio version SV5.7.0.1 onwards

**SoC Highlights**

- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support ultra low power Wi-Fi standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode
- **MCU examples** : GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers, Config Timers, ULP (Ultra Low Power) Timers, Sleeptimer, IOSTREAM, NVM3, MEMLCD, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, Sensorhub, Joystick and Relative Humidity and Temparature sensor(RHT), Analog Comparator, Digital to Analog Converter and Temperature sensor(RO and BJT)
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE whitelisting, and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack, All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS client
- **IDE** : Simplicity Studio with Windows 10(64-bit), Linux, Mac OS
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** :
  - Si-MB4002A Main board
  - SiWx917 Radio boards

|**RadioBoard Type**|**SiWx917B0 with Board Version**|
| :- | :- |
|Common flash|-|
|Common flash|Si917-BRD4338A(2.0)|
|Dual flash|Si917-BRD4339B(2.0)|
|External PSRAM|Si917-BRD4340A(2.0), Si917-BRD4342A(2.0)|

**NCP Highlights**

- **Host Interface** : SPI, UART
- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode.
- **Wi-Fi** : 2.4GHz Wi-Fi Support, WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE Whitelisting and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack , BLE Stack , All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS Client.
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **Hardware kits to evaluate NCP Mode**
  - NCP EFR Expansion Kit with NCP Radio board (BRD4338A(NCP MBR) + BRD8045A)
  - Wireless Pro kit Mainboard BRD4002A Rev A06
  - EFR32xG24 Wireless 2.4 GHz +10 dBm Radio Board xG24-RB4186C

**Release Details**

|**Item**|**Details**|
| :- | :- |
|Release date|Feb 10th, 2024|
|SDK Version|3\.1.3-rc5|
|Firmware Version|1711\.2.10.1.2.0.4|
|Package Name|WiSeConnect3\_SDK\_3.1.3-rc5|
|Supported RTOS|FreeRTOS|
|Operating Modes Supported|Wi-Fi STA, Wi-Fi AP, Wi-Fi STA+BLE, Wi-Fi STA+AP|
|Build Quality|GA|

- SiWx917 release consists of two components
  - Wireless Firmware - SiWx917 Firmware Binaries
  - Wiseconnect3 Library - Wiseconnect3 SDK library runs on the external host in NCP mode and internal Cortex M4 in SoC Mode.
- This release is meant only for use with designs based on SiWx917 Silicon
- The firmware to load in your design are available in the following format:
  - SiWG917-B.2.10.1.x.0.x.rps - B0 Full-featured firmware binary

**Features Supported**

**Sensorhub service**

- Support for ADC, SPI, SDC and I2C based sensors
- Support for PS2 and sleep wakeups
- Support added for SDC
- SoC OPN based project support in SSv5
- List of OPN's supported si917-sb00, siwg917m111mgtba, siwg917m100mgtba, siwg917m111xgtba, siwg917m100xntba, siwg917m121xgtba, siwg917m110lgtba and siwg917m141xgtba

**MCU**

- ADC Single Channel, ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, GPIO, I2C, I2S, NVM3, OPAMP, PSRAM, PWM, QEI, RTC, SDIO Secondary, SPI Master and Slave, UART, Micro DMA, USART, Watchdog Timer, Temperature Sensor(RO and BJT), USART Master and Slave
- UC Supported Peripherals - GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers , Config Timers, ULP (Ultra Low Power) Timers, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, MEMLCD, Analog Comparator and Digital to Analog Converter.
- Services - Sleeptimer, IOSTREAM, NVM3, Power Manager and Pin Tool (support for USART, I2C, SSI, GSPI, SIO, SCT, PWM and I2S).
- ULP (Ultra Low Power) Peripherals - ulp\_gpio, ulp\_adc ulp\_i2c, ulp\_i2s, ulp\_ir\_decoder, ulp\_spi, ulp\_timer, ulp\_uart, ulp\_udma

**Wi-Fi**

- WPA2/WPA3 Personal, WPS and WPA2-EAP Support for Station Mode
- TCP/IP stack with IPv4, IPv6, TCP, UDP, TLS, HTTP/HTTPS, DHCPv4, DHCPv6, MQTT Client, DNS Client, SNTP client.
- Support for SSL client versions TLSV1.0, TLSV1.2, TLSV1.3 and SSL server versions TLSV1.0 and TLSV1.2
- Wi-Fi STA (802.11n/802.11ax) + 802.11n AP Support
- HE (802.11ax) and Individual TWT Feature Support
- Multiple BSSID feature support as an STA
- Secure OTA support on B0 radio boards.
- Support for LWIP network stack
- Support for AWS MQTT library
- Support for Azure MQTT library
- Support for BSD and IoT sockets application programming interface(API)

**Bluetooth Low Energy**

- BLE central & peripheral connections are supported.
- Ultra-low power save is supported.

**Power Save**

- Max PSP, enhanced MAX PSP, Fast PSP, and 802.11ax TWT power save modes are supported in WiFi.
- Only Max PSP power save mode is supported in BLE

**Crypto Support**

- AES, SHA, AES-CCM, HMAC, GCM, Chacha-poly, ECDH and TRNG FW Crypto API support added.
- PSA enabled Mbed TLS support added
- NVM support added for key storage
- Symmetric and asymmetric key storage
- TRNG, AES, SHA, HMAC, GCM, Chacha-poly, ECDH and AES-CCM hardware crypto engine is integrated with PSA crypto.

**Changes and Fixes**

**SDK**

- None

**MCU**

- Removing MEMLCD warnings

**Wi-Fi & Network Stack**

- Updated GSDK version to 4.4.1
- Enhanced the User Experience (UX) of the UART Interface
- fixed p192 curve parameters
- SQA Bugs: SI91X-14994

**BLE**

- None

**CoEx**

- None

**System**

- None

**Recommendations**

**System**

- The current revision of SiWx917 B0 has:
  - RAM memory of 672k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_672K\_M4SS\_0K- This mode configures TA with 672k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By default EXT\_FEAT\_352K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_480K\_M4SS\_192K - This mode configures TA with 480k and M4 with 192K bytes of memory
    - EXT\_FEAT\_416K\_M4SS\_256K - This mode configures TA with 416k and M4 with 256K bytes of memory
    - EXT\_FEAT\_352K\_M4SS\_320K - This mode configures TA with 352k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 672K\_M4SS\_0K.
  - SoC mode should not use 672k\_M4SS\_0k memory configuration.
- Set the recommended Power Save Profile (PSP) type to Enhanced Max PSP.

**IDE**

- Download the latest Simplicity Studio (SV5.7.0.1)
- Refer to the latest version of the SoC/NCP "Getting-Started-with-SiWx917" guide for more details

**Wi-Fi & Network Stack****

- The recommended embedded MQTT Publish payload is 1 kBytes.
- It is recommended to enable bit 16 of the 'Extended TCP IP Feature' bit map in the opermode command for all Wi-Fi Socket operations from the host to ensure graceful handling during asynchronous closures from the peer.
- Aggregation (bit 2 of feature\_bit\_map) is recommended to be enabled in opermode. This enables software to aggregate multiple packets to achieve better throughput
- TCP retransmission count value is recommended to be 30 or higher so that the TCP does not disconnect while the rejoin happens.
- To restart the module, the application needs to call sl\_wifi\_deinit() followed by sl\_wifi\_init().
- Register 'Join Fail Callback' function every time when join is called, as in the rejoin failure path the callback is deregistered. If not done, this might result in a scan not functioning on rejoin failure.
- User can enable SL\_SI91X\_EXT\_TCP\_IP\_SSL\_16K\_RECORD in 'Extended TCP IP Feature'bit map in opermode, if HTTPS download is failing after receiving HTTP headers..
- iTWT setup is recommended after IP assignment/TCP connection/application specific socket connections.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, increase TCP / ARP Timeouts at the remote side depending upon the configured TWT interval configured.
- In case of TWT+coex, when using sl\_wifi\_enable\_target\_wakeup\_time API, use TWT wake duration <= 16 ms and TWT wake interval >= 1 sec. If wake duration > 16 ms or TWT wake interval < 1sec, there might be performance issues.
- For iTWT GTK Interval Should be kept max possible value or zero. If GTK interval is not configurable, recommended TWT interval (in case of sl\_wifi\_enable\_target\_wakeup\_time API) or RX Latency (in case of sl\_wifi\_target\_wake\_time\_auto\_selection API) is less than 4sec.
- Disable Power Save for High Throughput Applications.
- The application needs to ensure that it sets RTC with the correct timestamp when the feature is enabled before establishing the SSL connection.
- The timeout value should not be less than 1 second for socket select and socket receive calls. Timeout value of less than 1 second is not currently supported.
- When sl\_wifi\_enable\_target\_wakeup\_time API is used, configuring TWT Wake interval beyond 1 min might lead to disconnections from the AP. Recommended to use TWT wakeup interval of less than or equal to 1 min.
- Embedded MQTT keep alive interval should be either 0 or a value greater than 35 seconds.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, it is recommended to set missed\_beacon\_count of sl\_wifi\_set\_advanced\_client\_configuration API greater than 2 times of the configured TWT Interval.
- Disable power save and suspend any active TWT sessions before triggering HTTP OTAF.
- It is recommended to enable bit 31 of the 'TCP IP Feature' bit map in the opermode command to support multicast protocol

**BLE**

- In BLE, the recommended range of Connection Interval in
  - Power Save (BLE Only) - 100 ms to 1.28 s.
- In BLE, during Connection, the configuration of Scan Interval and Scan Window with the same value is not recommended. The suggested ratio of Scan Window to Scan Interval is 3:4.
- In BLE, if a device is acting as Central, the scan window (in set\_scan\_params and create\_connection commands) must be less than the existing Connection Interval. The suggested ratio of Scan Window to Connection Interval is 2:3.
- In BLE mode, if scanning and advertising are in progress on the SiWx91x module and it subsequently gets connected and moves to the central role, scanning stops else if it moves to the peripheral role, advertising stops. To further establish a connection to another peripheral device or to a central device, the application should give a command for starting advertising and scanning again.

**Co-Existence**

- For concurrent Wi-Fi + BLE, and while a Wi-Fi connection is active, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
- Wi-Fi + BLE Advertising
  - All standard advertising intervals are supported. As Wi-Fi throughput is increased, a slight difference in on-air advertisements compared to configured intervals may be observed.
  - BLE advertising is skipped if the advertising interval collides with Wi-Fi activity.
- Wi-Fi + BLE scanning
  - All standard scan intervals are supported. For better scan results, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
  - BLE scanning will be stopped for intervals that collide with Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Connections
  - All standard connection intervals are supported.
  - For a stable connection, use optimal connection intervals and max supervision timeout in the presence of Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Data Transfer
  - To achieve higher throughput for both Wi-Fi and BLE, use medium connection intervals, such as 45 to 80 ms with maximum supervision timeout.
  - Ensure Wi-Fi activity consumes lower intervals.

**Known Issues**

**Sensorhub**

- Support for ADC FIFO Mode and Multi channel is open
- Support for ADC Powersave is open
- PS1-state supports only ADC sensor

**Network Stack**

- Sometimes during SSL Handshake, ECC curve parameters generated are wrong, resulting in connection failure with BBD2 error. However, this recovers in the next attempt.
- Randomize the client port if using rapid connect/disconnect of the MQTT session on the same client port with the power save.
- Secure SSL renegotiation not supported in Embedded Networking Stack.

**Wi-Fi**

- TWT device (STA) may not go to sleep in between TWT intervals in case of burst data traffics with data size more than the configured 'average tx throughput', until completion of data transfer.
- There are performance and IOP issues with MU MIMO.
- WPA3 Connection with the Hunting and Pecking algorithm takes about 3-4 seconds.
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.
- Low Wi-Fi+BLE throughput
- TCP/UDP TX/RX Data stall observed in CoEx scenarios
- Observed HTTPS Continuous download fails with TA Power save
- Performance improvements are in progress for lower performance metrics.
- Observed interop issue (connectivity failure) with few AP's when device reset/reboot happens on active connection.
- In concurrent mode, AP restart fails after stopping it with ap\_stop command.
- DUT deep sleep will not work after stopping AP with ap\_stop command.
- Unable to get SNTP async events when coex mode and Power save is enabled
- Fine Tuning 802.11ax Spectral mask in Progress
- Fine Tuning 11b mask in Ch11 in progress
- DUT is unable to connect to the AP with WPA3 security when we enable coex mode (WLAN+BLE) in opermode
- Socket listen API is failing from the second iteration
- Disconnections observed with Netgear RAX120 AP in WPA3 security
- Observed connection failures with some AP's in more channel congestion open lab environment

**BLE**

- HID profile data transfer is not working, when power save is enabled in SoC.
- BLE reconnection is not working in ble_multiconnection_gatt demo, when power save is enabled in SoC

**Co-Existence**

- Observed HTTP continuous download is not happening in Powersave mode after BLE connection established using wifi\_https\_ble\_dual\_role application
- Observed DUT hang while Wi-Fi UDP Tx and BLE continuous scan run for long time.

**System**

- None

**MCU**

- Refer to the respective Radio board user guides for specific pinout details. Examples are targeted to a specific version mentioned in the respective readme.
- Few peripherals like WDT when configured with RO clock is not working as expected. No impact on the feature but the clocks are not accurate.
- ADC Differential mode is not working as expected if negative input value set above 2.4V.
- Few(BOD, Comparator and SysRTC) wakeup resources are not working as expected in Power manager service.
- Observed expected RO and BJT Temperature values only on calibrated FW18 boards.
- Force generate is required in order to generate pin_config.h from the Pin tool because Simplicity Studio's generate option isn't functioning in current version.

**Limitations and Unsupported Features**

**Wi-Fi/Network Stack**

- TLS 1.3 Server is not supported
- In AP mode, IPv6 Router Advertisements are not supported. Although STA connected to the APUT can transfer IPv6 data to the peers by using SLAAC for address configuration.
- When sl\_wifi\_enable\_target\_wake\_time() API is used, observed occasional MQTT disconnections with longer TWT intervals (>30secs) with embedded MQTT + TWT.
- AMSDU TX is not supported.
- Fragmentation is not supported.
- AMSDUs within AMPDU is not supported.
- Currently, the module does not support Radio Measurement Requests feature of CCX V2
- 802.11k is not supported
- 40 MHz bandwidth for 2.4 GHz band is not supported.
- 802.11J channel 14 is not supported.
- MQTT versions 3 and 4 are supported.
- Maximum of 3 SSL connections are supported in Wi-Fi alone mode.
- In SSL ECC Curve ID supported is 23. SSL handshake with 3rd party clients depends on the SSL ECC Curve ID.
- LP mode is not supported.
- In iTWT mode, downlink data traffic should be limited. Disconnections may be observed if AP fails to send all the buffered data in the next TWT Service Period.
- Number of MBSSIDs processed is limited by the beacon length that can be processed by the stack (which is limited to 1024 bytes). Beacons greater than 1024 Bytes in length will not be processed.
- CoEx + EAP Security in 352K/320k is not feasible. This issue is observed due to a lack of memory in the 352k/320k Memory Configuration. It is supported with other EXT\_FEAT\_416K\_M4SS\_256K and EXT\_FEAT\_480K\_M4SS\_192K memory configurations.
- UL MUMIMO is not supported.
- The embedded HTTP server is not supported.
- Baremetal is not supported.
- Compared to SoC mode, NCP mode has fewer examples, but more will be enabled in upcoming releases.
- Maximum Supported length for Embedded MQTT username up to 120 bytes , topic length up to 200 bytes and password upto 62 bytes.
- UART 2 Debug prints are supported only on ULP_GPIO_9.
- WOW LAN feature is not supported.
- SA Query procedure is not supported in AP mode.
- Maximum Supported length for HTTP GET URL is up to 2048 bytes.
- Azure SDK with embedded MQTT is not supported.

**BLE**

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.
- BLE TX/RX throughput is less when tested with EFM as compared to EFR
- Maximum supported AE data length is 200 bytes.
- Supports only two ADV\_EXT sets.
- Supports only two BLE connections (1 Central and 1 Peripheral) with AE.
- Advertising Extension feature is not supported in Coexistence.
- The  ae\_central & ae\_peripheral applications are not supported with TA\_352K\_M4\_320K RAM configuration.
- Setting PLL mode as 1 is not supported in Coexistence

**MCU**

- ULP Peripherals examples configurations are for RAM-based execution, as flash is powered off in ULP Mode.
- On 4338a board, two I2C instances(I2C1 and I2C2) are using same GPIOs, so support is not there for using two I2C instances simultaneously.
- I2C High speed and Fastplus mode not working at specifications speed.
- Manual chip select option is not supported when using GSPI.
- SSI Dual and Quad mode is not working as expected.
- ULP SSI wakeup source is not working as expected.
- SPI sensor will not work in the Sensor HUB application.
- For ADC Multichannel sampling rate is limited to less than 15Ksps, number of samples is less than 500 and with a maximum of 4 channel

**Simplicity Studio and Commander**

- Default GDB debug configuration is not supported for SoC projects, work around details provided in "Getting-Started-with-SiWx917"
- Observing flash download failures(ERROR 108) for a few image sizes
- While creating project through Simplicity Studio, "copy contents" option not supported.
- Simplicity commander does not support options under "Debug Lock tools" .
- All projects in the package are compatible with GCC 10.3.1 version.

**Terminology**

|**Term**|**Description**|
| :- | :- |
|**New Features**|These items are new to this release|
|**Changes/Issues Fixed**|Changes made to existing features found in previous software releases.|
||Enhancements to existing product flow and feature set.|
||Bug fixes done in the release|
|**Deprecated Items**|Features or functions or APIs that are removed from the distributed release to align with the software roadmap|
|**Known Issues**|Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases|
|**Limitations/Recommendations**|Describes the limitations on product usage and recommendations for optimal use cases|

**Note**

- Change SPI frequency to 12.5Mhz while measuring BLE throughput with EFR32

<br>

**WiSeConnect3\_SDK\_3.1.3-rc4 Release Notes**

This SDK package supports SoC Mode and NCP Mode for B0:

- In SoC Mode: Customer applications can run on Cortex M4. Wireless, network, and security stacks run on the wireless subsystem.
- In NCP mode: Wireless, network, and security stacks run on the Wireless subsystem. Customer applications run on the external host MCU.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

**Note**: Use Simplicity Studio version SV5.7.0.1 onwards

**SoC Highlights**

- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support ultra low power Wi-Fi standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode
- **MCU examples** : GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers, Config Timers, ULP (Ultra Low Power) Timers, Sleeptimer, IOSTREAM, NVM3, MEMLCD, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, Sensorhub, Joystick and Relative Humidity and Temparature sensor(RHT), Analog Comparator, Digital to Analog Converter and Temperature sensor(RO and BJT)
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE whitelisting, and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack, All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS client
- **IDE** : Simplicity Studio with Windows 10(64-bit), Linux, Mac OS
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** :
  - Si-MB4002A Main board
  - SiWx917 Radio boards

|**RadioBoard Type**|**SiWx917B0 with Board Version**|
| :- | :- |
|Common flash|-|
|Common flash|Si917-BRD4338A(2.0)|
|Dual flash|Si917-BRD4339B(2.0)|
|External PSRAM|Si917-BRD4340A(2.0), Si917-BRD4342A(2.0)|

**NCP Highlights**

- **Host Interface** : SPI, UART
- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode.
- **Wi-Fi** : 2.4GHz Wi-Fi Support, WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE Whitelisting and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack , BLE Stack , All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS Client.
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **Hardware kits to evaluate NCP Mode**
  - NCP EFR Expansion Kit with NCP Radio board (BRD4338A(NCP MBR) + BRD8045A)
  - Wireless Pro kit Mainboard BRD4002A Rev A06
  - EFR32xG24 Wireless 2.4 GHz +10 dBm Radio Board xG24-RB4186C

**Release Details**

|**Item**|**Details**|
| :- | :- |
|Release date|Feb 8th, 2024|
|SDK Version|3\.1.3-rc4|
|Firmware Version|1711\.2.10.1.2.0.4|
|Package Name|WiSeConnect3\_SDK\_3.1.3-rc4|
|Supported RTOS|FreeRTOS|
|Operating Modes Supported|Wi-Fi STA, Wi-Fi AP, Wi-Fi STA+BLE, Wi-Fi STA+AP|
|Build Quality|GA|

- SiWx917 release consists of two components
  - Wireless Firmware - SiWx917 Firmware Binaries
  - Wiseconnect3 Library - Wiseconnect3 SDK library runs on the external host in NCP mode and internal Cortex M4 in SoC Mode.
- This release is meant only for use with designs based on SiWx917 Silicon
- The firmware to load in your design are available in the following format:
  - SiWG917-B.2.10.1.x.0.x.rps - B0 Full-featured firmware binary

**Features Supported**

**Sensorhub service**

- Support for ADC, SPI, SDC and I2C based sensors
- Support for PS2 and sleep wakeups
- Support added for SDC
- SoC OPN based project support in SSv5
- List of OPN's supported si917-sb00, siwg917m111mgtba, siwg917m100mgtba, siwg917m111xgtba, siwg917m100xntba, siwg917m121xgtba, siwg917m110lgtba and siwg917m141xgtba

**MCU**

- ADC Single Channel, ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, GPIO, I2C, I2S, NVM3, OPAMP, PSRAM, PWM, QEI, RTC, SDIO Secondary, SPI Master and Slave, UART, Micro DMA, USART, Watchdog Timer, Temperature Sensor(RO and BJT), USART Master and Slave
- UC Supported Peripherals - GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers , Config Timers, ULP (Ultra Low Power) Timers, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, MEMLCD, Analog Comparator and Digital to Analog Converter.
- Services - Sleeptimer, IOSTREAM, NVM3, Power Manager and Pin Tool (support for USART, I2C, SSI, GSPI, SIO, SCT, PWM and I2S).
- ULP (Ultra Low Power) Peripherals - ulp\_gpio, ulp\_adc ulp\_i2c, ulp\_i2s, ulp\_ir\_decoder, ulp\_spi, ulp\_timer, ulp\_uart, ulp\_udma

**Wi-Fi**

- WPA2/WPA3 Personal, WPS and WPA2-EAP Support for Station Mode
- TCP/IP stack with IPv4, IPv6, TCP, UDP, TLS, HTTP/HTTPS, DHCPv4, DHCPv6, MQTT Client, DNS Client, SNTP client.
- Support for SSL client versions TLSV1.0, TLSV1.2, TLSV1.3 and SSL server versions TLSV1.0 and TLSV1.2
- Wi-Fi STA (802.11n/802.11ax) + 802.11n AP Support
- HE (802.11ax) and Individual TWT Feature Support
- Multiple BSSID feature support as an STA
- Secure OTA support on B0 radio boards.
- Support for LWIP network stack
- Support for AWS MQTT library
- Support for Azure MQTT library
- Support for BSD and IoT sockets application programming interface(API)

**Bluetooth Low Energy**

- BLE central & peripheral connections are supported.
- Ultra-low power save is supported.

**Power Save**

- Max PSP, enhanced MAX PSP, Fast PSP, and 802.11ax TWT power save modes are supported in WiFi.
- Only Max PSP power save mode is supported in BLE

**Crypto Support**

- AES, SHA, AES-CCM, HMAC, GCM, Chacha-poly, ECDH and TRNG FW Crypto API support added.
- PSA enabled Mbed TLS support added
- NVM support added for key storage
- Symmetric and asymmetric key storage
- TRNG, AES, SHA, HMAC, GCM, Chacha-poly, ECDH and AES-CCM hardware crypto engine is integrated with PSA crypto.

**Changes and Fixes**

**SDK**

- None

**MCU**

- Provided Support for SDC in SensorHUB
- Fixed build failure in wireless wakeup and gpio component
- Added support for is_ok_to_sleep, on_isr_exit APIs and debug functionality for Power Manager Service
- SQA Bugs: SI91X-14960

**Wi-Fi & Network Stack**

- Added the inline comments for the HTTP Long URL code
- Updated readme for Azure MQTT example
- Fixed Issue in sending Azure MQTT keep alive packets due to connection closed by Azure HUB
- Improvement in sleep wakeup performance in soc mode
- Added checks for buffer overflow in crypto SAPIs
- SQA Bugs: SI91X-14898, SI91X-14963

**BLE**

- None

**CoEx**

- Provided retry when receive failed due to memory insufficient in TA

**System**

- None

**Recommendations**

**System**

- The current revision of SiWx917 B0 has:
  - RAM memory of 672k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_672K\_M4SS\_0K- This mode configures TA with 672k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By default EXT\_FEAT\_352K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_480K\_M4SS\_192K - This mode configures TA with 480k and M4 with 192K bytes of memory
    - EXT\_FEAT\_416K\_M4SS\_256K - This mode configures TA with 416k and M4 with 256K bytes of memory
    - EXT\_FEAT\_352K\_M4SS\_320K - This mode configures TA with 352k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 672K\_M4SS\_0K.
  - SoC mode should not use 672k\_M4SS\_0k memory configuration.
- Set the recommended Power Save Profile (PSP) type to Enhanced Max PSP.

**IDE**

- Download the latest Simplicity Studio (SV5.7.0.1)
- Refer to the latest version of the SoC/NCP "Getting-Started-with-SiWx917" guide for more details

**Wi-Fi & Network Stack****

- The recommended embedded MQTT Publish payload is 1 kBytes.
- It is recommended to enable bit 16 of the 'Extended TCP IP Feature' bit map in the opermode command for all Wi-Fi Socket operations from the host to ensure graceful handling during asynchronous closures from the peer.
- Aggregation (bit 2 of feature\_bit\_map) is recommended to be enabled in opermode. This enables software to aggregate multiple packets to achieve better throughput
- TCP retransmission count value is recommended to be 30 or higher so that the TCP does not disconnect while the rejoin happens.
- To restart the module, the application needs to call sl\_wifi\_deinit() followed by sl\_wifi\_init().
- Register 'Join Fail Callback' function every time when join is called, as in the rejoin failure path the callback is deregistered. If not done, this might result in a scan not functioning on rejoin failure.
- User can enable SL\_SI91X\_EXT\_TCP\_IP\_SSL\_16K\_RECORD in 'Extended TCP IP Feature'bit map in opermode, if HTTPS download is failing after receiving HTTP headers..
- iTWT setup is recommended after IP assignment/TCP connection/application specific socket connections.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, increase TCP / ARP Timeouts at the remote side depending upon the configured TWT interval configured.
- In case of TWT+coex, when using sl\_wifi\_enable\_target\_wakeup\_time API, use TWT wake duration <= 16 ms and TWT wake interval >= 1 sec. If wake duration > 16 ms or TWT wake interval < 1sec, there might be performance issues.
- For iTWT GTK Interval Should be kept max possible value or zero. If GTK interval is not configurable, recommended TWT interval (in case of sl\_wifi\_enable\_target\_wakeup\_time API) or RX Latency (in case of sl\_wifi\_target\_wake\_time\_auto\_selection API) is less than 4sec.
- Disable Power Save for High Throughput Applications.
- The application needs to ensure that it sets RTC with the correct timestamp when the feature is enabled before establishing the SSL connection.
- The timeout value should not be less than 1 second for socket select and socket receive calls. Timeout value of less than 1 second is not currently supported.
- When sl\_wifi\_enable\_target\_wakeup\_time API is used, configuring TWT Wake interval beyond 1 min might lead to disconnections from the AP. Recommended to use TWT wakeup interval of less than or equal to 1 min.
- Embedded MQTT keep alive interval should be either 0 or a value greater than 35 seconds.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, it is recommended to set missed\_beacon\_count of sl\_wifi\_set\_advanced\_client\_configuration API greater than 2 times of the configured TWT Interval.
- Disable power save and suspend any active TWT sessions before triggering HTTP OTAF.
- It is recommended to enable bit 31 of the 'TCP IP Feature' bit map in the opermode command to support multicast protocol

**BLE**

- In BLE, the recommended range of Connection Interval in
  - Power Save (BLE Only) - 100 ms to 1.28 s.
- In BLE, during Connection, the configuration of Scan Interval and Scan Window with the same value is not recommended. The suggested ratio of Scan Window to Scan Interval is 3:4.
- In BLE, if a device is acting as Central, the scan window (in set\_scan\_params and create\_connection commands) must be less than the existing Connection Interval. The suggested ratio of Scan Window to Connection Interval is 2:3.
- In BLE mode, if scanning and advertising are in progress on the SiWx91x module and it subsequently gets connected and moves to the central role, scanning stops else if it moves to the peripheral role, advertising stops. To further establish a connection to another peripheral device or to a central device, the application should give a command for starting advertising and scanning again.

**Co-Existence**

- For concurrent Wi-Fi + BLE, and while a Wi-Fi connection is active, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
- Wi-Fi + BLE Advertising
  - All standard advertising intervals are supported. As Wi-Fi throughput is increased, a slight difference in on-air advertisements compared to configured intervals may be observed.
  - BLE advertising is skipped if the advertising interval collides with Wi-Fi activity.
- Wi-Fi + BLE scanning
  - All standard scan intervals are supported. For better scan results, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
  - BLE scanning will be stopped for intervals that collide with Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Connections
  - All standard connection intervals are supported.
  - For a stable connection, use optimal connection intervals and max supervision timeout in the presence of Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Data Transfer
  - To achieve higher throughput for both Wi-Fi and BLE, use medium connection intervals, such as 45 to 80 ms with maximum supervision timeout.
  - Ensure Wi-Fi activity consumes lower intervals.

**Known Issues**

**Sensorhub**

- Support for ADC FIFO Mode and Multi channel is open
- Support for ADC Powersave is open
- PS1-state supports only ADC sensor

**Network Stack**

- Sometimes during SSL Handshake, ECC curve parameters generated are wrong, resulting in connection failure with BBD2 error. However, this recovers in the next attempt.
- Randomize the client port if using rapid connect/disconnect of the MQTT session on the same client port with the power save.
- Secure SSL renegotiation not supported in Embedded Networking Stack.

**Wi-Fi**

- TWT device (STA) may not go to sleep in between TWT intervals in case of burst data traffics with data size more than the configured 'average tx throughput', until completion of data transfer.
- There are performance and IOP issues with MU MIMO.
- WPA3 Connection with the Hunting and Pecking algorithm takes about 3-4 seconds.
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.
- Low Wi-Fi+BLE throughput
- TCP/UDP TX/RX Data stall observed in CoEx scenarios
- Observed HTTPS Continuous download fails with TA Power save
- Performance improvements are in progress for lower performance metrics.
- Observed interop issue (connectivity failure) with few AP's when device reset/reboot happens on active connection.
- In concurrent mode, AP restart fails after stopping it with ap\_stop command.
- DUT deep sleep will not work after stopping AP with ap\_stop command.
- Unable to get SNTP async events when coex mode and Power save is enabled
- Fine Tuning 802.11ax Spectral mask in Progress
- Fine Tuning 11b mask in Ch11 in progress
- DUT is unable to connect to the AP with WPA3 security when we enable coex mode (WLAN+BLE) in opermode
- Socket listen API is failing from the second iteration
- Disconnections observed with Netgear RAX120 AP in WPA3 security
- Observed connection failures with some AP's in more channel congestion open lab environment

**BLE**

- HID profile data transfer is not working, when power save is enabled in SoC.
- BLE reconnection is not working in ble_multiconnection_gatt demo, when power save is enabled in SoC

**Co-Existence**

- Observed HTTP continuous download is not happening in Powersave mode after BLE connection established using wifi\_https\_ble\_dual\_role application
- Observed DUT hang while Wi-Fi UDP Tx and BLE continuous scan run for long time.

**System**

- None

**MCU**

- Refer to the respective Radio board user guides for specific pinout details. Examples are targeted to a specific version mentioned in the respective readme.
- Few peripherals like WDT when configured with RO clock is not working as expected. No impact on the feature but the clocks are not accurate.
- ADC Differential mode is not working as expected if negative input value set above 2.4V.
- Few(BOD, Comparator and SysRTC) wakeup resources are not working as expected in Power manager service.
- Observed expected RO and BJT Temperature values only on calibrated FW18 boards.
- Force generate is required in order to generate pin_config.h from the Pin tool because Simplicity Studio's generate option isn't functioning in current version.

**Limitations and Unsupported Features**

**Wi-Fi/Network Stack**

- TLS 1.3 Server is not supported
- In AP mode, IPv6 Router Advertisements are not supported. Although STA connected to the APUT can transfer IPv6 data to the peers by using SLAAC for address configuration.
- When sl\_wifi\_enable\_target\_wake\_time() API is used, observed occasional MQTT disconnections with longer TWT intervals (>30secs) with embedded MQTT + TWT.
- AMSDU TX is not supported.
- Fragmentation is not supported.
- AMSDUs within AMPDU is not supported.
- Currently, the module does not support Radio Measurement Requests feature of CCX V2
- 802.11k is not supported
- 40 MHz bandwidth for 2.4 GHz band is not supported.
- 802.11J channel 14 is not supported.
- MQTT versions 3 and 4 are supported.
- Maximum of 3 SSL connections are supported in Wi-Fi alone mode.
- In SSL ECC Curve ID supported is 23. SSL handshake with 3rd party clients depends on the SSL ECC Curve ID.
- LP mode is not supported.
- In iTWT mode, downlink data traffic should be limited. Disconnections may be observed if AP fails to send all the buffered data in the next TWT Service Period.
- Number of MBSSIDs processed is limited by the beacon length that can be processed by the stack (which is limited to 1024 bytes). Beacons greater than 1024 Bytes in length will not be processed.
- CoEx + EAP Security in 352K/320k is not feasible. This issue is observed due to a lack of memory in the 352k/320k Memory Configuration. It is supported with other EXT\_FEAT\_416K\_M4SS\_256K and EXT\_FEAT\_480K\_M4SS\_192K memory configurations.
- UL MUMIMO is not supported.
- The embedded HTTP server is not supported.
- Baremetal is not supported.
- Compared to SoC mode, NCP mode has fewer examples, but more will be enabled in upcoming releases.
- Maximum Supported length for Embedded MQTT username up to 120 bytes , topic length up to 200 bytes and password upto 62 bytes.
- UART 2 Debug prints are supported only on ULP_GPIO_9.
- WOW LAN feature is not supported.
- SA Query procedure is not supported in AP mode.
- Maximum Supported length for HTTP GET URL is up to 2048 bytes.
- Azure SDK with embedded MQTT is not supported.

**BLE**

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.
- BLE TX/RX throughput is less when tested with EFM as compared to EFR
- Maximum supported AE data length is 200 bytes.
- Supports only two ADV\_EXT sets.
- Supports only two BLE connections (1 Central and 1 Peripheral) with AE.
- Advertising Extension feature is not supported in Coexistence.
- The  ae\_central & ae\_peripheral applications are not supported with TA\_352K\_M4\_320K RAM configuration.
- Setting PLL mode as 1 is not supported in Coexistence

**MCU**

- ULP Peripherals examples configurations are for RAM-based execution, as flash is powered off in ULP Mode.
- On 4338a board, two I2C instances(I2C1 and I2C2) are using same GPIOs, so support is not there for using two I2C instances simultaneously.
- I2C High speed and Fastplus mode not working at specifications speed.
- Manual chip select option is not supported when using GSPI.
- SSI Dual and Quad mode is not working as expected.
- ULP SSI wakeup source is not working as expected.
- SPI sensor will not work in the Sensor HUB application.
- For ADC Multichannel sampling rate is limited to less than 15Ksps, number of samples is less than 500 and with a maximum of 4 channel

**Simplicity Studio and Commander**

- Default GDB debug configuration is not supported for SoC projects, work around details provided in "Getting-Started-with-SiWx917"
- Observing flash download failures(ERROR 108) for a few image sizes
- While creating project through Simplicity Studio, "copy contents" option not supported.
- Simplicity commander does not support options under "Debug Lock tools" .
- All projects in the package are compatible with GCC 10.3.1 version.

**Terminology**

|**Term**|**Description**|
| :- | :- |
|**New Features**|These items are new to this release|
|**Changes/Issues Fixed**|Changes made to existing features found in previous software releases.|
||Enhancements to existing product flow and feature set.|
||Bug fixes done in the release|
|**Deprecated Items**|Features or functions or APIs that are removed from the distributed release to align with the software roadmap|
|**Known Issues**|Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases|
|**Limitations/Recommendations**|Describes the limitations on product usage and recommendations for optimal use cases|

**Note**

- Change SPI frequency to 12.5Mhz while measuring BLE throughput with EFR32

<br>

**WiSeConnect3\_SDK\_3.1.3-rc3 Release Notes**

This SDK package supports SoC Mode and NCP Mode for B0:

- In SoC Mode: Customer applications can run on Cortex M4. Wireless, network, and security stacks run on the wireless subsystem.
- In NCP mode: Wireless, network, and security stacks run on the Wireless subsystem. Customer applications run on the external host MCU.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

**Note**: Use Simplicity Studio version SV5.7.0.1 onwards

**SoC Highlights**

- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support ultra low power Wi-Fi standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode
- **MCU examples** : GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers, Config Timers, ULP (Ultra Low Power) Timers, Sleeptimer, IOSTREAM, NVM3, MEMLCD, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, Sensorhub, Joystick and Relative Humidity and Temparature sensor(RHT), Analog Comparator, Digital to Analog Converter and Temperature sensor(RO and BJT)
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE whitelisting, and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack, All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS client
- **IDE** : Simplicity Studio with Windows 10(64-bit), Linux, Mac OS
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** :
  - Si-MB4002A Main board
  - SiWx917 Radio boards

|**RadioBoard Type**|**SiWx917B0 with Board Version**|
| :- | :- |
|Common flash|-|
|Common flash|Si917-BRD4338A(2.0)|
|Dual flash|Si917-BRD4339B(2.0)|
|External PSRAM|Si917-BRD4340A(2.0), Si917-BRD4342A(2.0)|

**NCP Highlights**

- **Host Interface** : SPI, UART
- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode.
- **Wi-Fi** : 2.4GHz Wi-Fi Support, WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE Whitelisting and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack , BLE Stack , All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS Client.
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **Hardware kits to evaluate NCP Mode**
  - NCP EFR Expansion Kit with NCP Radio board (BRD4338A(NCP MBR) + BRD8045A)
  - Wireless Pro kit Mainboard BRD4002A Rev A06
  - EFR32xG24 Wireless 2.4 GHz +10 dBm Radio Board xG24-RB4186C

**Release Details**

|**Item**|**Details**|
| :- | :- |
|Release date|Jan 31st, 2024|
|SDK Version|3\.1.3-rc3|
|Firmware Version|1711\.2.10.1.2.0.3|
|Package Name|WiSeConnect3\_SDK\_3.1.3-rc3|
|Supported RTOS|FreeRTOS|
|Operating Modes Supported|Wi-Fi STA, Wi-Fi AP, Wi-Fi STA+BLE, Wi-Fi STA+AP|
|Build Quality|GA|

- SiWx917 release consists of two components
  - Wireless Firmware - SiWx917 Firmware Binaries
  - Wiseconnect3 Library - Wiseconnect3 SDK library runs on the external host in NCP mode and internal Cortex M4 in SoC Mode.
- This release is meant only for use with designs based on SiWx917 Silicon
- The firmware to load in your design are available in the following format:
  - SiWG917-B.2.10.1.x.0.x.rps - B0 Full-featured firmware binary

**Features Supported**

**Sensorhub service**

- Support for ADC, SPI and I2C based sensors
- Support for PS2 and sleep wakeups
- Support added for SDC
- SoC OPN based project support in SSv5
- List of OPN's supported si917-sb00, siwg917m111mgtba, siwg917m100mgtba, siwg917m111xgtba, siwg917m100xntba, siwg917m121xgtba, siwg917m110lgtba and siwg917m141xgtba

**MCU**

- ADC Single Channel, ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, GPIO, I2C, I2S, NVM3, OPAMP, PSRAM, PWM, QEI, RTC, SDIO Secondary, SPI Master and Slave, UART, Micro DMA, USART, Watchdog Timer, Temperature Sensor(RO and BJT), USART Master and Slave
- UC Supported Peripherals - GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers , Config Timers, ULP (Ultra Low Power) Timers, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, MEMLCD, Analog Comparator and Digital to Analog Converter.
- Services - Sleeptimer, IOSTREAM, NVM3, Power Manager and Pin Tool (support for USART, I2C, SSI, GSPI, SIO, SCT, PWM and I2S).
- ULP (Ultra Low Power) Peripherals - ulp\_gpio, ulp\_adc ulp\_i2c, ulp\_i2s, ulp\_ir\_decoder, ulp\_spi, ulp\_timer, ulp\_uart, ulp\_udma

**Wi-Fi**

- WPA2/WPA3 Personal, WPS and WPA2-EAP Support for Station Mode
- TCP/IP stack with IPv4, IPv6, TCP, UDP, TLS, HTTP/HTTPS, DHCPv4, DHCPv6, MQTT Client, DNS Client, SNTP client.
- Support for SSL client versions TLSV1.0, TLSV1.2, TLSV1.3 and SSL server versions TLSV1.0 and TLSV1.2
- Wi-Fi STA (802.11n/802.11ax) + 802.11n AP Support
- HE (802.11ax) and Individual TWT Feature Support
- Multiple BSSID feature support as an STA
- Secure OTA support on B0 radio boards.
- Support for LWIP network stack
- Support for AWS MQTT library
- Support for Azure MQTT library
- Support for BSD and IoT sockets application programming interface(API)

**Bluetooth Low Energy**

- BLE central & peripheral connections are supported.
- Ultra-low power save is supported.

**Power Save**

- Max PSP, enhanced MAX PSP, Fast PSP, and 802.11ax TWT power save modes are supported in WiFi.
- Only Max PSP power save mode is supported in BLE

**Crypto Support**

- AES, SHA, AES-CCM, HMAC, GCM, Chacha-poly, ECDH and TRNG FW Crypto API support added.
- PSA enabled Mbed TLS support added
- NVM support added for key storage
- Symmetric and asymmetric key storage
- TRNG, AES, SHA, HMAC, GCM, Chacha-poly, ECDH and AES-CCM hardware crypto engine is integrated with PSA crypto.

**Changes and Fixes**

**SDK**

- None

**MCU**

- Provided Analog Comparator and Digital to Analog Converter examples
- Provided Temperature Sensor(RO and BJT) examples
- Pin Tool support for USART, I2C, SSI, GSPI, SIO, SCT, PWM and I2S
- Support added for SDC in Sensor hub
- SQA Bugs: SI91X-14750, SI91X-14870, SI91X-14899, SI91X-14876, SI91X-14909 and SI91X-14813

**Wi-Fi & Network Stack**

- HTTP Long URL support for HTTP GET
- Added support for 4342A PSRAM and 4339B Dual flash
- Added featured examples support for PSRAM boards 4342A and 43340A
- Added support for NCP over UART interface
- Implemented wifi deinit using handshake mechanism between NWP and M4
- Added RAM execution for calibration example
- Added seperate component for coreMQTT
- Added wifi6 PER in CLI demo
- Fixed MQTT returning error when incoming publish packet length is greater than 64 bytes
- SQA Bugs: SI91X-14741, SI91X-14868, SI91X-14603

**BLE**

- Fixed issue where device sometimes failed to respond to connection update request in CoEx which is causing BLE disconnection
- Fixed issue where device is throwing an error when it tried to re-enabling AE ADV after establishing an AE connection with two adverting sets
- Fixed AE connection fail issue when remote device transmitting AUX ADV packets with Coded PHY rates
- SQA Bugs: SI91X-14810

**CoEx**

- Fixed OOB example build warnings
- SQA Bugs: SI91X-14454, SI91X-14004, SI91X-14592

**System**

- None

**Recommendations**

**System**

- The current revision of SiWx917 B0 has:
  - RAM memory of 672k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_672K\_M4SS\_0K- This mode configures TA with 672k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By default EXT\_FEAT\_352K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_480K\_M4SS\_192K - This mode configures TA with 480k and M4 with 192K bytes of memory
    - EXT\_FEAT\_416K\_M4SS\_256K - This mode configures TA with 416k and M4 with 256K bytes of memory
    - EXT\_FEAT\_352K\_M4SS\_320K - This mode configures TA with 352k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 672K\_M4SS\_0K.
  - SoC mode should not use 672k\_M4SS\_0k memory configuration.
- Set the recommended Power Save Profile (PSP) type to Enhanced Max PSP.

**IDE**

- Download the latest Simplicity Studio (SV5.7.0.1)
- Refer to the latest version of the SoC/NCP "Getting-Started-with-SiWx917" guide for more details

**Wi-Fi & Network Stack****

- The recommended embedded MQTT Publish payload is 1 kBytes.
- It is recommended to enable bit 16 of the 'Extended TCP IP Feature' bit map in the opermode command for all Wi-Fi Socket operations from the host to ensure graceful handling during asynchronous closures from the peer.
- Aggregation (bit 2 of feature\_bit\_map) is recommended to be enabled in opermode. This enables software to aggregate multiple packets to achieve better throughput
- TCP retransmission count value is recommended to be 30 or higher so that the TCP does not disconnect while the rejoin happens.
- To restart the module, the application needs to call sl\_wifi\_deinit() followed by sl\_wifi\_init().
- Register 'Join Fail Callback' function every time when join is called, as in the rejoin failure path the callback is deregistered. If not done, this might result in a scan not functioning on rejoin failure.
- User can enable SL\_SI91X\_EXT\_TCP\_IP\_SSL\_16K\_RECORD in 'Extended TCP IP Feature'bit map in opermode, if HTTPS download is failing after receiving HTTP headers..
- iTWT setup is recommended after IP assignment/TCP connection/application specific socket connections.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, increase TCP / ARP Timeouts at the remote side depending upon the configured TWT interval configured.
- In case of TWT+coex, when using sl\_wifi\_enable\_target\_wakeup\_time API, use TWT wake duration <= 16 ms and TWT wake interval >= 1 sec. If wake duration > 16 ms or TWT wake interval < 1sec, there might be performance issues.
- For iTWT GTK Interval Should be kept max possible value or zero. If GTK interval is not configurable, recommended TWT interval (in case of sl\_wifi\_enable\_target\_wakeup\_time API) or RX Latency (in case of sl\_wifi\_target\_wake\_time\_auto\_selection API) is less than 4sec.
- Disable Power Save for High Throughput Applications.
- The application needs to ensure that it sets RTC with the correct timestamp when the feature is enabled before establishing the SSL connection.
- The timeout value should not be less than 1 second for socket select and socket receive calls. Timeout value of less than 1 second is not currently supported.
- When sl\_wifi\_enable\_target\_wakeup\_time API is used, configuring TWT Wake interval beyond 1 min might lead to disconnections from the AP. Recommended to use TWT wakeup interval of less than or equal to 1 min.
- Embedded MQTT keep alive interval should be either 0 or a value greater than 35 seconds.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, it is recommended to set missed\_beacon\_count of sl\_wifi\_set\_advanced\_client\_configuration API greater than 2 times of the configured TWT Interval.
- Disable power save and suspend any active TWT sessions before triggering HTTP OTAF.
- It is recommended to enable bit 31 of the 'TCP IP Feature' bit map in the opermode command to support multicast protocol

**BLE**

- In BLE, the recommended range of Connection Interval in
  - Power Save (BLE Only) - 100 ms to 1.28 s.
- In BLE, during Connection, the configuration of Scan Interval and Scan Window with the same value is not recommended. The suggested ratio of Scan Window to Scan Interval is 3:4.
- In BLE, if a device is acting as Central, the scan window (in set\_scan\_params and create\_connection commands) must be less than the existing Connection Interval. The suggested ratio of Scan Window to Connection Interval is 2:3.
- In BLE mode, if scanning and advertising are in progress on the SiWx91x module and it subsequently gets connected and moves to the central role, scanning stops else if it moves to the peripheral role, advertising stops. To further establish a connection to another peripheral device or to a central device, the application should give a command for starting advertising and scanning again.

**Co-Existence**

- For concurrent Wi-Fi + BLE, and while a Wi-Fi connection is active, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
- Wi-Fi + BLE Advertising
  - All standard advertising intervals are supported. As Wi-Fi throughput is increased, a slight difference in on-air advertisements compared to configured intervals may be observed.
  - BLE advertising is skipped if the advertising interval collides with Wi-Fi activity.
- Wi-Fi + BLE scanning
  - All standard scan intervals are supported. For better scan results, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
  - BLE scanning will be stopped for intervals that collide with Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Connections
  - All standard connection intervals are supported.
  - For a stable connection, use optimal connection intervals and max supervision timeout in the presence of Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Data Transfer
  - To achieve higher throughput for both Wi-Fi and BLE, use medium connection intervals, such as 45 to 80 ms with maximum supervision timeout.
  - Ensure Wi-Fi activity consumes lower intervals.

**Known Issues**

**Sensorhub**

- Support for ADC FIFO Mode and Multi channel is open
- Support for ADC Powersave is open
- PS1-state supports only ADC sensor

**Network Stack**

- Sometimes during SSL Handshake, ECC curve parameters generated are wrong, resulting in connection failure with BBD2 error. However, this recovers in the next attempt.
- Randomize the client port if using rapid connect/disconnect of the MQTT session on the same client port with the power save.
- Secure SSL renegotiation not supported in Embedded Networking Stack.

**Wi-Fi**

- TWT device (STA) may not go to sleep in between TWT intervals in case of burst data traffics with data size more than the configured 'average tx throughput', until completion of data transfer.
- There are performance and IOP issues with MU MIMO.
- WPA3 Connection with the Hunting and Pecking algorithm takes about 3-4 seconds.
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.
- Low Wi-Fi+BLE throughput
- TCP/UDP TX/RX Data stall observed in CoEx scenarios
- Observed HTTPS Continuous download fails with TA Power save
- Performance improvements are in progress for lower performance metrics.
- Observed interop issue (connectivity failure) with few AP's when device reset/reboot happens on active connection.
- In concurrent mode, AP restart fails after stopping it with ap\_stop command.
- DUT deep sleep will not work after stopping AP with ap\_stop command.
- Unable to get SNTP async events when coex mode and Power save is enabled
- Fine Tuning 802.11ax Spectral mask in Progress
- Fine Tuning 11b mask in Ch11 in progress
- DUT is unable to connect to the AP with WPA3 security when we enable coex mode (WLAN+BLE) in opermode
- Socket listen API is failing from the second iteration
- Disconnections observed with Netgear RAX120 AP in WPA3 security
- Observed connection failures with some AP's in more channel congestion open lab environment

**BLE**

- HID profile data transfer is not working, when power save is enabled in SoC.
- BLE reconnection is not working in ble_multiconnection_gatt demo, when power save is enabled in SoC

**Co-Existence**

- Observed HTTP continuous download is not happening in Powersave mode after BLE connection established using wifi\_https\_ble\_dual\_role application
- Observed DUT hang while Wi-Fi UDP Tx and BLE continuous scan run for long time.

**System**

- None

**MCU**

- Refer to the respective Radio board user guides for specific pinout details. Examples are targeted to a specific version mentioned in the respective readme.
- Few peripherals like WDT when configured with RO clock is not working as expected. No impact on the feature but the clocks are not accurate.
- ADC Differential mode is not working as expected if negative input value set above 2.4V.
- Few(BOD, Comparator and SysRTC) wakeup resources are not working as expected in Power manager service.
- Observed expected RO and BJT Temperature values only on calibrated FW18 boards.
- Force generate is required in order to generate pin_config.h from the Pin tool because Simplicity Studio's generate option isn't functioning in current version.

**Limitations and Unsupported Features**

**Wi-Fi/Network Stack**

- TLS 1.3 Server is not supported
- In AP mode, IPv6 Router Advertisements are not supported. Although STA connected to the APUT can transfer IPv6 data to the peers by using SLAAC for address configuration.
- When sl\_wifi\_enable\_target\_wake\_time() API is used, observed occasional MQTT disconnections with longer TWT intervals (>30secs) with embedded MQTT + TWT.
- AMSDU TX is not supported.
- Fragmentation is not supported.
- AMSDUs within AMPDU is not supported.
- Currently, the module does not support Radio Measurement Requests feature of CCX V2
- 802.11k is not supported
- 40 MHz bandwidth for 2.4 GHz band is not supported.
- 802.11J channel 14 is not supported.
- MQTT versions 3 and 4 are supported.
- Maximum of 3 SSL connections are supported in Wi-Fi alone mode.
- In SSL ECC Curve ID supported is 23. SSL handshake with 3rd party clients depends on the SSL ECC Curve ID.
- LP mode is not supported.
- In iTWT mode, downlink data traffic should be limited. Disconnections may be observed if AP fails to send all the buffered data in the next TWT Service Period.
- Number of MBSSIDs processed is limited by the beacon length that can be processed by the stack (which is limited to 1024 bytes). Beacons greater than 1024 Bytes in length will not be processed.
- CoEx + EAP Security in 352K/320k is not feasible. This issue is observed due to a lack of memory in the 352k/320k Memory Configuration. It is supported with other EXT\_FEAT\_416K\_M4SS\_256K and EXT\_FEAT\_480K\_M4SS\_192K memory configurations.
- UL MUMIMO is not supported.
- The embedded HTTP server is not supported.
- Baremetal is not supported.
- Compared to SoC mode, NCP mode has fewer examples, but more will be enabled in upcoming releases.
- Maximum Supported length for Embedded MQTT username up to 120 bytes , topic length up to 200 bytes and password upto 62 bytes.
- UART 2 Debug prints are supported only on ULP_GPIO_9.
- WOW LAN feature is not supported.
- SA Query procedure is not supported in AP mode.
- Maximum Supported length for HTTP GET URL is up to 2048 bytes.
- Azure SDK with embedded MQTT is not supported.

**BLE**

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.
- BLE TX/RX throughput is less when tested with EFM as compared to EFR
- Maximum supported AE data length is 200 bytes.
- Supports only two ADV\_EXT sets.
- Supports only two BLE connections (1 Central and 1 Peripheral) with AE.
- Advertising Extension feature is not supported in Coexistence.
- The  ae\_central & ae\_peripheral applications are not supported with TA\_352K\_M4\_320K RAM configuration.
- Setting PLL mode as 1 is not supported in Coexistence

**MCU**

- ULP Peripherals examples configurations are for RAM-based execution, as flash is powered off in ULP Mode.
- On 4338a board, two I2C instances(I2C1 and I2C2) are using same GPIOs, so support is not there for using two I2C instances simultaneously.
- I2C High speed and Fastplus mode not working at specifications speed.
- Manual chip select option is not supported when using GSPI.
- SSI Dual and Quad mode is not working as expected.
- ULP SSI wakeup source is not working as expected.
- SPI sensor will not work in the Sensor HUB application.
- For ADC Multichannel sampling rate is limited to less than 15Ksps, number of samples is less than 500 and with a maximum of 4 channel

**Simplicity Studio and Commander**

- Default GDB debug configuration is not supported for SoC projects, work around details provided in "Getting-Started-with-SiWx917"
- Observing flash download failures(ERROR 108) for a few image sizes
- While creating project through Simplicity Studio, "copy contents" option not supported.
- Simplicity commander does not support options under "Debug Lock tools" .
- All projects in the package are compatible with GCC 10.3.1 version.

**Terminology**

|**Term**|**Description**|
| :- | :- |
|**New Features**|These items are new to this release|
|**Changes/Issues Fixed**|Changes made to existing features found in previous software releases.|
||Enhancements to existing product flow and feature set.|
||Bug fixes done in the release|
|**Deprecated Items**|Features or functions or APIs that are removed from the distributed release to align with the software roadmap|
|**Known Issues**|Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases|
|**Limitations/Recommendations**|Describes the limitations on product usage and recommendations for optimal use cases|

**Note**

- Change SPI frequency to 12.5Mhz while measuring BLE throughput with EFR32

<br>

**WiSeConnect3\_SDK\_3.1.3-rc2 Release Notes**

This SDK package supports SoC Mode and NCP Mode for B0:

- In SoC Mode: Customer applications can run on Cortex M4. Wireless, network, and security stacks run on the wireless subsystem.
- In NCP mode: Wireless, network, and security stacks run on the Wireless subsystem. Customer applications run on the external host MCU.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

**Note**: Use Simplicity Studio version SV5.7.0.1 onwards

**SoC Highlights**

- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support ultra low power Wi-Fi standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode
- **MCU examples** : GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers, Config Timers, ULP (Ultra Low Power) Timers, Sleeptimer, IOSTREAM, NVM3, MEMLCD, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, ML Blinky, Sensorhub, Joystick and Relative Humidity and Temparature sensor(RHT).
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE whitelisting, and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack, All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS client
- **IDE** : Simplicity Studio with Windows 10(64-bit), Linux, Mac OS
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** :
  - Si-MB4002A Main board
  - SiWx917 Radio boards

|**RadioBoard Type**|**SiWx917B0 with Board Version**|
| :- | :- |
|Common flash|-|
|Common flash|Si917-BRD4338A(2.0)|
|Dual flash|Si917-BRD4339B(2.0)|
|External PSRAM|Si917-BRD4340A(2.0)|

**NCP Highlights**

- **Host Interface** : SPI
- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode.
- **Wi-Fi** : 2.4GHz Wi-Fi Support, WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE Whitelisting and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack , BLE Stack , All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS Client.
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **Hardware kits to evaluate NCP Mode**
  - NCP EFR Expansion Kit with NCP Radio board (BRD4338A(NCP MBR) + BRD8045A)
  - Wireless Pro kit Mainboard BRD4002A Rev A06
  - EFR32xG24 Wireless 2.4 GHz +10 dBm Radio Board xG24-RB4186C

**Release Details**

|**Item**|**Details**|
| :- | :- |
|Release date|Jan 22th, 2024|
|SDK Version|3\.1.3-rc2|
|Firmware Version|1711\.2.10.1.2.0.2|
|Package Name|WiSeConnect3\_SDK\_3.1.3-rc2|
|Supported RTOS|FreeRTOS|
|Operating Modes Supported|Wi-Fi STA, Wi-Fi AP, Wi-Fi STA+BLE, Wi-Fi STA+AP|
|Build Quality|GA|

- SiWx917 release consists of two components
  - Wireless Firmware - SiWx917 Firmware Binaries
  - Wiseconnect3 Library - Wiseconnect3 SDK library runs on the external host in NCP mode and internal Cortex M4 in SoC Mode.
- This release is meant only for use with designs based on SiWx917 Silicon
- The firmware to load in your design are available in the following format:
  - SiWG917-B.2.10.1.x.0.x.rps - B0 Full-featured firmware binary

**Features Supported**

**Sensorhub service**

- Support for ADC, SPI and I2C based sensors
- Support for PS2 and sleep wakeups
- SoC OPN based project support in SSv5
  - List of OPN's supported si917-sb00, siwg917m111mgtba, siwg917m100mgtba, siwg917m111xgtba, siwg917m100xntba, siwg917m121xgtba, siwg917m110lgtba and siwg917m141xgtba
- ML blink and Model Profiler support

**MCU**

- ADC Single Channel, ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, GPIO, I2C, I2S, NVM3, OPAMP, PSRAM, PWM, QEI, RTC, SDIO Secondary, SPI Master and Slave, UART, Micro DMA, USART, Watchdog Timer, RO Temperature Sensor, USART Master and Slave
- UC Supported Peripherals - GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers , Config Timers, ULP (Ultra Low Power) Timers, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, MEMLCD.
- Services - Sleeptimer, IOSTREAM, NVM3 and Power Manager.
- ULP (Ultra Low Power) Peripherals - ulp\_gpio, ulp\_adc ulp\_i2c, ulp\_i2s, ulp\_ir\_decoder, ulp\_spi, ulp\_timer, ulp\_uart, ulp\_udma

**Wi-Fi**

- WPA2/WPA3 Personal, WPS and WPA2-EAP Support for Station Mode
- TCP/IP stack with IPv4, IPv6, TCP, UDP, TLS, HTTP/HTTPS, DHCPv4, DHCPv6, MQTT Client, DNS Client, SNTP client.
- Support for SSL client versions TLSV1.0, TLSV1.2, TLSV1.3 and SSL server versions TLSV1.0 and TLSV1.2
- Wi-Fi STA (802.11n/802.11ax) + 802.11n AP Support
- HE (802.11ax) and Individual TWT Feature Support
- Multiple BSSID feature support as an STA
- Secure OTA support on B0 radio boards.
- Support for LWIP network stack
- Support for AWS MQTT library
- Support for BSD and IoT sockets application programming interface(API)

**Bluetooth Low Energy**

- BLE central & peripheral connections are supported.
- Ultra-low power save is supported.

**Power Save**

- Max PSP, enhanced MAX PSP, Fast PSP, and 802.11ax TWT power save modes are supported in WiFi.
- Only Max PSP power save mode is supported in BLE

**Crypto Support**

- AES, SHA, AES-CCM, HMAC, GCM, Chacha-poly, ECDH and TRNG FW Crypto API support added.
- PSA enabled Mbed TLS support added
- NVM support added for key storage
- Symmetric and asymmetric key storage
- TRNG, AES, SHA, HMAC, GCM, Chacha-poly, ECDH and AES-CCM hardware crypto engine is integrated with PSA crypto.

**Changes and Fixes**

**SDK**

- None

**MCU**

- Provided support for handling multiple uart_instance.
- Provided support for async read and write API for UART.
- Updated uDMA prototype APIs for UART peripheral.

**Wi-Fi**

- Added Azure Freertos middleware SDK Support and Azure MQTT Example
- Port API to get epoch time
- Updated prototype certs for aws
- SQA Bugs - SI91X-14797

**BLE**

- Fixed the issue where connectable directed advertising exited without establishing a connection with the central device.

**CoEx**

- Readme updated for wlan station ble provisioning with aws
- SQA Bugs - SI91X-14816

**System**

- None

**Recommendations**

**System**

- The current revision of SiWx917 B0 has:
  - RAM memory of 672k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_672K\_M4SS\_0K- This mode configures TA with 672k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By default EXT\_FEAT\_352K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_480K\_M4SS\_192K - This mode configures TA with 480k and M4 with 192K bytes of memory
    - EXT\_FEAT\_416K\_M4SS\_256K - This mode configures TA with 416k and M4 with 256K bytes of memory
    - EXT\_FEAT\_352K\_M4SS\_320K - This mode configures TA with 352k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 672K\_M4SS\_0K.
  - SoC mode should not use 672k\_M4SS\_0k memory configuration.
- Set the recommended Power Save Profile (PSP) type to Enhanced Max PSP.

**IDE**

- Download the latest Simplicity Studio (SV5.7.0.1)
- Refer to the latest version of the SoC/NCP "Getting-Started-with-SiWx917" guide for more details

**Wi-Fi & Network Stack****

- The recommended embedded MQTT Publish payload is 1 kBytes.
- It is recommended to enable bit 16 of the 'Extended TCP IP Feature' bit map in the opermode command for all Wi-Fi Socket operations from the host to ensure graceful handling during asynchronous closures from the peer.
- Aggregation (bit 2 of feature\_bit\_map) is recommended to be enabled in opermode. This enables software to aggregate multiple packets to achieve better throughput
- TCP retransmission count value is recommended to be 30 or higher so that the TCP does not disconnect while the rejoin happens.
- To restart the module, the application needs to call sl\_wifi\_deinit() followed by sl\_wifi\_init().
- Register 'Join Fail Callback' function every time when join is called, as in the rejoin failure path the callback is deregistered. If not done, this might result in a scan not functioning on rejoin failure.
- User can enable SL\_SI91X\_EXT\_TCP\_IP\_SSL\_16K\_RECORD in 'Extended TCP IP Feature'bit map in opermode, if HTTPS download is failing after receiving HTTP headers..
- iTWT setup is recommended after IP assignment/TCP connection/application specific socket connections.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, increase TCP / ARP Timeouts at the remote side depending upon the configured TWT interval configured.
- In case of TWT+coex, when using sl\_wifi\_enable\_target\_wakeup\_time API, use TWT wake duration <= 16 ms and TWT wake interval >= 1 sec. If wake duration > 16 ms or TWT wake interval < 1sec, there might be performance issues.
- For iTWT GTK Interval Should be kept max possible value or zero. If GTK interval is not configurable, recommended TWT interval (in case of sl\_wifi\_enable\_target\_wakeup\_time API) or RX Latency (in case of sl\_wifi\_target\_wake\_time\_auto\_selection API) is less than 4sec.
- Disable Power Save for High Throughput Applications.
- The application needs to ensure that it sets RTC with the correct timestamp when the feature is enabled before establishing the SSL connection.
- The timeout value should not be less than 1 second for socket select and socket receive calls. Timeout value of less than 1 second is not currently supported.
- When sl\_wifi\_enable\_target\_wakeup\_time API is used, configuring TWT Wake interval beyond 1 min might lead to disconnections from the AP. Recommended to use TWT wakeup interval of less than or equal to 1 min.
- Embedded MQTT keep alive interval should be either 0 or a value greater than 35 seconds.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, it is recommended to set missed\_beacon\_count of sl\_wifi\_set\_advanced\_client\_configuration API greater than 2 times of the configured TWT Interval.
- Disable power save and suspend any active TWT sessions before triggering HTTP OTAF.
- It is recommended to enable bit 31 of the 'TCP IP Feature' bit map in the opermode command to support multicast protocol

**BLE**

- In BLE, the recommended range of Connection Interval in
  - Power Save (BLE Only) - 100 ms to 1.28 s.
- In BLE, during Connection, the configuration of Scan Interval and Scan Window with the same value is not recommended. The suggested ratio of Scan Window to Scan Interval is 3:4.
- In BLE, if a device is acting as Central, the scan window (in set\_scan\_params and create\_connection commands) must be less than the existing Connection Interval. The suggested ratio of Scan Window to Connection Interval is 2:3.
- In BLE mode, if scanning and advertising are in progress on the SiWx91x module and it subsequently gets connected and moves to the central role, scanning stops else if it moves to the peripheral role, advertising stops. To further establish a connection to another peripheral device or to a central device, the application should give a command for starting advertising and scanning again.

**Co-Existence**

- For concurrent Wi-Fi + BLE, and while a Wi-Fi connection is active, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
- Wi-Fi + BLE Advertising
  - All standard advertising intervals are supported. As Wi-Fi throughput is increased, a slight difference in on-air advertisements compared to configured intervals may be observed.
  - BLE advertising is skipped if the advertising interval collides with Wi-Fi activity.
- Wi-Fi + BLE scanning
  - All standard scan intervals are supported. For better scan results, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
  - BLE scanning will be stopped for intervals that collide with Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Connections
  - All standard connection intervals are supported.
  - For a stable connection, use optimal connection intervals and max supervision timeout in the presence of Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Data Transfer
  - To achieve higher throughput for both Wi-Fi and BLE, use medium connection intervals, such as 45 to 80 ms with maximum supervision timeout.
  - Ensure Wi-Fi activity consumes lower intervals.

**Known Issues**

**Sensorhub**

- Support for ADC FIFO Mode and Multi channel is open
- Support for ADC Powersave is open
- PS1-state supports only ADC sensor

**Network Stack**

- Sometimes during SSL Handshake, ECC curve parameters generated are wrong, resulting in connection failure with BBD2 error. However, this recovers in the next attempt.
- Randomize the client port if using rapid connect/disconnect of the MQTT session on the same client port with the power save.
- Secure SSL renegotiation not supported in Embedded Networking Stack.

**Wi-Fi**

- TWT device (STA) may not go to sleep in between TWT intervals in case of burst data traffics with data size more than the configured 'average tx throughput', until completion of data transfer.
- There are performance and IOP issues with MU MIMO.
- WPA3 Connection with the Hunting and Pecking algorithm takes about 3-4 seconds.
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.
- Low Wi-Fi+BLE throughput
- TCP/UDP TX/RX Data stall observed in CoEx scenarios
- Observed HTTPS Continuous download fails with TA Power save
- Performance improvements are in progress for lower performance metrics.
- Observed interop issue (connectivity failure) with few AP's when device reset/reboot happens on active connection.
- In concurrent mode, AP restart fails after stopping it with ap\_stop command.
- DUT deep sleep will not work after stopping AP with ap\_stop command.
- Unable to get SNTP async events when coex mode and Power save is enabled
- Fine Tuning 802.11ax Spectral mask in Progress
- Fine Tuning 11b mask in Ch11 in progress
- DUT is unable to connect to the AP with WPA3 security when we enable coex mode (WLAN+BLE) in opermode
- Socket listen API is failing from the second iteration
- Disconnections observed with Netgear RAX120 AP in WPA3 security
- Observed connection failures with some AP's in more channel congestion open lab environment

**BLE**

- HID profile data transfer is not working, when power save is enabled in SoC.
- BLE reconnection is not working in ble_multiconnection_gatt demo, when power save is enabled in SoC

**Co-Existence**

- Observed HTTP continuous download is not happening in Powersave mode after BLE connection established using wifi\_https\_ble\_dual\_role application
- Observed DUT hang while Wi-Fi UDP Tx and BLE continuous scan run for long time.

**System**

- None

**MCU**

- Refer to the respective Radio board user guides for specific pinout details. Examples are targeted to a specific version mentioned in the respective readme.
- Few peripherals like WDT when configured with RO clock is not working as expected. No impact on the feature but the clocks are not accurate.
- ADC Differential mode is not working as expected if negative input value set above 2.4V.
- Few(BOD, Comparator and SysRTC) wakeup resources are not working as expected in Power manager service.
- RO Temperature sensor readings are not linear and observing more difference between expected and resulted readings.

**Limitations and Unsupported Features**

**Wi-Fi/Network Stack**

- TLS 1.3 Server is not supported
- In AP mode, IPv6 Router Advertisements are not supported. Although STA connected to the APUT can transfer IPv6 data to the peers by using SLAAC for address configuration.
- When sl\_wifi\_enable\_target\_wake\_time() API is used, observed occasional MQTT disconnections with longer TWT intervals (>30secs) with embedded MQTT + TWT.
- AMSDU TX is not supported.
- Fragmentation is not supported.
- AMSDUs within AMPDU is not supported.
- Currently, the module does not support Radio Measurement Requests feature of CCX V2
- 802.11k is not supported
- 40 MHz bandwidth for 2.4 GHz band is not supported.
- 802.11J channel 14 is not supported.
- MQTT versions 3 and 4 are supported.
- Maximum of 3 SSL connections are supported in Wi-Fi alone mode.
- In SSL ECC Curve ID supported is 23. SSL handshake with 3rd party clients depends on the SSL ECC Curve ID.
- LP mode is not supported.
- In iTWT mode, downlink data traffic should be limited. Disconnections may be observed if AP fails to send all the buffered data in the next TWT Service Period.
- Number of MBSSIDs processed is limited by the beacon length that can be processed by the stack (which is limited to 1024 bytes). Beacons greater than 1024 Bytes in length will not be processed.
- CoEx + EAP Security in 352K/320k is not feasible. This issue is observed due to a lack of memory in the 352k/320k Memory Configuration. It is supported with other EXT\_FEAT\_416K\_M4SS\_256K and EXT\_FEAT\_480K\_M4SS\_192K memory configurations.
- UL MUMIMO is not supported.
- The embedded HTTP server is not supported.
- Baremetal is not supported.
- Compared to SoC mode, NCP mode has fewer examples, but more will be enabled in upcoming releases.
- Maximum username, topic length and password supported is 62 bytes for embedded MQTT.
- UART 2 Debug prints are supported only on ULP_GPIO_9
- WOW LAN feature is not supported

**BLE**

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.
- BLE TX/RX throughput is less when tested with EFM as compared to EFR
- Maximum supported AE data length is 200 bytes.
- Supports only two ADV\_EXT sets.
- Supports only two BLE connections (1 Central and 1 Peripheral) with AE.
- Advertising Extension feature is not supported in Coexistence.
- The  ae\_central & ae\_peripheral applications are not supported with TA\_352K\_M4\_320K RAM configuration.
- Setting PLL mode as 1 is not supported in Coexistence

**MCU**

- ULP Peripherals examples configurations are for RAM-based execution, as flash is powered off in ULP Mode.
- On 4338a board, two I2C instances(I2C1 and I2C2) are using same GPIOs, so support is not there for using two I2C instances simultaneously.
- I2C High speed and Fastplus mode not working at specifications speed.
- Manual chip select option is not supported when using GSPI.
- SSI Dual and Quad mode is not working as expected.
- ULP SSI wakeup source is not working as expected.
- SPI sensor will not work in the Sensor HUB application.
- For ADC Multichannel sampling rate is limited to less than 15Ksps, number of samples is less than 500 and with a maximum of 4 channel

**Simplicity Studio and Commander**

- Default GDB debug configuration is not supported for SoC projects, work around details provided in "Getting-Started-with-SiWx917"
- Observing flash download failures(ERROR 108) for a few image sizes
- While creating project through Simplicity Studio, "copy contents" option not supported.
- Simplicity commander does not support options under "Debug Lock tools" .
- All projects in the package are compatible with GCC 10.3.1 version.

**Terminology**

|**Term**|**Description**|
| :- | :- |
|**New Features**|These items are new to this release|
|**Changes/Issues Fixed**|Changes made to existing features found in previous software releases.|
||Enhancements to existing product flow and feature set.|
||Bug fixes done in the release|
|**Deprecated Items**|Features or functions or APIs that are removed from the distributed release to align with the software roadmap|
|**Known Issues**|Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases|
|**Limitations/Recommendations**|Describes the limitations on product usage and recommendations for optimal use cases|

**Note**

- Change SPI frequency to 12.5Mhz while measuring BLE throughput with EFR32

<br>

**WiSeConnect3\_SDK\_3.1.3-rc1 Release Notes**

This SDK package supports SoC Mode and NCP Mode for B0:

- In SoC Mode: Customer applications can run on Cortex M4. Wireless, network, and security stacks run on the wireless subsystem.
- In NCP mode: Wireless, network, and security stacks run on the Wireless subsystem. Customer applications run on the external host MCU.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

**Note**: Use Simplicity Studio version SV5.7.0.1 onwards

**SoC Highlights**

- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support ultra low power Wi-Fi standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode
- **MCU examples** : GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers, Config Timers, ULP (Ultra Low Power) Timers, Sleeptimer, IOSTREAM, NVM3, MEMLCD, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, ML Blinky, Sensorhub, Joystick and Relative Humidity and Temparature sensor(RHT).
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE whitelisting, and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack, All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS client
- **IDE** : Simplicity Studio with Windows 10(64-bit), Linux, Mac OS
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** :
  - Si-MB4002A Main board
  - SiWx917 Radio boards

|**RadioBoard Type**|**SiWx917B0 with Board Version**|
| :- | :- |
|Common flash|-|
|Common flash|Si917-BRD4338A(2.0)|
|Dual flash|-|
|External PSRAM|Si917-BRD4340A(2.0)|

**NCP Highlights**

- **Host Interface** : SPI
- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode.
- **Wi-Fi** : 2.4GHz Wi-Fi Support, WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE Whitelisting and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack , BLE Stack , All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS Client.
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **Hardware kits to evaluate NCP Mode**
  - NCP EFR Expansion Kit with NCP Radio board (BRD4338A(NCP MBR) + BRD8045A)
  - Wireless Pro kit Mainboard BRD4002A Rev A06
  - EFR32xG24 Wireless 2.4 GHz +10 dBm Radio Board xG24-RB4186C

**Release Details**

|**Item**|**Details**|
| :- | :- |
|Release date|Jan 16th, 2024|
|SDK Version|3\.1.3-rc1|
|Firmware Version|1711\.2.10.1.2.0.1|
|Package Name|WiSeConnect3\_SDK\_3.1.3-rc1|
|Supported RTOS|FreeRTOS|
|Operating Modes Supported|Wi-Fi STA, Wi-Fi AP, Wi-Fi STA+BLE, Wi-Fi STA+AP|
|Build Quality|GA|

- SiWx917 release consists of two components
  - Wireless Firmware - SiWx917 Firmware Binaries
  - Wiseconnect3 Library - Wiseconnect3 SDK library runs on the external host in NCP mode and internal Cortex M4 in SoC Mode.
- This release is meant only for use with designs based on SiWx917 Silicon
- The firmware to load in your design are available in the following format:
  - SiWG917-B.2.10.1.x.0.x.rps - B0 Full-featured firmware binary

**Features Supported**

**Sensorhub service**

- Support for ADC, SPI and I2C based sensors
- Support for PS2 and sleep wakeups
- SoC OPN based project support in SSv5
  - List of OPN's supported si917-sb00, siwg917m111mgtba, siwg917m100mgtba, siwg917m111xgtba, siwg917m100xntba, siwg917m121xgtba, siwg917m110lgtba and siwg917m141xgtba
- ML blink and Model Profiler support

**MCU**

- ADC Single Channel, ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, GPIO, I2C, I2S, NVM3, OPAMP, PSRAM, PWM, QEI, RTC, SDIO Secondary, SPI Master and Slave, UART, Micro DMA, USART, Watchdog Timer, USART Master and Slave
- UC Supported Peripherals - GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers , Config Timers, ULP (Ultra Low Power) Timers, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, MEMLCD.
- Services - Sleeptimer, IOSTREAM, NVM3 and Power Manager.
- ULP (Ultra Low Power) Peripherals - ulp\_gpio, ulp\_adc ulp\_i2c, ulp\_i2s, ulp\_ir\_decoder, ulp\_spi, ulp\_timer, ulp\_uart, ulp\_udma

**Wi-Fi**

- WPA2/WPA3 Personal, WPS and WPA2-EAP Support for Station Mode
- TCP/IP stack with IPv4, IPv6, TCP, UDP, TLS, HTTP/HTTPS, DHCPv4, DHCPv6, MQTT Client, DNS Client, SNTP client.
- Support for SSL client versions TLSV1.0, TLSV1.2, TLSV1.3 and SSL server versions TLSV1.0 and TLSV1.2
- Wi-Fi STA (802.11n/802.11ax) + 802.11n AP Support
- HE (802.11ax) and Individual TWT Feature Support
- Multiple BSSID feature support as an STA
- Secure OTA support on B0 radio boards.
- Support for LWIP network stack
- Support for AWS MQTT library
- Support for BSD and IoT sockets application programming interface(API)

**Bluetooth Low Energy**

- BLE central & peripheral connections are supported.
- Ultra-low power save is supported.

**Power Save**

- Max PSP, enhanced MAX PSP, Fast PSP, and 802.11ax TWT power save modes are supported in WiFi.
- Only Max PSP power save mode is supported in BLE

**Crypto Support**

- AES, SHA, AES-CCM, HMAC, GCM, Chacha-poly, ECDH and TRNG FW Crypto API support added.
- PSA enabled Mbed TLS support added
- NVM support added for key storage
- Symmetric and asymmetric key storage
- TRNG, AES, SHA, HMAC, GCM, Chacha-poly, ECDH and AES-CCM hardware crypto engine is integrated with PSA crypto.

**Changes and Fixes**

**SDK**

- None

**MCU**

- Added wrap support for Side Band Crypto.
- Fixed warnings in crypto sample applications.
- Implements Basic Framework for side band crypto.
- Fixed ECDH public key format to denote uncompressed key.
- Modified readme of memlcd sample app.
- GSPI FIFIO threshold issue fixed.
- Adding slgpio layer to memlcd.
- Updated Pin configurations in readme files for peripheral examples.
- Post build step in wiseconnect needs to refer to .out file and not .axf.

**Wi-Fi**

- Support for higher LDMA transfer size.
- Added mDNS Feature.
- Wi-Fi Basic Transceiver(BTR) mode example on SDK 3.0.
- Disabled "Compile Docs" stage temporarily.
- Removed warnings from the psram driver api's.
- Combined automation result phase3.
- Unity Frame Work Test application as part of internal XML template for PSRAM driver validation.
- Removed the unwanted components from SLCP.
- Firmware update support from Host UART.
- Thread safety for HW accelerators.
- Increased the Topic length and username length size.
- Added support for TDI in AP mode.
- Application for HTTP_OTAF with TWT.
- Added Unit Testing for WiSeConnect 3 SDK.
- Implement beacon stop.
- Update korea region default configuration.
- Modify RSI_HT_CAPS_BIT_MAP to support 20MHz channel width only.
- Cleanup NCP interface.
- Enabling tcp ip bypass feature.
- Added information for PSRAM.
- Added feature flag for long ICMP packet support.
- SAPI changes to read sync timestamp from the application.
- Pre-processor symbols correction for STM32 WLAN Throughput example.
- Modified automation changes.
- Added support in SDK to set absolute power value in scan and join processes.
- Updated the test agent related code in development branch.
- Added check after calling recv API.
- Added new functions sl_si91x_set_fast_fw_up and sl_si91x_upgrade_firmware.
- Added support for a callback to get TCP remote terminate event.
- Added loop for server socket.
- SQA Bugs - SI91X-13902, SI91X-14628, SI91X-14391, SI91X-14627, SI91X-14673, SI91X-14392, SI91X-14456, SI91X-14376, SI91X-14516, SI91X-14432, SI91X-14507, Si91X-14480, SI91X-13665, SI91X-14782, SI91X-14632 SI91X-14097.

**BLE**

- Porting of BLE unified AE CoEx application for NCP and Added required header files to reslove compilations errors.
- Porting of ble_multiconnection_gatt_test application for NCP.
- SQA Bugs - SI91X-14772.

**CoEx**

- Cleanup RSI_WITH_OS Macro from BLE and Coex examples.
- Added Ncp support for wifi https ble dual role application.
- OOB unique MQTT Client ID fixes patch1 branch final.

**System**

- None

**Recommendations**

**System**

- The current revision of SiWx917 B0 has:
  - RAM memory of 672k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_672K\_M4SS\_0K- This mode configures TA with 672k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By default EXT\_FEAT\_352K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_480K\_M4SS\_192K - This mode configures TA with 480k and M4 with 192K bytes of memory
    - EXT\_FEAT\_416K\_M4SS\_256K - This mode configures TA with 416k and M4 with 256K bytes of memory
    - EXT\_FEAT\_352K\_M4SS\_320K - This mode configures TA with 352k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 672K\_M4SS\_0K.
  - SoC mode should not use 672k\_M4SS\_0k memory configuration.
- Set the recommended Power Save Profile (PSP) type to Enhanced Max PSP.

**IDE**

- Download the latest Simplicity Studio (SV5.7.0.1)
- Refer to the latest version of the SoC/NCP "Getting-Started-with-SiWx917" guide for more details

**Wi-Fi & Network Stack****

- The recommended embedded MQTT Publish payload is 1 kBytes.
- It is recommended to enable bit 16 of the 'Extended TCP IP Feature' bit map in the opermode command for all Wi-Fi Socket operations from the host to ensure graceful handling during asynchronous closures from the peer.
- Aggregation (bit 2 of feature\_bit\_map) is recommended to be enabled in opermode. This enables software to aggregate multiple packets to achieve better throughput
- TCP retransmission count value is recommended to be 30 or higher so that the TCP does not disconnect while the rejoin happens.
- To restart the module, the application needs to call sl\_wifi\_deinit() followed by sl\_wifi\_init().
- Register 'Join Fail Callback' function every time when join is called, as in the rejoin failure path the callback is deregistered. If not done, this might result in a scan not functioning on rejoin failure.
- User can enable SL\_SI91X\_EXT\_TCP\_IP\_SSL\_16K\_RECORD in 'Extended TCP IP Feature'bit map in opermode, if HTTPS download is failing after receiving HTTP headers..
- iTWT setup is recommended after IP assignment/TCP connection/application specific socket connections.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, increase TCP / ARP Timeouts at the remote side depending upon the configured TWT interval configured.
- In case of TWT+coex, when using sl\_wifi\_enable\_target\_wakeup\_time API, use TWT wake duration <= 16 ms and TWT wake interval >= 1 sec. If wake duration > 16 ms or TWT wake interval < 1sec, there might be performance issues.
- For iTWT GTK Interval Should be kept max possible value or zero. If GTK interval is not configurable, recommended TWT interval (in case of sl\_wifi\_enable\_target\_wakeup\_time API) or RX Latency (in case of sl\_wifi\_target\_wake\_time\_auto\_selection API) is less than 4sec.
- Disable Power Save for High Throughput Applications.
- The application needs to ensure that it sets RTC with the correct timestamp when the feature is enabled before establishing the SSL connection.
- The timeout value should not be less than 1 second for socket select and socket receive calls. Timeout value of less than 1 second is not currently supported.
- When sl\_wifi\_enable\_target\_wakeup\_time API is used, configuring TWT Wake interval beyond 1 min might lead to disconnections from the AP. Recommended to use TWT wakeup interval of less than or equal to 1 min.
- Embedded MQTT keep alive interval should be either 0 or a value greater than 35 seconds.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, it is recommended to set missed\_beacon\_count of sl\_wifi\_set\_advanced\_client\_configuration API greater than 2 times of the configured TWT Interval.
- Disable power save and suspend any active TWT sessions before triggering HTTP OTAF.
- It is recommended to enable bit 31 of the 'TCP IP Feature' bit map in the opermode command to support multicast protocol

**BLE**

- In BLE, the recommended range of Connection Interval in
  - Power Save (BLE Only) - 100 ms to 1.28 s.
- In BLE, during Connection, the configuration of Scan Interval and Scan Window with the same value is not recommended. The suggested ratio of Scan Window to Scan Interval is 3:4.
- In BLE, if a device is acting as Central, the scan window (in set\_scan\_params and create\_connection commands) must be less than the existing Connection Interval. The suggested ratio of Scan Window to Connection Interval is 2:3.
- In BLE mode, if scanning and advertising are in progress on the SiWx91x module and it subsequently gets connected and moves to the central role, scanning stops else if it moves to the peripheral role, advertising stops. To further establish a connection to another peripheral device or to a central device, the application should give a command for starting advertising and scanning again.

**Co-Existence**

- For concurrent Wi-Fi + BLE, and while a Wi-Fi connection is active, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
- Wi-Fi + BLE Advertising
  - All standard advertising intervals are supported. As Wi-Fi throughput is increased, a slight difference in on-air advertisements compared to configured intervals may be observed.
  - BLE advertising is skipped if the advertising interval collides with Wi-Fi activity.
- Wi-Fi + BLE scanning
  - All standard scan intervals are supported. For better scan results, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
  - BLE scanning will be stopped for intervals that collide with Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Connections
  - All standard connection intervals are supported.
  - For a stable connection, use optimal connection intervals and max supervision timeout in the presence of Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Data Transfer
  - To achieve higher throughput for both Wi-Fi and BLE, use medium connection intervals, such as 45 to 80 ms with maximum supervision timeout.
  - Ensure Wi-Fi activity consumes lower intervals.

**Known Issues**

**Sensorhub**

- Support for ADC FIFO Mode and Multi channel is open
- Support for ADC Powersave is open
- PS1-state supports only ADC sensor

**Network Stack**

- Sometimes during SSL Handshake, ECC curve parameters generated are wrong, resulting in connection failure with BBD2 error. However, this recovers in the next attempt.
- Randomize the client port if using rapid connect/disconnect of the MQTT session on the same client port with the power save.
- Secure SSL renegotiation not supported in Embedded Networking Stack.

**Wi-Fi**

- TWT device (STA) may not go to sleep in between TWT intervals in case of burst data traffics with data size more than the configured 'average tx throughput', until completion of data transfer.
- There are performance and IOP issues with MU MIMO.
- WPA3 Connection with the Hunting and Pecking algorithm takes about 3-4 seconds.
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.
- Low Wi-Fi+BLE throughput
- TCP/UDP TX/RX Data stall observed in CoEx scenarios
- Observed HTTPS Continuous download fails with TA Power save
- Performance improvements are in progress for lower performance metrics.
- Observed interop issue (connectivity failure) with few AP's when device reset/reboot happens on active connection.
- In concurrent mode, AP restart fails after stopping it with ap\_stop command.
- DUT deep sleep will not work after stopping AP with ap\_stop command.
- Unable to get SNTP async events when coex mode and Power save is enabled
- Fine Tuning 802.11ax Spectral mask in Progress
- Fine Tuning 11b mask in Ch11 in progress
- DUT is unable to connect to the AP with WPA3 security when we enable coex mode (WLAN+BLE) in opermode
- Socket listen API is failing from the second iteration
- Disconnections observed with Netgear RAX120 AP in WPA3 security
- Observed connection failures with some AP's in more channel congestion open lab environment

**BLE**

- HID profile data transfer is not working, when power save is enabled in SoC.
- BLE reconnection is not working in ble_multiconnection_gatt demo, when power save is enabled in SoC

**Co-Existence**

- Observed HTTP continuous download is not happening in Powersave mode after BLE connection established using wifi\_https\_ble\_dual\_role application
- Observed DUT hang while Wi-Fi UDP Tx and BLE continuous scan run for long time.

**System**

- None

**MCU**

- Refer to the respective Radio board user guides for specific pinout details. Examples are targeted to a specific version mentioned in the respective readme.
- Few peripherals like WDT when configured with RO clock is not working as expected. No impact on the feature but the clocks are not accurate.
- ADC Differential mode is not working as expected if negative input value set above 2.4V.
- Few(BOD, Comparator and SysRTC) wakeup resources are not working as expected in Power manager service.

**Limitations and Unsupported Features**

**Wi-Fi/Network Stack**

- TLS 1.3 Server is not supported
- In AP mode, IPv6 Router Advertisements are not supported. Although STA connected to the APUT can transfer IPv6 data to the peers by using SLAAC for address configuration.
- When sl\_wifi\_enable\_target\_wake\_time() API is used, observed occasional MQTT disconnections with longer TWT intervals (>30secs) with embedded MQTT + TWT.
- AMSDU TX is not supported.
- Fragmentation is not supported.
- AMSDUs within AMPDU is not supported.
- Currently, the module does not support Radio Measurement Requests feature of CCX V2
- 802.11k is not supported
- 40 MHz bandwidth for 2.4 GHz band is not supported.
- 802.11J channel 14 is not supported.
- MQTT versions 3 and 4 are supported.
- Maximum of 3 SSL connections are supported in Wi-Fi alone mode.
- In SSL ECC Curve ID supported is 23. SSL handshake with 3rd party clients depends on the SSL ECC Curve ID.
- LP mode is not supported.
- In iTWT mode, downlink data traffic should be limited. Disconnections may be observed if AP fails to send all the buffered data in the next TWT Service Period.
- Number of MBSSIDs processed is limited by the beacon length that can be processed by the stack (which is limited to 1024 bytes). Beacons greater than 1024 Bytes in length will not be processed.
- CoEx + EAP Security in 352K/320k is not feasible. This issue is observed due to a lack of memory in the 352k/320k Memory Configuration. It is supported with other EXT\_FEAT\_416K\_M4SS\_256K and EXT\_FEAT\_480K\_M4SS\_192K memory configurations.
- UL MUMIMO is not supported.
- The embedded HTTP server is not supported.
- Baremetal is not supported.
- Compared to SoC mode, NCP mode has fewer examples, but more will be enabled in upcoming releases.
- Maximum username, topic length and password supported is 62 bytes for embedded MQTT.
- UART 2 Debug prints are supported only on ULP_GPIO_9
- WOW LAN feature is not supported

**BLE**

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.
- BLE TX/RX throughput is less when tested with EFM as compared to EFR
- Maximum supported AE data length is 200 bytes.
- Supports only two ADV\_EXT sets.
- Supports only two BLE connections (1 Central and 1 Peripheral) with AE.
- Advertising Extension feature is not supported in Coexistence.
- The  ae\_central & ae\_peripheral applications are not supported with TA\_352K\_M4\_320K RAM configuration.
- Setting PLL mode as 1 is not supported in Coexistence

**MCU**

- ULP Peripherals examples configurations are for RAM-based execution, as flash is powered off in ULP Mode.
- On 4338a board, two I2C instances(I2C1 and I2C2) are using same GPIOs, so support is not there for using two I2C instances simultaneously.
- I2C High speed and Fastplus mode not working at specifications speed.
- Manual chip select option is not supported when using GSPI.
- SSI Dual and Quad mode is not working as expected.
- ULP SSI wakeup source is not working as expected.
- SPI sensor will not work in the Sensor HUB application.
- For ADC Multichannel sampling rate is limited to less than 15Ksps, number of samples is less than 500 and with a maximum of 4 channel

**Simplicity Studio and Commander**

- Default GDB debug configuration is not supported for SoC projects, work around details provided in "Getting-Started-with-SiWx917"
- Observing flash download failures(ERROR 108) for a few image sizes
- While creating project through Simplicity Studio, "copy contents" option not supported.
- Simplicity commander does not support options under "Debug Lock tools" .
- All projects in the package are compatible with GCC 10.3.1 version.

**Terminology**

|**Term**|**Description**|
| :- | :- |
|**New Features**|These items are new to this release|
|**Changes/Issues Fixed**|Changes made to existing features found in previous software releases.|
||Enhancements to existing product flow and feature set.|
||Bug fixes done in the release|
|**Deprecated Items**|Features or functions or APIs that are removed from the distributed release to align with the software roadmap|
|**Known Issues**|Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases|
|**Limitations/Recommendations**|Describes the limitations on product usage and recommendations for optimal use cases|

**Note**

- Change SPI frequency to 12.5Mhz while measuring BLE throughput with EFR32

<br>

**WiSeConnect3\_SDK\_3.1.2-rc2 Release Notes**

This SDK package supports SoC Mode and NCP Mode for B0:

- In SoC Mode: Customer applications can run on Cortex M4. Wireless, network, and security stacks run on the wireless subsystem.
- In NCP mode: Wireless, network, and security stacks run on the Wireless subsystem. Customer applications run on the external host MCU.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

**Note**: Use Simplicity Studio version SV5.7.0.1 onwards

**SoC Highlights**

- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support ultra low power Wi-Fi standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode
- **MCU examples** : GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers, Config Timers, ULP (Ultra Low Power) Timers, Sleeptimer, IOSTREAM, NVM3, MEMLCD, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, ML Blinky, Sensorhub, Joystick and Relative Humidity and Temparature sensor(RHT).
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE whitelisting, and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack, All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS client
- **IDE** : Simplicity Studio with Windows 10(64-bit), Linux, Mac OS
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** :
  - Si-MB4002A Main board
  - SiWx917 Radio boards

|**RadioBoard Type**|**SiWx917B0 with Board Version**|
| :- | :- |
|Common flash|-|
|Common flash|Si917-BRD4338A(2.0)|
|Dual flash|-|
|External PSRAM|Si917-BRD4340A(2.0)|

**NCP Highlights**

- **Host Interface** : SPI
- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode.
- **Wi-Fi** : 2.4GHz Wi-Fi Support, WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE Whitelisting and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack , BLE Stack , All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS Client.
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **Hardware kits to evaluate NCP Mode**
  - NCP EFR Expansion Kit with NCP Radio board (BRD4338A(NCP MBR) + BRD8045A)
  - Wireless Pro kit Mainboard BRD4002A Rev A06
  - EFR32xG24 Wireless 2.4 GHz +10 dBm Radio Board xG24-RB4186C

**Release Details**

|**Item**|**Details**|
| :- | :- |
|Release date|Jan 8th, 2024|
|SDK Version|3\.1.2-rc2|
|Firmware Version|1711\.2.10.1.0.0.10|
|Package Name|WiSeConnect3\_SDK\_3.1.2-rc2|
|Supported RTOS|FreeRTOS|
|Operating Modes Supported|Wi-Fi STA, Wi-Fi AP, Wi-Fi STA+BLE, Wi-Fi STA+AP|
|Build Quality|GA|

- SiWx917 release consists of two components
  - Wireless Firmware - SiWx917 Firmware Binaries
  - Wiseconnect3 Library - Wiseconnect3 SDK library runs on the external host in NCP mode and internal Cortex M4 in SoC Mode.
- This release is meant only for use with designs based on SiWx917 Silicon
- The firmware to load in your design are available in the following format:
  - SiWG917-B.2.10.1.0.0.x.rps - B0 Full-featured firmware binary

**Features Supported**

**Sensorhub service**

- Support for ADC, SPI and I2C based sensors
- Support for PS2 and sleep wakeups
- SoC OPN based project support in SSv5
  - List of OPN's supported si917-sb00, siwg917m111mgtba, siwg917m100mgtba, siwg917m111xgtba, siwg917m100xntba, siwg917m121xgtba, siwg917m110lgtba and siwg917m141xgtba
- ML blink and Model Profiler support

**MCU**

- ADC Single Channel, ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, GPIO, I2C, I2S, NVM3, OPAMP, PSRAM, PWM, QEI, RTC, SDIO Secondary, SPI Master and Slave, UART, Micro DMA, USART, Watchdog Timer, USART Master and Slave
- UC Supported Peripherals - GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers , Config Timers, ULP (Ultra Low Power) Timers, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, MEMLCD.
- Services - Sleeptimer, IOSTREAM, NVM3 and Power Manager.
- ULP (Ultra Low Power) Peripherals - ulp\_gpio, ulp\_adc ulp\_i2c, ulp\_i2s, ulp\_ir\_decoder, ulp\_spi, ulp\_timer, ulp\_uart, ulp\_udma

**Wi-Fi**

- WPA2/WPA3 Personal, WPS and WPA2-EAP Support for Station Mode
- TCP/IP stack with IPv4, IPv6, TCP, UDP, TLS, HTTP/HTTPS, DHCPv4, DHCPv6, MQTT Client, DNS Client, SNTP client.
- Support for SSL client versions TLSV1.0, TLSV1.2, TLSV1.3 and SSL server versions TLSV1.0 and TLSV1.2
- Wi-Fi STA (802.11n/802.11ax) + 802.11n AP Support
- HE (802.11ax) and Individual TWT Feature Support
- Multiple BSSID feature support as an STA
- Secure OTA support on B0 radio boards.
- Support for LWIP network stack
- Support for AWS MQTT library
- Support for BSD and IoT sockets application programming interface(API)

**Bluetooth Low Energy**

- BLE central & peripheral connections are supported.
- Ultra-low power save is supported.

**Power Save**

- Max PSP, enhanced MAX PSP, Fast PSP, and 802.11ax TWT power save modes are supported in WiFi.
- Only Max PSP power save mode is supported in BLE

**Crypto Support**

- AES, SHA, AES-CCM, HMAC, GCM, Chacha-poly, ECDH and TRNG FW Crypto API support added.
- PSA enabled Mbed TLS support added
- NVM support added for key storage
- Symmetric and asymmetric key storage
- TRNG, AES, SHA, HMAC, GCM, Chacha-poly, ECDH and AES-CCM hardware crypto engine is integrated with PSA crypto.

**Changes and Fixes**

**SDK**

- None

**MCU**

- SQA Bugs - SI91X-14515, SI91X-14639, SI91X-14294, SI91X-14298, SI91X-13999, SI91X-14092, SI91X-14686, SI91X-14230, SI91X-14389, SI91X-14667, SI91X-14301

**Wi-Fi**

- Updated version to 3.1.2
- API sl_wifi_get_sta_tsf added to get the station TSF time which is synchronized with connected AP beacon TSF.
- SQA Bugs - SI91X-14748, SI91X-14677, SI91X-14756

**BLE**

- Added “update_gain_table” demo in SOC & NCP
- Added an option to test user gain table feature in PER demo by enabling the “GAIN_TABLE_AND_MAX_POWER_UPDATE_ENABLE” macro
- Removed unused input parameters in rsi_ble_set_ble_tx_power() API.
- SQA Bugs - SI91X-14742, SI91X-14581

**CoEx**

- None

**System**

- None

**Recommendations**

**System**

- The current revision of SiWx917 B0 has:
  - RAM memory of 672k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_672K\_M4SS\_0K- This mode configures TA with 672k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By default EXT\_FEAT\_352K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_480K\_M4SS\_192K - This mode configures TA with 480k and M4 with 192K bytes of memory
    - EXT\_FEAT\_416K\_M4SS\_256K - This mode configures TA with 416k and M4 with 256K bytes of memory
    - EXT\_FEAT\_352K\_M4SS\_320K - This mode configures TA with 352k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 672K\_M4SS\_0K.
  - SoC mode should not use 672k\_M4SS\_0k memory configuration.
- Set the recommended Power Save Profile (PSP) type to Enhanced Max PSP.

**IDE**

- Download the latest Simplicity Studio (SV5.7.0.1)
- Refer to the latest version of the SoC/NCP "Getting-Started-with-SiWx917" guide for more details

**Wi-Fi & Network Stack****

- The recommended embedded MQTT Publish payload is 1 kBytes.
- It is recommended to enable bit 16 of the 'Extended TCP IP Feature' bit map in the opermode command for all Wi-Fi Socket operations from the host to ensure graceful handling during asynchronous closures from the peer.
- Aggregation (bit 2 of feature\_bit\_map) is recommended to be enabled in opermode. This enables software to aggregate multiple packets to achieve better throughput
- TCP retransmission count value is recommended to be 30 or higher so that the TCP does not disconnect while the rejoin happens.
- To restart the module, the application needs to call sl\_wifi\_deinit() followed by sl\_wifi\_init().
- Register 'Join Fail Callback' function every time when join is called, as in the rejoin failure path the callback is deregistered. If not done, this might result in a scan not functioning on rejoin failure.
- User can enable SL\_SI91X\_EXT\_TCP\_IP\_SSL\_16K\_RECORD in 'Extended TCP IP Feature'bit map in opermode, if HTTPS download is failing after receiving HTTP headers..
- iTWT setup is recommended after IP assignment/TCP connection/application specific socket connections.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, increase TCP / ARP Timeouts at the remote side depending upon the configured TWT interval configured.
- In case of TWT+coex, when using sl\_wifi\_enable\_target\_wakeup\_time API, use TWT wake duration <= 16 ms and TWT wake interval >= 1 sec. If wake duration > 16 ms or TWT wake interval < 1sec, there might be performance issues.
- For iTWT GTK Interval Should be kept max possible value or zero. If GTK interval is not configurable, recommended TWT interval (in case of sl\_wifi\_enable\_target\_wakeup\_time API) or RX Latency (in case of sl\_wifi\_target\_wake\_time\_auto\_selection API) is less than 4sec.
- Disable Power Save for High Throughput Applications.
- The application needs to ensure that it sets RTC with the correct timestamp when the feature is enabled before establishing the SSL connection.
- The timeout value should not be less than 1 second for socket select and socket receive calls. Timeout value of less than 1 second is not currently supported.
- When sl\_wifi\_enable\_target\_wakeup\_time API is used, configuring TWT Wake interval beyond 1 min might lead to disconnections from the AP. Recommended to use TWT wakeup interval of less than or equal to 1 min.
- Embedded MQTT keep alive interval should be either 0 or a value greater than 35 seconds.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, it is recommended to set missed\_beacon\_count of sl\_wifi\_set\_advanced\_client\_configuration API greater than 2 times of the configured TWT Interval.
- Disable power save and suspend any active TWT sessions before triggering HTTP OTAF.
- It is recommended to enable bit 31 of the 'TCP IP Feature' bit map in the opermode command to support multicast protocol

**BLE**

- In BLE, the recommended range of Connection Interval in
  - Power Save (BLE Only) - 100 ms to 1.28 s.
- In BLE, during Connection, the configuration of Scan Interval and Scan Window with the same value is not recommended. The suggested ratio of Scan Window to Scan Interval is 3:4.
- In BLE, if a device is acting as Central, the scan window (in set\_scan\_params and create\_connection commands) must be less than the existing Connection Interval. The suggested ratio of Scan Window to Connection Interval is 2:3.
- In BLE mode, if scanning and advertising are in progress on the SiWx91x module and it subsequently gets connected and moves to the central role, scanning stops else if it moves to the peripheral role, advertising stops. To further establish a connection to another peripheral device or to a central device, the application should give a command for starting advertising and scanning again.

**Co-Existence**

- For concurrent Wi-Fi + BLE, and while a Wi-Fi connection is active, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
- Wi-Fi + BLE Advertising
  - All standard advertising intervals are supported. As Wi-Fi throughput is increased, a slight difference in on-air advertisements compared to configured intervals may be observed.
  - BLE advertising is skipped if the advertising interval collides with Wi-Fi activity.
- Wi-Fi + BLE scanning
  - All standard scan intervals are supported. For better scan results, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
  - BLE scanning will be stopped for intervals that collide with Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Connections
  - All standard connection intervals are supported.
  - For a stable connection, use optimal connection intervals and max supervision timeout in the presence of Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Data Transfer
  - To achieve higher throughput for both Wi-Fi and BLE, use medium connection intervals, such as 45 to 80 ms with maximum supervision timeout.
  - Ensure Wi-Fi activity consumes lower intervals.

**Known Issues**

**Sensorhub**

- Support for ADC FIFO Mode and Multi channel is open
- Support for ADC Powersave is open
- PS1-state supports only ADC sensor

**Network Stack**

- Sometimes during SSL Handshake, ECC curve parameters generated are wrong, resulting in connection failure with BBD2 error. However, this recovers in the next attempt.
- Randomize the client port if using rapid connect/disconnect of the MQTT session on the same client port with the power save.
- Secure SSL renegotiation not supported in Embedded Networking Stack.

**Wi-Fi**

- TWT device (STA) may not go to sleep in between TWT intervals in case of burst data traffics with data size more than the configured 'average tx throughput', until completion of data transfer.
- There are performance and IOP issues with MU MIMO.
- WPA3 Connection with the Hunting and Pecking algorithm takes about 3-4 seconds.
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.
- Low Wi-Fi+BLE throughput
- TCP/UDP TX/RX Data stall observed in CoEx scenarios
- Observed HTTPS Continuous download fails with TA Power save
- Performance improvements are in progress for lower performance metrics.
- Observed interop issue (connectivity failure) with few AP's when device reset/reboot happens on active connection.
- In concurrent mode, AP restart fails after stopping it with ap\_stop command.
- DUT deep sleep will not work after stopping AP with ap\_stop command.
- Unable to get SNTP async events when coex mode and Power save is enabled
- Fine Tuning 802.11ax Spectral mask in Progress
- Fine Tuning 11b mask in Ch11 in progress
- DUT is unable to connect to the AP with WPA3 security when we enable coex mode (WLAN+BLE) in opermode
- Socket listen API is failing from the second iteration
- Disconnections observed with Netgear RAX120 AP in WPA3 security
- Observed connection failures with some AP's in more channel congestion open lab environment

**BLE**

- HID profile data transfer is not working, when power save is enabled in SoC.
- BLE reconnection is not working in ble_multiconnection_gatt demo, when power save is enabled in SoC

**Co-Existence**

- Observed HTTP continuous download is not happening in Powersave mode after BLE connection established using wifi\_https\_ble\_dual\_role application
- Observed DUT hang while Wi-Fi UDP Tx and BLE continuous scan run for long time.

**System**

- None

**MCU**

- Refer to the respective Radio board user guides for specific pinout details. Examples are targeted to a specific version mentioned in the respective readme.
- Few peripherals like WDT when configured with RO clock is not working as expected. No impact on the feature but the clocks are not accurate.
- ADC Differential mode is not working as expected if negative input value set above 2.4V.
- Few(BOD, Comparator and SysRTC) wakeup resources are not working as expected in Power manager service.

**Limitations and Unsupported Features**

**Wi-Fi/Network Stack**

- TLS 1.3 Server is not supported
- In AP mode, IPv6 Router Advertisements are not supported. Although STA connected to the APUT can transfer IPv6 data to the peers by using SLAAC for address configuration.
- When sl\_wifi\_enable\_target\_wake\_time() API is used, observed occasional MQTT disconnections with longer TWT intervals (>30secs) with embedded MQTT + TWT.
- AMSDU TX is not supported.
- Fragmentation is not supported.
- AMSDUs within AMPDU is not supported.
- Currently, the module does not support Radio Measurement Requests feature of CCX V2
- 802.11k is not supported
- 40 MHz bandwidth for 2.4 GHz band is not supported.
- 802.11J channel 14 is not supported.
- MQTT versions 3 and 4 are supported.
- Maximum of 3 SSL connections are supported in Wi-Fi alone mode.
- In SSL ECC Curve ID supported is 23. SSL handshake with 3rd party clients depends on the SSL ECC Curve ID.
- LP mode is not supported.
- In iTWT mode, downlink data traffic should be limited. Disconnections may be observed if AP fails to send all the buffered data in the next TWT Service Period.
- Number of MBSSIDs processed is limited by the beacon length that can be processed by the stack (which is limited to 1024 bytes). Beacons greater than 1024 Bytes in length will not be processed.
- CoEx + EAP Security in 352K/320k is not feasible. This issue is observed due to a lack of memory in the 352k/320k Memory Configuration. It is supported with other EXT\_FEAT\_416K\_M4SS\_256K and EXT\_FEAT\_480K\_M4SS\_192K memory configurations.
- UL MUMIMO is not supported.
- The embedded HTTP server is not supported.
- Baremetal is not supported.
- Compared to SoC mode, NCP mode has fewer examples, but more will be enabled in upcoming releases.
- Maximum username, topic length and password supported is 62 bytes for embedded MQTT.
- UART 2 Debug prints are supported only on ULP_GPIO_9
- WOW LAN feature is not supported

**BLE**

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.
- BLE TX/RX throughput is less when tested with EFM as compared to EFR
- Maximum supported AE data length is 200 bytes.
- Supports only two ADV\_EXT sets.
- Supports only two BLE connections (1 Central and 1 Peripheral) with AE.
- Advertising Extension feature is not supported in Coexistence.
- The  ae\_central & ae\_peripheral applications are not supported with TA\_352K\_M4\_320K RAM configuration.
- Setting PLL mode as 1 is not supported in Coexistence

**MCU**

- ULP Peripherals examples configurations are for RAM-based execution, as flash is powered off in ULP Mode.
- On 4338a board, two I2C instances(I2C1 and I2C2) are using same GPIOs, so support is not there for using two I2C instances simultaneously.
- I2C High speed and Fastplus mode not working at specifications speed.
- Manual chip select option is not supported when using GSPI.
- SSI Dual and Quad mode is not working as expected.
- ULP SSI wakeup source is not working as expected.
- SPI sensor will not work in the Sensor HUB application.
- For ADC Multichannel sampling rate is limited to less than 15Ksps, number of samples is less than 500 and with a maximum of 4 channel

**Simplicity Studio and Commander**

- Default GDB debug configuration is not supported for SoC projects, work around details provided in "Getting-Started-with-SiWx917"
- Observing flash download failures(ERROR 108) for a few image sizes
- While creating project through Simplicity Studio, "copy contents" option not supported.
- Simplicity commander does not support options under "Debug Lock tools" .
- All projects in the package are compatible with GCC 10.3.1 version.

**Terminology**

|**Term**|**Description**|
| :- | :- |
|**New Features**|These items are new to this release|
|**Changes/Issues Fixed**|Changes made to existing features found in previous software releases.|
||Enhancements to existing product flow and feature set.|
||Bug fixes done in the release|
|**Deprecated Items**|Features or functions or APIs that are removed from the distributed release to align with the software roadmap|
|**Known Issues**|Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases|
|**Limitations/Recommendations**|Describes the limitations on product usage and recommendations for optimal use cases|

**Note**

- Change SPI frequency to 12.5Mhz while measuring BLE throughput with EFR32

<br>

**WiSeConnect3\_SDK\_3.1.1-rc13 Release Notes**

This SDK package supports SoC Mode and NCP Mode for B0:

- In SoC Mode: Customer applications can run on Cortex M4. Wireless, network, and security stacks run on the wireless subsystem.
- In NCP mode: Wireless, network, and security stacks run on the Wireless subsystem. Customer applications run on the external host MCU.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

**Note**: Use Simplicity Studio version SV5.7.0.1 onwards

**SoC Highlights**

- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support ultra low power Wi-Fi standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode
- **MCU examples** : GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers, Config Timers, ULP (Ultra Low Power) Timers, Sleeptimer, IOSTREAM, NVM3, MEMLCD, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, ML Blinky, Sensorhub, Joystick and Relative Humidity and Temparature sensor(RHT).
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE whitelisting, and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack, All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS client
- **IDE** : Simplicity Studio with Windows 10(64-bit), Linux, Mac OS
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** :
  - Si-MB4002A Main board
  - SiWx917 Radio boards

|**RadioBoard Type**|**SiWx917B0 with Board Version**|
| :- | :- |
|Common flash|-|
|Common flash|Si917-BRD4338A(2.0)|
|Dual flash|-|
|External PSRAM|Si917-BRD4340A(2.0)|

**NCP Highlights**

- **Host Interface** : SPI
- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode.
- **Wi-Fi** : 2.4GHz Wi-Fi Support, WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE Whitelisting and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack , BLE Stack , All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS Client.
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **Hardware kits to evaluate NCP Mode**
  - NCP EFR Expansion Kit with NCP Radio board (BRD4338A(NCP MBR) + BRD8045A)
  - Wireless Pro kit Mainboard BRD4002A Rev A06
  - EFR32xG24 Wireless 2.4 GHz +10 dBm Radio Board xG24-RB4186C

**Release Details**

|**Item**|**Details**|
| :- | :- |
|Release date|Jan 2nd, 2024|
|SDK Version|3\.1.1-rc13|
|Firmware Version|1711\.2.10.0.0.7|
|Package Name|WiSeConnect3\_SDK\_3.1.1-rc13|
|Supported RTOS|FreeRTOS|
|Operating Modes Supported|Wi-Fi STA, Wi-Fi AP, Wi-Fi STA+BLE, Wi-Fi STA+AP|
|Build Quality|GA|

- SiWx917 release consists of two components
  - Wireless Firmware - SiWx917 Firmware Binaries
  - Wiseconnect3 Library - Wiseconnect3 SDK library runs on the external host in NCP mode and internal Cortex M4 in SoC Mode.
- This release is meant only for use with designs based on SiWx917 Silicon
- The firmware to load in your design are available in the following format:
  - SiWG917-B.2.10.1.0.0.x.rps - B0 Full-featured firmware binary

**Features Supported**

**Sensorhub service**

- Support for ADC, SPI and I2C based sensors
- Support for PS2 and sleep wakeups
- SoC OPN based project support in SSv5
  - List of OPN's supported si917-sb00, siwg917m111mgtba, siwg917m100mgtba, siwg917m111xgtba, siwg917m100xntba, siwg917m121xgtba, siwg917m110lgtba and siwg917m141xgtba
- ML blink and Model Profiler support

**MCU**

- ADC Single Channel, ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, GPIO, I2C, I2S, NVM3, OPAMP, PSRAM, PWM, QEI, RTC, SDIO Secondary, SPI Master and Slave, UART, Micro DMA, USART, Watchdog Timer, USART Master and Slave
- UC Supported Peripherals - GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers , Config Timers, ULP (Ultra Low Power) Timers, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, MEMLCD.
- Services - Sleeptimer, IOSTREAM, NVM3 and Power Manager.
- ULP (Ultra Low Power) Peripherals - ulp\_gpio, ulp\_adc ulp\_i2c, ulp\_i2s, ulp\_ir\_decoder, ulp\_spi, ulp\_timer, ulp\_uart, ulp\_udma

**Wi-Fi**

- WPA2/WPA3 Personal, WPS and WPA2-EAP Support for Station Mode
- TCP/IP stack with IPv4, IPv6, TCP, UDP, TLS, HTTP/HTTPS, DHCPv4, DHCPv6, MQTT Client, DNS Client, SNTP client.
- Support for SSL client versions TLSV1.0, TLSV1.2, TLSV1.3 and SSL server versions TLSV1.0 and TLSV1.2
- Wi-Fi STA (802.11n/802.11ax) + 802.11n AP Support
- HE (802.11ax) and Individual TWT Feature Support
- Multiple BSSID feature support as an STA
- Secure OTA support on B0 radio boards.
- Support for LWIP network stack
- Support for AWS MQTT library
- Support for BSD and IoT sockets application programming interface(API)

**Bluetooth Low Energy**

- BLE central & peripheral connections are supported.
- Ultra-low power save is supported.

**Power Save**

- Max PSP, enhanced MAX PSP, Fast PSP, and 802.11ax TWT power save modes are supported in WiFi.
- Only Max PSP power save mode is supported in BLE

**Crypto Support**

- AES, SHA, AES-CCM, HMAC, GCM, Chacha-poly, ECDH and TRNG FW Crypto API support added.
- PSA enabled Mbed TLS support added
- NVM support added for key storage
- Symmetric and asymmetric key storage
- TRNG, AES, SHA, HMAC, GCM, Chacha-poly, ECDH and AES-CCM hardware crypto engine is integrated with PSA crypto.

**Changes and Fixes**

**SDK**

- None

**MCU**

- None

**Wi-Fi**

- Updated WLAN regulatory power tables

**BLE**

- Swapped BLR500kbps and 125kbps in BLE regulatory table.
- BLEHP chain max power in FCC, ETSI, WORLDWIDE reduced by 2 indices().
- BLEHP 125kbpsMaxpower inxdices in Regulatory table from the bench data.
- Removed channel based power reduction in BLEHP chain for > 25. These changes made for regulatory marigins.
- Updated the BLEHP max power index code to support all channel.

**CoEx**

- None

**System**

- None

**Recommendations**

**System**

- The current revision of SiWx917 B0 has:
  - RAM memory of 672k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_672K\_M4SS\_0K- This mode configures TA with 672k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By default EXT\_FEAT\_352K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_480K\_M4SS\_192K - This mode configures TA with 480k and M4 with 192K bytes of memory
    - EXT\_FEAT\_416K\_M4SS\_256K - This mode configures TA with 416k and M4 with 256K bytes of memory
    - EXT\_FEAT\_352K\_M4SS\_320K - This mode configures TA with 352k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 672K\_M4SS\_0K.
  - SoC mode should not use 672k\_M4SS\_0k memory configuration.
- Set the recommended Power Save Profile (PSP) type to Enhanced Max PSP.

**IDE**

- Download the latest Simplicity Studio (SV5.7.0.1)
- Refer to the latest version of the SoC/NCP "Getting-Started-with-SiWx917" guide for more details

**Wi-Fi & Network Stack****

- The recommended embedded MQTT Publish payload is 1 kBytes.
- It is recommended to enable bit 16 of the 'Extended TCP IP Feature' bit map in the opermode command for all Wi-Fi Socket operations from the host to ensure graceful handling during asynchronous closures from the peer.
- Aggregation (bit 2 of feature\_bit\_map) is recommended to be enabled in opermode. This enables software to aggregate multiple packets to achieve better throughput
- TCP retransmission count value is recommended to be 30 or higher so that the TCP does not disconnect while the rejoin happens.
- To restart the module, the application needs to call sl\_wifi\_deinit() followed by sl\_wifi\_init().
- Register 'Join Fail Callback' function every time when join is called, as in the rejoin failure path the callback is deregistered. If not done, this might result in a scan not functioning on rejoin failure.
- User can enable SL\_SI91X\_EXT\_TCP\_IP\_SSL\_16K\_RECORD in 'Extended TCP IP Feature'bit map in opermode, if HTTPS download is failing after receiving HTTP headers..
- iTWT setup is recommended after IP assignment/TCP connection/application specific socket connections.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, increase TCP / ARP Timeouts at the remote side depending upon the configured TWT interval configured.
- In case of TWT+coex, when using sl\_wifi\_enable\_target\_wakeup\_time API, use TWT wake duration <= 16 ms and TWT wake interval >= 1 sec. If wake duration > 16 ms or TWT wake interval < 1sec, there might be performance issues.
- For iTWT GTK Interval Should be kept max possible value or zero. If GTK interval is not configurable, recommended TWT interval (in case of sl\_wifi\_enable\_target\_wakeup\_time API) or RX Latency (in case of sl\_wifi\_target\_wake\_time\_auto\_selection API) is less than 4sec.
- Disable Power Save for High Throughput Applications.
- The application needs to ensure that it sets RTC with the correct timestamp when the feature is enabled before establishing the SSL connection.
- The timeout value should not be less than 1 second for socket select and socket receive calls. Timeout value of less than 1 second is not currently supported.
- When sl\_wifi\_enable\_target\_wakeup\_time API is used, configuring TWT Wake interval beyond 1 min might lead to disconnections from the AP. Recommended to use TWT wakeup interval of less than or equal to 1 min.
- Embedded MQTT keep alive interval should be either 0 or a value greater than 35 seconds.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, it is recommended to set missed\_beacon\_count of sl\_wifi\_set\_advanced\_client\_configuration API greater than 2 times of the configured TWT Interval.
- Disable power save and suspend any active TWT sessions before triggering HTTP OTAF.
- It is recommended to enable bit 31 of the 'TCP IP Feature' bit map in the opermode command to support multicast protocol

**BLE**

- In BLE, the recommended range of Connection Interval in
  - Power Save (BLE Only) - 100 ms to 1.28 s.
- In BLE, during Connection, the configuration of Scan Interval and Scan Window with the same value is not recommended. The suggested ratio of Scan Window to Scan Interval is 3:4.
- In BLE, if a device is acting as Central, the scan window (in set\_scan\_params and create\_connection commands) must be less than the existing Connection Interval. The suggested ratio of Scan Window to Connection Interval is 2:3.
- In BLE mode, if scanning and advertising are in progress on the SiWx91x module and it subsequently gets connected and moves to the central role, scanning stops else if it moves to the peripheral role, advertising stops. To further establish a connection to another peripheral device or to a central device, the application should give a command for starting advertising and scanning again.

**Co-Existence**

- For concurrent Wi-Fi + BLE, and while a Wi-Fi connection is active, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
- Wi-Fi + BLE Advertising
  - All standard advertising intervals are supported. As Wi-Fi throughput is increased, a slight difference in on-air advertisements compared to configured intervals may be observed.
  - BLE advertising is skipped if the advertising interval collides with Wi-Fi activity.
- Wi-Fi + BLE scanning
  - All standard scan intervals are supported. For better scan results, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
  - BLE scanning will be stopped for intervals that collide with Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Connections
  - All standard connection intervals are supported.
  - For a stable connection, use optimal connection intervals and max supervision timeout in the presence of Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Data Transfer
  - To achieve higher throughput for both Wi-Fi and BLE, use medium connection intervals, such as 45 to 80 ms with maximum supervision timeout.
  - Ensure Wi-Fi activity consumes lower intervals.

**Known Issues**

**Sensorhub**

- Support for ADC FIFO Mode and Multi channel is open
- Support for ADC Powersave is open
- PS1-state supports only ADC sensor

**Network Stack**

- Sometimes during SSL Handshake, ECC curve parameters generated are wrong, resulting in connection failure with BBD2 error. However, this recovers in the next attempt.
- Randomize the client port if using rapid connect/disconnect of the MQTT session on the same client port with the power save.
- Secure SSL renegotiation not supported in Embedded Networking Stack.

**Wi-Fi**

- TWT device (STA) may not go to sleep in between TWT intervals in case of burst data traffics with data size more than the configured 'average tx throughput', until completion of data transfer.
- There are performance and IOP issues with MU MIMO.
- WPA3 Connection with the Hunting and Pecking algorithm takes about 3-4 seconds.
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.
- Low Wi-Fi+BLE throughput
- TCP/UDP TX/RX Data stall observed in CoEx scenarios
- Observed HTTPS Continuous download fails with TA Power save
- Performance improvements are in progress for lower performance metrics.
- Observed interop issue (connectivity failure) with few AP's when device reset/reboot happens on active connection.
- In concurrent mode, AP restart fails after stopping it with ap\_stop command.
- DUT deep sleep will not work after stopping AP with ap\_stop command.
- Unable to get SNTP async events when coex mode and Power save is enabled
- Fine Tuning 802.11ax Spectral mask in Progress
- Fine Tuning 11b mask in Ch11 in progress
- DUT is unable to connect to the AP with WPA3 security when we enable coex mode (WLAN+BLE) in opermode
- Socket listen API is failing from the second iteration
- Disconnections observed with Netgear RAX120 AP in WPA3 security
- Observed connection failures with some AP's in more channel congestion open lab environment

**BLE**

- HID profile data transfer is not working, when power save is enabled in SoC.
- BLE reconnection is not working in ble_multiconnection_gatt demo, when power save is enabled in SoC

**Co-Existence**

- Observed HTTP continuous download is not happening in Powersave mode after BLE connection established using wifi\_https\_ble\_dual\_role application
- Observed DUT hang while Wi-Fi UDP Tx and BLE continuous scan run for long time.

**System**

- None

**MCU**

- Refer to the respective Radio board user guides for specific pinout details. Examples are targeted to a specific version mentioned in the respective readme.
- Few peripherals like WDT when configured with RO clock is not working as expected. No impact on the feature but the clocks are not accurate.
- ADC Differential mode is not working as expected if negative input value set above 2.4V.
- Few(BOD, Comparator and SysRTC) wakeup resources are not working as expected in Power manager service.

**Limitations and Unsupported Features**

**Wi-Fi/Network Stack**

- TLS 1.3 Server is not supported
- In AP mode, IPv6 Router Advertisements are not supported. Although STA connected to the APUT can transfer IPv6 data to the peers by using SLAAC for address configuration.
- When sl\_wifi\_enable\_target\_wake\_time() API is used, observed occasional MQTT disconnections with longer TWT intervals (>30secs) with embedded MQTT + TWT.
- AMSDU TX is not supported.
- Fragmentation is not supported.
- AMSDUs within AMPDU is not supported.
- Currently, the module does not support Radio Measurement Requests feature of CCX V2
- 802.11k is not supported
- 40 MHz bandwidth for 2.4 GHz band is not supported.
- 802.11J channel 14 is not supported.
- MQTT versions 3 and 4 are supported.
- Maximum of 3 SSL connections are supported in Wi-Fi alone mode.
- In SSL ECC Curve ID supported is 23. SSL handshake with 3rd party clients depends on the SSL ECC Curve ID.
- LP mode is not supported.
- In iTWT mode, downlink data traffic should be limited. Disconnections may be observed if AP fails to send all the buffered data in the next TWT Service Period.
- Number of MBSSIDs processed is limited by the beacon length that can be processed by the stack (which is limited to 1024 bytes). Beacons greater than 1024 Bytes in length will not be processed.
- CoEx + EAP Security in 352K/320k is not feasible. This issue is observed due to a lack of memory in the 352k/320k Memory Configuration. It is supported with other EXT\_FEAT\_416K\_M4SS\_256K and EXT\_FEAT\_480K\_M4SS\_192K memory configurations.
- UL MUMIMO is not supported.
- The embedded HTTP server is not supported.
- Baremetal is not supported.
- Compared to SoC mode, NCP mode has fewer examples, but more will be enabled in upcoming releases.
- Maximum username, topic length and password supported is 62 bytes for embedded MQTT.
- UART 2 Debug prints are supported only on ULP_GPIO_9
- WOW LAN feature is not supported

**BLE**

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.
- BLE TX/RX throughput is less when tested with EFM as compared to EFR
- Maximum supported AE data length is 200 bytes.
- Supports only two ADV\_EXT sets.
- Supports only two BLE connections (1 Central and 1 Peripheral) with AE.
- Advertising Extension feature is not supported in Coexistence.
- The  ae\_central & ae\_peripheral applications are not supported with TA\_352K\_M4\_320K RAM configuration.
- Setting PLL mode as 1 is not supported in Coexistence

**MCU**

- ULP Peripherals examples configurations are for RAM-based execution, as flash is powered off in ULP Mode.
- On 4338a board, two I2C instances(I2C1 and I2C2) are using same GPIOs, so support is not there for using two I2C instances simultaneously.
- I2C High speed and Fastplus mode not working at specifications speed.
- Manual chip select option is not supported when using GSPI.
- SSI Dual and Quad mode is not working as expected.
- ULP SSI wakeup source is not working as expected.
- SPI sensor will not work in the Sensor HUB application.
- For ADC Multichannel sampling rate is limited to less than 15Ksps, number of samples is less than 500 and with a maximum of 4 channel

**Simplicity Studio and Commander**

- Default GDB debug configuration is not supported for SoC projects, work around details provided in "Getting-Started-with-SiWx917"
- Observing flash download failures(ERROR 108) for a few image sizes
- While creating project through Simplicity Studio, "copy contents" option not supported.
- Simplicity commander does not support options under "Debug Lock tools" .
- All projects in the package are compatible with GCC 10.3.1 version.

**Terminology**

|**Term**|**Description**|
| :- | :- |
|**New Features**|These items are new to this release|
|**Changes/Issues Fixed**|Changes made to existing features found in previous software releases.|
||Enhancements to existing product flow and feature set.|
||Bug fixes done in the release|
|**Deprecated Items**|Features or functions or APIs that are removed from the distributed release to align with the software roadmap|
|**Known Issues**|Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases|
|**Limitations/Recommendations**|Describes the limitations on product usage and recommendations for optimal use cases|

**Note**

- Change SPI frequency to 12.5Mhz while measuring BLE throughput with EFR32

<br>

**WiSeConnect3\_SDK\_3.1.2-rc1 Release Notes**

This SDK package supports SoC Mode and NCP Mode for B0:

- In SoC Mode: Customer applications can run on Cortex M4. Wireless, network, and security stacks run on the wireless subsystem.
- In NCP mode: Wireless, network, and security stacks run on the Wireless subsystem. Customer applications run on the external host MCU.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

**Note**: Use Simplicity Studio version SV5.7.0.1 onwards

**SoC Highlights**

- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support ultra low power Wi-Fi standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode
- **MCU examples** : GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers, Config Timers, ULP (Ultra Low Power) Timers, Sleeptimer, IOSTREAM, NVM3, MEMLCD, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, ML Blinky, Sensorhub, Joystick and Relative Humidity and Temparature sensor(RHT).
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE whitelisting, and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack, All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS client
- **IDE** : Simplicity Studio with Windows 10(64-bit), Linux, Mac OS
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** :
  - Si-MB4002A Main board
  - SiWx917 Radio boards

|**RadioBoard Type**|**SiWx917B0 with Board Version**|
| :- | :- |
|Common flash|-|
|Common flash|Si917-BRD4338A(2.0)|
|Dual flash|-|
|External PSRAM|Si917-BRD4340A(2.0)|

**NCP Highlights**

- **Host Interface** : SPI
- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode.
- **Wi-Fi** : 2.4GHz Wi-Fi Support, WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE Whitelisting and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack , BLE Stack , All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS Client.
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **Hardware kits to evaluate NCP Mode**
  - NCP EFR Expansion Kit with NCP Radio board (BRD4338A(NCP MBR) + BRD8045A)
  - Wireless Pro kit Mainboard BRD4002A Rev A06
  - EFR32xG24 Wireless 2.4 GHz +10 dBm Radio Board xG24-RB4186C

**Release Details**

|**Item**|**Details**|
| :- | :- |
|Release date|Dec 22nd, 2023|
|SDK Version|3\.1.2-rc1|
|Firmware Version|1711\.2.10.1.0.0.6|
|Package Name|WiSeConnect3\_SDK\_3.1.2-rc1|
|Supported RTOS|FreeRTOS|
|Operating Modes Supported|Wi-Fi STA, Wi-Fi AP, Wi-Fi STA+BLE, Wi-Fi STA+AP|
|Build Quality|GA|

- SiWx917 release consists of two components
  - Wireless Firmware - SiWx917 Firmware Binaries
  - Wiseconnect3 Library - Wiseconnect3 SDK library runs on the external host in NCP mode and internal Cortex M4 in SoC Mode.
- This release is meant only for use with designs based on SiWx917 Silicon
- The firmware to load in your design are available in the following format:
  - SiWG917-B.2.10.0.0.x.rps - B0 Full-featured firmware binary

**Features Supported**

**Sensorhub service**

- Support for ADC, SPI and I2C based sensors
- Support for PS2 and sleep wakeups
- SoC OPN based project support in SSv5
  - List of OPN's supported si917-sb00, siwg917m111mgtba, siwg917m100mgtba, siwg917m111xgtba, siwg917m100xntba, siwg917m121xgtba, siwg917m110lgtba and siwg917m141xgtba
- ML blink and Model Profiler support

**MCU**

- ADC Single Channel, ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, GPIO, I2C, I2S, NVM3, OPAMP, PSRAM, PWM, QEI, RTC, SDIO Secondary, SPI Master and Slave, UART, Micro DMA, USART, Watchdog Timer, USART Master and Slave
- UC Supported Peripherals - GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers , Config Timers, ULP (Ultra Low Power) Timers, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, MEMLCD.
- Services - Sleeptimer, IOSTREAM, NVM3 and Power Manager.
- ULP (Ultra Low Power) Peripherals - ulp\_gpio, ulp\_adc ulp\_i2c, ulp\_i2s, ulp\_ir\_decoder, ulp\_spi, ulp\_timer, ulp\_uart, ulp\_udma

**Wi-Fi**

- WPA2/WPA3 Personal, WPS and WPA2-EAP Support for Station Mode
- TCP/IP stack with IPv4, IPv6, TCP, UDP, TLS, HTTP/HTTPS, DHCPv4, DHCPv6, MQTT Client, DNS Client, SNTP client.
- Support for SSL client versions TLSV1.0, TLSV1.2, TLSV1.3 and SSL server versions TLSV1.0 and TLSV1.2
- Wi-Fi STA (802.11n/802.11ax) + 802.11n AP Support
- HE (802.11ax) and Individual TWT Feature Support
- Multiple BSSID feature support as an STA
- Secure OTA support on B0 radio boards.
- Support for LWIP network stack
- Support for AWS MQTT library
- Support for BSD and IoT sockets application programming interface(API)

**Bluetooth Low Energy**

- BLE central & peripheral connections are supported.
- Ultra-low power save is supported.

**Power Save**

- Max PSP, enhanced MAX PSP, Fast PSP, and 802.11ax TWT power save modes are supported in WiFi.
- Only Max PSP power save mode is supported in BLE

**Crypto Support**

- AES, SHA, AES-CCM, HMAC, GCM, Chacha-poly, ECDH and TRNG FW Crypto API support added.
- PSA enabled Mbed TLS support added
- NVM support added for key storage
- Symmetric and asymmetric key storage
- TRNG, AES, SHA, HMAC, GCM, Chacha-poly, ECDH and AES-CCM hardware crypto engine is integrated with PSA crypto.

**Changes and Fixes**

**SDK**

- Added support for getting manufacturing software version from efuse data.
- Resolved WLAN warnings in the featured and snippet demos.
- Fixed issue in BSSID based Join.

**MCU**

- Added aws support to sensorhub demo

**Wi-Fi**

- Added support for large size ICMP packets
- Added support for getting manufacturing software version from efuse data.
- Resolved MSS value updating in server side while using setsocketoption.
- Resolved MQTT connection issue
- Resolved MQTT SSL connection failure issue
- Fixed the socket connect failure in wlan concurrent mode for SSL TX and SSL RX
- Fixed the issue when one or more asynchronous events are received at a time in case of termination from remote socket

**BLE**

- Resolved BLE warnings in the featured and snippet demos

**CoEx**

- None

**System**

- None

**Recommendations**

**System**

- The current revision of SiWx917 B0 has:
  - RAM memory of 672k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_672K\_M4SS\_0K- This mode configures TA with 672k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By default EXT\_FEAT\_352K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_480K\_M4SS\_192K - This mode configures TA with 480k and M4 with 192K bytes of memory
    - EXT\_FEAT\_416K\_M4SS\_256K - This mode configures TA with 416k and M4 with 256K bytes of memory
    - EXT\_FEAT\_352K\_M4SS\_320K - This mode configures TA with 352k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 672K\_M4SS\_0K.
  - SoC mode should not use 672k\_M4SS\_0k memory configuration.
- Set the recommended Power Save Profile (PSP) type to Enhanced Max PSP.

**IDE**

- Download the latest Simplicity Studio (SV5.7.0.1)
- Refer to the latest version of the SoC/NCP "Getting-Started-with-SiWx917" guide for more details

**Wi-Fi & Network Stack****

- The recommended embedded MQTT Publish payload is 1 kBytes.
- It is recommended to enable bit 16 of the 'Extended TCP IP Feature' bit map in the opermode command for all Wi-Fi Socket operations from the host to ensure graceful handling during asynchronous closures from the peer.
- Aggregation (bit 2 of feature\_bit\_map) is recommended to be enabled in opermode. This enables software to aggregate multiple packets to achieve better throughput
- TCP retransmission count value is recommended to be 30 or higher so that the TCP does not disconnect while the rejoin happens.
- To restart the module, the application needs to call sl\_wifi\_deinit() followed by sl\_wifi\_init().
- Register 'Join Fail Callback' function every time when join is called, as in the rejoin failure path the callback is deregistered. If not done, this might result in a scan not functioning on rejoin failure.
- User can enable SL\_SI91X\_EXT\_TCP\_IP\_SSL\_16K\_RECORD in 'Extended TCP IP Feature'bit map in opermode, if HTTPS download is failing after receiving HTTP headers..
- iTWT setup is recommended after IP assignment/TCP connection/application specific socket connections.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, increase TCP / ARP Timeouts at the remote side depending upon the configured TWT interval configured.
- In case of TWT+coex, when using sl\_wifi\_enable\_target\_wakeup\_time API, use TWT wake duration <= 16 ms and TWT wake interval >= 1 sec. If wake duration > 16 ms or TWT wake interval < 1sec, there might be performance issues.
- For iTWT GTK Interval Should be kept max possible value or zero. If GTK interval is not configurable, recommended TWT interval (in case of sl\_wifi\_enable\_target\_wakeup\_time API) or RX Latency (in case of sl\_wifi\_target\_wake\_time\_auto\_selection API) is less than 4sec.
- Disable Power Save for High Throughput Applications.
- The application needs to ensure that it sets RTC with the correct timestamp when the feature is enabled before establishing the SSL connection.
- The timeout value should not be less than 1 second for socket select and socket receive calls. Timeout value of less than 1 second is not currently supported.
- When sl\_wifi\_enable\_target\_wakeup\_time API is used, configuring TWT Wake interval beyond 1 min might lead to disconnections from the AP. Recommended to use TWT wakeup interval of less than or equal to 1 min.
- Embedded MQTT keep alive interval should be either 0 or a value greater than 35 seconds.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, it is recommended to set missed\_beacon\_count of sl\_wifi\_set\_advanced\_client\_configuration API greater than 2 times of the configured TWT Interval.
- Disable power save and suspend any active TWT sessions before triggering HTTP OTAF.
- It is recommended to enable bit 31 of the 'TCP IP Feature' bit map in the opermode command to support multicast protocol

**BLE**

- In BLE, the recommended range of Connection Interval in
  - Power Save (BLE Only) - 100 ms to 1.28 s.
- In BLE, during Connection, the configuration of Scan Interval and Scan Window with the same value is not recommended. The suggested ratio of Scan Window to Scan Interval is 3:4.
- In BLE, if a device is acting as Central, the scan window (in set\_scan\_params and create\_connection commands) must be less than the existing Connection Interval. The suggested ratio of Scan Window to Connection Interval is 2:3.
- In BLE mode, if scanning and advertising are in progress on the SiWx91x module and it subsequently gets connected and moves to the central role, scanning stops else if it moves to the peripheral role, advertising stops. To further establish a connection to another peripheral device or to a central device, the application should give a command for starting advertising and scanning again.

**Co-Existence**

- For concurrent Wi-Fi + BLE, and while a Wi-Fi connection is active, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
- Wi-Fi + BLE Advertising
  - All standard advertising intervals are supported. As Wi-Fi throughput is increased, a slight difference in on-air advertisements compared to configured intervals may be observed.
  - BLE advertising is skipped if the advertising interval collides with Wi-Fi activity.
- Wi-Fi + BLE scanning
  - All standard scan intervals are supported. For better scan results, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
  - BLE scanning will be stopped for intervals that collide with Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Connections
  - All standard connection intervals are supported.
  - For a stable connection, use optimal connection intervals and max supervision timeout in the presence of Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Data Transfer
  - To achieve higher throughput for both Wi-Fi and BLE, use medium connection intervals, such as 45 to 80 ms with maximum supervision timeout.
  - Ensure Wi-Fi activity consumes lower intervals.

**Known Issues**

**Sensorhub**

- Support for ADC FIFO Mode and Multi channel is open
- Support for ADC Powersave is open
- PS1-state supports only ADC sensor

**Network Stack**

- Sometimes during SSL Handshake, ECC curve parameters generated are wrong, resulting in connection failure with BBD2 error. However, this recovers in the next attempt.
- Randomize the client port if using rapid connect/disconnect of the MQTT session on the same client port with the power save.
- Secure SSL renegotiation not supported in Embedded Networking Stack.

**Wi-Fi**

- TWT device (STA) may not go to sleep in between TWT intervals in case of burst data traffics with data size more than the configured 'average tx throughput', until completion of data transfer.
- There are performance and IOP issues with MU MIMO.
- WPA3 Connection with the Hunting and Pecking algorithm takes about 3-4 seconds.
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.
- Low Wi-Fi+BLE throughput
- TCP/UDP TX/RX Data stall observed in CoEx scenarios
- Observed HTTPS Continuous download fails with TA Power save
- Performance improvements are in progress for lower performance metrics.
- Observed interop issue (connectivity failure) with few AP's when device reset/reboot happens on active connection.
- In concurrent mode, AP restart fails after stopping it with ap\_stop command.
- DUT deep sleep will not work after stopping AP with ap\_stop command.
- Unable to get SNTP async events when coex mode and Power save is enabled
- Fine Tuning 802.11ax Spectral mask in Progress
- Fine Tuning 11b mask in Ch11 in progress
- DUT is unable to connect to the AP with WPA3 security when we enable coex mode (WLAN+BLE) in opermode
- Socket listen API is failing from the second iteration
- Disconnections observed with Netgear RAX120 AP in WPA3 security
- Observed connection failures with some AP's in more channel congestion open lab environment

**BLE**

- HID profile data transfer is not working, when power save is enabled in SoC.
- BLE reconnection is not working in ble_multiconnection_gatt demo, when power save is enabled in SoC

**Co-Existence**

- Observed HTTP continuous download is not happening in Powersave mode after BLE connection established using wifi\_https\_ble\_dual\_role application
- Observed DUT hang while Wi-Fi UDP Tx and BLE continuous scan run for long time.

**System**

- None

**MCU**

- Refer to the respective Radio board user guides for specific pinout details. Examples are targeted to a specific version mentioned in the respective readme.
- Few peripherals like WDT when configured with RO clock is not working as expected. No impact on the feature but the clocks are not accurate.
- ADC Differential mode is not working as expected if negative input value set above 2.4V.
- Few(BOD, Comparator and SysRTC) wakeup resources are not working as expected in Power manager service.

**Limitations and Unsupported Features**

**Wi-Fi/Network Stack**

- TLS 1.3 Server is not supported
- In AP mode, IPv6 Router Advertisements are not supported. Although STA connected to the APUT can transfer IPv6 data to the peers by using SLAAC for address configuration.
- When sl\_wifi\_enable\_target\_wake\_time() API is used, observed occasional MQTT disconnections with longer TWT intervals (>30secs) with embedded MQTT + TWT.
- AMSDU TX is not supported.
- Fragmentation is not supported.
- AMSDUs within AMPDU is not supported.
- Currently, the module does not support Radio Measurement Requests feature of CCX V2
- 802.11k is not supported
- 40 MHz bandwidth for 2.4 GHz band is not supported.
- 802.11J channel 14 is not supported.
- MQTT versions 3 and 4 are supported.
- Maximum of 3 SSL connections are supported in Wi-Fi alone mode.
- In SSL ECC Curve ID supported is 23. SSL handshake with 3rd party clients depends on the SSL ECC Curve ID.
- LP mode is not supported.
- In iTWT mode, downlink data traffic should be limited. Disconnections may be observed if AP fails to send all the buffered data in the next TWT Service Period.
- Number of MBSSIDs processed is limited by the beacon length that can be processed by the stack (which is limited to 1024 bytes). Beacons greater than 1024 Bytes in length will not be processed.
- CoEx + EAP Security in 352K/320k is not feasible. This issue is observed due to a lack of memory in the 352k/320k Memory Configuration. It is supported with other EXT\_FEAT\_416K\_M4SS\_256K and EXT\_FEAT\_480K\_M4SS\_192K memory configurations.
- UL MUMIMO is not supported.
- The embedded HTTP server is not supported.
- Baremetal is not supported.
- Compared to SoC mode, NCP mode has fewer examples, but more will be enabled in upcoming releases.
- Maximum username, topic length and password supported is 62 bytes for embedded MQTT.
- UART 2 Debug prints are supported only on ULP_GPIO_9
- WOW LAN feature is not supported

**BLE**

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.
- BLE TX/RX throughput is less when tested with EFM as compared to EFR
- Maximum supported AE data length is 200 bytes.
- Supports only two ADV\_EXT sets.
- Supports only two BLE connections (1 Central and 1 Peripheral) with AE.
- Advertising Extension feature is not supported in Coexistence.
- The  ae\_central & ae\_peripheral applications are not supported with TA\_352K\_M4\_320K RAM configuration.
- Setting PLL mode as 1 is not supported in Coexistence

**MCU**

- ULP Peripherals examples configurations are for RAM-based execution, as flash is powered off in ULP Mode.
- On 4338a board, two I2C instances(I2C1 and I2C2) are using same GPIOs, so support is not there for using two I2C instances simultaneously.
- I2C High speed and Fastplus mode not working at specifications speed.
- Manual chip select option is not supported when using GSPI.
- SSI Dual and Quad mode is not working as expected.
- ULP SSI wakeup source is not working as expected.
- SPI sensor will not work in the Sensor HUB application.
- For ADC Multichannel sampling rate is limited to less than 15Ksps, number of samples is less than 500 and with a maximum of 4 channel

**Simplicity Studio and Commander**

- Default GDB debug configuration is not supported for SoC projects, work around details provided in "Getting-Started-with-SiWx917"
- Observing flash download failures(ERROR 108) for a few image sizes
- While creating project through Simplicity Studio, "copy contents" option not supported.
- Simplicity commander does not support options under "Debug Lock tools" .
- All projects in the package are compatible with GCC 10.3.1 version.

**Terminology**

|**Term**|**Description**|
| :- | :- |
|**New Features**|These items are new to this release|
|**Changes/Issues Fixed**|Changes made to existing features found in previous software releases.|
||Enhancements to existing product flow and feature set.|
||Bug fixes done in the release|
|**Deprecated Items**|Features or functions or APIs that are removed from the distributed release to align with the software roadmap|
|**Known Issues**|Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases|
|**Limitations/Recommendations**|Describes the limitations on product usage and recommendations for optimal use cases|

**Note**

- Change SPI frequency to 12.5Mhz while measuring BLE throughput with EFR32

<br>

**WiSeConnect3\_SDK\_3.1.1-rc12 Release Notes**

This SDK package supports SoC Mode and NCP Mode for B0:

- In SoC Mode: Customer applications can run on Cortex M4. Wireless, network, and security stacks run on the wireless subsystem.
- In NCP mode: Wireless, network, and security stacks run on the Wireless subsystem. Customer applications run on the external host MCU.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

**Note**: Use Simplicity Studio version SV5.7.0.1 onwards

**SoC Highlights**

- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support ultra low power Wi-Fi standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode
- **MCU examples** : GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers, Config Timers, ULP (Ultra Low Power) Timers, Sleeptimer, IOSTREAM, NVM3, MEMLCD, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, ML Blinky, Sensorhub, Joystick and Relative Humidity and Temparature sensor(RHT).
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE whitelisting, and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack, All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS client
- **IDE** : Simplicity Studio with Windows 10(64-bit), Linux, Mac OS
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** :
  - Si-MB4002A Main board
  - SiWx917 Radio boards

|**RadioBoard Type**|**SiWx917B0 with Board Version**|
| :- | :- |
|Common flash|-|
|Common flash|Si917-BRD4338A(2.0)|
|Dual flash|-|
|External PSRAM|Si917-BRD4340A(2.0)|

**NCP Highlights**

- **Host Interface** : SPI
- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode.
- **Wi-Fi** : 2.4GHz Wi-Fi Support, WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE Whitelisting and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack , BLE Stack , All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS Client.
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **Hardware kits to evaluate NCP Mode**
  - NCP EFR Expansion Kit with NCP Radio board (BRD4338A(NCP MBR) + BRD8045A)
  - Wireless Pro kit Mainboard BRD4002A Rev A06
  - EFR32xG24 Wireless 2.4 GHz +10 dBm Radio Board xG24-RB4186C

**Release Details**

|**Item**|**Details**|
| :- | :- |
|Release date|Dec 20th, 2023|
|SDK Version|3\.1.1-rc12|
|Firmware Version|1711\.2.10.0.0.4|
|Package Name|WiSeConnect3\_SDK\_3.1.1-rc12|
|Supported RTOS|FreeRTOS|
|Operating Modes Supported|Wi-Fi STA, Wi-Fi AP, Wi-Fi STA+BLE, Wi-Fi STA+AP|
|Build Quality|GA|

- SiWx917 release consists of two components
  - Wireless Firmware - SiWx917 Firmware Binaries
  - Wiseconnect3 Library - Wiseconnect3 SDK library runs on the external host in NCP mode and internal Cortex M4 in SoC Mode.
- This release is meant only for use with designs based on SiWx917 Silicon
- The firmware to load in your design are available in the following format:
  - SiWG917-B.2.10.0.0.x.rps - B0 Full-featured firmware binary

**Features Supported**

**Sensorhub service**

- Support for ADC, SPI and I2C based sensors
- Support for PS2 and sleep wakeups
- SoC OPN based project support in SSv5
  - List of OPN's supported si917-sb00, siwg917m111mgtba, siwg917m100mgtba, siwg917m111xgtba, siwg917m100xntba, siwg917m121xgtba, siwg917m110lgtba and siwg917m141xgtba
- ML blink and Model Profiler support

**MCU**

- ADC Single Channel, ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, GPIO, I2C, I2S, NVM3, OPAMP, PSRAM, PWM, QEI, RTC, SDIO Secondary, SPI Master and Slave, UART, Micro DMA, USART, Watchdog Timer, USART Master and Slave
- UC Supported Peripherals - GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers , Config Timers, ULP (Ultra Low Power) Timers, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, MEMLCD.
- Services - Sleeptimer, IOSTREAM, NVM3 and Power Manager.
- ULP (Ultra Low Power) Peripherals - ulp\_gpio, ulp\_adc ulp\_i2c, ulp\_i2s, ulp\_ir\_decoder, ulp\_spi, ulp\_timer, ulp\_uart, ulp\_udma

**Wi-Fi**

- WPA2/WPA3 Personal, WPS and WPA2-EAP Support for Station Mode
- TCP/IP stack with IPv4, IPv6, TCP, UDP, TLS, HTTP/HTTPS, DHCPv4, DHCPv6, MQTT Client, DNS Client, SNTP client.
- Support for SSL client versions TLSV1.0, TLSV1.2, TLSV1.3 and SSL server versions TLSV1.0 and TLSV1.2
- Wi-Fi STA (802.11n/802.11ax) + 802.11n AP Support
- HE (802.11ax) and Individual TWT Feature Support
- Multiple BSSID feature support as an STA
- Secure OTA support on B0 radio boards.
- Support for LWIP network stack
- Support for AWS MQTT library
- Support for BSD and IoT sockets application programming interface(API)

**Bluetooth Low Energy**

- BLE central & peripheral connections are supported.
- Ultra-low power save is supported.

**Power Save**

- Max PSP, enhanced MAX PSP, Fast PSP, and 802.11ax TWT power save modes are supported in WiFi.
- Only Max PSP power save mode is supported in BLE

**Crypto Support**

- AES, SHA, AES-CCM, HMAC, GCM, Chacha-poly, ECDH and TRNG FW Crypto API support added.
- PSA enabled Mbed TLS support added
- NVM support added for key storage
- Symmetric and asymmetric key storage
- TRNG, AES, SHA, HMAC, GCM, Chacha-poly, ECDH and AES-CCM hardware crypto engine is integrated with PSA crypto.

**Changes and Fixes**

**SDK**

- Updated firmware upgrade section, images in SRM.
- Jenkins pipeline enhancement to reduce build time.
- Fixes typos in migration guide.
- Updated developer's guide links in OOB example application readme.
- Updated example template of OOB example application.
- Updated troubleshooting section in ble_per example application.
- Updated with generic enhancements of all BLE example with images, typos, sentence formatting etc.
- Updated images in readme of memlcd_bermetal example.
- Updated readme and images in aws_mqtt and wifi_station_ble_provisioning_aws example application
- Enhancement of public release notes of v3.1.1 with additional bugs, features, template changes etc.

**MCU**

- None

**Wi-Fi**

- None

**BLE**

- None

**CoEx**

- None

**System**

- None

**Recommendations**

**System**

- The current revision of SiWx917 B0 has:
  - RAM memory of 672k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_672K\_M4SS\_0K- This mode configures TA with 672k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By default EXT\_FEAT\_352K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_480K\_M4SS\_192K - This mode configures TA with 480k and M4 with 192K bytes of memory
    - EXT\_FEAT\_416K\_M4SS\_256K - This mode configures TA with 416k and M4 with 256K bytes of memory
    - EXT\_FEAT\_352K\_M4SS\_320K - This mode configures TA with 352k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 672K\_M4SS\_0K.
  - SoC mode should not use 672k\_M4SS\_0k memory configuration.
- Set the recommended Power Save Profile (PSP) type to Enhanced Max PSP.

**IDE**

- Download the latest Simplicity Studio (SV5.7.0.1)
- Refer to the latest version of the SoC/NCP "Getting-Started-with-SiWx917" guide for more details

**Wi-Fi & Network Stack****

- The recommended embedded MQTT Publish payload is 1 kBytes.
- It is recommended to enable bit 16 of the 'Extended TCP IP Feature' bit map in the opermode command for all Wi-Fi Socket operations from the host to ensure graceful handling during asynchronous closures from the peer.
- Aggregation (bit 2 of feature\_bit\_map) is recommended to be enabled in opermode. This enables software to aggregate multiple packets to achieve better throughput
- TCP retransmission count value is recommended to be 30 or higher so that the TCP does not disconnect while the rejoin happens.
- To restart the module, the application needs to call sl\_wifi\_deinit() followed by sl\_wifi\_init().
- Register 'Join Fail Callback' function every time when join is called, as in the rejoin failure path the callback is deregistered. If not done, this might result in a scan not functioning on rejoin failure.
- User can enable SL\_SI91X\_EXT\_TCP\_IP\_SSL\_16K\_RECORD in 'Extended TCP IP Feature'bit map in opermode, if HTTPS download is failing after receiving HTTP headers..
- iTWT setup is recommended after IP assignment/TCP connection/application specific socket connections.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, increase TCP / ARP Timeouts at the remote side depending upon the configured TWT interval configured.
- In case of TWT+coex, when using sl\_wifi\_enable\_target\_wakeup\_time API, use TWT wake duration <= 16 ms and TWT wake interval >= 1 sec. If wake duration > 16 ms or TWT wake interval < 1sec, there might be performance issues.
- For iTWT GTK Interval Should be kept max possible value or zero. If GTK interval is not configurable, recommended TWT interval (in case of sl\_wifi\_enable\_target\_wakeup\_time API) or RX Latency (in case of sl\_wifi\_target\_wake\_time\_auto\_selection API) is less than 4sec.
- Disable Power Save for High Throughput Applications.
- The application needs to ensure that it sets RTC with the correct timestamp when the feature is enabled before establishing the SSL connection.
- The timeout value should not be less than 1 second for socket select and socket receive calls. Timeout value of less than 1 second is not currently supported.
- When sl\_wifi\_enable\_target\_wakeup\_time API is used, configuring TWT Wake interval beyond 1 min might lead to disconnections from the AP. Recommended to use TWT wakeup interval of less than or equal to 1 min.
- Embedded MQTT keep alive interval should be either 0 or a value greater than 35 seconds.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, it is recommended to set missed\_beacon\_count of sl\_wifi\_set\_advanced\_client\_configuration API greater than 2 times of the configured TWT Interval.
- Disable power save and suspend any active TWT sessions before triggering HTTP OTAF.
- It is recommended to enable bit 31 of the 'TCP IP Feature' bit map in the opermode command to support multicast protocol

**BLE**

- In BLE, the recommended range of Connection Interval in
  - Power Save (BLE Only) - 100 ms to 1.28 s.
- In BLE, during Connection, the configuration of Scan Interval and Scan Window with the same value is not recommended. The suggested ratio of Scan Window to Scan Interval is 3:4.
- In BLE, if a device is acting as Central, the scan window (in set\_scan\_params and create\_connection commands) must be less than the existing Connection Interval. The suggested ratio of Scan Window to Connection Interval is 2:3.
- In BLE mode, if scanning and advertising are in progress on the SiWx91x module and it subsequently gets connected and moves to the central role, scanning stops else if it moves to the peripheral role, advertising stops. To further establish a connection to another peripheral device or to a central device, the application should give a command for starting advertising and scanning again.

**Co-Existence**

- For concurrent Wi-Fi + BLE, and while a Wi-Fi connection is active, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
- Wi-Fi + BLE Advertising
  - All standard advertising intervals are supported. As Wi-Fi throughput is increased, a slight difference in on-air advertisements compared to configured intervals may be observed.
  - BLE advertising is skipped if the advertising interval collides with Wi-Fi activity.
- Wi-Fi + BLE scanning
  - All standard scan intervals are supported. For better scan results, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
  - BLE scanning will be stopped for intervals that collide with Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Connections
  - All standard connection intervals are supported.
  - For a stable connection, use optimal connection intervals and max supervision timeout in the presence of Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Data Transfer
  - To achieve higher throughput for both Wi-Fi and BLE, use medium connection intervals, such as 45 to 80 ms with maximum supervision timeout.
  - Ensure Wi-Fi activity consumes lower intervals.

**Known Issues**

**Sensorhub**

- Support for ADC FIFO Mode and Multi channel is open
- Support for ADC Powersave is open
- PS1-state supports only ADC sensor

**Network Stack**

- Sometimes during SSL Handshake, ECC curve parameters generated are wrong, resulting in connection failure with BBD2 error. However, this recovers in the next attempt.
- Randomize the client port if using rapid connect/disconnect of the MQTT session on the same client port with the power save.
- Secure SSL renegotiation not supported in Embedded Networking Stack.

**Wi-Fi**

- TWT device (STA) may not go to sleep in between TWT intervals in case of burst data traffics with data size more than the configured 'average tx throughput', until completion of data transfer.
- There are performance and IOP issues with MU MIMO.
- WPA3 Connection with the Hunting and Pecking algorithm takes about 3-4 seconds.
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.
- Low Wi-Fi+BLE throughput
- TCP/UDP TX/RX Data stall observed in CoEx scenarios
- Observed HTTPS Continuous download fails with TA Power save
- Performance improvements are in progress for lower performance metrics.
- Observed interop issue (connectivity failure) with few AP's when device reset/reboot happens on active connection.
- In concurrent mode, AP restart fails after stopping it with ap\_stop command.
- DUT deep sleep will not work after stopping AP with ap\_stop command.
- Unable to get SNTP async events when coex mode and Power save is enabled
- Fine Tuning 802.11ax Spectral mask in Progress
- Fine Tuning 11b mask in Ch11 in progress
- DUT is unable to connect to the AP with WPA3 security when we enable coex mode (WLAN+BLE) in opermode
- Socket listen API is failing from the second iteration
- Disconnections observed with Netgear RAX120 AP in WPA3 security
- Observed connection failures with some AP's in more channel congestion open lab environment

**BLE**

- HID profile data transfer is not working, when power save is enabled in SoC.
- BLE reconnection is not working in ble_multiconnection_gatt demo, when power save is enabled in SoC

**Co-Existence**

- Observed HTTP continuous download is not happening in Powersave mode after BLE connection established using wifi\_https\_ble\_dual\_role application
- Observed DUT hang while Wi-Fi UDP Tx and BLE continuous scan run for long time.

**System**

- None

**MCU**

- Refer to the respective Radio board user guides for specific pinout details. Examples are targeted to a specific version mentioned in the respective readme.
- Few peripherals like WDT when configured with RO clock is not working as expected. No impact on the feature but the clocks are not accurate.
- ADC Differential mode is not working as expected if negative input value set above 2.4V.
- Few(BOD, Comparator and SysRTC) wakeup resources are not working as expected in Power manager service.

**Limitations and Unsupported Features**

**Wi-Fi/Network Stack**

- TLS 1.3 Server is not supported
- In AP mode, IPv6 Router Advertisements are not supported. Although STA connected to the APUT can transfer IPv6 data to the peers by using SLAAC for address configuration.
- When sl\_wifi\_enable\_target\_wake\_time() API is used, observed occasional MQTT disconnections with longer TWT intervals (>30secs) with embedded MQTT + TWT.
- AMSDU TX is not supported.
- Fragmentation is not supported.
- AMSDUs within AMPDU is not supported.
- Currently, the module does not support Radio Measurement Requests feature of CCX V2
- 802.11k is not supported
- 40 MHz bandwidth for 2.4 GHz band is not supported.
- 802.11J channel 14 is not supported.
- MQTT versions 3 and 4 are supported.
- Maximum of 3 SSL connections are supported in Wi-Fi alone mode.
- In SSL ECC Curve ID supported is 23. SSL handshake with 3rd party clients depends on the SSL ECC Curve ID.
- LP mode is not supported.
- In iTWT mode, downlink data traffic should be limited. Disconnections may be observed if AP fails to send all the buffered data in the next TWT Service Period.
- Number of MBSSIDs processed is limited by the beacon length that can be processed by the stack (which is limited to 1024 bytes). Beacons greater than 1024 Bytes in length will not be processed.
- CoEx + EAP Security in 352K/320k is not feasible. This issue is observed due to a lack of memory in the 352k/320k Memory Configuration. It is supported with other EXT\_FEAT\_416K\_M4SS\_256K and EXT\_FEAT\_480K\_M4SS\_192K memory configurations.
- UL MUMIMO is not supported.
- The embedded HTTP server is not supported.
- Baremetal is not supported.
- Compared to SoC mode, NCP mode has fewer examples, but more will be enabled in upcoming releases.
- Maximum username, topic length and password supported is 62 bytes for embedded MQTT.
- UART 2 Debug prints are supported only on ULP_GPIO_9
- WOW LAN feature is not supported

**BLE**

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.
- BLE TX/RX throughput is less when tested with EFM as compared to EFR
- Maximum supported AE data length is 200 bytes.
- Supports only two ADV\_EXT sets.
- Supports only two BLE connections (1 Central and 1 Peripheral) with AE.
- Advertising Extension feature is not supported in Coexistence.
- The  ae\_central & ae\_peripheral applications are not supported with TA\_352K\_M4\_320K RAM configuration.
- Setting PLL mode as 1 is not supported in Coexistence

**MCU**

- ULP Peripherals examples configurations are for RAM-based execution, as flash is powered off in ULP Mode.
- On 4338a board, two I2C instances(I2C1 and I2C2) are using same GPIOs, so support is not there for using two I2C instances simultaneously.
- I2C High speed and Fastplus mode not working at specifications speed.
- Manual chip select option is not supported when using GSPI.
- SSI Dual and Quad mode is not working as expected.
- ULP SSI wakeup source is not working as expected.
- SPI sensor will not work in the Sensor HUB application.
- For ADC Multichannel sampling rate is limited to less than 15Ksps, number of samples is less than 500 and with a maximum of 4 channel

**Simplicity Studio and Commander**

- Default GDB debug configuration is not supported for SoC projects, work around details provided in "Getting-Started-with-SiWx917"
- Observing flash download failures(ERROR 108) for a few image sizes
- While creating project through Simplicity Studio, "copy contents" option not supported.
- Simplicity commander does not support options under "Debug Lock tools" .
- All projects in the package are compatible with GCC 10.3.1 version.

**Terminology**

|**Term**|**Description**|
| :- | :- |
|**New Features**|These items are new to this release|
|**Changes/Issues Fixed**|Changes made to existing features found in previous software releases.|
||Enhancements to existing product flow and feature set.|
||Bug fixes done in the release|
|**Deprecated Items**|Features or functions or APIs that are removed from the distributed release to align with the software roadmap|
|**Known Issues**|Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases|
|**Limitations/Recommendations**|Describes the limitations on product usage and recommendations for optimal use cases|

**Note**

- Change SPI frequency to 12.5Mhz while measuring BLE throughput with EFR32

<br>

**WiSeConnect3\_SDK\_3.1.1-rc11 Release Notes**

This SDK package supports SoC Mode and NCP Mode for B0:

- In SoC Mode: Customer applications can run on Cortex M4. Wireless, network, and security stacks run on the wireless subsystem.
- In NCP mode: Wireless, network, and security stacks run on the Wireless subsystem. Customer applications run on the external host MCU.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

**Note**: Use Simplicity Studio version SV5.7.0.1 onwards

**SoC Highlights**

- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support ultra low power Wi-Fi standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode
- **MCU examples** : GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers, Config Timers, ULP (Ultra Low Power) Timers, Sleeptimer, IOSTREAM, NVM3, MEMLCD, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, ML Blinky, Sensorhub, Joystick and Relative Humidity and Temparature sensor(RHT).
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE whitelisting, and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack, All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS client
- **IDE** : Simplicity Studio with Windows 10(64-bit), Linux, Mac OS
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** :
  - Si-MB4002A Main board
  - SiWx917 Radio boards

|**RadioBoard Type**|**SiWx917B0 with Board Version**|
| :- | :- |
|Common flash|-|
|Common flash|Si917-BRD4338A(2.0)|
|Dual flash|-|
|External PSRAM|Si917-BRD4340A(2.0)|

**NCP Highlights**

- **Host Interface** : SPI
- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode.
- **Wi-Fi** : 2.4GHz Wi-Fi Support, WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE Whitelisting and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack , BLE Stack , All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS Client.
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **Hardware kits to evaluate NCP Mode**
  - NCP EFR Expansion Kit with NCP Radio board (BRD4338A(NCP MBR) + BRD8045A)
  - Wireless Pro kit Mainboard BRD4002A Rev A06
  - EFR32xG21 2.4 GHz 20 dBm Radio Board (BRD4180B Rev A02)

**Release Details**

|**Item**|**Details**|
| :- | :- |
|Release date|Dec 13th, 2023|
|SDK Version|3\.1.1-rc11|
|Firmware Version|1711\.2.10.0.0.4|
|Package Name|WiSeConnect3\_SDK\_3.1.1-rc11|
|Supported RTOS|FreeRTOS|
|Operating Modes Supported|Wi-Fi STA, Wi-Fi AP, Wi-Fi STA+BLE, Wi-Fi STA+AP|
|Build Quality|GA|

- SiWx917 release consists of two components
  - Wireless Firmware - SiWx917 Firmware Binaries
  - Wiseconnect3 Library - Wiseconnect3 SDK library runs on the external host in NCP mode and internal Cortex M4 in SoC Mode.
- This release is meant only for use with designs based on SiWx917 Silicon
- The firmware to load in your design are available in the following format:
  - SiWG917-B.2.10.0.0.x.rps - B0 Full-featured firmware binary

**Features Supported**

**Sensorhub service**

- Support for ADC, SPI and I2C based sensors
- Support for PS2 and sleep wakeups
- SoC OPN based project support in SSv5
  - List of OPN's supported si917-sb00, siwg917m111mgtba, siwg917m100mgtba, siwg917m111xgtba, siwg917m100xntba, siwg917m121xgtba, siwg917m110lgtba and siwg917m141xgtba
- ML blink and Model Profiler support

**MCU**

- ADC Single Channel, ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, GPIO, I2C, I2S, NVM3, OPAMP, PSRAM, PWM, QEI, RTC, SDIO Secondary, SPI Master and Slave, UART, Micro DMA, USART, Watchdog Timer, USART Master and Slave
- UC Supported Peripherals - GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers , Config Timers, ULP (Ultra Low Power) Timers, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, MEMLCD.
- Services - Sleeptimer, IOSTREAM, NVM3 and Power Manager.
- ULP (Ultra Low Power) Peripherals - ulp\_gpio, ulp\_adc ulp\_i2c, ulp\_i2s, ulp\_ir\_decoder, ulp\_spi, ulp\_timer, ulp\_uart, ulp\_udma

**Wi-Fi**

- WPA2/WPA3 Personal, WPS and WPA2-EAP Support for Station Mode
- TCP/IP stack with IPv4, IPv6, TCP, UDP, TLS, HTTP/HTTPS, DHCPv4, DHCPv6, MQTT Client, DNS Client, SNTP client.
- Support for SSL client versions TLSV1.0, TLSV1.2, TLSV1.3 and SSL server versions TLSV1.0 and TLSV1.2
- Wi-Fi STA (802.11n/802.11ax) + 802.11n AP Support
- HE (802.11ax) and Individual TWT Feature Support
- Multiple BSSID feature support as an STA
- Secure OTA support on B0 radio boards.
- Support for LWIP network stack
- Support for AWS MQTT library
- Support for BSD and IoT sockets application programming interface(API)

**Bluetooth Low Energy**

- BLE central & peripheral connections are supported.
- Ultra-low power save is supported.

**Power Save**

- Max PSP, enhanced MAX PSP, Fast PSP, and 802.11ax TWT power save modes are supported in WiFi.
- Only Max PSP power save mode is supported in BLE

**Crypto Support**

- AES, SHA, AES-CCM, HMAC, GCM, Chacha-poly, ECDH and TRNG FW Crypto API support added.
- PSA enabled Mbed TLS support added
- NVM support added for key storage
- Symmetric and asymmetric key storage
- TRNG, AES, SHA, HMAC, GCM, Chacha-poly, ECDH and AES-CCM hardware crypto engine is integrated with PSA crypto.

**Changes and Fixes**

**MCU**

- Excluded peripheral ML applications for GA release
- Updation of proper GSDK version in Si91x SoC demos

**Wi-Fi**

- Optimization level enhancements for IPv6 WLAN demos
- Improved debug logs for firmware upgrade demo
- Ensured documentation content adheres to doxygen standards
- Resolved socket connection issue in PS for TWT demo in NCP

**BLE**

- Resolved BLE iOS connectivity issue in OOB demo

**CoEx**

- Excluded coex demos wifi_https_ble_dual_role, wifi_station_ble_throughput_app for GA release.

**System**

- None

**Recommendations**

**System**

- The current revision of SiWx917 B0 has:
  - RAM memory of 672k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_672K\_M4SS\_0K- This mode configures TA with 672k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By default EXT\_FEAT\_352K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_480K\_M4SS\_192K - This mode configures TA with 480k and M4 with 192K bytes of memory
    - EXT\_FEAT\_416K\_M4SS\_256K - This mode configures TA with 416k and M4 with 256K bytes of memory
    - EXT\_FEAT\_352K\_M4SS\_320K - This mode configures TA with 352k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 672K\_M4SS\_0K.
  - SoC mode should not use 672k\_M4SS\_0k memory configuration.
- Set the recommended Power Save Profile (PSP) type to Enhanced Max PSP.

**IDE**

- Download the latest Simplicity Studio (SV5.7.0.1)
- Refer to the latest version of the SoC/NCP "Getting-Started-with-SiWx917" guide for more details

**Wi-Fi & Network Stack****

- The recommended embedded MQTT Publish payload is 1 kBytes.
- It is recommended to enable bit 16 of the 'Extended TCP IP Feature' bit map in the opermode command for all Wi-Fi Socket operations from the host to ensure graceful handling during asynchronous closures from the peer.
- Aggregation (bit 2 of feature\_bit\_map) is recommended to be enabled in opermode. This enables software to aggregate multiple packets to achieve better throughput
- TCP retransmission count value is recommended to be 30 or higher so that the TCP does not disconnect while the rejoin happens.
- To restart the module, the application needs to call sl\_wifi\_deinit() followed by sl\_wifi\_init().
- Register 'Join Fail Callback' function every time when join is called, as in the rejoin failure path the callback is deregistered. If not done, this might result in a scan not functioning on rejoin failure.
- User can enable SL\_SI91X\_EXT\_TCP\_IP\_SSL\_16K\_RECORD in 'Extended TCP IP Feature'bit map in opermode, if HTTPS download is failing after receiving HTTP headers..
- iTWT setup is recommended after IP assignment/TCP connection/application specific socket connections.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, increase TCP / ARP Timeouts at the remote side depending upon the configured TWT interval configured.
- In case of TWT+coex, when using sl\_wifi\_enable\_target\_wakeup\_time API, use TWT wake duration <= 16 ms and TWT wake interval >= 1 sec. If wake duration > 16 ms or TWT wake interval < 1sec, there might be performance issues.
- For iTWT GTK Interval Should be kept max possible value or zero. If GTK interval is not configurable, recommended TWT interval (in case of sl\_wifi\_enable\_target\_wakeup\_time API) or RX Latency (in case of sl\_wifi\_target\_wake\_time\_auto\_selection API) is less than 4sec.
- Disable Power Save for High Throughput Applications.
- The application needs to ensure that it sets RTC with the correct timestamp when the feature is enabled before establishing the SSL connection.
- The timeout value should not be less than 1 second for socket select and socket receive calls. Timeout value of less than 1 second is not currently supported.
- When sl\_wifi\_enable\_target\_wakeup\_time API is used, configuring TWT Wake interval beyond 1 min might lead to disconnections from the AP. Recommended to use TWT wakeup interval of less than or equal to 1 min.
- Embedded MQTT keep alive interval should be either 0 or a value greater than 35 seconds.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, it is recommended to set missed\_beacon\_count of sl\_wifi\_set\_advanced\_client\_configuration API greater than 2 times of the configured TWT Interval.
- Disable power save and suspend any active TWT sessions before triggering HTTP OTAF.
- It is recommended to enable bit 31 of the 'TCP IP Feature' bit map in the opermode command to support multicast protocol

**BLE**

- In BLE, the recommended range of Connection Interval in
  - Power Save (BLE Only) - 100 ms to 1.28 s.
- In BLE, during Connection, the configuration of Scan Interval and Scan Window with the same value is not recommended. The suggested ratio of Scan Window to Scan Interval is 3:4.
- In BLE, if a device is acting as Central, the scan window (in set\_scan\_params and create\_connection commands) must be less than the existing Connection Interval. The suggested ratio of Scan Window to Connection Interval is 2:3.
- In BLE mode, if scanning and advertising are in progress on the SiWx91x module and it subsequently gets connected and moves to the central role, scanning stops else if it moves to the peripheral role, advertising stops. To further establish a connection to another peripheral device or to a central device, the application should give a command for starting advertising and scanning again.

**Co-Existence**

- For concurrent Wi-Fi + BLE, and while a Wi-Fi connection is active, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
- Wi-Fi + BLE Advertising
  - All standard advertising intervals are supported. As Wi-Fi throughput is increased, a slight difference in on-air advertisements compared to configured intervals may be observed.
  - BLE advertising is skipped if the advertising interval collides with Wi-Fi activity.
- Wi-Fi + BLE scanning
  - All standard scan intervals are supported. For better scan results, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
  - BLE scanning will be stopped for intervals that collide with Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Connections
  - All standard connection intervals are supported.
  - For a stable connection, use optimal connection intervals and max supervision timeout in the presence of Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Data Transfer
  - To achieve higher throughput for both Wi-Fi and BLE, use medium connection intervals, such as 45 to 80 ms with maximum supervision timeout.
  - Ensure Wi-Fi activity consumes lower intervals.

**Known Issues**

**Sensorhub**

- Support for ADC FIFO Mode and Multi channel is open
- Support for ADC Powersave is open
- PS1-state supports only ADC sensor

**Network Stack**

- Sometimes during SSL Handshake, ECC curve parameters generated are wrong, resulting in connection failure with BBD2 error. However, this recovers in the next attempt.
- Randomize the client port if using rapid connect/disconnect of the MQTT session on the same client port with the power save.
- Secure SSL renegotiation not supported in Embedded Networking Stack.

**Wi-Fi**

- TWT device (STA) may not go to sleep in between TWT intervals in case of burst data traffics with data size more than the configured 'average tx throughput', until completion of data transfer.
- There are performance and IOP issues with MU MIMO.
- WPA3 Connection with the Hunting and Pecking algorithm takes about 3-4 seconds.
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.
- Low Wi-Fi+BLE throughput
- TCP/UDP TX/RX Data stall observed in CoEx scenarios
- Observed HTTPS Continuous download fails with TA Power save
- Performance improvements are in progress for lower performance metrics.
- Observed interop issue (connectivity failure) with few AP's when device reset/reboot happens on active connection.
- In concurrent mode, AP restart fails after stopping it with ap\_stop command.
- DUT deep sleep will not work after stopping AP with ap\_stop command.
- Unable to get SNTP async events when coex mode and Power save is enabled
- Fine Tuning 802.11ax Spectral mask in Progress
- Fine Tuning 11b mask in Ch11 in progress
- DUT is unable to connect to the AP with WPA3 security when we enable coex mode (WLAN+BLE) in opermode
- Socket listen API is failing from the second iteration
- Disconnections observed with Netgear RAX120 AP in WPA3 security
- Observed connection failures with some AP's in more channel congestion open lab environment

**BLE**

- HID profile data transfer is not working, when power save is enabled in SoC.
- BLE reconnection is not working in ble_multiconnection_gatt demo, when power save is enabled in SoC

**Co-Existence**

- Observed HTTP continuous download is not happening in Powersave mode after BLE connection established using wifi\_https\_ble\_dual\_role application
- Observed DUT hang while Wi-Fi UDP Tx and BLE continuous scan run for long time.

**System**

- None

**MCU**

- Refer to the respective Radio board user guides for specific pinout details. Examples are targeted to a specific version mentioned in the respective readme.
- Few peripherals like WDT when configured with RO clock is not working as expected. No impact on the feature but the clocks are not accurate.
- ADC Differential mode is not working as expected if negative input value set above 2.4V.
- Few(BOD, Comparator and SysRTC) wakeup resources are not working as expected in Power manager service.

**Limitations and Unsupported Features**

**Wi-Fi/Network Stack**

- TLS 1.3 Server is not supported
- In AP mode, IPv6 Router Advertisements are not supported. Although STA connected to the APUT can transfer IPv6 data to the peers by using SLAAC for address configuration.
- When sl\_wifi\_enable\_target\_wake\_time() API is used, observed occasional MQTT disconnections with longer TWT intervals (>30secs) with embedded MQTT + TWT.
- AMSDU TX is not supported.
- Fragmentation is not supported.
- AMSDUs within AMPDU is not supported.
- Currently, the module does not support Radio Measurement Requests feature of CCX V2
- 802.11k is not supported
- 40 MHz bandwidth for 2.4 GHz band is not supported.
- 802.11J channel 14 is not supported.
- MQTT versions 3 and 4 are supported.
- Maximum of 3 SSL connections are supported in Wi-Fi alone mode.
- In SSL ECC Curve ID supported is 23. SSL handshake with 3rd party clients depends on the SSL ECC Curve ID.
- LP mode is not supported.
- In iTWT mode, downlink data traffic should be limited. Disconnections may be observed if AP fails to send all the buffered data in the next TWT Service Period.
- Number of MBSSIDs processed is limited by the beacon length that can be processed by the stack (which is limited to 1024 bytes). Beacons greater than 1024 Bytes in length will not be processed.
- CoEx + EAP Security in 352K/320k is not feasible. This issue is observed due to a lack of memory in the 352k/320k Memory Configuration. It is supported with other EXT\_FEAT\_416K\_M4SS\_256K and EXT\_FEAT\_480K\_M4SS\_192K memory configurations.
- UL MUMIMO is not supported.
- The embedded HTTP server is not supported.
- Baremetal is not supported.
- Compared to SoC mode, NCP mode has fewer examples, but more will be enabled in upcoming releases.
- Maximum username, topic length and password supported is 62 bytes for embedded MQTT.
- UART 2 Debug prints are supported only on ULP_GPIO_9
- WOW LAN feature is not supported

**BLE**

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.
- BLE TX/RX throughput is less when tested with EFM as compared to EFR
- Maximum supported AE data length is 200 bytes.
- Supports only two ADV\_EXT sets.
- Supports only two BLE connections (1 Central and 1 Peripheral) with AE.
- Advertising Extension feature is not supported in Coexistence.
- The  ae\_central & ae\_peripheral applications are not supported with TA\_352K\_M4\_320K RAM configuration.
- Setting PLL mode as 1 is not supported in Coexistence

**MCU**

- ULP Peripherals examples configurations are for RAM-based execution, as flash is powered off in ULP Mode.
- On 4338a board, two I2C instances(I2C1 and I2C2) are using same GPIOs, so support is not there for using two I2C instances simultaneously.
- I2C High speed and Fastplus mode not working at specifications speed.
- Manual chip select option is not supported when using GSPI.
- SSI Dual and Quad mode is not working as expected.
- ULP SSI wakeup source is not working as expected.
- SPI sensor will not work in the Sensor HUB application.
- For ADC Multichannel sampling rate is limited to less than 15Ksps, number of samples is less than 500 and with a maximum of 4 channel

**Simplicity Studio and Commander**

- Default GDB debug configuration is not supported for SoC projects, work around details provided in "Getting-Started-with-SiWx917"
- Observing flash download failures(ERROR 108) for a few image sizes
- While creating project through Simplicity Studio, "copy contents" option not supported.
- Simplicity commander does not support options under "Debug Lock tools" .
- All projects in the package are compatible with GCC 10.3.1 version.

**Terminology**

|**Term**|**Description**|
| :- | :- |
|**New Features**|These items are new to this release|
|**Changes/Issues Fixed**|Changes made to existing features found in previous software releases.|
||Enhancements to existing product flow and feature set.|
||Bug fixes done in the release|
|**Deprecated Items**|Features or functions or APIs that are removed from the distributed release to align with the software roadmap|
|**Known Issues**|Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases|
|**Limitations/Recommendations**|Describes the limitations on product usage and recommendations for optimal use cases|

**Note**

- Change SPI frequency to 12.5Mhz while measuring BLE throughput with EFR32

<br>

**WiSeConnect3\_SDK\_3.1.1-rc10 Release Notes**

This SDK package supports SoC Mode and NCP Mode for B0:

- In SoC Mode: Customer applications can run on Cortex M4. Wireless, network, and security stacks run on the wireless subsystem.
- In NCP mode: Wireless, network, and security stacks run on the Wireless subsystem. Customer applications run on the external host MCU.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

**Note**: Use Simplicity Studio version SV5.7.0.1 onwards

**SoC Highlights**

- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support ultra low power Wi-Fi standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode
- **MCU examples** : GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers, Config Timers, ULP (Ultra Low Power) Timers, Sleeptimer, IOSTREAM, NVM3, MEMLCD, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, ML Blinky, Sensorhub, Joystick and Relative Humidity and Temparature sensor(RHT).
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE whitelisting, and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack, All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS client
- **IDE** : Simplicity Studio with Windows 10(64-bit), Linux, Mac OS
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** :
  - Si-MB4002A Main board
  - SiWx917 Radio boards

|**RadioBoard Type**|**SiWx917B0 with Board Version**|
| :- | :- |
|Common flash|-|
|Common flash|Si917-BRD4338A(2.0)|
|Dual flash|-|
|External PSRAM|Si917-BRD4340A(2.0)|

**NCP Highlights**

- **Host Interface** : SPI
- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode.
- **Wi-Fi** : 2.4GHz Wi-Fi Support, WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE Whitelisting and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack , BLE Stack , All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS Client.
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **Hardware kits to evaluate NCP Mode**
  - NCP EFR Expansion Kit with NCP Radio board (BRD4338A(NCP MBR) + BRD8045A)
  - Wireless Pro kit Mainboard BRD4002A Rev A06
  - EFR32xG21 2.4 GHz 20 dBm Radio Board (BRD4180B Rev A02)

**Release Details**

|**Item**|**Details**|
| :- | :- |
|Release date|Dec 7th, 2023|
|SDK Version|3\.1.1-rc10|
|Firmware Version|1711\.2.10.0.0.4|
|Package Name|WiSeConnect3\_SDK\_3.1.1-rc10|
|Supported RTOS|FreeRTOS|
|Operating Modes Supported|Wi-Fi STA, Wi-Fi AP, Wi-Fi STA+BLE, Wi-Fi STA+AP|
|Build Quality|GA|

- SiWx917 release consists of two components
  - Wireless Firmware - SiWx917 Firmware Binaries
  - Wiseconnect3 Library - Wiseconnect3 SDK library runs on the external host in NCP mode and internal Cortex M4 in SoC Mode.
- This release is meant only for use with designs based on SiWx917 Silicon
- The firmware to load in your design are available in the following format:
  - SiWG917-B.2.10.0.0.x.rps - B0 Full-featured firmware binary

**Features Supported**

**Sensorhub service**

- Support for ADC, SPI and I2C based sensors
- Support for PS2 and sleep wakeups
- SoC OPN based project support in SSv5
  - List of OPN's supported si917-sb00, siwg917m111mgtba, siwg917m100mgtba, siwg917m111xgtba, siwg917m100xntba, siwg917m121xgtba, siwg917m110lgtba and siwg917m141xgtba
- ML blink and Model Profiler support

**MCU**

- ADC Single Channel, ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, GPIO, I2C, I2S, NVM3, OPAMP, PSRAM, PWM, QEI, RTC, SDIO Secondary, SPI Master and Slave, UART, Micro DMA, USART, Watchdog Timer, USART Master and Slave
- UC Supported Peripherals - GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers , Config Timers, ULP (Ultra Low Power) Timers, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, MEMLCD.
- Services - Sleeptimer, IOSTREAM, NVM3 and Power Manager.
- ULP (Ultra Low Power) Peripherals - ulp\_gpio, ulp\_adc ulp\_i2c, ulp\_i2s, ulp\_ir\_decoder, ulp\_spi, ulp\_timer, ulp\_uart, ulp\_udma

**Wi-Fi**

- WPA2/WPA3 Personal, WPS and WPA2-EAP Support for Station Mode
- TCP/IP stack with IPv4, IPv6, TCP, UDP, TLS, HTTP/HTTPS, DHCPv4, DHCPv6, MQTT Client, DNS Client, SNTP client.
- Support for SSL client versions TLSV1.0, TLSV1.2, TLSV1.3 and SSL server versions TLSV1.0 and TLSV1.2
- Wi-Fi STA (802.11n/802.11ax) + 802.11n AP Support
- HE (802.11ax) and Individual TWT Feature Support
- Multiple BSSID feature support as an STA
- Secure OTA support on B0 radio boards.
- Support for LWIP network stack
- Support for AWS MQTT library
- Support for BSD and IoT sockets application programming interface(API)

**Bluetooth Low Energy**

- BLE central & peripheral connections are supported.
- Ultra-low power save is supported.

**Power Save**

- Max PSP, enhanced MAX PSP, Fast PSP, and 802.11ax TWT power save modes are supported in WiFi.
- Only Max PSP power save mode is supported in BLE

**Crypto Support**

- AES, SHA, AES-CCM, HMAC, GCM, Chacha-poly, ECDH and TRNG FW Crypto API support added.
- PSA enabled Mbed TLS support added
- NVM support added for key storage
- Symmetric and asymmetric key storage
- TRNG, AES, SHA, HMAC, GCM, Chacha-poly, ECDH and AES-CCM hardware crypto engine is integrated with PSA crypto.

**Changes and Fixes**

**MCU**

- Resolved Matter examples build warnings

**Wi-Fi**

- SQA Bugs- SI91X-14600

**BLE**

- None

**CoEx**

- Fixed BLE disconnection issue after ~25-30min, while running WLAN HTTP/HTTPs download along with BLE data transfer with Power save enabled

**System**

- None

**Recommendations**

**System**

- The current revision of SiWx917 B0 has:
  - RAM memory of 672k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_672K\_M4SS\_0K- This mode configures TA with 672k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By default EXT\_FEAT\_352K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_480K\_M4SS\_192K - This mode configures TA with 480k and M4 with 192K bytes of memory
    - EXT\_FEAT\_416K\_M4SS\_256K - This mode configures TA with 416k and M4 with 256K bytes of memory
    - EXT\_FEAT\_352K\_M4SS\_320K - This mode configures TA with 352k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 672K\_M4SS\_0K.
  - SoC mode should not use 672k\_M4SS\_0k memory configuration.
- Set the recommended Power Save Profile (PSP) type to Enhanced Max PSP.

**IDE**

- Download the latest Simplicity Studio (SV5.7.0.1)
- Refer to the latest version of the SoC/NCP "Getting-Started-with-SiWx917" guide for more details

**Wi-Fi & Network Stack****

- The recommended embedded MQTT Publish payload is 1 kBytes.
- It is recommended to enable bit 16 of the 'Extended TCP IP Feature' bit map in the opermode command for all Wi-Fi Socket operations from the host to ensure graceful handling during asynchronous closures from the peer.
- Aggregation (bit 2 of feature\_bit\_map) is recommended to be enabled in opermode. This enables software to aggregate multiple packets to achieve better throughput
- TCP retransmission count value is recommended to be 30 or higher so that the TCP does not disconnect while the rejoin happens.
- To restart the module, the application needs to call sl\_wifi\_deinit() followed by sl\_wifi\_init().
- Register 'Join Fail Callback' function every time when join is called, as in the rejoin failure path the callback is deregistered. If not done, this might result in a scan not functioning on rejoin failure.
- User can enable SL\_SI91X\_EXT\_TCP\_IP\_SSL\_16K\_RECORD in 'Extended TCP IP Feature'bit map in opermode, if HTTPS download is failing after receiving HTTP headers..
- iTWT setup is recommended after IP assignment/TCP connection/application specific socket connections.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, increase TCP / ARP Timeouts at the remote side depending upon the configured TWT interval configured.
- In case of TWT+coex, when using sl\_wifi\_enable\_target\_wakeup\_time API, use TWT wake duration <= 16 ms and TWT wake interval >= 1 sec. If wake duration > 16 ms or TWT wake interval < 1sec, there might be performance issues.
- For iTWT GTK Interval Should be kept max possible value or zero. If GTK interval is not configurable, recommended TWT interval (in case of sl\_wifi\_enable\_target\_wakeup\_time API) or RX Latency (in case of sl\_wifi\_target\_wake\_time\_auto\_selection API) is less than 4sec.
- Disable Power Save for High Throughput Applications.
- The application needs to ensure that it sets RTC with the correct timestamp when the feature is enabled before establishing the SSL connection.
- The timeout value should not be less than 1 second for socket select and socket receive calls. Timeout value of less than 1 second is not currently supported.
- When sl\_wifi\_enable\_target\_wakeup\_time API is used, configuring TWT Wake interval beyond 1 min might lead to disconnections from the AP. Recommended to use TWT wakeup interval of less than or equal to 1 min.
- Embedded MQTT keep alive interval should be either 0 or a value greater than 35 seconds.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, it is recommended to set missed\_beacon\_count of sl\_wifi\_set\_advanced\_client\_configuration API greater than 2 times of the configured TWT Interval.
- Disable power save and suspend any active TWT sessions before triggering HTTP OTAF.
- It is recommended to enable bit 31 of the 'TCP IP Feature' bit map in the opermode command to support multicast protocol

**BLE**

- In BLE, the recommended range of Connection Interval in
  - Power Save (BLE Only) - 100 ms to 1.28 s.
- In BLE, during Connection, the configuration of Scan Interval and Scan Window with the same value is not recommended. The suggested ratio of Scan Window to Scan Interval is 3:4.
- In BLE, if a device is acting as Central, the scan window (in set\_scan\_params and create\_connection commands) must be less than the existing Connection Interval. The suggested ratio of Scan Window to Connection Interval is 2:3.
- In BLE mode, if scanning and advertising are in progress on the SiWx91x module and it subsequently gets connected and moves to the central role, scanning stops else if it moves to the peripheral role, advertising stops. To further establish a connection to another peripheral device or to a central device, the application should give a command for starting advertising and scanning again.

**Co-Existence**

- For concurrent Wi-Fi + BLE, and while a Wi-Fi connection is active, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
- Wi-Fi + BLE Advertising
  - All standard advertising intervals are supported. As Wi-Fi throughput is increased, a slight difference in on-air advertisements compared to configured intervals may be observed.
  - BLE advertising is skipped if the advertising interval collides with Wi-Fi activity.
- Wi-Fi + BLE scanning
  - All standard scan intervals are supported. For better scan results, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
  - BLE scanning will be stopped for intervals that collide with Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Connections
  - All standard connection intervals are supported.
  - For a stable connection, use optimal connection intervals and max supervision timeout in the presence of Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Data Transfer
  - To achieve higher throughput for both Wi-Fi and BLE, use medium connection intervals, such as 45 to 80 ms with maximum supervision timeout.
  - Ensure Wi-Fi activity consumes lower intervals.

**Known Issues**

**Sensorhub**

- Support for ADC FIFO Mode and Multi channel is open
- Support for ADC Powersave is open
- PS1-state supports only ADC sensor

**Network Stack**

- Sometimes during SSL Handshake, ECC curve parameters generated are wrong, resulting in connection failure with BBD2 error. However, this recovers in the next attempt.
- Randomize the client port if using rapid connect/disconnect of the MQTT session on the same client port with the power save.
- Secure SSL renegotiation not supported in Embedded Networking Stack.

**Wi-Fi**

- TWT device (STA) may not go to sleep in between TWT intervals in case of burst data traffics with data size more than the configured 'average tx throughput', until completion of data transfer.
- There are performance and IOP issues with MU MIMO.
- WPA3 Connection with the Hunting and Pecking algorithm takes about 3-4 seconds.
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.
- Low Wi-Fi+BLE throughput
- TCP/UDP TX/RX Data stall observed in CoEx scenarios
- Observed HTTPS Continuous download fails with TA Power save
- Performance improvements are in progress for lower performance metrics.
- Observed interop issue (connectivity failure) with few AP's when device reset/reboot happens on active connection.
- In concurrent mode, AP restart fails after stopping it with ap\_stop command.
- DUT deep sleep will not work after stopping AP with ap\_stop command.
- Unable to get SNTP async events when coex mode and Power save is enabled
- Fine Tuning 802.11ax Spectral mask in Progress
- Fine Tuning 11b mask in Ch11 in progress
- DUT is unable to connect to the AP with WPA3 security when we enable coex mode (WLAN+BLE) in opermode
- Socket listen API is failing from the second iteration
- Disconnections observed with Netgear RAX120 AP in WPA3 security
- Observed connection failures with some AP's in more channel congestion open lab environment

**BLE**

- HID profile data transfer is not working, when power save is enabled in SoC.
- BLE reconnection is not working in ble_multiconnection_gatt demo, when power save is enabled in SoC

**Co-Existence**

- Observed HTTP continuous download is not happening in Powersave mode after BLE connection established using wifi\_https\_ble\_dual\_role application
- Observed DUT hang while Wi-Fi UDP Tx and BLE continuous scan run for long time.

**System**

- None

**MCU**

- Refer to the respective Radio board user guides for specific pinout details. Examples are targeted to a specific version mentioned in the respective readme.
- Few peripherals like WDT when configured with RO clock is not working as expected. No impact on the feature but the clocks are not accurate.
- ADC Differential mode is not working as expected if negative input value set above 2.4V.
- Few(BOD, Comparator and SysRTC) wakeup resources are not working as expected in Power manager service.

**Limitations and Unsupported Features**

**Wi-Fi/Network Stack**

- TLS 1.3 Server is not supported
- In AP mode, IPv6 Router Advertisements are not supported. Although STA connected to the APUT can transfer IPv6 data to the peers by using SLAAC for address configuration.
- When sl\_wifi\_enable\_target\_wake\_time() API is used, observed occasional MQTT disconnections with longer TWT intervals (>30secs) with embedded MQTT + TWT.
- AMSDU TX is not supported.
- Fragmentation is not supported.
- AMSDUs within AMPDU is not supported.
- Currently, the module does not support Radio Measurement Requests feature of CCX V2
- 802.11k is not supported
- 40 MHz bandwidth for 2.4 GHz band is not supported.
- 802.11J channel 14 is not supported.
- MQTT versions 3 and 4 are supported.
- Maximum of 3 SSL connections are supported in Wi-Fi alone mode.
- In SSL ECC Curve ID supported is 23. SSL handshake with 3rd party clients depends on the SSL ECC Curve ID.
- LP mode is not supported.
- In iTWT mode, downlink data traffic should be limited. Disconnections may be observed if AP fails to send all the buffered data in the next TWT Service Period.
- Number of MBSSIDs processed is limited by the beacon length that can be processed by the stack (which is limited to 1024 bytes). Beacons greater than 1024 Bytes in length will not be processed.
- CoEx + EAP Security in 352K/320k is not feasible. This issue is observed due to a lack of memory in the 352k/320k Memory Configuration. It is supported with other EXT\_FEAT\_416K\_M4SS\_256K and EXT\_FEAT\_480K\_M4SS\_192K memory configurations.
- UL MUMIMO is not supported.
- The embedded HTTP server is not supported.
- Baremetal is not supported.
- Compared to SoC mode, NCP mode has fewer examples, but more will be enabled in upcoming releases.
- Maximum username, topic length and password supported is 62 bytes for embedded MQTT.
- UART 2 Debug prints are supported only on ULP_GPIO_9
- WOW LAN feature is not supported

**BLE**

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.
- BLE TX/RX throughput is less when tested with EFM as compared to EFR
- Maximum supported AE data length is 200 bytes.
- Supports only two ADV\_EXT sets.
- Supports only two BLE connections (1 Central and 1 Peripheral) with AE.
- Advertising Extension feature is not supported in Coexistence.
- The  ae\_central & ae\_peripheral applications are not supported with TA\_352K\_M4\_320K RAM configuration.
- Setting PLL mode as 1 is not supported in Coexistence

**MCU**

- ULP Peripherals examples configurations are for RAM-based execution, as flash is powered off in ULP Mode.
- On 4338a board, two I2C instances(I2C1 and I2C2) are using same GPIOs, so support is not there for using two I2C instances simultaneously.
- I2C High speed and Fastplus mode not working at specifications speed.
- Manual chip select option is not supported when using GSPI.
- SSI Dual and Quad mode is not working as expected.
- ULP SSI wakeup source is not working as expected.
- SPI sensor will not work in the Sensor HUB application.
- For ADC Multichannel sampling rate is limited to less than 15Ksps, number of samples is less than 500 and with a maximum of 4 channel

**Simplicity Studio and Commander**

- Default GDB debug configuration is not supported for SoC projects, work around details provided in "Getting-Started-with-SiWx917"
- Observing flash download failures(ERROR 108) for a few image sizes
- While creating project through Simplicity Studio, "copy contents" option not supported.
- Simplicity commander does not support options under "Debug Lock tools" .
- All projects in the package are compatible with GCC 10.3.1 version.

**Terminology**

|**Term**|**Description**|
| :- | :- |
|**New Features**|These items are new to this release|
|**Changes/Issues Fixed**|Changes made to existing features found in previous software releases.|
||Enhancements to existing product flow and feature set.|
||Bug fixes done in the release|
|**Deprecated Items**|Features or functions or APIs that are removed from the distributed release to align with the software roadmap|
|**Known Issues**|Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases|
|**Limitations/Recommendations**|Describes the limitations on product usage and recommendations for optimal use cases|

**Note**

- Change SPI frequency to 12.5Mhz while measuring BLE throughput with EFR32

<br>

**WiSeConnect3\_SDK\_3.1.1-rc9 Release Notes**

This SDK package supports SoC Mode and NCP Mode for B0:

- In SoC Mode: Customer applications can run on Cortex M4. Wireless, network, and security stacks run on the wireless subsystem.
- In NCP mode: Wireless, network, and security stacks run on the Wireless subsystem. Customer applications run on the external host MCU.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

**Note**: Use Simplicity Studio version SV5.7.0.1 onwards

**SoC Highlights**

- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support ultra low power Wi-Fi standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode
- **MCU examples** : GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers, Config Timers, ULP (Ultra Low Power) Timers, Sleeptimer, IOSTREAM, NVM3, MEMLCD, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, ML Blinky, Sensorhub, Joystick and Relative Humidity and Temparature sensor(RHT).
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE whitelisting, and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack, All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS client
- **IDE** : Simplicity Studio with Windows 10(64-bit), Linux, Mac OS
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** :
  - Si-MB4002A Main board
  - SiWx917 Radio boards

|**RadioBoard Type**|**SiWx917B0 with Board Version**|
| :- | :- |
|Common flash|-|
|Common flash|Si917-BRD4338A(2.0)|
|Dual flash|-|
|External PSRAM|Si917-BRD4340A(2.0)|

**NCP Highlights**

- **Host Interface** : SPI
- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode.
- **Wi-Fi** : 2.4GHz Wi-Fi Support, WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE Whitelisting and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack , BLE Stack , All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS Client.
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **Hardware kits to evaluate NCP Mode**
  - NCP EFR Expansion Kit with NCP Radio board (BRD4338A(NCP MBR) + BRD8045A)
  - Wireless Pro kit Mainboard BRD4002A Rev A06
  - EFR32xG21 2.4 GHz 20 dBm Radio Board (BRD4180B Rev A02)

**Release Details**

|**Item**|**Details**|
| :- | :- |
|Release date|Dec 5th, 2023|
|SDK Version|3\.1.1-rc9|
|Firmware Version|1711\.2.10.0.0.3|
|Package Name|WiSeConnect3\_SDK\_3.1.1-rc9|
|Supported RTOS|FreeRTOS|
|Operating Modes Supported|Wi-Fi STA, Wi-Fi AP, Wi-Fi STA+BLE, Wi-Fi STA+AP|
|Build Quality|GA|

- SiWx917 release consists of two components
  - Wireless Firmware - SiWx917 Firmware Binaries
  - Wiseconnect3 Library - Wiseconnect3 SDK library runs on the external host in NCP mode and internal Cortex M4 in SoC Mode.
- This release is meant only for use with designs based on SiWx917 Silicon
- The firmware to load in your design are available in the following format:
  - SiWG917-B.2.10.0.0.x.rps - B0 Full-featured firmware binary

**Features Supported**

**Sensorhub service**

- Support for ADC, SPI and I2C based sensors
- Support for PS2 and sleep wakeups
- SoC OPN based project support in SSv5
  - List of OPN's supported si917-sb00, siwg917m111mgtba, siwg917m100mgtba, siwg917m111xgtba, siwg917m100xntba, siwg917m121xgtba, siwg917m110lgtba and siwg917m141xgtba
- ML blink and Model Profiler support

**MCU**

- ADC Single Channel, ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, GPIO, I2C, I2S, NVM3, OPAMP, PSRAM, PWM, QEI, RTC, SDIO Secondary, SPI Master and Slave, UART, Micro DMA, USART, Watchdog Timer, USART Master and Slave
- UC Supported Peripherals - GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers , Config Timers, ULP (Ultra Low Power) Timers, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, MEMLCD.
- Services - Sleeptimer, IOSTREAM, NVM3 and Power Manager.
- ULP (Ultra Low Power) Peripherals - ulp\_gpio, ulp\_adc ulp\_i2c, ulp\_i2s, ulp\_ir\_decoder, ulp\_spi, ulp\_timer, ulp\_uart, ulp\_udma

**Wi-Fi**

- WPA2/WPA3 Personal, WPS and WPA2-EAP Support for Station Mode
- TCP/IP stack with IPv4, IPv6, TCP, UDP, TLS, HTTP/HTTPS, DHCPv4, DHCPv6, MQTT Client, DNS Client, SNTP client.
- Support for SSL client versions TLSV1.0, TLSV1.2, TLSV1.3 and SSL server versions TLSV1.0 and TLSV1.2
- Wi-Fi STA (802.11n/802.11ax) + 802.11n AP Support
- HE (802.11ax) and Individual TWT Feature Support
- Multiple BSSID feature support as an STA
- Secure OTA support on B0 radio boards.
- Support for LWIP network stack
- Support for AWS MQTT library
- Support for BSD and IoT sockets application programming interface(API)

**Bluetooth Low Energy**

- BLE central & peripheral connections are supported.
- Ultra-low power save is supported.

**Power Save**

- Max PSP, enhanced MAX PSP, Fast PSP, and 802.11ax TWT power save modes are supported in WiFi.
- Only Max PSP power save mode is supported in BLE

**Crypto Support**

- AES, SHA, AES-CCM, HMAC, GCM, Chacha-poly, ECDH and TRNG FW Crypto API support added.
- PSA enabled Mbed TLS support added
- NVM support added for key storage
- Symmetric and asymmetric key storage
- TRNG, AES, SHA, HMAC, GCM, Chacha-poly, ECDH and AES-CCM hardware crypto engine is integrated with PSA crypto.

**Changes and Fixes**

**MCU**

- Added nvm3 init to symmetric_key_storage and asymmetric_key_storage crypto apps

**Wi-Fi**

- Updated Readme file for TWT application
- SQA Bugs- SI91X-14650, SI91X-14630

**BLE**

- None

**CoEx**

- SQA Bugs- SI91X-14657

**System**

- None

**Recommendations**

**System**

- The current revision of SiWx917 B0 has:
  - RAM memory of 672k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_672K\_M4SS\_0K- This mode configures TA with 672k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By default EXT\_FEAT\_352K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_480K\_M4SS\_192K - This mode configures TA with 480k and M4 with 192K bytes of memory
    - EXT\_FEAT\_416K\_M4SS\_256K - This mode configures TA with 416k and M4 with 256K bytes of memory
    - EXT\_FEAT\_352K\_M4SS\_320K - This mode configures TA with 352k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 672K\_M4SS\_0K.
  - SoC mode should not use 672k\_M4SS\_0k memory configuration.
- Set the recommended Power Save Profile (PSP) type to Enhanced Max PSP.

**IDE**

- Download the latest Simplicity Studio (SV5.7.0.1)
- Refer to the latest version of the SoC/NCP "Getting-Started-with-SiWx917" guide for more details

**Wi-Fi & Network Stack****

- The recommended embedded MQTT Publish payload is 1 kBytes.
- It is recommended to enable bit 16 of the 'Extended TCP IP Feature' bit map in the opermode command for all Wi-Fi Socket operations from the host to ensure graceful handling during asynchronous closures from the peer.
- Aggregation (bit 2 of feature\_bit\_map) is recommended to be enabled in opermode. This enables software to aggregate multiple packets to achieve better throughput
- TCP retransmission count value is recommended to be 30 or higher so that the TCP does not disconnect while the rejoin happens.
- To restart the module, the application needs to call sl\_wifi\_deinit() followed by sl\_wifi\_init().
- Register 'Join Fail Callback' function every time when join is called, as in the rejoin failure path the callback is deregistered. If not done, this might result in a scan not functioning on rejoin failure.
- User can enable SL\_SI91X\_EXT\_TCP\_IP\_SSL\_16K\_RECORD in 'Extended TCP IP Feature'bit map in opermode, if HTTPS download is failing after receiving HTTP headers..
- iTWT setup is recommended after IP assignment/TCP connection/application specific socket connections.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, increase TCP / ARP Timeouts at the remote side depending upon the configured TWT interval configured.
- In case of TWT+coex, when using sl\_wifi\_enable\_target\_wakeup\_time API, use TWT wake duration <= 16 ms and TWT wake interval >= 1 sec. If wake duration > 16 ms or TWT wake interval < 1sec, there might be performance issues.
- For iTWT GTK Interval Should be kept max possible value or zero. If GTK interval is not configurable, recommended TWT interval (in case of sl\_wifi\_enable\_target\_wakeup\_time API) or RX Latency (in case of sl\_wifi\_target\_wake\_time\_auto\_selection API) is less than 4sec.
- Disable Power Save for High Throughput Applications.
- The application needs to ensure that it sets RTC with the correct timestamp when the feature is enabled before establishing the SSL connection.
- The timeout value should not be less than 1 second for socket select and socket receive calls. Timeout value of less than 1 second is not currently supported.
- When sl\_wifi\_enable\_target\_wakeup\_time API is used, configuring TWT Wake interval beyond 1 min might lead to disconnections from the AP. Recommended to use TWT wakeup interval of less than or equal to 1 min.
- Embedded MQTT keep alive interval should be either 0 or a value greater than 35 seconds.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, it is recommended to set missed\_beacon\_count of sl\_wifi\_set\_advanced\_client\_configuration API greater than 2 times of the configured TWT Interval.
- Disable power save and suspend any active TWT sessions before triggering HTTP OTAF.
- It is recommended to enable bit 31 of the 'TCP IP Feature' bit map in the opermode command to support multicast protocol

**BLE**

- In BLE, the recommended range of Connection Interval in
  - Power Save (BLE Only) - 100 ms to 1.28 s.
- In BLE, during Connection, the configuration of Scan Interval and Scan Window with the same value is not recommended. The suggested ratio of Scan Window to Scan Interval is 3:4.
- In BLE, if a device is acting as Central, the scan window (in set\_scan\_params and create\_connection commands) must be less than the existing Connection Interval. The suggested ratio of Scan Window to Connection Interval is 2:3.
- In BLE mode, if scanning and advertising are in progress on the SiWx91x module and it subsequently gets connected and moves to the central role, scanning stops else if it moves to the peripheral role, advertising stops. To further establish a connection to another peripheral device or to a central device, the application should give a command for starting advertising and scanning again.

**Co-Existence**

- For concurrent Wi-Fi + BLE, and while a Wi-Fi connection is active, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
- Wi-Fi + BLE Advertising
  - All standard advertising intervals are supported. As Wi-Fi throughput is increased, a slight difference in on-air advertisements compared to configured intervals may be observed.
  - BLE advertising is skipped if the advertising interval collides with Wi-Fi activity.
- Wi-Fi + BLE scanning
  - All standard scan intervals are supported. For better scan results, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
  - BLE scanning will be stopped for intervals that collide with Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Connections
  - All standard connection intervals are supported.
  - For a stable connection, use optimal connection intervals and max supervision timeout in the presence of Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Data Transfer
  - To achieve higher throughput for both Wi-Fi and BLE, use medium connection intervals, such as 45 to 80 ms with maximum supervision timeout.
  - Ensure Wi-Fi activity consumes lower intervals.

**Known Issues**

**Sensorhub**

- Support for ADC FIFO Mode and Multi channel is open
- Support for ADC Powersave is open
- PS1 support in Sensor hub is only for ADC sensor

**Network Stack**

- Sometimes during SSL Handshake, ECC curve parameters generated are wrong, resulting in connection failure with BBD2 error. However, this recovers in the next attempt.
- Randomize the client port if using rapid connect/disconnect of the MQTT session on the same client port with the power save.
- Secure SSL renegotiation not supported in Embedded Networking Stack.

**Wi-Fi**

- TWT device (STA) may not go to sleep in between TWT intervals in case of burst data traffics with data size more than the configured 'average tx throughput', until completion of data transfer.
- There are performance and IOP issues with MU MIMO.
- WPA3 Connection with the Hunting and Pecking algorithm takes about 3-4 seconds.
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.
- Low Wi-Fi+BLE throughput
- TCP/UDP TX/RX Data stall observed in CoEx scenarios
- Observed HTTPS Continuous download fails with TA Power save
- Performance improvements are in progress for lower performance metrics.
- Observed interop issue (connectivity failure) with few AP's when device reset/reboot happens on active connection.
- In concurrent mode, AP restart fails after stopping it with ap\_stop command.
- DUT deep sleep will not work after stopping AP with ap\_stop command.
- Unable to get SNTP async events when coex mode and Power save is enabled
- Fine Tuning 802.11ax Spectral mask in Progress
- Fine Tuning 11b mask in Ch11 in progress
- DUT is unable to connect to the AP with WPA3 security when we enable coex mode (WLAN+BLE) in opermode
- Socket listen API is failing from the second iteration
- Disconnections observed with Netgear RAX120 AP in WPA3 security
- Observed connection failures with some AP's in more channel congestion open lab environment

**BLE**

- HID profile data transfer is not working, when power save is enabled in SoC.
- BLE reconnection is not working in ble_multiconnection_gatt demo, when power save is enabled in SoC

**Co-Existence**

- Observed HTTP continuous download is not happening in Powersave mode after BLE connection established using wifi\_https\_ble\_dual\_role application
- Observed DUT hang while Wi-Fi UDP Tx and BLE continuous scan run for long time.

**System**

- None

**MCU**

- Refer to the respective Radio board user guides for specific pinout details. Examples are targeted to a specific version mentioned in the respective readme.
- Few peripherals like WDT when configured with RO clock is not working as expected. No impact on the feature but the clocks are not accurate.
- ADC Differential mode is not working as expected if negative input value set above 2.4V.
- Few(BOD, Comparator and SysRTC) wakeup resources are not working as expected in Power manager service.

**Limitations and Unsupported Features**

**Wi-Fi/Network Stack**

- TLS 1.3 Server is not supported
- In AP mode, IPv6 Router Advertisements are not supported. Although STA connected to the APUT can transfer IPv6 data to the peers by using SLAAC for address configuration.
- When sl\_wifi\_enable\_target\_wake\_time() API is used, observed occasional MQTT disconnections with longer TWT intervals (>30secs) with embedded MQTT + TWT.
- AMSDU TX is not supported.
- Fragmentation is not supported.
- AMSDUs within AMPDU is not supported.
- Currently, the module does not support Radio Measurement Requests feature of CCX V2
- 802.11k is not supported
- 40 MHz bandwidth for 2.4 GHz band is not supported.
- 802.11J channel 14 is not supported.
- MQTT versions 3 and 4 are supported.
- Maximum of 3 SSL connections are supported in Wi-Fi alone mode.
- In SSL ECC Curve ID supported is 23. SSL handshake with 3rd party clients depends on the SSL ECC Curve ID.
- LP mode is not supported.
- In iTWT mode, downlink data traffic should be limited. Disconnections may be observed if AP fails to send all the buffered data in the next TWT Service Period.
- Number of MBSSIDs processed is limited by the beacon length that can be processed by the stack (which is limited to 1024 bytes). Beacons greater than 1024 Bytes in length will not be processed.
- CoEx + EAP Security in 352K/320k is not feasible. This issue is observed due to a lack of memory in the 352k/320k Memory Configuration. It is supported with other EXT\_FEAT\_416K\_M4SS\_256K and EXT\_FEAT\_480K\_M4SS\_192K memory configurations.
- UL MUMIMO is not supported.
- The embedded HTTP server is not supported.
- Baremetal is not supported.
- Compared to SoC mode, NCP mode has fewer examples, but more will be enabled in upcoming releases.
- Maximum username, topic length and password supported is 62 bytes for embedded MQTT.
- UART 2 Debug prints are supported only on ULP_GPIO_9
- WOW LAN feature is not supported

**BLE**

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.
- BLE TX/RX throughput is less when tested with EFM as compared to EFR
- Maximum supported AE data length is 200 bytes.
- Supports only two ADV\_EXT sets.
- Supports only two BLE connections (1 Central and 1 Peripheral) with AE.
- Advertising Extension feature is not supported in Coexistence.
- The  ae\_central & ae\_peripheral applications are not supported with TA\_352K\_M4\_320K RAM configuration.
- Setting PLL mode as 1 is not supported in Coexistence

**MCU**

- ULP Peripherals examples configurations are for RAM-based execution, as flash is powered off in ULP Mode.
- On 4338a board, two I2C instances(I2C1 and I2C2) are using same GPIOs, so support is not there for using two I2C instances simultaneously.
- I2C High speed and Fastplus mode not working at specifications speed.
- Manual chip select option is not supported when using GSPI.
- SSI Dual and Quad mode is not working as expected.
- ULP SSI wakeup source is not working as expected.
- SPI sensor will not work in the Sensor HUB application.
- For ADC Multichannel sampling rate is limited to less than 15Ksps, number of samples is less than 500 and with a maximum of 4 channel

**Simplicity Studio and Commander**

- Default GDB debug configuration is not supported for SoC projects, work around details provided in "Getting-Started-with-SiWx917"
- Observing flash download failures(ERROR 108) for a few image sizes
- While creating project through Simplicity Studio, "copy contents" option not supported.
- Simplicity commander does not support options under "Debug Lock tools" .
- All projects in the package are compatible with GCC 10.3.1 version.

**Terminology**

|**Term**|**Description**|
| :- | :- |
|**New Features**|These items are new to this release|
|**Changes/Issues Fixed**|Changes made to existing features found in previous software releases.|
||Enhancements to existing product flow and feature set.|
||Bug fixes done in the release|
|**Deprecated Items**|Features or functions or APIs that are removed from the distributed release to align with the software roadmap|
|**Known Issues**|Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases|
|**Limitations/Recommendations**|Describes the limitations on product usage and recommendations for optimal use cases|

**Note**

- Change SPI frequency to 12.5Mhz while measuring BLE throughput with EFR32

<br>

**WiSeConnect3\_SDK\_3.1.1-rc8 Release Notes**

This SDK package supports SoC Mode and NCP Mode for B0:

- In SoC Mode: Customer applications can run on Cortex M4. Wireless, network, and security stacks run on the wireless subsystem.
- In NCP mode: Wireless, network, and security stacks run on the Wireless subsystem. Customer applications run on the external host MCU.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

**Note**: Use Simplicity Studio version SV5.7.0.1 onwards

**SoC Highlights**

- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support ultra low power Wi-Fi standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode
- **MCU examples** : GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers, Config Timers, ULP (Ultra Low Power) Timers, Sleeptimer, IOSTREAM, NVM3, MEMLCD, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, ML Blinky, Sensorhub, Joystick and Relative Humidity and Temparature sensor(RHT).
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE whitelisting, and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack, All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS client
- **IDE** : Simplicity Studio with Windows 10(64-bit), Linux, Mac OS
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** :
  - Si-MB4002A Main board
  - SiWx917 Radio boards

|**RadioBoard Type**|**SiWx917B0 with Board Version**|
| :- | :- |
|Common flash|-|
|Common flash|Si917-BRD4338A(2.0)|
|Dual flash|-|
|External PSRAM|Si917-BRD4340A(2.0)|

**NCP Highlights**

- **Host Interface** : SPI
- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode.
- **Wi-Fi** : 2.4GHz Wi-Fi Support, WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE Whitelisting and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack , BLE Stack , All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS Client.
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **Hardware kits to evaluate NCP Mode**
  - NCP EFR Expansion Kit with NCP Radio board (BRD4338A(NCP MBR) + BRD8045A)
  - Wireless Pro kit Mainboard BRD4002A Rev A06
  - EFR32xG21 2.4 GHz 20 dBm Radio Board (BRD4180B Rev A02)

**Release Details**

|**Item**|**Details**|
| :- | :- |
|Release date|Dec 4th, 2023|
|SDK Version|3\.1.1-rc8|
|Firmware Version|1711\.2.10.0.0.3|
|Package Name|WiSeConnect3\_SDK\_3.1.1-rc8|
|Supported RTOS|FreeRTOS|
|Operating Modes Supported|Wi-Fi STA, Wi-Fi AP, Wi-Fi STA+BLE, Wi-Fi STA+AP|
|Build Quality|GA|

- SiWx917 release consists of two components
  - Wireless Firmware - SiWx917 Firmware Binaries
  - Wiseconnect3 Library - Wiseconnect3 SDK library runs on the external host in NCP mode and internal Cortex M4 in SoC Mode.
- This release is meant only for use with designs based on SiWx917 Silicon
- The firmware to load in your design are available in the following format:
  - SiWG917-B.2.10.0.0.x.rps - B0 Full-featured firmware binary

**Features Supported**

**Sensorhub service**

- Support for ADC, SPI and I2C based sensors
- Support for PS2 and sleep wakeups
- SoC OPN based project support in SSv5
  - List of OPN's supported si917-sb00, siwg917m111mgtba, siwg917m100mgtba, siwg917m111xgtba, siwg917m100xntba, siwg917m121xgtba, siwg917m110lgtba and siwg917m141xgtba
- ML blink and Model Profiler support

**MCU**

- ADC Single Channel, ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, GPIO, I2C, I2S, NVM3, OPAMP, PSRAM, PWM, QEI, RTC, SDIO Secondary, SPI Master and Slave, UART, Micro DMA, USART, Watchdog Timer, USART Master and Slave
- UC Supported Peripherals - GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers , Config Timers, ULP (Ultra Low Power) Timers, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, MEMLCD.
- Services - Sleeptimer, IOSTREAM, NVM3 and Power Manager.
- ULP (Ultra Low Power) Peripherals - ulp\_gpio, ulp\_adc ulp\_i2c, ulp\_i2s, ulp\_ir\_decoder, ulp\_spi, ulp\_timer, ulp\_uart, ulp\_udma

**Wi-Fi**

- WPA2/WPA3 Personal, WPS and WPA2-EAP Support for Station Mode
- TCP/IP stack with IPv4, IPv6, TCP, UDP, TLS, HTTP/HTTPS, DHCPv4, DHCPv6, MQTT Client, DNS Client, SNTP client.
- Support for SSL client versions TLSV1.0, TLSV1.2, TLSV1.3 and SSL server versions TLSV1.0 and TLSV1.2
- Wi-Fi STA (802.11n/802.11ax) + 802.11n AP Support
- HE (802.11ax) and Individual TWT Feature Support
- Multiple BSSID feature support as an STA
- Secure OTA support on B0 radio boards.
- Support for LWIP network stack
- Support for AWS MQTT library
- Support for BSD and IoT sockets application programming interface(API)

**Bluetooth Low Energy**

- BLE central & peripheral connections are supported.
- Ultra-low power save is supported.

**Power Save**

- Max PSP, enhanced MAX PSP, Fast PSP, and 802.11ax TWT power save modes are supported in WiFi.
- Only Max PSP power save mode is supported in BLE

**Crypto Support**

- AES, SHA, AES-CCM, HMAC, GCM, Chacha-poly, ECDH and TRNG FW Crypto API support added.
- PSA enabled Mbed TLS support added
- NVM support added for key storage
- Symmetric and asymmetric key storage
- TRNG, AES, SHA, HMAC, GCM, Chacha-poly, ECDH and AES-CCM hardware crypto engine is integrated with PSA crypto.

**Changes and Fixes**

**MCU**

- Fixes I2C compilation error in studio for brd4343a and brd4343b.
- SQA Bugs- SI91X-14629, SI91X-14546, SI91X-14543, SI91X-14517

**Wi-Fi**

- SQA Bugs- SI91X-14623, SI91X-14630

**BLE**

- SQA Bugs- SI91X-14600

**CoEx**

- SQA Bugs- SI91X-14027, SI91X-14026, SI91X-14621

**System**

- None

**Recommendations**

**System**

- The current revision of SiWx917 B0 has:
  - RAM memory of 672k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_672K\_M4SS\_0K- This mode configures TA with 672k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By default EXT\_FEAT\_352K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_480K\_M4SS\_192K - This mode configures TA with 480k and M4 with 192K bytes of memory
    - EXT\_FEAT\_416K\_M4SS\_256K - This mode configures TA with 416k and M4 with 256K bytes of memory
    - EXT\_FEAT\_352K\_M4SS\_320K - This mode configures TA with 352k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 672K\_M4SS\_0K.
  - SoC mode should not use 672k\_M4SS\_0k memory configuration.
- Set the recommended Power Save Profile (PSP) type to Enhanced Max PSP.

**IDE**

- Download the latest Simplicity Studio (SV5.7.0.1)
- Refer to the latest version of the SoC/NCP "Getting-Started-with-SiWx917" guide for more details

**Wi-Fi & Network Stack****

- The recommended embedded MQTT Publish payload is 1 kBytes.
- It is recommended to enable bit 16 of the 'Extended TCP IP Feature' bit map in the opermode command for all Wi-Fi Socket operations from the host to ensure graceful handling during asynchronous closures from the peer.
- Aggregation (bit 2 of feature\_bit\_map) is recommended to be enabled in opermode. This enables software to aggregate multiple packets to achieve better throughput
- TCP retransmission count value is recommended to be 30 or higher so that the TCP does not disconnect while the rejoin happens.
- To restart the module, the application needs to call sl\_wifi\_deinit() followed by sl\_wifi\_init().
- Register 'Join Fail Callback' function every time when join is called, as in the rejoin failure path the callback is deregistered. If not done, this might result in a scan not functioning on rejoin failure.
- User can enable SL\_SI91X\_EXT\_TCP\_IP\_SSL\_16K\_RECORD in 'Extended TCP IP Feature'bit map in opermode, if HTTPS download is failing after receiving HTTP headers..
- iTWT setup is recommended after IP assignment/TCP connection/application specific socket connections.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, increase TCP / ARP Timeouts at the remote side depending upon the configured TWT interval configured.
- In case of TWT+coex, when using sl\_wifi\_enable\_target\_wakeup\_time API, use TWT wake duration <= 16 ms and TWT wake interval >= 1 sec. If wake duration > 16 ms or TWT wake interval < 1sec, there might be performance issues.
- For iTWT GTK Interval Should be kept max possible value or zero. If GTK interval is not configurable, recommended TWT interval (in case of sl\_wifi\_enable\_target\_wakeup\_time API) or RX Latency (in case of sl\_wifi\_target\_wake\_time\_auto\_selection API) is less than 4sec.
- Disable Power Save for High Throughput Applications.
- The application needs to ensure that it sets RTC with the correct timestamp when the feature is enabled before establishing the SSL connection.
- The timeout value should not be less than 1 second for socket select and socket receive calls. Timeout value of less than 1 second is not currently supported.
- When sl\_wifi\_enable\_target\_wakeup\_time API is used, configuring TWT Wake interval beyond 1 min might lead to disconnections from the AP. Recommended to use TWT wakeup interval of less than or equal to 1 min.
- Embedded MQTT keep alive interval should be either 0 or a value greater than 35 seconds.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, it is recommended to set missed\_beacon\_count of sl\_wifi\_set\_advanced\_client\_configuration API greater than 2 times of the configured TWT Interval.
- Disable power save and suspend any active TWT sessions before triggering HTTP OTAF.
- It is recommended to enable bit 31 of the 'TCP IP Feature' bit map in the opermode command to support multicast protocol

**BLE**

- In BLE, the recommended range of Connection Interval in
  - Power Save (BLE Only) - 100 ms to 1.28 s.
- In BLE, during Connection, the configuration of Scan Interval and Scan Window with the same value is not recommended. The suggested ratio of Scan Window to Scan Interval is 3:4.
- In BLE, if a device is acting as Central, the scan window (in set\_scan\_params and create\_connection commands) must be less than the existing Connection Interval. The suggested ratio of Scan Window to Connection Interval is 2:3.
- In BLE mode, if scanning and advertising are in progress on the SiWx91x module and it subsequently gets connected and moves to the central role, scanning stops else if it moves to the peripheral role, advertising stops. To further establish a connection to another peripheral device or to a central device, the application should give a command for starting advertising and scanning again.

**Co-Existence**

- For concurrent Wi-Fi + BLE, and while a Wi-Fi connection is active, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
- Wi-Fi + BLE Advertising
  - All standard advertising intervals are supported. As Wi-Fi throughput is increased, a slight difference in on-air advertisements compared to configured intervals may be observed.
  - BLE advertising is skipped if the advertising interval collides with Wi-Fi activity.
- Wi-Fi + BLE scanning
  - All standard scan intervals are supported. For better scan results, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
  - BLE scanning will be stopped for intervals that collide with Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Connections
  - All standard connection intervals are supported.
  - For a stable connection, use optimal connection intervals and max supervision timeout in the presence of Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Data Transfer
  - To achieve higher throughput for both Wi-Fi and BLE, use medium connection intervals, such as 45 to 80 ms with maximum supervision timeout.
  - Ensure Wi-Fi activity consumes lower intervals.

**Known Issues**

**Sensorhub**

- Support for ADC FIFO Mode and Multi channel is open
- Support for ADC Powersave is open
- PS1 support in Sensor hub is only for ADC sensor

**Network Stack**

- Sometimes during SSL Handshake, ECC curve parameters generated are wrong, resulting in connection failure with BBD2 error. However, this recovers in the next attempt.
- Randomize the client port if using rapid connect/disconnect of the MQTT session on the same client port with the power save.
- Secure SSL renegotiation not supported in Embedded Networking Stack.

**Wi-Fi**

- TWT device (STA) may not go to sleep in between TWT intervals in case of burst data traffics with data size more than the configured 'average tx throughput', until completion of data transfer.
- There are performance and IOP issues with MU MIMO.
- WPA3 Connection with the Hunting and Pecking algorithm takes about 3-4 seconds.
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.
- Low Wi-Fi+BLE throughput
- TCP/UDP TX/RX Data stall observed in CoEx scenarios
- Observed HTTPS Continuous download fails with TA Power save
- Performance improvements are in progress for lower performance metrics.
- Observed interop issue (connectivity failure) with few AP's when device reset/reboot happens on active connection.
- In concurrent mode, AP restart fails after stopping it with ap\_stop command.
- DUT deep sleep will not work after stopping AP with ap\_stop command.
- Unable to get SNTP async events when coex mode and Power save is enabled
- Fine Tuning 802.11ax Spectral mask in Progress
- Fine Tuning 11b mask in Ch11 in progress
- DUT is unable to connect to the AP with WPA3 security when we enable coex mode (WLAN+BLE) in opermode
- Socket listen API is failing from the second iteration
- Disconnections observed with Netgear RAX120 AP in WPA3 security
- Observed connection failures with some AP's in more channel congestion open lab environment

**BLE**

- HID profile data transfer is not working, when power save is enabled in SoC.
- BLE reconnection is not working in ble_multiconnection_gatt demo, when power save is enabled in SoC

**Co-Existence**

- Observed HTTP continuous download is not happening in Powersave mode after BLE connection established using wifi\_https\_ble\_dual\_role application
- Observed DUT hang while Wi-Fi UDP Tx and BLE continuous scan run for long time.

**System**

- None

**MCU**

- Refer to the respective Radio board user guides for specific pinout details. Examples are targeted to a specific version mentioned in the respective readme.
- Few peripherals like WDT when configured with RO clock is not working as expected. No impact on the feature but the clocks are not accurate.
- ADC Differential mode is not working as expected if negative input value set above 2.4V.
- Few(BOD, Comparator and SysRTC) wakeup resources are not working as expected in Power manager service.

**Limitations and Unsupported Features**

**Wi-Fi/Network Stack**

- TLS 1.3 Server is not supported
- In AP mode, IPv6 Router Advertisements are not supported. Although STA connected to the APUT can transfer IPv6 data to the peers by using SLAAC for address configuration.
- When sl\_wifi\_enable\_target\_wake\_time() API is used, observed occasional MQTT disconnections with longer TWT intervals (>30secs) with embedded MQTT + TWT.
- AMSDU TX is not supported.
- Fragmentation is not supported.
- AMSDUs within AMPDU is not supported.
- Currently, the module does not support Radio Measurement Requests feature of CCX V2
- 802.11k is not supported
- 40 MHz bandwidth for 2.4 GHz band is not supported.
- 802.11J channel 14 is not supported.
- MQTT versions 3 and 4 are supported.
- Maximum of 3 SSL connections are supported in Wi-Fi alone mode.
- In SSL ECC Curve ID supported is 23. SSL handshake with 3rd party clients depends on the SSL ECC Curve ID.
- LP mode is not supported.
- In iTWT mode, downlink data traffic should be limited. Disconnections may be observed if AP fails to send all the buffered data in the next TWT Service Period.
- Number of MBSSIDs processed is limited by the beacon length that can be processed by the stack (which is limited to 1024 bytes). Beacons greater than 1024 Bytes in length will not be processed.
- CoEx + EAP Security in 352K/320k is not feasible. This issue is observed due to a lack of memory in the 352k/320k Memory Configuration. It is supported with other EXT\_FEAT\_416K\_M4SS\_256K and EXT\_FEAT\_480K\_M4SS\_192K memory configurations.
- UL MUMIMO is not supported.
- The embedded HTTP server is not supported.
- Baremetal is not supported.
- Compared to SoC mode, NCP mode has fewer examples, but more will be enabled in upcoming releases.
- Maximum username, topic length and password supported is 62 bytes for embedded MQTT.
- UART 2 Debug prints are supported only on ULP_GPIO_9
- WOW LAN feature is not supported

**BLE**

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.
- BLE TX/RX throughput is less when tested with EFM as compared to EFR
- Maximum supported AE data length is 200 bytes.
- Supports only two ADV\_EXT sets.
- Supports only two BLE connections (1 Central and 1 Peripheral) with AE.
- Advertising Extension feature is not supported in Coexistence.
- The  ae\_central & ae\_peripheral applications are not supported with TA\_352K\_M4\_320K RAM configuration.
- Setting PLL mode as 1 is not supported in Coexistence

**MCU**

- ULP Peripherals examples configurations are for RAM-based execution, as flash is powered off in ULP Mode.
- On 4338a board, two I2C instances(I2C1 and I2C2) are using same GPIOs, so support is not there for using two I2C instances simultaneously.
- I2C High speed and Fastplus mode not working at specifications speed.
- Manual chip select option is not supported when using GSPI.
- SSI Dual and Quad mode is not working as expected.
- ULP SSI wakeup source is not working as expected.
- SPI sensor will not work in the Sensor HUB application.
- For ADC Multichannel sampling rate is limited to less than 15Ksps, number of samples is less than 500 and with a maximum of 4 channel

**Simplicity Studio and Commander**

- Default GDB debug configuration is not supported for SoC projects, work around details provided in "Getting-Started-with-SiWx917"
- Observing flash download failures(ERROR 108) for a few image sizes
- While creating project through Simplicity Studio, "copy contents" option not supported.
- Simplicity commander does not support options under "Debug Lock tools" .
- All projects in the package are compatible with GCC 10.3.1 version.

**Terminology**

|**Term**|**Description**|
| :- | :- |
|**New Features**|These items are new to this release|
|**Changes/Issues Fixed**|Changes made to existing features found in previous software releases.|
||Enhancements to existing product flow and feature set.|
||Bug fixes done in the release|
|**Deprecated Items**|Features or functions or APIs that are removed from the distributed release to align with the software roadmap|
|**Known Issues**|Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases|
|**Limitations/Recommendations**|Describes the limitations on product usage and recommendations for optimal use cases|

**Note**

- Change SPI frequency to 12.5Mhz while measuring BLE throughput with EFR32

<br>

**WiSeConnect3\_SDK\_3.1.1-rc7 Release Notes**

This SDK package supports SoC Mode and NCP Mode for B0:

- In SoC Mode: Customer applications can run on Cortex M4. Wireless, network, and security stacks run on the wireless subsystem.
- In NCP mode: Wireless, network, and security stacks run on the Wireless subsystem. Customer applications run on the external host MCU.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

**Note**: Use Simplicity Studio version SV5.7.0.1 onwards

**SoC Highlights**

- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support ultra low power Wi-Fi standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode
- **MCU examples** : GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers, Config Timers, ULP (Ultra Low Power) Timers, Sleeptimer, IOSTREAM, NVM3, MEMLCD, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, ML Blinky, Sensorhub, Joystick and Relative Humidity and Temparature sensor(RHT).
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE whitelisting, and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack, All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS client
- **IDE** : Simplicity Studio with Windows 10(64-bit), Linux, Mac OS
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** :
  - Si-MB4002A Main board
  - SiWx917 Radio boards

|**RadioBoard Type**|**SiWx917B0 with Board Version**|
| :- | :- |
|Common flash|-|
|Common flash|Si917-BRD4338A(2.0)|
|Dual flash|-|
|External PSRAM|Si917-BRD4340A(2.0)|

**NCP Highlights**

- **Host Interface** : SPI
- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode.
- **Wi-Fi** : 2.4GHz Wi-Fi Support, WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE Whitelisting and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack , BLE Stack , All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS Client.
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **Hardware kits to evaluate NCP Mode**
  - NCP EFR Expansion Kit with NCP Radio board (BRD4338A(NCP MBR) + BRD8045A)
  - Wireless Pro kit Mainboard BRD4002A Rev A06
  - EFR32xG21 2.4 GHz 20 dBm Radio Board (BRD4180B Rev A02)

**Release Details**

|**Item**|**Details**|
| :- | :- |
|Release date|Nov 29th, 2023|
|SDK Version|3\.1.1-rc7|
|Firmware Version|1711\.2.10.0.0.3|
|Package Name|WiSeConnect3\_SDK\_3.1.1-rc7|
|Supported RTOS|FreeRTOS|
|Operating Modes Supported|Wi-Fi STA, Wi-Fi AP, Wi-Fi STA+BLE, Wi-Fi STA+AP|
|Build Quality|GA|

- SiWx917 release consists of two components
  - Wireless Firmware - SiWx917 Firmware Binaries
  - Wiseconnect3 Library - Wiseconnect3 SDK library runs on the external host in NCP mode and internal Cortex M4 in SoC Mode.
- This release is meant only for use with designs based on SiWx917 Silicon
- The firmware to load in your design are available in the following format:
  - SiWG917-B.2.10.0.0.x.rps - B0 Full-featured firmware binary

**Features Supported**

**Sensorhub service**

- Support for ADC, SPI and I2C based sensors
- Support for PS2 and sleep wakeups
- SoC OPN based project support in SSv5
  - List of OPN's supported si917-sb00, siwg917m111mgtba, siwg917m100mgtba, siwg917m111xgtba, siwg917m100xntba, siwg917m121xgtba, siwg917m110lgtba and siwg917m141xgtba
- ML blink and Model Profiler support

**MCU**

- ADC Single Channel, ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, GPIO, I2C, I2S, NVM3, OPAMP, PSRAM, PWM, QEI, RTC, SDIO Secondary, SPI Master and Slave, UART, Micro DMA, USART, Watchdog Timer, USART Master and Slave
- UC Supported Peripherals - GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers , Config Timers, ULP (Ultra Low Power) Timers, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, MEMLCD.
- Services - Sleeptimer, IOSTREAM, NVM3 and Power Manager.
- ULP (Ultra Low Power) Peripherals - ulp\_gpio, ulp\_adc ulp\_i2c, ulp\_i2s, ulp\_ir\_decoder, ulp\_spi, ulp\_timer, ulp\_uart, ulp\_udma

**Wi-Fi**

- WPA2/WPA3 Personal, WPS and WPA2-EAP Support for Station Mode
- TCP/IP stack with IPv4, IPv6, TCP, UDP, TLS, HTTP/HTTPS, DHCPv4, DHCPv6, MQTT Client, DNS Client, SNTP client.
- Support for SSL client versions TLSV1.0, TLSV1.2, TLSV1.3 and SSL server versions TLSV1.0 and TLSV1.2
- Wi-Fi STA (802.11n/802.11ax) + 802.11n AP Support
- HE (802.11ax) and Individual TWT Feature Support
- Multiple BSSID feature support as an STA
- Secure OTA support on B0 radio boards.
- Support for LWIP network stack
- Support for AWS MQTT library
- Support for BSD and IoT sockets application programming interface(API)

**Bluetooth Low Energy**

- BLE central & peripheral connections are supported.
- Ultra-low power save is supported.

**Power Save**

- Max PSP, enhanced MAX PSP, Fast PSP, and 802.11ax TWT power save modes are supported in WiFi.
- Only Max PSP power save mode is supported in BLE

**Crypto Support**

- AES, SHA, AES-CCM, HMAC, GCM, Chacha-poly, ECDH and TRNG FW Crypto API support added.
- PSA enabled Mbed TLS support added
- NVM support added for key storage
- Symmetric and asymmetric key storage
- TRNG, AES, SHA, HMAC, GCM, Chacha-poly, ECDH and AES-CCM hardware crypto engine is integrated with PSA crypto.

**Changes and Fixes**

**MCU**

- Fixed Matter Window App gives Hardfault
- SQA Bugs- SI91X-14535, SI91X-14513, SI91X-14605

**Wi-Fi**

- Fixes build error for STM32
- Standardized preprocessor defines (Reference: <https://confluence.silabs.com/display/EN/Build+Parameters+used+in+Wiseconnect3+SDK>)
- Update documentation for sl_si91x_request_tx_test_info_t
- Update BSD socket documentation with usage of sl_si91x_get_saved_firmware_status() API
- Update readme of wlan_rf_test example application
- Updation of sl_wifi_get_firmware_version() API signature
- Removal of sl_wifi_get_full_firmware_version() API
- Updation of sl_wifi_antenna_t documentation
- Updation of MQTT readme with reference to error codes.
- Removal of NCP note for preprocessor defines in all readmes
- Removal of asynchrous firmware update handling in http_otaf example.
- Update data_callback handling in wlan_throughput example.
- SQA Bugs - SI91X-13827, SI91X-13723, SI91X-13827, SI91X-14555, SI91X-14423, SI91X-14505, SI91X-14602, SI91X-14492, SI91X-14158,

**BLE**

- Added timer support for NCP and SOC(without powersave case) in wifi_station_ble_provisioning_aws example.

**CoEx**

- Updation of wlan_station_ble_provisioning_with_aws cloud example with alarm based powersave mode

**System**

- None

**Recommendations**

**System**

- The current revision of SiWx917 B0 has:
  - RAM memory of 672k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_672K\_M4SS\_0K- This mode configures TA with 672k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By default EXT\_FEAT\_352K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_480K\_M4SS\_192K - This mode configures TA with 480k and M4 with 192K bytes of memory
    - EXT\_FEAT\_416K\_M4SS\_256K - This mode configures TA with 416k and M4 with 256K bytes of memory
    - EXT\_FEAT\_352K\_M4SS\_320K - This mode configures TA with 352k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 672K\_M4SS\_0K.
  - SoC mode should not use 672k\_M4SS\_0k memory configuration.
- Set the recommended Power Save Profile (PSP) type to Enhanced Max PSP.

**IDE**

- Download the latest Simplicity Studio (SV5.7.0.1)
- Refer to the latest version of the SoC/NCP "Getting-Started-with-SiWx917" guide for more details

**Wi-Fi & Network Stack****

- The recommended embedded MQTT Publish payload is 1 kBytes.
- It is recommended to enable bit 16 of the 'Extended TCP IP Feature' bit map in the opermode command for all Wi-Fi Socket operations from the host to ensure graceful handling during asynchronous closures from the peer.
- Aggregation (bit 2 of feature\_bit\_map) is recommended to be enabled in opermode. This enables software to aggregate multiple packets to achieve better throughput
- TCP retransmission count value is recommended to be 30 or higher so that the TCP does not disconnect while the rejoin happens.
- To restart the module, the application needs to call sl\_wifi\_deinit() followed by sl\_wifi\_init().
- Register 'Join Fail Callback' function every time when join is called, as in the rejoin failure path the callback is deregistered. If not done, this might result in a scan not functioning on rejoin failure.
- User can enable SL\_SI91X\_EXT\_TCP\_IP\_SSL\_16K\_RECORD in 'Extended TCP IP Feature'bit map in opermode, if HTTPS download is failing after receiving HTTP headers..
- iTWT setup is recommended after IP assignment/TCP connection/application specific socket connections.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, increase TCP / ARP Timeouts at the remote side depending upon the configured TWT interval configured.
- In case of TWT+coex, when using sl\_wifi\_enable\_target\_wakeup\_time API, use TWT wake duration <= 16 ms and TWT wake interval >= 1 sec. If wake duration > 16 ms or TWT wake interval < 1sec, there might be performance issues.
- For iTWT GTK Interval Should be kept max possible value or zero. If GTK interval is not configurable, recommended TWT interval (in case of sl\_wifi\_enable\_target\_wakeup\_time API) or RX Latency (in case of sl\_wifi\_target\_wake\_time\_auto\_selection API) is less than 4sec.
- Disable Power Save for High Throughput Applications.
- The application needs to ensure that it sets RTC with the correct timestamp when the feature is enabled before establishing the SSL connection.
- The timeout value should not be less than 1 second for socket select and socket receive calls. Timeout value of less than 1 second is not currently supported.
- When sl\_wifi\_enable\_target\_wakeup\_time API is used, configuring TWT Wake interval beyond 1 min might lead to disconnections from the AP. Recommended to use TWT wakeup interval of less than or equal to 1 min.
- Embedded MQTT keep alive interval should be either 0 or a value greater than 35 seconds.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, it is recommended to set missed\_beacon\_count of sl\_wifi\_set\_advanced\_client\_configuration API greater than 2 times of the configured TWT Interval.
- Disable power save and suspend any active TWT sessions before triggering HTTP OTAF.
- It is recommended to enable bit 31 of the 'TCP IP Feature' bit map in the opermode command to support multicast protocol

**BLE**

- In BLE, the recommended range of Connection Interval in
  - Power Save (BLE Only) - 100 ms to 1.28 s.
- In BLE, during Connection, the configuration of Scan Interval and Scan Window with the same value is not recommended. The suggested ratio of Scan Window to Scan Interval is 3:4.
- In BLE, if a device is acting as Central, the scan window (in set\_scan\_params and create\_connection commands) must be less than the existing Connection Interval. The suggested ratio of Scan Window to Connection Interval is 2:3.
- In BLE mode, if scanning and advertising are in progress on the SiWx91x module and it subsequently gets connected and moves to the central role, scanning stops else if it moves to the peripheral role, advertising stops. To further establish a connection to another peripheral device or to a central device, the application should give a command for starting advertising and scanning again.

**Co-Existence**

- For concurrent Wi-Fi + BLE, and while a Wi-Fi connection is active, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
- Wi-Fi + BLE Advertising
  - All standard advertising intervals are supported. As Wi-Fi throughput is increased, a slight difference in on-air advertisements compared to configured intervals may be observed.
  - BLE advertising is skipped if the advertising interval collides with Wi-Fi activity.
- Wi-Fi + BLE scanning
  - All standard scan intervals are supported. For better scan results, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
  - BLE scanning will be stopped for intervals that collide with Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Connections
  - All standard connection intervals are supported.
  - For a stable connection, use optimal connection intervals and max supervision timeout in the presence of Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Data Transfer
  - To achieve higher throughput for both Wi-Fi and BLE, use medium connection intervals, such as 45 to 80 ms with maximum supervision timeout.
  - Ensure Wi-Fi activity consumes lower intervals.

**Known Issues**

**Sensorhub**

- Support for ADC FIFO Mode and Multi channel is open
- Support for ADC Powersave is open
- PS1 support in Sensor hub is only for ADC sensor

**Network Stack**

- Sometimes during SSL Handshake, ECC curve parameters generated are wrong, resulting in connection failure with BBD2 error. However, this recovers in the next attempt.
- Randomize the client port if using rapid connect/disconnect of the MQTT session on the same client port with the power save.
- Secure SSL renegotiation not supported in Embedded Networking Stack.

**Wi-Fi**

- TWT device (STA) may not go to sleep in between TWT intervals in case of burst data traffics with data size more than the configured 'average tx throughput', until completion of data transfer.
- There are performance and IOP issues with MU MIMO.
- WPA3 Connection with the Hunting and Pecking algorithm takes about 3-4 seconds.
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.
- Low Wi-Fi+BLE throughput
- TCP/UDP TX/RX Data stall observed in CoEx scenarios
- Observed HTTPS Continuous download fails with TA Power save
- Performance improvements are in progress for lower performance metrics.
- Observed interop issue (connectivity failure) with few AP's when device reset/reboot happens on active connection.
- In concurrent mode, AP restart fails after stopping it with ap\_stop command.
- DUT deep sleep will not work after stopping AP with ap\_stop command.
- Unable to get SNTP async events when coex mode and Power save is enabled
- Fine Tuning 802.11ax Spectral mask in Progress
- Fine Tuning 11b mask in Ch11 in progress
- DUT is unable to connect to the AP with WPA3 security when we enable coex mode (WLAN+BLE) in opermode
- Socket listen API is failing from the second iteration
- Disconnections observed with Netgear RAX120 AP in WPA3 security
- Observed connection failures with some AP's in more channel congestion open lab environment

**BLE**

- HID profile data transfer is not working, when power save is enabled in SoC.
- BLE reconnection is not working in ble_multiconnection_gatt demo, when power save is enabled in SoC

**Co-Existence**

- Observed HTTP continuous download is not happening in Powersave mode after BLE connection established using wifi\_https\_ble\_dual\_role application
- Observed DUT hang while Wi-Fi UDP Tx and BLE continuous scan run for long time.

**System**

- None

**MCU**

- Refer to the respective Radio board user guides for specific pinout details. Examples are targeted to a specific version mentioned in the respective readme.
- Few peripherals like WDT when configured with RO clock is not working as expected. No impact on the feature but the clocks are not accurate.
- ADC Differential mode is not working as expected if negative input value set above 2.4V.
- Few(BOD, Comparator and SysRTC) wakeup resources are not working as expected in Power manager service.

**Limitations and Unsupported Features**

**Wi-Fi/Network Stack**

- TLS 1.3 Server is not supported
- In AP mode, IPv6 Router Advertisements are not supported. Although STA connected to the APUT can transfer IPv6 data to the peers by using SLAAC for address configuration.
- When sl\_wifi\_enable\_target\_wake\_time() API is used, observed occasional MQTT disconnections with longer TWT intervals (>30secs) with embedded MQTT + TWT.
- AMSDU TX is not supported.
- Fragmentation is not supported.
- AMSDUs within AMPDU is not supported.
- Currently, the module does not support Radio Measurement Requests feature of CCX V2
- 802.11k is not supported
- 40 MHz bandwidth for 2.4 GHz band is not supported.
- 802.11J channel 14 is not supported.
- MQTT versions 3 and 4 are supported.
- Maximum of 3 SSL connections are supported in Wi-Fi alone mode.
- In SSL ECC Curve ID supported is 23. SSL handshake with 3rd party clients depends on the SSL ECC Curve ID.
- LP mode is not supported.
- In iTWT mode, downlink data traffic should be limited. Disconnections may be observed if AP fails to send all the buffered data in the next TWT Service Period.
- Number of MBSSIDs processed is limited by the beacon length that can be processed by the stack (which is limited to 1024 bytes). Beacons greater than 1024 Bytes in length will not be processed.
- CoEx + EAP Security in 352K/320k is not feasible. This issue is observed due to a lack of memory in the 352k/320k Memory Configuration. It is supported with other EXT\_FEAT\_416K\_M4SS\_256K and EXT\_FEAT\_480K\_M4SS\_192K memory configurations.
- UL MUMIMO is not supported.
- The embedded HTTP server is not supported.
- Baremetal is not supported.
- Compared to SoC mode, NCP mode has fewer examples, but more will be enabled in upcoming releases.
- Maximum username, topic length and password supported is 62 bytes for embedded MQTT.
- UART 2 Debug prints are supported only on ULP_GPIO_9
- WOW LAN feature is not supported

**BLE**

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.
- BLE TX/RX throughput is less when tested with EFM as compared to EFR
- Maximum supported AE data length is 200 bytes.
- Supports only two ADV\_EXT sets.
- Supports only two BLE connections (1 Central and 1 Peripheral) with AE.
- Advertising Extension feature is not supported in Coexistence.
- The  ae\_central & ae\_peripheral applications are not supported with TA\_352K\_M4\_320K RAM configuration.
- Setting PLL mode as 1 is not supported in Coexistence

**MCU**

- ULP Peripherals examples configurations are for RAM-based execution, as flash is powered off in ULP Mode.
- On 4338a board, two I2C instances(I2C1 and I2C2) are using same GPIOs, so support is not there for using two I2C instances simultaneously.
- I2C High speed and Fastplus mode not working at specifications speed.
- Manual chip select option is not supported when using GSPI.
- SSI Dual and Quad mode is not working as expected.
- ULP SSI wakeup source is not working as expected.
- SPI sensor will not work in the Sensor HUB application.

**Simplicity Studio and Commander**

- Default GDB debug configuration is not supported for SoC projects, work around details provided in "Getting-Started-with-SiWx917"
- Observing flash download failures(ERROR 108) for a few image sizes
- While creating project through Simplicity Studio, "copy contents" option not supported.
- Simplicity commander does not support options under "Debug Lock tools" .
- All projects in the package are compatible with GCC 10.3.1 version.

**Terminology**

|**Term**|**Description**|
| :- | :- |
|**New Features**|These items are new to this release|
|**Changes/Issues Fixed**|Changes made to existing features found in previous software releases.|
||Enhancements to existing product flow and feature set.|
||Bug fixes done in the release|
|**Deprecated Items**|Features or functions or APIs that are removed from the distributed release to align with the software roadmap|
|**Known Issues**|Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases|
|**Limitations/Recommendations**|Describes the limitations on product usage and recommendations for optimal use cases|

**Note**

- Change SPI frequency to 12.5Mhz while measuring BLE throughput with EFR32

<br>

**WiSeConnect3\_SDK\_3.1.1-rc6 Release Notes**

This SDK package supports SoC Mode and NCP Mode for B0:

- In SoC Mode: Customer applications can run on Cortex M4. Wireless, network, and security stacks run on the wireless subsystem.
- In NCP mode: Wireless, network, and security stacks run on the Wireless subsystem. Customer applications run on the external host MCU.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

**Note**: Use Simplicity Studio version SV5.7.0.1 onwards

**SoC Highlights**

- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support ultra low power Wi-Fi standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode
- **MCU examples** : GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers, Config Timers, ULP (Ultra Low Power) Timers, Sleeptimer, IOSTREAM, NVM3, MEMLCD, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, ML Blinky, Sensorhub, Joystick and Relative Humidity and Temparature sensor(RHT).
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE whitelisting, and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack, All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS client
- **IDE** : Simplicity Studio with Windows 10(64-bit), Linux, Mac OS
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** :
  - Si-MB4002A Main board
  - SiWx917 Radio boards

|**RadioBoard Type**|**SiWx917B0 with Board Version**|
| :- | :- |
|Common flash|-|
|Common flash|Si917-BRD4338A(2.0)|
|Dual flash|-|
|External PSRAM|Si917-BRD4340A(2.0)|

**NCP Highlights**

- **Host Interface** : SPI
- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode.
- **Wi-Fi** : 2.4GHz Wi-Fi Support, WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE Whitelisting and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack , BLE Stack , All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS Client.
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **Hardware kits to evaluate NCP Mode**
  - NCP EFR Expansion Kit with NCP Radio board (BRD4338A(NCP MBR) + BRD8045A)
  - Wireless Pro kit Mainboard BRD4002A Rev A06
  - EFR32xG21 2.4 GHz 20 dBm Radio Board (BRD4180B Rev A02)

**Release Details**

|**Item**|**Details**|
| :- | :- |
|Release date|Nov 24th, 2023|
|SDK Version|3\.1.1-rc6|
|Firmware Version|1711\.2.10.0.0.3|
|Package Name|WiSeConnect3\_SDK\_3.1.1-rc6|
|Supported RTOS|FreeRTOS|
|Operating Modes Supported|Wi-Fi STA, Wi-Fi AP, Wi-Fi STA+BLE, Wi-Fi STA+AP|
|Build Quality|GA|

- SiWx917 release consists of two components
  - Wireless Firmware - SiWx917 Firmware Binaries
  - Wiseconnect3 Library - Wiseconnect3 SDK library runs on the external host in NCP mode and internal Cortex M4 in SoC Mode.
- This release is meant only for use with designs based on SiWx917 Silicon
- The firmware to load in your design are available in the following format:
  - SiWG917-B.2.10.0.0.x.rps - B0 Full-featured firmware binary

**Features Supported**

**Sensorhub service**

- Support for ADC, SPI and I2C based sensors
- Support for PS2 and sleep wakeups
- SoC OPN based project support in SSv5
  - List of OPN's supported si917-sb00, siwg917m111mgtba, siwg917m100mgtba, siwg917m111xgtba, siwg917m100xntba, siwg917m121xgtba, siwg917m110lgtba and siwg917m141xgtba
- ML blink and Model Profiler support

**MCU**

- ADC Single Channel, ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, GPIO, I2C, I2S, NVM3, OPAMP, PSRAM, PWM, QEI, RTC, SDIO Secondary, SPI Master and Slave, UART, Micro DMA, USART, Watchdog Timer, USART Master and Slave
- UC Supported Peripherals - GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers , Config Timers, ULP (Ultra Low Power) Timers, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, MEMLCD.
- Services - Sleeptimer, IOSTREAM, NVM3 and Power Manager.
- ULP (Ultra Low Power) Peripherals - ulp\_gpio, ulp\_adc ulp\_i2c, ulp\_i2s, ulp\_ir\_decoder, ulp\_spi, ulp\_timer, ulp\_uart, ulp\_udma

**Wi-Fi**

- WPA2/WPA3 Personal, WPS and WPA2-EAP Support for Station Mode
- TCP/IP stack with IPv4, IPv6, TCP, UDP, TLS, HTTP/HTTPS, DHCPv4, DHCPv6, MQTT Client, DNS Client, SNTP client.
- Support for SSL client versions TLSV1.0, TLSV1.2, TLSV1.3 and SSL server versions TLSV1.0 and TLSV1.2
- Wi-Fi STA (802.11n/802.11ax) + 802.11n AP Support
- HE (802.11ax) and Individual TWT Feature Support
- Multiple BSSID feature support as an STA
- Secure OTA support on B0 radio boards.
- Support for LWIP network stack
- Support for AWS MQTT library
- Support for BSD and IoT sockets application programming interface(API)

**Bluetooth Low Energy**

- BLE central & peripheral connections are supported.
- Ultra-low power save is supported.

**Power Save**

- Max PSP, enhanced MAX PSP, Fast PSP, and 802.11ax TWT power save modes are supported in WiFi.
- Only Max PSP power save mode is supported in BLE

**Crypto Support**

- AES, SHA, AES-CCM, HMAC, GCM, Chacha-poly, ECDH and TRNG FW Crypto API support added.
- PSA enabled Mbed TLS support added
- NVM support added for key storage
- Symmetric and asymmetric key storage
- TRNG, AES, SHA, HMAC, GCM, Chacha-poly, ECDH and AES-CCM hardware crypto engine is integrated with PSA crypto.

**Changes and Fixes**

**MCU**

- SQA Bugs- SI91X-14542, SI91X-14546, SI91X-12956

**Wi-Fi**

- Fix STM32 build error
- Standardise Build Parameters
- Standaridize enum, structures, typedef and api signatures
- Replaced the WIFISDK with WISECONNECT in embedded_mqtt_client
- cleanup of sl_si91x_host_interface.h file
- Added TA MQTT errors in sl_additional_status.h
- Remove free RTOS direct dependency from SDK
- Updated Readme in wlan_rf_test
- SQA Bugs - SI91X-14365, SI91X-14418

**BLE**

- Documentation cleanup for BLE
- Printf statments are replaced with LOG_PRINT in Coex examples

**CoEx**

- None

**System**

- None

**Recommendations**

**System**

- The current revision of SiWx917 B0 has:
  - RAM memory of 672k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_672K\_M4SS\_0K- This mode configures TA with 672k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By default EXT\_FEAT\_352K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_480K\_M4SS\_192K - This mode configures TA with 480k and M4 with 192K bytes of memory
    - EXT\_FEAT\_416K\_M4SS\_256K - This mode configures TA with 416k and M4 with 256K bytes of memory
    - EXT\_FEAT\_352K\_M4SS\_320K - This mode configures TA with 352k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 672K\_M4SS\_0K.
  - SoC mode should not use 672k\_M4SS\_0k memory configuration.
- Set the recommended Power Save Profile (PSP) type to Enhanced Max PSP.

**IDE**

- Download the latest Simplicity Studio (SV5.7.0.1)
- Refer to the latest version of the SoC/NCP "Getting-Started-with-SiWx917" guide for more details

**Network Stack**

- The recommended embedded MQTT Publish payload is 1 kBytes.

**Wi-Fi**

- It is recommended to enable bit 16 of the 'Extended TCP IP Feature' bit map in the opermode command for all Wi-Fi Socket operations from the host to ensure graceful handling during asynchronous closures from the peer.
- Aggregation (bit 2 of feature\_bit\_map) is recommended to be enabled in opermode. This enables software to aggregate multiple packets to achieve better throughput
- TCP retransmission count value is recommended to be 30 or higher so that the TCP does not disconnect while the rejoin happens.
- To restart the module, the application needs to call sl\_wifi\_deinit() followed by sl\_wifi\_init().
- Register 'Join Fail Callback' function every time when join is called, as in the rejoin failure path the callback is deregistered. If not done, this might result in a scan not functioning on rejoin failure.
- User can enable SL\_SI91X\_EXT\_TCP\_IP\_SSL\_16K\_RECORD in 'Extended TCP IP Feature'bit map in opermode, if HTTPS download is failing after receiving HTTP headers..
- iTWT setup is recommended after IP assignment/TCP connection/application specific socket connections.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, increase TCP / ARP Timeouts at the remote side depending upon the configured TWT interval configured.
- In case of TWT+coex, when using sl\_wifi\_enable\_target\_wakeup\_time API, use TWT wake duration <= 16 ms and TWT wake interval >= 1 sec. If wake duration > 16 ms or TWT wake interval < 1sec, there might be performance issues.
- For iTWT GTK Interval Should be kept max possible value or zero. If GTK interval is not configurable, recommended TWT interval (in case of sl\_wifi\_enable\_target\_wakeup\_time API) or RX Latency (in case of sl\_wifi\_target\_wake\_time\_auto\_selection API) is less than 4sec.
- Disable Power Save for High Throughput Applications.
- The application needs to ensure that it sets RTC with the correct timestamp when the feature is enabled before establishing the SSL connection.
- The timeout value should not be less than 1 second for socket select and socket receive calls. Timeout value of less than 1 second is not currently supported.
- When sl\_wifi\_enable\_target\_wakeup\_time API is used, configuring TWT Wake interval beyond 1 min might lead to disconnections from the AP. Recommended to use TWT wakeup interval of less than or equal to 1 min.
- Embedded MQTT keep alive interval should be either 0 or a value greater than 35 seconds.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, it is recommended to set missed\_beacon\_count of sl\_wifi\_set\_advanced\_client\_configuration API greater than 2 times of the configured TWT Interval.

**BLE**

- In BLE, the recommended range of Connection Interval in
  - Power Save (BLE Only) - 100 ms to 1.28 s.
- In BLE, during Connection, the configuration of Scan Interval and Scan Window with the same value is not recommended. The suggested ratio of Scan Window to Scan Interval is 3:4.
- In BLE, if a device is acting as Central, the scan window (in set\_scan\_params and create\_connection commands) must be less than the existing Connection Interval. The suggested ratio of Scan Window to Connection Interval is 2:3.
- In BLE mode, if scanning and advertising are in progress on the SiWx91x module and it subsequently gets connected and moves to the central role, scanning stops else if it moves to the peripheral role, advertising stops. To further establish a connection to another peripheral device or to a central device, the application should give a command for starting advertising and scanning again.

**Co-Existence**

- For concurrent Wi-Fi + BLE, and while a Wi-Fi connection is active, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
- Wi-Fi + BLE Advertising
  - All standard advertising intervals are supported. As Wi-Fi throughput is increased, a slight difference in on-air advertisements compared to configured intervals may be observed.
  - BLE advertising is skipped if the advertising interval collides with Wi-Fi activity.
- Wi-Fi + BLE scanning
  - All standard scan intervals are supported. For better scan results, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
  - BLE scanning will be stopped for intervals that collide with Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Connections
  - All standard connection intervals are supported.
  - For a stable connection, use optimal connection intervals and max supervision timeout in the presence of Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Data Transfer
  - To achieve higher throughput for both Wi-Fi and BLE, use medium connection intervals, such as 45 to 80 ms with maximum supervision timeout.
  - Ensure Wi-Fi activity consumes lower intervals.

**Known Issues**

**Sensorhub**

- Support for ADC FIFO Mode and Multi channel is open
- Support for ADC Powersave is open
- PS1 support in Sensor hub is only for ADC sensor

**Network Stack**

- Sometimes during SSL Handshake, ECC curve parameters generated are wrong, resulting in connection failure with BBD2 error. However, this recovers in the next attempt.
- Randomize the client port if using rapid connect/disconnect of the MQTT session on the same client port with the power save.
- Secure SSL renegotiation not supported in Embedded Networking Stack.

**Wi-Fi**

- TWT device (STA) may not go to sleep in between TWT intervals in case of burst data traffics with data size more than the configured 'average tx throughput', until completion of data transfer.
- There are performance and IOP issues with MU MIMO.
- WPA3 Connection with the Hunting and Pecking algorithm takes about 3-4 seconds.
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.
- Low Wi-Fi+BLE throughput
- TCP/UDP TX/RX Data stall observed in CoEx scenarios
- Observed HTTPS Continuous download fails with TA Power save
- Performance improvements are in progress for lower performance metrics.
- Observed interop issue (connectivity failure) with few AP's when device reset/reboot happens on active connection.
- In concurrent mode, AP restart fails after stopping it with ap\_stop command.
- DUT deep sleep will not work after stopping AP with ap\_stop command.
- Unable to get SNTP async events when coex mode and Power save is enabled
- Fine Tuning 802.11ax Spectral mask in Progress
- Fine Tuning 11b mask in Ch11 in progress
- DUT is unable to connect to the AP with WPA3 security when we enable coex mode (WLAN+BLE) in opermode
- Socket listen API is failing from the second iteration
- Disconnections observed with Netgear RAX120 AP in WPA3 security
- Observed connection failures with some AP's in more channel congestion open lab environment

**BLE**

- HID profile data transfer is not working, when power save is enabled in SoC.
- BLE reconnection is not working in ble_multiconnection_gatt demo, when power save is enabled in SoC

**Co-Existence**

- Observed HTTP continuous download is not happening in Powersave mode after BLE connection established using wifi\_https\_ble\_dual\_role application
- Observed DUT hang while Wi-Fi UDP Tx and BLE continuous scan run for long time.

**System**

- None

**MCU**

- Refer to the respective Radio board user guides for specific pinout details. Examples are targeted to a specific version mentioned in the respective readme.
- Few peripherals like WDT when configured with RO clock is not working as expected. No impact on the feature but the clocks are not accurate.
- ADC Differential mode is not working as expected if negative input value set above 2.4V.
- Few(BOD, Comparator and SysRTC) wakeup resources are not working as expected in Power manager service.

**Limitations and Unsupported Features**

**Wi-Fi/Network Stack**

- TLS 1.3 Server is not supported
- In AP mode, IPv6 Router Advertisements are not supported. Although STA connected to the APUT can transfer IPv6 data to the peers by using SLAAC for address configuration.
- When sl\_wifi\_enable\_target\_wake\_time() API is used, observed occasional MQTT disconnections with longer TWT intervals (>30secs) with embedded MQTT + TWT.
- AMSDU TX is not supported.
- Fragmentation is not supported.
- AMSDUs within AMPDU is not supported.
- Currently, the module does not support Radio Measurement Requests feature of CCX V2
- 802.11k is not supported
- 40 MHz bandwidth for 2.4 GHz band is not supported.
- 802.11J channel 14 is not supported.
- MQTT versions 3 and 4 are supported.
- Maximum of 3 SSL connections are supported in Wi-Fi alone mode.
- In SSL ECC Curve ID supported is 23. SSL handshake with 3rd party clients depends on the SSL ECC Curve ID.
- LP mode is not supported.
- In iTWT mode, downlink data traffic should be limited. Disconnections may be observed if AP fails to send all the buffered data in the next TWT Service Period.
- Number of MBSSIDs processed is limited by the beacon length that can be processed by the stack (which is limited to 1024 bytes). Beacons greater than 1024 Bytes in length will not be processed.
- CoEx + EAP Security in 352K/320k is not feasible. This issue is observed due to a lack of memory in the 352k/320k Memory Configuration. It is supported with other EXT\_FEAT\_416K\_M4SS\_256K and EXT\_FEAT\_480K\_M4SS\_192K memory configurations.
- UL MUMIMO is not supported.
- The embedded HTTP server is not supported.
- Baremetal is not supported
- Compared to SoC mode, NCP mode has fewer examples, but more will be enabled in upcoming releases.

**BLE**

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.
- BLE TX/RX throughput is less when tested with EFM as compared to EFR
- Maximum supported AE data length is 200 bytes.
- Supports only two ADV\_EXT sets.
- Supports only two BLE connections (1 Central and 1 Peripheral) with AE.
- Advertising Extension feature is not supported in Coexistence.
- The  ae\_central & ae\_peripheral applications are not supported with TA\_352K\_M4\_320K RAM configuration.
- Setting PLL mode as 1 is not supported in Coexistence

**MCU**

- ULP Peripherals examples configurations are for RAM-based execution, as flash is powered off in ULP Mode.
- On 4338a board, two I2C instances(I2C1 and I2C2) are using same GPIOs, so support is not there for using two I2C instances simultaneously.
- I2C High speed and Fastplus mode not working at specifications speed.
- Manual chip select option is not supported when using GSPI.
- SSI Dual and Quad mode is not working as expected.
- ULP SSI wakeup source is not working as expected.
- SPI sensor will not work in the Sensor HUB application.

**Simplicity Studio and Commander**

- Default GDB debug configuration is not supported for SoC projects, work around details provided in "Getting-Started-with-SiWx917"
- Observing flash download failures(ERROR 108) for a few image sizes
- While creating project through Simplicity Studio, "copy contents" option not supported.
- Simplicity commander does not support options under "Debug Lock tools" .
- All projects in the package are compatible with GCC 10.3.1 version.

**Terminology**

|**Term**|**Description**|
| :- | :- |
|**New Features**|These items are new to this release|
|**Changes/Issues Fixed**|Changes made to existing features found in previous software releases.|
||Enhancements to existing product flow and feature set.|
||Bug fixes done in the release|
|**Deprecated Items**|Features or functions or APIs that are removed from the distributed release to align with the software roadmap|
|**Known Issues**|Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases|
|**Limitations/Recommendations**|Describes the limitations on product usage and recommendations for optimal use cases|

**Note**

- Change SPI frequency to 12.5Mhz while measuring BLE throughput with EFR32

<br>

**WiSeConnect3\_SDK\_3.1.1-rc5 Release Notes**

This SDK package supports SoC Mode and NCP Mode for B0:

- In SoC Mode: Customer applications can run on Cortex M4. Wireless, network, and security stacks run on the wireless subsystem.
- In NCP mode: Wireless, network, and security stacks run on the Wireless subsystem. Customer applications run on the external host MCU.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

**Note**: Use Simplicity Studio version SV5.7.0.1 onwards

**SoC Highlights**

- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support ultra low power Wi-Fi standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode
- **MCU examples** : GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers, Config Timers, ULP (Ultra Low Power) Timers, Sleeptimer, IOSTREAM, NVM3, MEMLCD, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, ML Blinky, Sensorhub, Joystick and Relative Humidity and Temparature sensor(RHT).
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE whitelisting, and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack, All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS client
- **IDE** : Simplicity Studio with Windows 10(64-bit), Linux, Mac OS
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** :
  - Si-MB4002A Main board
  - SiWx917 Radio boards

|**RadioBoard Type**|**SiWx917B0 with Board Version**|
| :- | :- |
|Common flash|-|
|Common flash|Si917-BRD4338A(2.0)|
|Dual flash|-|
|External PSRAM|Si917-BRD4340A(2.0)|

**NCP Highlights**

- **Host Interface** : SPI
- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode.
- **Wi-Fi** : 2.4GHz Wi-Fi Support, WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE Whitelisting and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack , BLE Stack , All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS Client.
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **Hardware kits to evaluate NCP Mode**
  - NCP EFR Expansion Kit with NCP Radio board (BRD4338A(NCP MBR) + BRD8045A)
  - Wireless Pro kit Mainboard BRD4002A Rev A06
  - EFR32xG21 2.4 GHz 20 dBm Radio Board (BRD4180B Rev A02)

**Release Details**

|**Item**|**Details**|
| :- | :- |
|Release date|Nov 17th, 2023|
|SDK Version|3\.1.1-rc5|
|Firmware Version|1711\.2.10.0.0.2|
|Package Name|WiSeConnect3\_SDK\_3.1.1-rc5|
|Supported RTOS|FreeRTOS|
|Operating Modes Supported|Wi-Fi STA, Wi-Fi AP, Wi-Fi STA+BLE, Wi-Fi STA+AP|
|Build Quality|GA|

- SiWx917 release consists of two components
  - Wireless Firmware - SiWx917 Firmware Binaries
  - Wiseconnect3 Library - Wiseconnect3 SDK library runs on the external host in NCP mode and internal Cortex M4 in SoC Mode.
- This release is meant only for use with designs based on SiWx917 Silicon
- The firmware to load in your design are available in the following format:
  - SiWG917-B.2.10.0.0.x.rps - B0 Full-featured firmware binary

**Features Supported**

**Sensorhub service**

- Support for ADC, SPI and I2C based sensors
- Support for PS2 and sleep wakeups
- SoC OPN based project support in SSv5
  - List of OPN's supported si917-sb00, siwg917m111mgtba, siwg917m100mgtba, siwg917m111xgtba, siwg917m100xntba, siwg917m121xgtba, siwg917m110lgtba and siwg917m141xgtba
- ML blink and Model Profiler support

**MCU**

- ADC Single Channel, ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, GPIO, I2C, I2S, NVM3, OPAMP, PSRAM, PWM, QEI, RTC, SDIO Secondary, SPI Master and Slave, UART, Micro DMA, USART, Watchdog Timer, USART Master and Slave
- UC Supported Peripherals - GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers , Config Timers, ULP (Ultra Low Power) Timers, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, MEMLCD.
- Services - Sleeptimer, IOSTREAM, NVM3 and Power Manager.
- ULP (Ultra Low Power) Peripherals - ulp\_gpio, ulp\_adc ulp\_i2c, ulp\_i2s, ulp\_ir\_decoder, ulp\_spi, ulp\_timer, ulp\_uart, ulp\_udma

**Wi-Fi**

- WPA2/WPA3 Personal, WPS and WPA2-EAP Support for Station Mode
- TCP/IP stack with IPv4, IPv6, TCP, UDP, TLS, HTTP/HTTPS, DHCPv4, DHCPv6, MQTT Client, DNS Client, SNTP client.
- Support for SSL client versions TLSV1.0, TLSV1.2, TLSV1.3 and SSL server versions TLSV1.0 and TLSV1.2
- Wi-Fi STA (802.11n/802.11ax) + 802.11n AP Support
- HE (802.11ax) and Individual TWT Feature Support
- Multiple BSSID feature support as an STA
- Secure OTA support on B0 radio boards.
- Support for LWIP network stack
- Support for AWS MQTT library
- Support for BSD and IoT sockets application programming interface(API)

**Bluetooth Low Energy**

- BLE central & peripheral connections are supported.
- Ultra-low power save is supported.

**Power Save**

- Max PSP, enhanced MAX PSP, Fast PSP, and 802.11ax TWT power save modes are supported in WiFi.
- Only Max PSP power save mode is supported in BLE

**Crypto Support**

- AES, SHA, AES-CCM, HMAC, GCM, Chacha-poly, ECDH and TRNG FW Crypto API support added.
- PSA enabled Mbed TLS support added
- NVM support added for key storage
- Symmetric and asymmetric key storage
- TRNG, AES, SHA, HMAC, GCM, Chacha-poly, ECDH and AES-CCM hardware crypto engine is integrated with PSA crypto.

**Changes and Fixes**

**MCU**

- SQA Bugs - SI91X-14488, SI91X-14424 and SI91X-14345

**Wi-Fi**

- Added sl_si91x_host_is_in_irq_context api required for STM32
- Added sl_wifi_device_context_t in sl_wifi_init
- Updated cli_demo example to support OPEN mode and fixed IP address printing issue
- Updated SLC component description
- sl net event handler cleanup
- Documentation cleanup of error code module
- Documentation cleanup of firmware update module
- Documentation cleanup of wi-fi module
- Documentation cleanup of si91x driver module
- Updated documentation of sl_net_init
- Updated the documentation for sl_wifi_encryption_t
- Updated API module titles
- Updated Readme for aws_device_shadow_logging_stats
- Updated the readme for Power Save Standby Associated example
- Added for loop to run select call in iteration in si91x_async_select_app example
- SQA Bugs - SI91X-14338, SI91X-14480

**BLE**

- Resolved the issue of application hanging when calling the rsi_ble_read_transmit_power API.
- Removed unwanted BLE API's.
- SQA Bugs: SI91X-14435, SI91X-14436, SI91X-14441, SI91X-14453, SI91X-14248, SI91X-14472, SI91X-14311

**CoEx**

- Fix pll_mode value change for coex mode
- SQA Bugs - SI91X-14412, SI91X-14512, SI91X-14475, SI91X-14506

**System**

- None

**Recommendations**

**System**

- The current revision of SiWx917 B0 has:
  - RAM memory of 672k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_672K\_M4SS\_0K- This mode configures TA with 672k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By default EXT\_FEAT\_352K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_480K\_M4SS\_192K - This mode configures TA with 480k and M4 with 192K bytes of memory
    - EXT\_FEAT\_416K\_M4SS\_256K - This mode configures TA with 416k and M4 with 256K bytes of memory
    - EXT\_FEAT\_352K\_M4SS\_320K - This mode configures TA with 352k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 672K\_M4SS\_0K.
  - SoC mode should not use 672k\_M4SS\_0k memory configuration.
- Set the recommended Power Save Profile (PSP) type to Enhanced Max PSP.

**IDE**

- Download the latest Simplicity Studio (SV5.7.0.1)
- Refer to the latest version of the SoC/NCP "Getting-Started-with-SiWx917" guide for more details

**Network Stack**

- The recommended embedded MQTT Publish payload is 1 kBytes.

**Wi-Fi**

- It is recommended to enable bit 16 of the 'Extended TCP IP Feature' bit map in the opermode command for all Wi-Fi Socket operations from the host to ensure graceful handling during asynchronous closures from the peer.
- Aggregation (bit 2 of feature\_bit\_map) is recommended to be enabled in opermode. This enables software to aggregate multiple packets to achieve better throughput
- TCP retransmission count value is recommended to be 30 or higher so that the TCP does not disconnect while the rejoin happens.
- To restart the module, the application needs to call sl\_wifi\_deinit() followed by sl\_wifi\_init().
- Register 'Join Fail Callback' function every time when join is called, as in the rejoin failure path the callback is deregistered. If not done, this might result in a scan not functioning on rejoin failure.
- User can enable SL\_SI91X\_EXT\_TCP\_IP\_SSL\_16K\_RECORD in 'Extended TCP IP Feature'bit map in opermode, if HTTPS download is failing after receiving HTTP headers..
- iTWT setup is recommended after IP assignment/TCP connection/application specific socket connections.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, increase TCP / ARP Timeouts at the remote side depending upon the configured TWT interval configured.
- In case of TWT+coex, when using sl\_wifi\_enable\_target\_wakeup\_time API, use TWT wake duration <= 16 ms and TWT wake interval >= 1 sec. If wake duration > 16 ms or TWT wake interval < 1sec, there might be performance issues.
- For iTWT GTK Interval Should be kept max possible value or zero. If GTK interval is not configurable, recommended TWT interval (in case of sl\_wifi\_enable\_target\_wakeup\_time API) or RX Latency (in case of sl\_wifi\_target\_wake\_time\_auto\_selection API) is less than 4sec.
- Disable Power Save for High Throughput Applications.
- The application needs to ensure that it sets RTC with the correct timestamp when the feature is enabled before establishing the SSL connection.
- The timeout value should not be less than 1 second for socket select and socket receive calls. Timeout value of less than 1 second is not currently supported.
- When sl\_wifi\_enable\_target\_wakeup\_time API is used, configuring TWT Wake interval beyond 1 min might lead to disconnections from the AP. Recommended to use TWT wakeup interval of less than or equal to 1 min.
- Embedded MQTT keep alive interval should be either 0 or a value greater than 35 seconds.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, it is recommended to set missed\_beacon\_count of sl\_wifi\_set\_advanced\_client\_configuration API greater than 2 times of the configured TWT Interval.

**BLE**

- In BLE, the recommended range of Connection Interval in
  - Power Save (BLE Only) - 100 ms to 1.28 s.
- In BLE, during Connection, the configuration of Scan Interval and Scan Window with the same value is not recommended. The suggested ratio of Scan Window to Scan Interval is 3:4.
- In BLE, if a device is acting as Central, the scan window (in set\_scan\_params and create\_connection commands) must be less than the existing Connection Interval. The suggested ratio of Scan Window to Connection Interval is 2:3.
- In BLE mode, if scanning and advertising are in progress on the SiWx91x module and it subsequently gets connected and moves to the central role, scanning stops else if it moves to the peripheral role, advertising stops. To further establish a connection to another peripheral device or to a central device, the application should give a command for starting advertising and scanning again.

**Co-Existence**

- For concurrent Wi-Fi + BLE, and while a Wi-Fi connection is active, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
- Wi-Fi + BLE Advertising
  - All standard advertising intervals are supported. As Wi-Fi throughput is increased, a slight difference in on-air advertisements compared to configured intervals may be observed.
  - BLE advertising is skipped if the advertising interval collides with Wi-Fi activity.
- Wi-Fi + BLE scanning
  - All standard scan intervals are supported. For better scan results, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
  - BLE scanning will be stopped for intervals that collide with Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Connections
  - All standard connection intervals are supported.
  - For a stable connection, use optimal connection intervals and max supervision timeout in the presence of Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Data Transfer
  - To achieve higher throughput for both Wi-Fi and BLE, use medium connection intervals, such as 45 to 80 ms with maximum supervision timeout.
  - Ensure Wi-Fi activity consumes lower intervals.

**Known Issues**

**Sensorhub**

- Support for ADC FIFO Mode and Multi channel is open
- Support for ADC Powersave is open
- PS1 support in Sensor hub is only for ADC sensor

**Network Stack**

- Sometimes during SSL Handshake, ECC curve parameters generated are wrong, resulting in connection failure with BBD2 error. However, this recovers in the next attempt.
- Randomize the client port if using rapid connect/disconnect of the MQTT session on the same client port with the power save.
- Secure SSL renegotiation not supported in Embedded Networking Stack.

**Wi-Fi**

- TWT device (STA) may not go to sleep in between TWT intervals in case of burst data traffics with data size more than the configured 'average tx throughput', until completion of data transfer.
- There are performance and IOP issues with MU MIMO.
- WPA3 Connection with the Hunting and Pecking algorithm takes about 3-4 seconds.
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.
- Low Wi-Fi+BLE throughput
- TCP/UDP TX/RX Data stall observed in CoEx scenarios
- Observed HTTPS Continuous download fails with TA Power save
- Performance improvements are in progress for lower performance metrics.
- Observed interop issue (connectivity failure) with few AP's when device reset/reboot happens on active connection.
- In concurrent mode, AP restart fails after stopping it with ap\_stop command.
- DUT deep sleep will not work after stopping AP with ap\_stop command.
- Unable to get SNTP async events when coex mode and Power save is enabled
- Fine Tuning 802.11ax Spectral mask in Progress
- Fine Tuning 11b mask in Ch11 in progress
- DUT is unable to connect to the AP with WPA3 security when we enable coex mode (WLAN+BLE) in opermode
- Socket listen API is failing from the second iteration
- Disconnections observed with Netgear RAX120 AP in WPA3 security
- Observed connection failures with some AP's in more channel congestion open lab environment

**BLE**

- HID profile data transfer is not working, when power save is enabled in SoC.
- BLE reconnection is not working in ble_multiconnection_gatt demo, when power save is enabled in SoC

**Co-Existence**

- Observed HTTP continuous download is not happening in Powersave mode after BLE connection established using wifi\_https\_ble\_dual\_role application
- Observed DUT hang while Wi-Fi UDP Tx and BLE continuous scan run for long time.

**System**

- None

**MCU**

- Refer to the respective Radio board user guides for specific pinout details. Examples are targeted to a specific version mentioned in the respective readme.
- Few peripherals like WDT when configured with RO clock is not working as expected. No impact on the feature but the clocks are not accurate.
- ADC Differential mode is not working as expected if negative input value set above 2.4V.
- Few(BOD, Comparator and SysRTC) wakeup resources are not working as expected in Power manager service.

**Limitations and Unsupported Features**

**Wi-Fi/Network Stack**

- TLS 1.3 Server is not supported
- In AP mode, IPv6 Router Advertisements are not supported. Although STA connected to the APUT can transfer IPv6 data to the peers by using SLAAC for address configuration.
- When sl\_wifi\_enable\_target\_wake\_time() API is used, observed occasional MQTT disconnections with longer TWT intervals (>30secs) with embedded MQTT + TWT.
- AMSDU TX is not supported.
- Fragmentation is not supported.
- AMSDUs within AMPDU is not supported.
- Currently, the module does not support Radio Measurement Requests feature of CCX V2
- 802.11k is not supported
- 40 MHz bandwidth for 2.4 GHz band is not supported.
- 802.11J channel 14 is not supported.
- MQTT versions 3 and 4 are supported.
- Maximum of 3 SSL connections are supported in Wi-Fi alone mode.
- In SSL ECC Curve ID supported is 23. SSL handshake with 3rd party clients depends on the SSL ECC Curve ID.
- LP mode is not supported.
- In iTWT mode, downlink data traffic should be limited. Disconnections may be observed if AP fails to send all the buffered data in the next TWT Service Period.
- Number of MBSSIDs processed is limited by the beacon length that can be processed by the stack (which is limited to 1024 bytes). Beacons greater than 1024 Bytes in length will not be processed.
- CoEx + EAP Security in 352K/320k is not feasible. This issue is observed due to a lack of memory in the 352k/320k Memory Configuration. It is supported with other EXT\_FEAT\_416K\_M4SS\_256K and EXT\_FEAT\_480K\_M4SS\_192K memory configurations.
- UL MUMIMO is not supported.
- The embedded HTTP server is not supported.
- Baremetal is not supported
- Compared to SoC mode, NCP mode has fewer examples, but more will be enabled in upcoming releases.

**BLE**

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.
- BLE TX/RX throughput is less when tested with EFM as compared to EFR
- Maximum supported AE data length is 200 bytes.
- Supports only two ADV\_EXT sets.
- Supports only two BLE connections (1 Central and 1 Peripheral) with AE.
- Advertising Extension feature is not supported in Coexistence.
- The  ae\_central & ae\_peripheral applications are not supported with TA\_352K\_M4\_320K RAM configuration.
- Setting PLL mode as 1 is not supported in Coexistence

**MCU**

- ULP Peripherals examples configurations are for RAM-based execution, as flash is powered off in ULP Mode.
- On 4338a board, two I2C instances(I2C1 and I2C2) are using same GPIOs, so support is not there for using two I2C instances simultaneously.
- I2C High speed and Fastplus mode not working at specifications speed.
- Manual chip select option is not supported when using GSPI.
- SSI Dual and Quad mode is not working as expected.
- ULP SSI wakeup source is not working as expected.
- SPI sensor will not work in the Sensor HUB application.

**Simplicity Studio and Commander**

- Default GDB debug configuration is not supported for SoC projects, work around details provided in "Getting-Started-with-SiWx917"
- Observing flash download failures(ERROR 108) for a few image sizes
- While creating project through Simplicity Studio, "copy contents" option not supported.
- Simplicity commander does not support options under "Debug Lock tools" .
- All projects in the package are compatible with GCC 10.3.1 version.

**Terminology**

|**Term**|**Description**|
| :- | :- |
|**New Features**|These items are new to this release|
|**Changes/Issues Fixed**|Changes made to existing features found in previous software releases.|
||Enhancements to existing product flow and feature set.|
||Bug fixes done in the release|
|**Deprecated Items**|Features or functions or APIs that are removed from the distributed release to align with the software roadmap|
|**Known Issues**|Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases|
|**Limitations/Recommendations**|Describes the limitations on product usage and recommendations for optimal use cases|

**Note**

- Change SPI frequency to 12.5Mhz while measuring BLE throughput with EFR32

<br>

**WiSeConnect3\_SDK\_3.1.1-rc4 Release Notes**

This SDK package supports SoC Mode and NCP Mode for B0:

- In SoC Mode: Customer applications can run on Cortex M4. Wireless, network, and security stacks run on the wireless subsystem.
- In NCP mode: Wireless, network, and security stacks run on the Wireless subsystem. Customer applications run on the external host MCU.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

**Note**: Use Simplicity Studio version SV5.7.0.1 onwards

**SoC Highlights**

- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support ultra low power Wi-Fi standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode
- **MCU examples** : GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers, Config Timers, ULP (Ultra Low Power) Timers, Sleeptimer, IOSTREAM, NVM3, MEMLCD, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, ML Blinky, Sensorhub, Joystick and Relative Humidity and Temparature sensor(RHT).
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE whitelisting, and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack, All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS client
- **IDE** : Simplicity Studio with Windows 10(64-bit), Linux, Mac OS
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** :
  - Si-MB4002A Main board
  - SiWx917 Radio boards

|**RadioBoard Type**|**SiWx917B0 with Board Version**|
| :- | :- |
|Common flash|-|
|Common flash|Si917-BRD4338A(2.0)|
|Dual flash|-|
|External PSRAM|Si917-BRD4340A(2.0)|

**NCP Highlights**

- **Host Interface** : SPI
- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode.
- **Wi-Fi** : 2.4GHz Wi-Fi Support, WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE Whitelisting and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack , BLE Stack , All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS Client.
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **Hardware kits to evaluate NCP Mode**
  - NCP EFR Expansion Kit with NCP Radio board (BRD4338A(NCP MBR) + BRD8045A)
  - Wireless Pro kit Mainboard BRD4002A Rev A06
  - EFR32xG21 2.4 GHz 20 dBm Radio Board (BRD4180B Rev A02)

**Release Details**

|**Item**|**Details**|
| :- | :- |
|Release date|Nov 9th, 2023|
|SDK Version|3\.1.1-rc4|
|Firmware Version|1711\.2.10.0.0.1|
|Package Name|WiSeConnect3\_SDK\_3.1.1-rc4|
|Supported RTOS|FreeRTOS|
|Operating Modes Supported|Wi-Fi STA, Wi-Fi AP, Wi-Fi STA+BLE, Wi-Fi STA+AP|
|Build Quality|GA|

- SiWx917 release consists of two components
  - Wireless Firmware - SiWx917 Firmware Binaries
  - Wiseconnect3 Library - Wiseconnect3 SDK library runs on the external host in NCP mode and internal Cortex M4 in SoC Mode.
- This release is meant only for use with designs based on SiWx917 Silicon
- The firmware to load in your design are available in the following format:
  - SiWG917-B.2.10.0.0.x.rps - B0 Full-featured firmware binary

**Features Supported**

**Sensorhub service**

- Support for ADC, SPI and I2C based sensors
- Support for PS2 and sleep wakeups
- SoC OPN based project support in SSv5
  - List of OPN's supported si917-sb00, siwg917m111mgtba, siwg917m100mgtba, siwg917m111xgtba, siwg917m100xntba, siwg917m121xgtba, siwg917m110lgtba and siwg917m141xgtba
- ML blink and Model Profiler support

**MCU**

- ADC Single Channel, ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, GPIO, I2C, I2S, NVM3, OPAMP, PSRAM, PWM, QEI, RTC, SDIO Secondary, SPI Master and Slave, UART, Micro DMA, USART, Watchdog Timer, USART Master and Slave
- UC Supported Peripherals - GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers , Config Timers, ULP (Ultra Low Power) Timers, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, MEMLCD.
- Services - Sleeptimer, IOSTREAM, NVM3 and Power Manager.
- ULP (Ultra Low Power) Peripherals - ulp\_gpio, ulp\_adc ulp\_i2c, ulp\_i2s, ulp\_ir\_decoder, ulp\_spi, ulp\_timer, ulp\_uart, ulp\_udma

**Wi-Fi**

- WPA2/WPA3 Personal, WPS and WPA2-EAP Support for Station Mode
- TCP/IP stack with IPv4, IPv6, TCP, UDP, TLS, HTTP/HTTPS, DHCPv4, DHCPv6, MQTT Client, DNS Client, SNTP client.
- Support for SSL client versions TLSV1.0, TLSV1.2, TLSV1.3 and SSL server versions TLSV1.0 and TLSV1.2
- Wi-Fi STA (802.11n/802.11ax) + 802.11n AP Support
- HE (802.11ax) and Individual TWT Feature Support
- Multiple BSSID feature support as an STA
- Secure OTA support on B0 radio boards.
- Support for LWIP network stack
- Support for AWS MQTT library
- Support for BSD and IoT sockets application programming interface(API)

**Bluetooth Low Energy**

- BLE central & peripheral connections are supported.
- Ultra-low power save is supported.

**Power Save**

- Max PSP, enhanced MAX PSP, Fast PSP, and 802.11ax TWT power save modes are supported in WiFi.
- Only Max PSP power save mode is supported in BLE

**Crypto Support**

- AES, SHA, AES-CCM, HMAC, GCM, Chacha-poly, ECDH and TRNG FW Crypto API support added.
- PSA enabled Mbed TLS support added
- NVM support added for key storage
- Symmetric and asymmetric key storage
- TRNG, AES, SHA, HMAC, GCM, Chacha-poly, ECDH and AES-CCM hardware crypto engine is integrated with PSA crypto.

**Changes and Fixes**

**MCU**

- SQA Bugs - SI91X-14297, SI91X-14328, SI91X-14414

**Wi-Fi**

- Added support for brd4186c i.e. EFR32MG24 board
- Added customisation support for ncp_host and spi_driver files using efx_ncp_custom_host_mcu
  and siwx917_ncp_custom_spi_driver respectively
- Fixed printing of logs issue in si91x_async_select_app
- Fixed Studio generate project with copy sources
- Resolve build warnings from simplicity studio
- Updated 11AX powers in gain table example
- Added wlan_throughput example support for STM32
- Updated get full firmware version command
- Updated SNTP and HTTP client documentation
- Removed hardcoded values for socket options
- handling bus thread malloc fail cases
- Added thread safe errno support
- Added M4 powersave component "sllib_m4_power_save"
- Adding brd4342a for throughput psram example
- "si91x_networking_model" SLC feature has been renamed to "sl_si91x_network_stack"
- "network_data_manager" SLC feature has been renamed to "network_config_manager"
- "basic_network_data_manager" SLC component has been renamed to "basic_network_config_manager"
- "nvm3_network_data_manager" SLC component has been renamed to "nvm3_network_config_manager"
- SQA Bugs - SI91X-13427, SI91X-13853, SI91X-13723, SI91X-13828, SI91X-14300, SI91X-14321, SI91X-14145, SI91X-14425,
             SI91X-14144, SI91X-14362, SI91X-14402, SI91X-14288, SI91X-14193, SI91X-14094, SI91X-14451, SI91X-14410

**BLE**

- Fixed synchronization issue in host where device was not able transfer BLE notification packets, when TA & M4 power save is enabled.
- Fixed issue where device stops transmitting AE Advertising packets after sometime.
- Fixed the compilation errors when enabled  "rsi_ble_ae_read_periodic_adv_list_size" in ble_ae_central application.
- Removed unused BT common APIs - rsi_bt_ber_enable_or_disable() and rsi_bt_per_cw_mode()
- Added NCP support for ble_hid_on_gatt application example
- SQA Bugs: SI91X-14399, SI91X-13729, SI91X-14371

**CoEx**

- None

**System**

- None

**Recommendations**

**System**

- The current revision of SiWx917 B0 has:
  - RAM memory of 672k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_672K\_M4SS\_0K- This mode configures TA with 672k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By default EXT\_FEAT\_352K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_480K\_M4SS\_192K - This mode configures TA with 480k and M4 with 192K bytes of memory
    - EXT\_FEAT\_416K\_M4SS\_256K - This mode configures TA with 416k and M4 with 256K bytes of memory
    - EXT\_FEAT\_352K\_M4SS\_320K - This mode configures TA with 352k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 672K\_M4SS\_0K.
  - SoC mode should not use 672k\_M4SS\_0k memory configuration.
- Set the recommended Power Save Profile (PSP) type to Enhanced Max PSP.

**IDE**

- Download the latest Simplicity Studio (SV5.7.0.1)
- Refer to the latest version of the SoC/NCP "Getting-Started-with-SiWx917" guide for more details

**Network Stack**

- The recommended embedded MQTT Publish payload is 1 kBytes.

**Wi-Fi**

- It is recommended to enable bit 16 of the 'Extended TCP IP Feature' bit map in the opermode command for all Wi-Fi Socket operations from the host to ensure graceful handling during asynchronous closures from the peer.
- Aggregation (bit 2 of feature\_bit\_map) is recommended to be enabled in opermode. This enables software to aggregate multiple packets to achieve better throughput
- TCP retransmission count value is recommended to be 30 or higher so that the TCP does not disconnect while the rejoin happens.
- To restart the module, the application needs to call sl\_wifi\_deinit() followed by sl\_wifi\_init().
- Register 'Join Fail Callback' function every time when join is called, as in the rejoin failure path the callback is deregistered. If not done, this might result in a scan not functioning on rejoin failure.
- User can enable SL\_SI91X\_EXT\_TCP\_IP\_SSL\_16K\_RECORD in 'Extended TCP IP Feature'bit map in opermode, if HTTPS download is failing after receiving HTTP headers..
- iTWT setup is recommended after IP assignment/TCP connection/application specific socket connections.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, increase TCP / ARP Timeouts at the remote side depending upon the configured TWT interval configured.
- In case of TWT+coex, when using sl\_wifi\_enable\_target\_wakeup\_time API, use TWT wake duration <= 16 ms and TWT wake interval >= 1 sec. If wake duration > 16 ms or TWT wake interval < 1sec, there might be performance issues.
- For iTWT GTK Interval Should be kept max possible value or zero. If GTK interval is not configurable, recommended TWT interval (in case of sl\_wifi\_enable\_target\_wakeup\_time API) or RX Latency (in case of sl\_wifi\_target\_wake\_time\_auto\_selection API) is less than 4sec.
- Disable Power Save for High Throughput Applications.
- The application needs to ensure that it sets RTC with the correct timestamp when the feature is enabled before establishing the SSL connection.
- The timeout value should not be less than 1 second for socket select and socket receive calls. Timeout value of less than 1 second is not currently supported.
- When sl\_wifi\_enable\_target\_wakeup\_time API is used, configuring TWT Wake interval beyond 1 min might lead to disconnections from the AP. Recommended to use TWT wakeup interval of less than or equal to 1 min.
- Embedded MQTT keep alive interval should be either 0 or a value greater than 35 seconds.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, it is recommended to set missed\_beacon\_count of sl\_wifi\_set\_advanced\_client\_configuration API greater than 2 times of the configured TWT Interval.

**BLE**

- In BLE, the recommended range of Connection Interval in
  - Power Save (BLE Only) - 100 ms to 1.28 s.
- In BLE, during Connection, the configuration of Scan Interval and Scan Window with the same value is not recommended. The suggested ratio of Scan Window to Scan Interval is 3:4.
- In BLE, if a device is acting as Central, the scan window (in set\_scan\_params and create\_connection commands) must be less than the existing Connection Interval. The suggested ratio of Scan Window to Connection Interval is 2:3.
- In BLE mode, if scanning and advertising are in progress on the SiWx91x module and it subsequently gets connected and moves to the central role, scanning stops else if it moves to the peripheral role, advertising stops. To further establish a connection to another peripheral device or to a central device, the application should give a command for starting advertising and scanning again.

**Co-Existence**

- For concurrent Wi-Fi + BLE, and while a Wi-Fi connection is active, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
- Wi-Fi + BLE Advertising
  - All standard advertising intervals are supported. As Wi-Fi throughput is increased, a slight difference in on-air advertisements compared to configured intervals may be observed.
  - BLE advertising is skipped if the advertising interval collides with Wi-Fi activity.
- Wi-Fi + BLE scanning
  - All standard scan intervals are supported. For better scan results, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
  - BLE scanning will be stopped for intervals that collide with Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Connections
  - All standard connection intervals are supported.
  - For a stable connection, use optimal connection intervals and max supervision timeout in the presence of Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Data Transfer
  - To achieve higher throughput for both Wi-Fi and BLE, use medium connection intervals, such as 45 to 80 ms with maximum supervision timeout.
  - Ensure Wi-Fi activity consumes lower intervals.

**Known Issues**

**Sensorhub**

- Support for ADC FIFO Mode and Multi channel is open
- Support for ADC Powersave is open
- PS1 support in Sensor hub is only for ADC sensor

**Network Stack**

- Sometimes during SSL Handshake, ECC curve parameters generated are wrong, resulting in connection failure with BBD2 error. However, this recovers in the next attempt.
- Randomize the client port if using rapid connect/disconnect of the MQTT session on the same client port with the power save.
- Secure SSL renegotiation not supported in Embedded Networking Stack.

**Wi-Fi**

- TWT device (STA) may not go to sleep in between TWT intervals in case of burst data traffics with data size more than the configured 'average tx throughput', until completion of data transfer.
- There are performance and IOP issues with MU MIMO.
- WPA3 Connection with the Hunting and Pecking algorithm takes about 3-4 seconds.
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.
- Low Wi-Fi+BLE throughput
- TCP/UDP TX/RX Data stall observed in CoEx scenarios
- Observed HTTPS Continuous download fails with TA Power save
- Performance improvements are in progress for lower performance metrics.
- Observed interop issue (connectivity failure) with few AP's when device reset/reboot happens on active connection.
- In concurrent mode, AP restart fails after stopping it with ap\_stop command.
- DUT deep sleep will not work after stopping AP with ap\_stop command.
- Unable to get SNTP async events when coex mode and Power save is enabled
- Fine Tuning 802.11ax Spectral mask in Progress
- Fine Tuning 11b mask in Ch11 in progress
- DUT is unable to connect to the AP with WPA3 security when we enable coex mode (WLAN+BLE) in opermode
- Socket listen API is failing from the second iteration
- Disconnections observed with Netgear RAX120 AP in WPA3 security
- Observed connection failures with some AP's in more channel congestion open lab environment

**BLE**

- HID profile data transfer is not working, when power save is enabled in SoC.
- BLE reconnection is not working in ble_multiconnection_gatt demo, when power save is enabled in SoC

**Co-Existence**

- Observed HTTP continuous download is not happening in Powersave mode after BLE connection established using wifi\_https\_ble\_dual\_role application
- Observed DUT hang while Wi-Fi UDP Tx and BLE continuous scan run for long time.

**System**

- None

**MCU**

- Refer to the respective Radio board user guides for specific pinout details. Examples are targeted to a specific version mentioned in the respective readme.
- Few peripherals like WDT when configured with RO clock is not working as expected. No impact on the feature but the clocks are not accurate.
- ADC Differential mode is not working as expected if negative input value set above 2.4V.
- Few(BOD, Comparator and SysRTC) wakeup resources are not working as expected in Power manager service.

**Limitations and Unsupported Features**

**Wi-Fi/Network Stack**

- TLS 1.3 Server is not supported
- In AP mode, IPv6 Router Advertisements are not supported. Although STA connected to the APUT can transfer IPv6 data to the peers by using SLAAC for address configuration.
- When sl\_wifi\_enable\_target\_wake\_time() API is used, observed occasional MQTT disconnections with longer TWT intervals (>30secs) with embedded MQTT + TWT.
- AMSDU TX is not supported.
- Fragmentation is not supported.
- AMSDUs within AMPDU is not supported.
- Currently, the module does not support Radio Measurement Requests feature of CCX V2
- 802.11k is not supported
- 40 MHz bandwidth for 2.4 GHz band is not supported.
- 802.11J channel 14 is not supported.
- MQTT versions 3 and 4 are supported.
- Maximum of 3 SSL connections are supported in Wi-Fi alone mode.
- In SSL ECC Curve ID supported is 23. SSL handshake with 3rd party clients depends on the SSL ECC Curve ID.
- LP mode is not supported.
- In iTWT mode, downlink data traffic should be limited. Disconnections may be observed if AP fails to send all the buffered data in the next TWT Service Period.
- Number of MBSSIDs processed is limited by the beacon length that can be processed by the stack (which is limited to 1024 bytes). Beacons greater than 1024 Bytes in length will not be processed.
- CoEx + EAP Security in 352K/320k is not feasible. This issue is observed due to a lack of memory in the 352k/320k Memory Configuration. It is supported with other EXT\_FEAT\_416K\_M4SS\_256K and EXT\_FEAT\_480K\_M4SS\_192K memory configurations.
- UL MUMIMO is not supported.
- The embedded HTTP server is not supported.
- Baremetal is not supported
- Compared to SoC mode, NCP mode has fewer examples, but more will be enabled in upcoming releases.

**BLE**

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.
- BLE TX/RX throughput is less when tested with EFM as compared to EFR
- Maximum supported AE data length is 200 bytes.
- Supports only two ADV\_EXT sets.
- Supports only two BLE connections (1 Central and 1 Peripheral) with AE.
- Advertising Extension feature is not supported in Coexistence.
- The  ae\_central & ae\_peripheral applications are not supported with TA\_352K\_M4\_320K RAM configuration.

**MCU**

- ULP Peripherals examples configurations are for RAM-based execution, as flash is powered off in ULP Mode.
- On 4338a board, two I2C instances(I2C1 and I2C2) are using same GPIOs, so support is not there for using two I2C instances simultaneously.
- I2C High speed and Fastplus mode not working at specifications speed.
- Manual chip select option is not supported when using GSPI.
- SSI Dual and Quad mode is not working as expected.
- ULP SSI wakeup source is not working as expected.
- SPI sensor will not work in the Sensor HUB application.

**Simplicity Studio and Commander**

- Default GDB debug configuration is not supported for SoC projects, work around details provided in "Getting-Started-with-SiWx917"
- Observing flash download failures(ERROR 108) for a few image sizes
- While creating project through Simplicity Studio, "copy contents" option not supported.
- Simplicity commander does not support options under "Debug Lock tools" .
- All projects in the package are compatible with GCC 10.3.1 version.

**Terminology**

|**Term**|**Description**|
| :- | :- |
|**New Features**|These items are new to this release|
|**Changes/Issues Fixed**|Changes made to existing features found in previous software releases.|
||Enhancements to existing product flow and feature set.|
||Bug fixes done in the release|
|**Deprecated Items**|Features or functions or APIs that are removed from the distributed release to align with the software roadmap|
|**Known Issues**|Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases|
|**Limitations/Recommendations**|Describes the limitations on product usage and recommendations for optimal use cases|

**Note**

- Change SPI frequency to 12.5Mhz while measuring BLE throughput with EFR32

<br>

**WiSeConnect3\_SDK\_3.1.1-rc3 Release Notes**

This SDK package supports SoC Mode and NCP Mode for B0:

- In SoC Mode: Customer applications can run on Cortex M4. Wireless, network, and security stacks run on the wireless subsystem.
- In NCP mode: Wireless, network, and security stacks run on the Wireless subsystem. Customer applications run on the external host MCU.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

**Note**: Use Simplicity Studio version SV5.7.0.1 onwards

**SoC Highlights**

- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support ultra low power Wi-Fi standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode
- **MCU examples** : GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers, Config Timers, ULP (Ultra Low Power) Timers, Sleeptimer, IOSTREAM, NVM3, MEMLCD, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, ML Blinky, Sensorhub, Joystick and Relative Humidity and Temparature sensor(RHT).
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE whitelisting, and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack, All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS client
- **IDE** : Simplicity Studio with Windows 10(64-bit), Linux, Mac OS
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** :
  - Si-MB4002A Main board
  - SiWx917 Radio boards

|**RadioBoard Type**|**SiWx917B0 with Board Version**|
| :- | :- |
|Common flash|-|
|Common flash|Si917-BRD4338A(2.0)|
|Dual flash|-|
|External PSRAM|Si917-BRD4340A(2.0)|

**NCP Highlights**

- **Host Interface** : SPI
- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode.
- **Wi-Fi** : 2.4GHz Wi-Fi Support, WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE Whitelisting and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack , BLE Stack , All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS Client.
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **Hardware kits to evaluate NCP Mode**
  - NCP EFR Expansion Kit with NCP Radio board (BRD4338A(NCP MBR) + BRD8045A)
  - Wireless Pro kit Mainboard BRD4002A Rev A06
  - EFR32xG21 2.4 GHz 20 dBm Radio Board (BRD4180B Rev A02)

**Release Details**

|**Item**|**Details**|
| :- | :- |
|Release date|Nov 2nd, 2023|
|SDK Version|3\.1.1-rc3|
|Firmware Version|1711\.2.9.0.0.28|
|Package Name|WiSeConnect3\_SDK\_3.1.1-rc3|
|Supported RTOS|FreeRTOS|
|Operating Modes Supported|Wi-Fi STA, Wi-Fi AP, Wi-Fi STA+BLE, Wi-Fi STA+AP|
|Build Quality|GA|

- SiWx917 release consists of two components
  - Wireless Firmware - SiWx917 Firmware Binaries
  - Wiseconnect3 Library - Wiseconnect3 SDK library runs on the external host in NCP mode and internal Cortex M4 in SoC Mode.
- This release is meant only for use with designs based on SiWx917 Silicon
- The firmware to load in your design are available in the following format:
  - SiWG917-B.2.9.0.0.x.rps - B0 Full-featured firmware binary

**Features Supported**

**Sensorhub service**

- Support for ADC, SPI and I2C based sensors
- Support for PS2 and sleep wakeups
- SoC OPN based project support in SSv5
  - List of OPN's supported si917-sb00, siwg917m111mgtba, siwg917m100mgtba, siwg917m111xgtba, siwg917m100xntba, siwg917m121xgtba, siwg917m110lgtba and siwg917m141xgtba
- ML blink and Model Profiler support

**MCU**

- ADC Single Channel, ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, GPIO, I2C, I2S, NVM3, OPAMP, PSRAM, PWM, QEI, RTC, SDIO Secondary, SPI Master and Slave, UART, Micro DMA, USART, Watchdog Timer, USART Master and Slave
- UC Supported Peripherals - GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers , Config Timers, ULP (Ultra Low Power) Timers, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, MEMLCD.
- Services - Sleeptimer, IOSTREAM, NVM3 and Power Manager.
- ULP (Ultra Low Power) Peripherals - ulp\_gpio, ulp\_adc ulp\_i2c, ulp\_i2s, ulp\_ir\_decoder, ulp\_spi, ulp\_timer, ulp\_uart, ulp\_udma

**Wi-Fi**

- WPA2/WPA3 Personal, WPS and WPA2-EAP Support for Station Mode
- TCP/IP stack with IPv4, IPv6, TCP, UDP, TLS, HTTP/HTTPS, DHCPv4, DHCPv6, MQTT Client, DNS Client, SNTP client.
- Support for SSL client versions TLSV1.0, TLSV1.2, TLSV1.3 and SSL server versions TLSV1.0 and TLSV1.2
- Wi-Fi STA (802.11n/802.11ax) + 802.11n AP Support
- HE (802.11ax) and Individual TWT Feature Support
- Multiple BSSID feature support as an STA
- Secure OTA support on B0 radio boards.
- Support for LWIP network stack
- Support for AWS MQTT library
- Support for BSD and IoT sockets application programming interface(API)

**Bluetooth Low Energy**

- BLE central & peripheral connections are supported.
- Ultra-low power save is supported.

**Power Save**

- The power save profiles supported are Max PSP, enhanced MAX PSP, Fast PSP, and 802.11ax TWT.

**Crypto Support**

- AES, SHA, AES-CCM, HMAC, GCM, Chacha-poly, ECDH and TRNG FW Crypto API support added.
- PSA enabled Mbed TLS support added
- NVM support added for key storage
- Symmetric and asymmetric key storage
- TRNG, AES, SHA, HMAC, GCM, Chacha-poly, ECDH and AES-CCM hardware crypto engine is integrated with PSA crypto.

**Changes and Fixes**

**MCU**

- Provided ADC Multichannel Example
- SQA Bugs - SI91X-14296, SI91X-14336, SI91X-14096, SI91X-14350, SI91X-14344, SI91X-14118, SI91X-14141, SI91X-13493, SI91X-14346

**Wi-Fi**

- Updated readme files with new templates for snippet examples
- Handling of pll_mode for better throughput numbers
- Few APi reference documentation enhancements
- Handling of 0xff82 error code from TA firmware
- SQA Bugs - SI91X-13986, SI91X-13753, SI91X-14309, SI91X-14050, SI91X-13917, SI91X-14205, SI91X-13869, SI91X-14286, SI91X-14179

**BLE**

- Added ble_datalength application in NCP.
- When binary encryption feature is enabled, the hang issue is resolved when AE disconnection is initiated from remote device
- SQA Bugs - SI91X-14270, SI91X-13867

**CoEx**

- None

**System**

- None

**Recommendations**

**System**

- The current revision of SiWx917 B0 has:
  - RAM memory of 672k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_672K\_M4SS\_0K- This mode configures TA with 672k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By default EXT\_FEAT\_352K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_480K\_M4SS\_192K - This mode configures TA with 480k and M4 with 192K bytes of memory
    - EXT\_FEAT\_416K\_M4SS\_256K - This mode configures TA with 416k and M4 with 256K bytes of memory
    - EXT\_FEAT\_352K\_M4SS\_320K - This mode configures TA with 352k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 672K\_M4SS\_0K.
  - SoC mode should not use 672k\_M4SS\_0k memory configuration.
- Set the recommended Power Save Profile (PSP) type to Enhanced Max PSP.

**IDE**

- Download the latest Simplicity Studio (SV5.7.0.1)
- Refer to the latest version of the SoC/NCP "Getting-Started-with-SiWx917" guide for more details

**Network Stack**

- The recommended embedded MQTT Publish payload is 1 kBytes.

**Wi-Fi**

- It is recommended to enable bit 16 of the 'Extended TCP IP Feature' bit map in the opermode command for all Wi-Fi Socket operations from the host to ensure graceful handling during asynchronous closures from the peer.
- Aggregation (bit 2 of feature\_bit\_map) is recommended to be enabled in opermode. This enables software to aggregate multiple packets to achieve better throughput
- TCP retransmission count value is recommended to be 30 or higher so that the TCP does not disconnect while the rejoin happens.
- To restart the module, the application needs to call sl\_wifi\_deinit() followed by sl\_wifi\_init().
- Register 'Join Fail Callback' function every time when join is called, as in the rejoin failure path the callback is deregistered. If not done, this might result in a scan not functioning on rejoin failure.
- User can enable SL\_SI91X\_EXT\_TCP\_IP\_SSL\_16K\_RECORD in 'Extended TCP IP Feature'bit map in opermode, if HTTPS download is failing after receiving HTTP headers..
- iTWT setup is recommended after IP assignment/TCP connection/application specific socket connections.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, increase TCP / ARP Timeouts at the remote side depending upon the configured TWT interval configured.
- In case of TWT+coex, when using sl\_wifi\_enable\_target\_wakeup\_time API, use TWT wake duration <= 16 ms and TWT wake interval >= 1 sec. If wake duration > 16 ms or TWT wake interval < 1sec, there might be performance issues.
- For iTWT GTK Interval Should be kept max possible value or zero. If GTK interval is not configurable, recommended TWT interval (in case of sl\_wifi\_enable\_target\_wakeup\_time API) or RX Latency (in case of sl\_wifi\_target\_wake\_time\_auto\_selection API) is less than 4sec.
- Disable Power Save for High Throughput Applications.
- The application needs to ensure that it sets RTC with the correct timestamp when the feature is enabled before establishing the SSL connection.
- The timeout value should not be less than 1 second for socket select and socket receive calls. Timeout value of less than 1 second is not currently supported.
- When sl\_wifi\_enable\_target\_wakeup\_time API is used, configuring TWT Wake interval beyond 1 min might lead to disconnections from the AP. Recommended to use TWT wakeup interval of less than or equal to 1 min.
- Embedded MQTT keep alive interval should be either 0 or a value greater than 35 seconds.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, it is recommended to set missed\_beacon\_count of sl\_wifi\_set\_advanced\_client\_configuration API greater than 2 times of the configured TWT Interval.

**BLE**

- In BLE, the recommended range of Connection Interval in
  - Power Save (BLE Only) - 100 ms to 1.28 s.
- In BLE, during Connection, the configuration of Scan Interval and Scan Window with the same value is not recommended. The suggested ratio of Scan Window to Scan Interval is 3:4.
- In BLE, if a device is acting as Central, the scan window (in set\_scan\_params and create\_connection commands) must be less than the existing Connection Interval. The suggested ratio of Scan Window to Connection Interval is 2:3.
- In BLE mode, if scanning and advertising are in progress on the SiWx91x module and it subsequently gets connected and moves to the central role, scanning stops else if it moves to the peripheral role, advertising stops. To further establish a connection to another peripheral device or to a central device, the application should give a command for starting advertising and scanning again.

**Co-Existence**

- For concurrent Wi-Fi + BLE, and while a Wi-Fi connection is active, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
- Wi-Fi + BLE Advertising
  - All standard advertising intervals are supported. As Wi-Fi throughput is increased, a slight difference in on-air advertisements compared to configured intervals may be observed.
  - BLE advertising is skipped if the advertising interval collides with Wi-Fi activity.
- Wi-Fi + BLE scanning
  - All standard scan intervals are supported. For better scan results, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
  - BLE scanning will be stopped for intervals that collide with Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Connections
  - All standard connection intervals are supported.
  - For a stable connection, use optimal connection intervals and max supervision timeout in the presence of Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Data Transfer
  - To achieve higher throughput for both Wi-Fi and BLE, use medium connection intervals, such as 45 to 80 ms with maximum supervision timeout.
  - Ensure Wi-Fi activity consumes lower intervals.

**Known Issues**

**Sensorhub**

- Support for ADC FIFO Mode and Multi channel is open
- Support for ADC Powersave is open
- PS1 support in Sensor hub is only for ADC sensor

**Network Stack**

- Sometimes during SSL Handshake, ECC curve parameters generated are wrong, resulting in connection failure with BBD2 error. However, this recovers in the next attempt.
- Randomize the client port if using rapid connect/disconnect of the MQTT session on the same client port with the power save.
- Secure SSL renegotiation not supported in Embedded Networking Stack.

**Wi-Fi**

- TWT device (STA) may not go to sleep in between TWT intervals in case of burst data traffics with data size more than the configured 'average tx throughput', until completion of data transfer.
- There are performance and IOP issues with MU MIMO.
- WPA3 Connection with the Hunting and Pecking algorithm takes about 3-4 seconds.
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.
- Low Wi-Fi+BLE throughput
- TCP/UDP TX/RX Data stall observed in CoEx scenarios
- Observed HTTPS Continuous download fails with TA Power save
- Performance improvements are in progress for lower performance metrics.
- Observed interop issue (connectivity failure) with few AP's when device reset/reboot happens on active connection.
- In concurrent mode, AP restart fails after stopping it with ap\_stop command.
- DUT deep sleep will not work after stopping AP with ap\_stop command.
- Unable to get SNTP async events when coex mode and Power save is enabled
- Fine Tuning 802.11ax Spectral mask in Progress
- Fine Tuning 11b mask in Ch11 in progress
- DUT is unable to connect to the AP with WPA3 security when we enable coex mode (WLAN+BLE) in opermode
- Socket listen API is failing from the second iteration
- Disconnections observed with Netgear RAX120 AP in WPA3 security
- Observed connection failures with some AP's in more channel congestion open lab environment

**BLE**

- M4 Power save with RTOS is not supported for BLE scan and data transfer in SoC Mode.
- BLE anchor points will experience a miss rate of approximately 10%, when the slave latency is enabled.

**Co-Existence**

- Observed HTTP continuous download is not happening in Powersave mode after BLE connection established using wifi\_https\_ble\_dual\_role application
- Observed DUT hang while Wi-Fi UDP Tx and BLE continuous scan run for long time.

**System**

- None

**MCU**

- Refer to the respective Radio board user guides for specific pinout details. Examples are targeted to a specific version mentioned in the respective readme.
- Few peripherals like WDT when configured with RO clock is not working as expected. No impact on the feature but the clocks are not accurate.
- ADC Differential mode is not working as expected if negative input value set above 2.4V.
- Few(BOD, Comparator and SysRTC) wakeup resources are not working as expected in Power manager service.

**Limitations and Unsupported Features**

**Wi-Fi/Network Stack**

- TLS 1.3 Server is not supported
- In AP mode, IPv6 Router Advertisements are not supported. Although STA connected to the APUT can transfer IPv6 data to the peers by using SLAAC for address configuration.
- When sl\_wifi\_enable\_target\_wake\_time() API is used, observed occasional MQTT disconnections with longer TWT intervals (>30secs) with embedded MQTT + TWT.
- AMSDU TX is not supported.
- Fragmentation is not supported.
- AMSDUs within AMPDU is not supported.
- Currently, the module does not support Radio Measurement Requests feature of CCX V2
- 802.11k is not supported
- 40 MHz bandwidth for 2.4 GHz band is not supported.
- 802.11J channel 14 is not supported.
- MQTT versions 3 and 4 are supported.
- Maximum of 3 SSL connections are supported in Wi-Fi alone mode.
- In SSL ECC Curve ID supported is 23. SSL handshake with 3rd party clients depends on the SSL ECC Curve ID.
- LP mode is not supported.
- In iTWT mode, downlink data traffic should be limited. Disconnections may be observed if AP fails to send all the buffered data in the next TWT Service Period.
- Number of MBSSIDs processed is limited by the beacon length that can be processed by the stack (which is limited to 1024 bytes). Beacons greater than 1024 Bytes in length will not be processed.
- CoEx + EAP Security in 352K/320k is not feasible. This issue is observed due to a lack of memory in the 352k/320k Memory Configuration. It is supported with other EXT\_FEAT\_416K\_M4SS\_256K and EXT\_FEAT\_480K\_M4SS\_192K memory configurations.
- UL MUMIMO is not supported.
- The embedded HTTP server is not supported.
- Baremetal is not supported
- Compared to SoC mode, NCP mode has fewer examples, but more will be enabled in upcoming releases.

**BLE**

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.
- BLE TX/RX throughput is less when tested with EFM as compared to EFR
- Maximum supported AE data length is 200 bytes.
- Supports only two ADV\_EXT sets.
- Supports only two BLE connections (1 Central and 1 Peripheral) with AE.
- Advertising Extension feature is not supported in Coexistence.
- The  ae\_central & ae\_peripheral applications are not supported with TA\_352K\_M4\_320K RAM configuration.

**MCU**

- ULP Peripherals examples configurations are for RAM-based execution, as flash is powered off in ULP Mode.
- On 4338a board, two I2C instances(I2C1 and I2C2) are using same GPIOs, so support is not there for using two I2C instances simultaneously.
- I2C High speed and Fastplus mode not working at specifications speed.
- Manual chip select option is not supported when using GSPI.

**Simplicity Studio and Commander**

- Default GDB debug configuration is not supported for SoC projects, work around details provided in "Getting-Started-with-SiWx917"
- Observing flash download failures(ERROR 108) for a few image sizes
- While creating project through Simplicity Studio, "copy contents" option not supported.
- Simplicity commander does not support options under "Debug Lock tools" .

**Terminology**

|**Term**|**Description**|
| :- | :- |
|**New Features**|These items are new to this release|
|**Changes/Issues Fixed**|Changes made to existing features found in previous software releases.|
||Enhancements to existing product flow and feature set.|
||Bug fixes done in the release|
|**Deprecated Items**|Features or functions or APIs that are removed from the distributed release to align with the software roadmap|
|**Known Issues**|Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases|
|**Limitations/Recommendations**|Describes the limitations on product usage and recommendations for optimal use cases|

**Note**

- Change SPI frequency to 12.5Mhz while measuring BLE throughput with EFR32

<br>

**WiSeConnect3\_SDK\_3.1.1-rc2 Release Notes**

This SDK package supports SoC Mode and NCP Mode for B0:

- In SoC Mode: Customer applications can run on Cortex M4. Wireless, network, and security stacks run on the wireless subsystem.
- In NCP mode: Wireless, network, and security stacks run on the Wireless subsystem. Customer applications run on the external host MCU.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

**Note**: Use Simplicity Studio version SV5.7.0.1 onwards

**SoC Highlights**

- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support ultra low power Wi-Fi standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode
- **MCU examples** : GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers, Config Timers, ULP (Ultra Low Power) Timers, Sleeptimer, IOSTREAM, NVM3, MEMLCD, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, ML Blinky, Sensorhub, Joystick and Relative Humidity and Temparature sensor(RHT).
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE whitelisting, and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack, All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS client
- **IDE** : Simplicity Studio with Windows 10(64-bit), Linux, Mac OS
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** :
  - Si-MB4002A Main board
  - SiWx917 Radio boards

|**RadioBoard Type**|**SiWx917B0 with Board Version**|
| :- | :- |
|Common flash|-|
|Common flash|Si917-BRD4338A(2.0)|
|Dual flash|-|
|External PSRAM|Si917-BRD4340A(2.0)|

**NCP Highlights**

- **Host Interface** : SPI
- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode.
- **Wi-Fi** : 2.4GHz Wi-Fi Support, WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE Whitelisting and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack , BLE Stack , All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS Client.
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **Hardware kits to evaluate NCP Mode**
  - Si917 B0 1.2 expansion board BRD8036B
  - Wireless Pro kit Mainboard BRD4002A Rev A06
  - EFR32xG21 2.4 GHz 20 dBm Radio Board (BRD4180B Rev A02)

**Release Details**

|**Item**|**Details**|
| :- | :- |
|Release date|Oct 26th, 2023|
|SDK Version|3\.1.1-rc2|
|Firmware Version|1711\.2.9.0.0.27|
|Package Name|WiSeConnect3\_SDK\_3.1.1-rc2|
|Supported RTOS|FreeRTOS|
|Operating Modes Supported|Wi-Fi STA, Wi-Fi AP, Wi-Fi STA+BLE, Wi-Fi STA+AP|
|Build Quality|GA|

- SiWx917 release consists of two components
  - Wireless Firmware - SiWx917 Firmware Binaries
  - Wiseconnect3 Library - Wiseconnect3 SDK library runs on the external host in NCP mode and internal Cortex M4 in SoC Mode.
- This release is meant only for use with designs based on SiWx917 Silicon
- The firmware to load in your design are available in the following format:
  - SiWG917-B.2.9.0.0.x.rps - B0 Full-featured firmware binary

**Features Supported**

**Sensorhub service**

- Support for ADC, SPI and I2C based sensors
- Support for PS2 and sleep wakeups
- SoC OPN based project support in SSv5
  - List of OPN's supported si917-sb00, siwg917m111mgtba, siwg917m100mgtba, siwg917m111xgtba, siwg917m100xntba, siwg917m121xgtba, siwg917m110lgtba and siwg917m141xgtba
- ML blink and Model Profiler support

**MCU**

- ADC Single Channel, ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, GPIO, I2C, I2S, NVM3, OPAMP, PSRAM, PWM, QEI, RTC, SDIO Secondary, SPI Master and Slave, UART, Micro DMA, USART, Watchdog Timer, USART Master and Slave
- UC Supported Peripherals - GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers , Config Timers, ULP (Ultra Low Power) Timers, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, MEMLCD.
- Services - Sleeptimer, IOSTREAM, NVM3 and Power Manager.
- ULP (Ultra Low Power) Peripherals - ulp\_gpio, ulp\_adc ulp\_i2c, ulp\_i2s, ulp\_ir\_decoder, ulp\_spi, ulp\_timer, ulp\_uart, ulp\_udma

**Wi-Fi**

- WPA2/WPA3 Personal, WPS and WPA2-EAP Support for Station Mode
- TCP/IP stack with IPv4, IPv6, TCP, UDP, TLS, HTTP/HTTPS, DHCPv4, DHCPv6, MQTT Client, DNS Client, SNTP client.
- Support for SSL client versions TLSV1.0, TLSV1.2, TLSV1.3 and SSL server versions TLSV1.0 and TLSV1.2
- Wi-Fi STA (802.11n/802.11ax) + 802.11n AP Support
- HE (802.11ax) and Individual TWT Feature Support
- Multiple BSSID feature support as an STA
- Secure OTA support on B0 radio boards.
- Support for LWIP network stack
- Support for AWS MQTT library
- Support for BSD and IoT sockets application programming interface(API)

**Bluetooth Low Energy**

- BLE central & peripheral connections are supported.
- Ultra-low power save is supported.

**Power Save**

- The power save profiles supported are Max PSP, enhanced MAX PSP, Fast PSP, and 802.11ax TWT.

**Crypto Support**

- AES, SHA, AES-CCM, HMAC, GCM, Chacha-poly, ECDH and TRNG FW Crypto API support added.
- PSA enabled Mbed TLS support added
- NVM support added for key storage
- Symmetric and asymmetric key storage
- TRNG, AES, SHA, HMAC, GCM, Chacha-poly, ECDH and AES-CCM hardware crypto engine is integrated with PSA crypto.

**Changes and Fixes**

**MCU**

- Fixed bugs reported by SQA for SI91X-14283,SI91X-14282 and SI91X-14279.
- Fixed issue reported by matter team for WIFISDK-1068.
- An enhancement to the PSRAM Powersave Handle linker.
- Conflict handling for device_need_ram_execution and text_segment_in_psram
- Removed copying of IVT from ULP application files
- Fixed implicit placement of udma section in sram used for placing udma descriptors
- Resolved SI91X-14274 issue
- Added  GUVA_12D_UV(ADC-based) sensor in sensor hub framework.

**Wi-Fi**

- Update opermode based on mem config component
- Add 'update\_console\_commands' blueprint to cli\_demo
- Enable SLCP validation on PR
- Fixed sl net init api giving 0xff82 as error code in case of wlan throughput NCP
- Rename to sl\_rsi\_utility from siwx917\_soc\_ncp\_host in linkerfile\_SoC.ld.jinja
- Added documentation for sl net up
- Replacing sl\_wifi\_set\_certificate instances with sl\_net\_set\_credential in readme files
- Removed memset after malloc in host\_allocate\_buffer for throughput degradation issue
- Added BSD and IOT Socket under Sockets in Documentation
- Moved sl_net/src/sl\_si91x\_net\_credentials.c to sl\_si91x\_wireless
- SQA Bugs - SI91X-13753, SI91X-14242, SI91X-14228 and SI91X-13986

**BLE**

- Fixed the issue where DUT was transmitting 240 bytes MTU request packet, regardless of the programmed MTU length in application.
- Fixed the issue where DUT was unable transmit complete periodic advertising data.
- Fixed hang issue when transmitting BLE notification with codded PHY rates of 125kbps and 500kbps.
- Fixed BLE reconnection issue with ble\_heart\_rate NCP application.
- Fixed BLE reconnection issue with hid\_over\_gatt applications in client role.
- Fixed the issue where DUT was not transmitting BLE scan request after 20sec, when power save is enabled.
- Fixed the issue where DUT was not transmitting packets continuously over the air in BLE test modes.
- Added ble\_longrange\_2mpbps, ble\_ae\_central and ble\_ae\_peripheral NCP applications.
- Fixed hangs issue during multiple iterations of BLE connect and disconnect tests with TA and M4 power enabled.
- Updated Readme files for ble\_per and ble\_accept\_list.

**CoEx**

- None

**System**

- None

**Recommendations**

**System**

- The current revision of SiWx917 B0 has:
  - RAM memory of 672k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_672K\_M4SS\_0K- This mode configures TA with 672k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By default EXT\_FEAT\_352K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_480K\_M4SS\_192K - This mode configures TA with 480k and M4 with 192K bytes of memory
    - EXT\_FEAT\_416K\_M4SS\_256K - This mode configures TA with 416k and M4 with 256K bytes of memory
    - EXT\_FEAT\_352K\_M4SS\_320K - This mode configures TA with 352k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 672K\_M4SS\_0K.
  - SoC mode should not use 672k\_M4SS\_0k memory configuration.
- Set the recommended Power Save Profile (PSP) type to Enhanced Max PSP.

**IDE**

- Download the latest Simplicity Studio (SV5.7.0.1)
- Refer to the latest version of the SoC/NCP "Getting-Started-with-SiWx917" guide for more details

**Network Stack**

- The recommended embedded MQTT Publish payload is 1 kBytes.

**Wi-Fi**

- It is recommended to enable bit 16 of the 'Extended TCP IP Feature' bit map in the opermode command for all Wi-Fi Socket operations from the host to ensure graceful handling during asynchronous closures from the peer.
- Aggregation (bit 2 of feature\_bit\_map) is recommended to be enabled in opermode. This enables software to aggregate multiple packets to achieve better throughput
- TCP retransmission count value is recommended to be 30 or higher so that the TCP does not disconnect while the rejoin happens.
- To restart the module, the application needs to call sl\_wifi\_deinit() followed by sl\_wifi\_init().
- Register 'Join Fail Callback' function every time when join is called, as in the rejoin failure path the callback is deregistered. If not done, this might result in a scan not functioning on rejoin failure.
- User can enable SL\_SI91X\_EXT\_TCP\_IP\_SSL\_16K\_RECORD in 'Extended TCP IP Feature'bit map in opermode, if HTTPS download is failing after receiving HTTP headers..
- iTWT setup is recommended after IP assignment/TCP connection/application specific socket connections.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, increase TCP / ARP Timeouts at the remote side depending upon the configured TWT interval configured.
- In case of TWT+coex, when using sl\_wifi\_enable\_target\_wakeup\_time API, use TWT wake duration <= 16 ms and TWT wake interval >= 1 sec. If wake duration > 16 ms or TWT wake interval < 1sec, there might be performance issues.
- For iTWT GTK Interval Should be kept max possible value or zero. If GTK interval is not configurable, recommended TWT interval (in case of sl\_wifi\_enable\_target\_wakeup\_time API) or RX Latency (in case of sl\_wifi\_target\_wake\_time\_auto\_selection API) is less than 4sec.
- Disable Power Save for High Throughput Applications.
- The application needs to ensure that it sets RTC with the correct timestamp when the feature is enabled before establishing the SSL connection.
- The timeout value should not be less than 1 second for socket select and socket receive calls. Timeout value of less than 1 second is not currently supported.
- When sl\_wifi\_enable\_target\_wakeup\_time API is used, configuring TWT Wake interval beyond 1 min might lead to disconnections from the AP. Recommended to use TWT wakeup interval of less than or equal to 1 min.
- Embedded MQTT keep alive interval should be either 0 or a value greater than 35 seconds.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, it is recommended to set missed\_beacon\_count of sl\_wifi\_set\_advanced\_client\_configuration API greater than 2 times of the configured TWT Interval.

**BLE**

- In BLE, the recommended range of Connection Interval in
  - Power Save (BLE Only) - 100 ms to 1.28 s.
- In BLE, during Connection, the configuration of Scan Interval and Scan Window with the same value is not recommended. The suggested ratio of Scan Window to Scan Interval is 3:4.
- In BLE, if a device is acting as Central, the scan window (in set\_scan\_params and create\_connection commands) must be less than the existing Connection Interval. The suggested ratio of Scan Window to Connection Interval is 2:3.
- In BLE mode, if scanning and advertising are in progress on the SiWx91x module and it subsequently gets connected and moves to the central role, scanning stops else if it moves to the peripheral role, advertising stops. To further establish a connection to another peripheral device or to a central device, the application should give a command for starting advertising and scanning again.

**Co-Existence**

- For concurrent Wi-Fi + BLE, and while a Wi-Fi connection is active, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
- Wi-Fi + BLE Advertising
  - All standard advertising intervals are supported. As Wi-Fi throughput is increased, a slight difference in on-air advertisements compared to configured intervals may be observed.
  - BLE advertising is skipped if the advertising interval collides with Wi-Fi activity.
- Wi-Fi + BLE scanning
  - All standard scan intervals are supported. For better scan results, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
  - BLE scanning will be stopped for intervals that collide with Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Connections
  - All standard connection intervals are supported.
  - For a stable connection, use optimal connection intervals and max supervision timeout in the presence of Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Data Transfer
  - To achieve higher throughput for both Wi-Fi and BLE, use medium connection intervals, such as 45 to 80 ms with maximum supervision timeout.
  - Ensure Wi-Fi activity consumes lower intervals.

**Known Issues**

**Sensorhub**

- Support for ADC FIFO Mode and Multi channel is open
- Support for ADC Powersave is open
- PS1 support in Sensor hub is only for ADC sensor

**Network Stack**

- Sometimes during SSL Handshake, ECC curve parameters generated are wrong, resulting in connection failure with BBD2 error. However, this recovers in the next attempt.
- Randomize the client port if using rapid connect/disconnect of the MQTT session on the same client port with the power save.
- Secure SSL renegotiation not supported in Embedded Networking Stack.

**Wi-Fi**

- TWT device (STA) may not go to sleep in between TWT intervals in case of burst data traffics with data size more than the configured 'average tx throughput', until completion of data transfer.
- There are performance and IOP issues with MU MIMO.
- WPA3 Connection with the Hunting and Pecking algorithm takes about 3-4 seconds.
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.
- Low Wi-Fi+BLE throughput
- TCP/UDP TX/RX Data stall observed in CoEx scenarios
- Observed HTTPS Continuous download fails with TA Power save
- Performance improvements are in progress for lower performance metrics.
- Observed interop issue (connectivity failure) with few AP's when device reset/reboot happens on active connection.
- In concurrent mode, AP restart fails after stopping it with ap\_stop command.
- DUT deep sleep will not work after stopping AP with ap\_stop command.
- Unable to get SNTP async events when coex mode and Power save is enabled
- Fine Tuning 802.11ax Spectral mask in Progress
- Fine Tuning 11b mask in Ch11 in progress
- DUT is unable to connect to the AP with WPA3 security when we enable coex mode (WLAN+BLE) in opermode
- Socket listen API is failing from the second iteration
- Disconnections observed with Netgear RAX120 AP in WPA3 security
- Observed connection failures with some AP's in more channel congestion open lab environment

**BLE**

- M4 Power save with RTOS is not supported for BLE scan and data transfer in SoC Mode.
- BLE anchor points will experience a miss rate of approximately 10%, when the slave latency is enabled.

**Co-Existence**

- Observed HTTP continuous download is not happening in Powersave mode after BLE connection established using wifi\_https\_ble\_dual\_role application
- Observed DUT hang while Wi-Fi UDP Tx and BLE continuous scan run for long time.

**System**

- None

**MCU**

- Refer to the respective Radio board user guides for specific pinout details. Examples are targeted to a specific version mentioned in the respective readme.
- Few peripherals like WDT when configured with RO clock is not working as expected. No impact on the feature but the clocks are not accurate.
- ADC multichannel is not supported
- ADC Differential mode is not working as expected if negative input value set above 2.4V.
- Few(BOD, Comparator, Alarm and SysRTC) wakeup resources are not working as expected in Power manager service.

**Limitations and Unsupported Features**

**Wi-Fi/Network Stack**

- TLS 1.3 Server is not supported
- In AP mode, IPv6 Router Advertisements are not supported. Although STA connected to the APUT can transfer IPv6 data to the peers by using SLAAC for address configuration.
- When sl\_wifi\_enable\_target\_wake\_time() API is used, observed occasional MQTT disconnections with longer TWT intervals (>30secs) with embedded MQTT + TWT.
- AMSDU TX is not supported.
- Fragmentation is not supported.
- AMSDUs within AMPDU is not supported.
- Currently, the module does not support Radio Measurement Requests feature of CCX V2
- 802.11k is not supported
- 40 MHz bandwidth for 2.4 GHz band is not supported.
- 802.11J channel 14 is not supported.
- MQTT versions 3 and 4 are supported.
- Maximum of 3 SSL connections are supported in Wi-Fi alone mode.
- In SSL ECC Curve ID supported is 23. SSL handshake with 3rd party clients depends on the SSL ECC Curve ID.
- LP mode is not supported.
- In iTWT mode, downlink data traffic should be limited. Disconnections may be observed if AP fails to send all the buffered data in the next TWT Service Period.
- Number of MBSSIDs processed is limited by the beacon length that can be processed by the stack (which is limited to 1024 bytes). Beacons greater than 1024 Bytes in length will not be processed.
- CoEx + EAP Security in 352K/320k is not feasible. This issue is observed due to a lack of memory in the 352k/320k Memory Configuration. It is supported with other EXT\_FEAT\_416K\_M4SS\_256K and EXT\_FEAT\_480K\_M4SS\_192K memory configurations.
- UL MUMIMO is not supported.
- The embedded HTTP server is not supported.
- Baremetal is not supported
- Compared to SoC mode, NCP mode has fewer examples, but more will be enabled in upcoming releases.

**BLE**

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.
- BLE TX/RX throughput is less when tested with EFM as compared to EFR
- Maximum supported AE data length is 200 bytes.
- Supports only two ADV\_EXT sets.
- Supports only two BLE connections (1 Central and 1 Peripheral) with AE.
- Advertising Extension feature is not supported in Coexistence.
- The  ae\_central & ae\_peripheral applications are not supported with TA\_352K\_M4\_320K RAM configuration.

**MCU**

- ULP Peripherals examples configurations are for RAM-based execution, as flash is powered off in ULP Mode.
- On 4338a board, two I2C instances(I2C1 and I2C2) are using same GPIOs, so support is not there for using two I2C instances simultaneously.
- I2C High speed and Fastplus mode not working at specifications speed.
- Manual chip select option is not supported when using GSPI.

**Simplicity Studio and Commander**

- Default GDB debug configuration is not supported for SoC projects, work around details provided in "Getting-Started-with-SiWx917"
- Observing flash download failures(ERROR 108) for a few image sizes
- While creating project through Simplicity Studio, "copy contents" option not supported.
- Simplicity commander does not support options under "Debug Lock tools" .

**Terminology**

|**Term**|**Description**|
| :- | :- |
|**New Features**|These items are new to this release|
|**Changes/Issues Fixed**|Changes made to existing features found in previous software releases.|
||Enhancements to existing product flow and feature set.|
||Bug fixes done in the release|
|**Deprecated Items**|Features or functions or APIs that are removed from the distributed release to align with the software roadmap|
|**Known Issues**|Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases|
|**Limitations/Recommendations**|Describes the limitations on product usage and recommendations for optimal use cases|

**Note**

- Change SPI frequency to 12.5Mhz while measuring BLE throughput with EFR32

<br>

# WiSeConnect3\_SDK\_3.1.1-rc1 Release Notes

This SDK package supports SoC Mode and NCP Mode for B0:

- In SoC Mode: Customer applications can run on Cortex M4. Wireless, network, and security stacks run on the wireless subsystem.
- In NCP mode: Wireless, network, and security stacks run on the Wireless subsystem. Customer applications run on the external host MCU.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

**Note**: Use Simplicity Studio version SV5.7.0.1 onwards

## **SoC Highlights**

- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support ultra low power Wi-Fi standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode
- **MCU examples** : GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers, Config Timers, ULP (Ultra Low Power) Timers, Sleeptimer, IOSTREAM, NVM3, MEMLCD, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, ML Blinky, Sensorhub, Joystick and Relative Humidity and Temparature sensor(RHT).
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE whitelisting, and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack, All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS client
- **IDE** : Simplicity Studio with Windows 10(64-bit), Linux, Mac OS
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** :
  - Si-MB4002A Main board
  - SiWx917 Radio boards

|**RadioBoard Type**|**SiWx917A0 with Board Version**|**SiWx917B0 with Board Version**|
| :-: | :-: | :-: |
|Common flash|Si917-BRD4325A(1.0 /1.1 /1.2)|-|
|Common flash|-|Si917-BRD4338A(2.0)|
|Dual flash|Si917-BRD4325B(1.0 /1.1 /1.2)|-|
|External PSRAM|-|Si917-BRD4340A(2.0)|

## **NCP Highlights**

- **Host Interface** : SPI
- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode.
- **Wi-Fi** : 2.4GHz Wi-Fi Support, WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE Whitelisting and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack , BLE Stack , All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS Client.
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **Hardware kits to evaluate NCP Mode**
  - Si917 B0 1.2 expansion board BRD8036B
  - Wireless Pro kit Mainboard BRD4002A Rev A06
  - EFR32xG21 2.4 GHz 20 dBm Radio Board (BRD4180B Rev A02)

## **Release Details**

|**Item**|**Details**|
| :-: | :-: |
|Release date|Oct 18th, 2023|
|SDK Version|3\.1.1|
|Firmware Version|1711\.2.9.0.0.26|
|Package Name|WiSeConnect3\_SDK\_3.1.1-rc1|
|Supported RTOS|FreeRTOS|
|Operating Modes Supported|Wi-Fi STA, Wi-Fi AP, Wi-Fi STA+BLE, Wi-Fi STA+AP|
|Build Quality|GA|

- SiWx917 release consists of two components
  - Wireless Firmware - SiWx917 Firmware Binaries
  - Wiseconnect3 Library - Wiseconnect3 SDK library runs on the external host in NCP mode and internal Cortex M4 in SoC Mode.
- This release is meant only for use with designs based on SiWx917 Silicon
- The firmware to load in your design are available in the following format:
  - SiWG917-B.2.9.0.0.x.rps - B0 Full-featured firmware binary

## **Features Supported**

**Sensorhub service**

- Support for ADC, SPI and I2C based sensors
- Support for PS2 and sleep wakeups
- SoC OPN based project support in SSv5
  - List of OPN's supported
    si917-sb00, siwg917m111mgtba, siwg917m100mgtba, siwg917m111xgtba, siwg917m100xntba, siwg917m121xgtba, siwg917m110lgtba and siwg917m141xgtba
- ML blink and Model Profiler support

**MCU**

- ADC Single Channel, ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, GPIO, I2C, I2S, NVM3, OPAMP, PSRAM, PWM, QEI, RTC, SDIO Secondary, SPI Master and Slave, UART, Micro DMA, USART, Watchdog Timer, USART Master and Slave
- UC Supported Peripherals - GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers , Config Timers, ULP (Ultra Low Power) Timers, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, MEMLCD.
- Services - Sleeptimer, IOSTREAM, NVM3 and Power Manager.
- ULP (Ultra Low Power) Peripherals - ulp\_gpio, ulp\_adc ulp\_i2c, ulp\_i2s, ulp\_ir\_decoder, ulp\_spi, ulp\_timer, ulp\_uart, ulp\_udma

**Wi-Fi**

- WPA2/WPA3 Personal, WPS and WPA2-EAP Support for Station Mode
- TCP/IP stack with IPv4, IPv6, TCP, UDP, TLS, HTTP/HTTPS, DHCPv4, DHCPv6, MQTT Client, DNS Client, SNTP client.
- Support for SSL client versions TLSV1.0, TLSV1.2, TLSV1.3 and SSL server versions TLSV1.0 and TLSV1.2
- Wi-Fi STA (802.11n/802.11ax) + 802.11n AP Support
- HE (802.11ax) and Individual TWT Feature Support
- Multiple BSSID feature support as an STA
- Secure OTA support on B0 radio boards.
- Support for LWIP network stack
- Support for AWS MQTT library
- Support for BSD and IoT sockets application programming interface(API)

**Bluetooth Low Energy**

- BLE central & peripheral connections are supported.
- Ultra-low power save is supported.

**Power Save**

- The power save profiles supported are Max PSP, enhanced MAX PSP, Fast PSP, and 802.11ax TWT.

**Crypto Support**

- AES, SHA, AES-CCM, HMAC, GCM, Chacha-poly, ECDH and TRNG FW Crypto API support added.
- PSA enabled Mbed TLS support added
- NVM support added for key storage
- Symmetric and asymmetric key storage
- TRNG, AES, SHA, HMAC, GCM, Chacha-poly, ECDH and AES-CCM hardware crypto engine is integrated with PSA crypto.

## **Changes and Fixes**

**MCU**

- Support for PSRAM Half-Sleep
- Startup file enhancements
- Moved Sensor hub from Peripheral to Services
- Support for interrupt mode and PS1 for ADC sensor
- Support for new flash map changes related to 'TA 1.8MB + MCU 2MB'
- Support for brd4325e, brd4325f, brd4339a, brd4339b, brd4340b, brd4341a, brd4342a Radio boards
- Support for Power Manager service is added
- Support for Joystick and RHT sensor examples are added.
- Platform Bugs - SI91X-14166, WIFISDK-894, SI91X-14188, SI91X-12956, SI91X-14141, SI91X-14126, SI91X-13624, SI91X-14188, SI91X-14115, SI91X-13719, SI91X-13456, SI91X-14064.

**Wi-Fi**

- Remove duplicate instances of EXECUTION_FROM_RAM in examples
- Update twt use case demo
- Fixed listen api is failing from the second iteration
- Added null checks for the return value of function like get si91x socket
- Added NULL checks after malloc and if allocation successful then calling memset to zero out the allocated space
- Folder restructuring as part of Componentisation
- Add checks for the dynamically allocated memory especially calloc
- Updated transmit test start API
- Updated the start_statistic_report_handler in cli_demo
- Updated readme for user gain table and rf test
- Added mac address and firmware version to featured powersave standby and throughput examples.
- Add EAP encrypted certificate support
- SQA Bugs - SI91X-14122, SI91X-13917, SI91X-13827, SI91X-13598, SI91X-13700, SI91X-14158

**BLE**

- M4 sleep and wake up enabled for BLE alone applications
- Fixed the issue where DUT is unable to transmit packets continuously with ble_testmodes application.
- Added ble_unified_ae_coex_app NCP application.

**CoEx**

- None

**System**

- None

## **Recommendations**

**System**

- The current revision of SiWx917 B0 has:
  - RAM memory of 672k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_672K\_M4SS\_0K- This mode configures TA with 672k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By default EXT\_FEAT\_352K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_480K\_M4SS\_192K - This mode configures TA with 480k and M4 with 192K bytes of memory
    - EXT\_FEAT\_416K\_M4SS\_256K - This mode configures TA with 416k and M4 with 256K bytes of memory
    - EXT\_FEAT\_352K\_M4SS\_320K - This mode configures TA with 352k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 672K\_M4SS\_0K.
  - SoC mode should not use 672k\_M4SS\_0k memory configuration.
- Set the recommended Power Save Profile (PSP) type to Enhanced Max PSP.

**IDE**

- Download the latest Simplicity Studio (SV5.7.0.1)
- Refer to the latest version of the SoC/NCP "Getting-Started-with-SiWx917" guide for more details

**Network Stack**

- The recommended embedded MQTT Publish payload is 1 kBytes.

**Wi-Fi**

- It is recommended to enable bit 16 of the 'Extended TCP IP Feature' bit map in the opermode command for all Wi-Fi Socket operations from the host to ensure graceful handling during asynchronous closures from the peer.
- Aggregation (bit 2 of feature\_bit\_map) is recommended to be enabled in opermode. This enables software to aggregate multiple packets to achieve better throughput
- TCP retransmission count value is recommended to be 30 or higher so that the TCP does not disconnect while the rejoin happens.
- To restart the module, the application needs to call sl\_wifi\_deinit() followed by sl\_wifi\_init().
- Register 'Join Fail Callback' function every time when join is called, as in the rejoin failure path the callback is deregistered. If not done, this might result in a scan not functioning on rejoin failure.
- User can enable SL\_SI91X\_EXT\_TCP\_IP\_SSL\_16K\_RECORD in 'Extended TCP IP Feature'bit map in opermode, if HTTPS download is failing after receiving HTTP headers..
- iTWT setup is recommended after IP assignment/TCP connection/application specific socket connections.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, increase TCP / ARP Timeouts at the remote side depending upon the configured TWT interval configured.
- In case of TWT+coex, when using sl\_wifi\_enable\_target\_wakeup\_time API, use TWT wake duration <= 16 ms and TWT wake interval >= 1 sec. If wake duration > 16 ms or TWT wake interval < 1sec, there might be performance issues.
- For iTWT GTK Interval Should be kept max possible value or zero. If GTK interval is not configurable, recommended TWT interval (in case of sl\_wifi\_enable\_target\_wakeup\_time API) or RX Latency (in case of sl\_wifi\_target\_wake\_time\_auto\_selection API) is less than 4sec.
- Disable Power Save for High Throughput Applications.
- The application needs to ensure that it sets RTC with the correct timestamp when the feature is enabled before establishing the SSL connection.
- The timeout value should not be less than 1 second for socket select and socket receive calls. Timeout value of less than 1 second is not currently supported.
- When sl\_wifi\_enable\_target\_wakeup\_time API is used, configuring TWT Wake interval beyond 1 min might lead to disconnections from the AP. Recommended to use TWT wakeup interval of less than or equal to 1 min.
- Embedded MQTT keep alive interval should be either 0 or a value greater than 35 seconds.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, it is recommended to set missed\_beacon\_count of sl\_wifi\_set\_advanced\_client\_configuration API greater than 2 times of the configured TWT Interval.

**BLE**

- In BLE, the recommended range of Connection Interval in
  - Power Save (BLE Only) - 100 ms to 1.28 s.
- In BLE, during Connection, the configuration of Scan Interval and Scan Window with the same value is not recommended. The suggested ratio of Scan Window to Scan Interval is 3:4.
- In BLE, if a device is acting as Central, the scan window (in set\_scan\_params and create\_connection commands) must be less than the existing Connection Interval. The suggested ratio of Scan Window to Connection Interval is 2:3.
- In BLE mode, if scanning and advertising are in progress on the SiWx91x module and it subsequently gets connected and moves to the central role, scanning stops else if it moves to the peripheral role, advertising stops. To further establish a connection to another peripheral device or to a central device, the application should give a command for starting advertising and scanning again.

**Co-Existence**

- For concurrent Wi-Fi + BLE, and while a Wi-Fi connection is active, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
- Wi-Fi + BLE Advertising
  - All standard advertising intervals are supported. As Wi-Fi throughput is increased, a slight difference in on-air advertisements compared to configured intervals may be observed.
  - BLE advertising is skipped if the advertising interval collides with Wi-Fi activity.
- Wi-Fi + BLE scanning
  - All standard scan intervals are supported. For better scan results, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
  - BLE scanning will be stopped for intervals that collide with Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Connections
  - All standard connection intervals are supported.
  - For a stable connection, use optimal connection intervals and max supervision timeout in the presence of Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Data Transfer
  - To achieve higher throughput for both Wi-Fi and BLE, use medium connection intervals, such as 45 to 80 ms with maximum supervision timeout.
  - Ensure Wi-Fi activity consumes lower intervals.

## **Known Issues**

**Sensorhub**

- Support for ADC FIFO Mode and Multi channel is open
- Support for ADC Powersave is open
- PS1 support in Sensor hub is only for ADC sensor
  
**Network Stack**

- Sometimes during SSL Handshake, ECC curve parameters generated are wrong, resulting in connection failure with BBD2 error. However, this recovers in the next attempt.
- Randomize the client port if using rapid connect/disconnect of the MQTT session on the same client port with the power save.
- Secure SSL renegotiation not supported in Embedded Networking Stack.

**Wi-Fi**

- TWT device (STA) may not go to sleep in between TWT intervals in case of burst data traffics with data size more than the configured 'average tx throughput', until completion of data transfer.
- There are performance and IOP issues with MU MIMO.
- WPA3 Connection with the Hunting and Pecking algorithm takes about 3-4 seconds.
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.
- Low Wi-Fi+BLE throughput
- TCP/UDP TX/RX Data stall observed in CoEx scenarios
- Observed HTTPS Continuous download fails with TA Power save
- Performance improvements are in progress for lower performance metrics.
- Observed interop issue (connectivity failure) with few AP's when device reset/reboot happens on active connection.
- In concurrent mode, AP restart fails after stopping it with ap\_stop command.
- DUT deep sleep will not work after stopping AP with ap\_stop command.
- Unable to get SNTP async events when coex mode and Power save is enabled
- Fine Tuning 802.11ax Spectral mask in Progress
- Fine Tuning 11b mask in Ch11 in progress
- DUT is unable to connect to the AP with WPA3 security when we enable coex mode (WLAN+BLE) in opermode
- Socket listen API is failing from the second iteration
- Disconnections observed with Netgear RAX120 AP in WPA3 security
- Observed connection failures with some AP's in more channel congestion open lab environment

**BLE**

- M4 Power save with RTOS is not supported for BLE scan and data transfer in SoC Mode.
- BLE anchor points will experience a miss rate of approximately 10%, when the slave latency is enabled.
- When power save is enabled, the device stops sending BLE scan requests after 20 seconds.
- DUT hangs when transmitting BLE notification with codded PHY rates of 125kbps and 500kbps, when DLE is enabled.
- DUT is not transmitting packets continuously over the air in BLE test modes.
- After connecting to the remote device using gatt\_test applications, GATT APIs could not be triggered.
- DUT hangs during multiple iterations of BLE connect and disconnect tests with TA and M4 power enabled.

**Co-Existence**

- Observed HTTP continuous download is not happening in Powersave mode after BLE connection established using wifi\_https\_ble\_dual\_role application
- Observed DUT hang while Wi-Fi UDP Tx and BLE continuous scan run for long time.

**System**

- None

### **MCU**

- Refer to the respective Radio board user guides for specific pinout details. Examples are targeted to a specific version mentioned in the respective readme.
- Few peripherals like WDT when configured with RO clock is not working as expected. No impact on the feature but the clocks are not accurate.
- ADC multichannel is not supported
- ADC Differential mode is not working as expected if negative input value set above 2.4V.
- Few(BOD, Comparator, Alarm and SysRTC) wakeup resources are not working as expected in Powermanager service.

## **Limitations and Unsupported Features**

**Wi-Fi/Network Stack**

- TLS 1.3 Server is not supported
- In AP mode, IPv6 Router Advertisements are not supported. Although STA connected to the APUT can transfer IPv6 data to the peers by using SLAAC for address configuration.
- When sl\_wifi\_enable\_target\_wake\_time() API is used, observed occasional MQTT disconnections with longer TWT intervals (>30secs) with embedded MQTT + TWT.
- AMSDU TX is not supported.
- Fragmentation is not supported.
- AMSDUs within AMPDU is not supported.
- Currently, the module does not support Radio Measurement Requests feature of CCX V2
- 802.11k is not supported
- 40 MHz bandwidth for 2.4 GHz band is not supported.
- 802.11J channel 14 is not supported.
- MQTT versions 3 and 4 are supported.
- Maximum of 3 SSL connections are supported in Wi-Fi alone mode.
- In SSL ECC Curve ID supported is 23. SSL handshake with 3rd party clients depends on the SSL ECC Curve ID.
- LP mode is not supported.
- In iTWT mode, downlink data traffic should be limited. Disconnections may be observed if AP fails to send all the buffered data in the next TWT Service Period.
- Number of MBSSIDs processed is limited by the beacon length that can be processed by the stack (which is limited to 1024 bytes). Beacons greater than 1024 Bytes in length will not be processed.
- In A0 SoC mode, M4 power save will work with 384k TA and 320 M4 memory configuration only. It is not supported for "448K TA and 256k M4" and "512k TA and 192k M4" memory configurations
- CoEx + EAP Security in 352K/320k is not feasible. This issue is observed due to a lack of memory in the 352k/320k Memory Configuration. It is supported with other EXT\_FEAT\_416K\_M4SS\_256K and EXT\_FEAT\_480K\_M4SS\_192K memory configurations.
- UL MUMIMO is not supported.
- The embedded HTTP server is not supported.
- Baremetal is not supported
- Compared to SoC mode, NCP mode has fewer examples, but more will be enabled in upcoming releases.

**BLE**

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.
- BLE TX/RX throughput is less when tested with EFM as compared to EFR
- Maximum supported AE data length is 200 bytes.
- Supports only two ADV\_EXT sets.
- Supports only two BLE connections (1 Central and 1 Peripheral) with AE.
- Advertising Extension feature is not supported in Coexistence.
- The demo's ae\_central & ae\_peripheral are not supported with TA\_352K\_M4\_320K RAM configuration.

**MCU**

- ULP Peripherals examples configurations are for RAM-based execution, as flash is powered off in ULP Mode.
- On 4338a board, two I2C instances(I2C1 and I2C2) are using same GPIOs, so support is not there for using two I2C instances simultaneously.
- I2C High speed and Fastplus mode not working at specifications speed.
- Manual chip select option is not supported when using GSPI.

**Simplicity Studio and Commander**

- Default GDB debug configuration is not supported for SoC projects, work around details provided in "Getting-Started-with-SiWx917"
- Observing flash download failures(ERROR 108) for a few image sizes
- While creating project through Simplicity Studio, "copy contents" option not supported.
- Simplicity commander does not support options under "Debug Lock tools" .

## **Terminology**

|**Term**|**Description**|
| :-: | :-: |
|**New Features**|These items are new to this release|
|**Changes/Issues Fixed**|Changes made to existing features found in previous software releases.|
||Enhancements to existing product flow and feature set.|
||Bug fixes done in the release|
|**Deprecated Items**|Features or functions or APIs that are removed from the distributed release to align with the software roadmap|
|**Known Issues**|Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases|
|**Limitations/Recommendations**|Describes the limitations on product usage and recommendations for optimal use cases|

## **Note**

- Change SPI frequency to 12.5Mhz while measuring BLE throughput with EFR32

<br>

# WiSeConnect3\_SDK\_3.1.1-ifc1 Release Notes

This SDK package supports SoC Mode and NCP Mode for A0 and B0:

- In SoC Mode: Customer applications can run on Cortex M4. Wireless, network, and security stacks run on the wireless subsystem.
- In NCP mode: Wireless, network, and security stacks run on the Wireless subsystem. Customer applications run on the external host MCU.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

**Note**: Use Simplicity Studio version SV5.7.0.1 onwards

## **SoC Highlights**

- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support ultra low power Wi-Fi standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode
- **MCU examples** : GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers, Config Timers, ULP (Ultra Low Power) Timers, Sleeptimer, IOSTREAM, NVM3, MEMLCD, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, ML Blinky, Sensorhub
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE whitelisting, and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack, All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS client
- **IDE** : Simplicity Studio with Windows 10(64-bit), Linux, Mac OS
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** :
  - Si-MB4002A Main board
  - SiWx917 Radio boards

|**RadioBoard Type**|**SiWx917A0 with Board Version**|**SiWx917B0 with Board Version**|
| :-: | :-: | :-: |
|Common flash|Si917-BRD4325A(1.0 /1.1 /1.2)|-|
|Common flash|-|Si917-BRD4338A(2.0)|
|Dual flash|Si917-BRD4325B(1.0 /1.1 /1.2)|-|
|External PSRAM|-|Si917-BRD4340A(2.0)|

## **NCP Highlights**

- **Host Interface** : SPI
- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode.
- **Wi-Fi** : 2.4GHz Wi-Fi Support, WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support), Advertising extensions, Data length extensions, LL privacy, BLE Whitelisting and BLE long Range.
- **Integrated Stacks and Profiles** : Wi-Fi Stack , BLE Stack , All GAP and GATT based Profiles & Services are Supported, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS Client.
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **Hardware kits to evaluate NCP Mode**
  - Si917 B0 1.2 expansion board BRD8036B
  - Wireless Pro kit Mainboard BRD4002A Rev A06
  - EFR32xG21 2.4 GHz 20 dBm Radio Board (BRD4180B Rev A02)

## **Release Details**

|**Item**|**Details**|
| :-: | :-: |
|Release date|Oct 11th, 2023|
|SDK Version|3\.1.1|
|Firmware Version|1711\.2.9.0.0.23|
|Package Name|WiSeConnect3\_SDK\_3.1.1-ifc1|
|Supported RTOS|FreeRTOS|
|Operating Modes Supported|Wi-Fi STA, Wi-Fi AP, Wi-Fi STA+BLE, Wi-Fi STA+AP|
|Build Quality|GA|

- SiWx917 release consists of two components
  - Wireless Firmware - SiWx917 Firmware Binaries
  - Wiseconnect3 Library - Wiseconnect3 SDK library runs on the external host in NCP mode and internal Cortex M4 in SoC Mode.
- This release is meant only for use with designs based on SiWx917 Silicon
- The firmware to load in your design are available in the following format:
  - SiWG917-A.2.9.0.0.x.rps - A0 Full-featured firmware binary
  - SiWG917-B.2.9.0.0.x.rps - B0 Full-featured firmware binary

## **Features Supported**

**Sensorhub service**

- Support for ADC, SPI and I2C based sensors
- Support for PS2 and sleep wakeups
- SoC OPN based project support in SSv5
  - List of OPN's supported
    si917-sb00, siwg917m111mgtba, siwg917m100mgtba, siwg917m111xgtba, siwg917m100xntba, siwg917m121xgtba, siwg917m110lgtba and siwg917m141xgtba
- ML blink and Model Profiler support

**MCU**

- ADC Single Channel, ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, GPIO, I2C, I2S, NVM3, OPAMP, PSRAM, PWM, QEI, RTC, SDIO Secondary, SPI Master and Slave, UART, Micro DMA, USART, Watchdog Timer, USART Master and Slave
- UC Supported Peripherals - GPIO, I2C, Calendar,  SPI, SSI, SIO, Micro DMA, UART/USART, Watchdog Timer, Timers , Config Timers, ULP (Ultra Low Power) Timers, SDIO Secondary, PWM, ADC, EFUSE, I2S, PSRAM, Sleeptimer, IOSTREAM, MEMLCD.
- ULP (Ultra Low Power) Peripherals - ulp\_gpio, ulp\_adc ulp\_i2c, ulp\_i2s, ulp\_ir\_decoder, ulp\_spi, ulp\_timer, ulp\_uart, ulp\_udma

**Wi-Fi**

- WPA2/WPA3 Personal, WPS and WPA2-EAP Support for Station Mode
- TCP/IP stack with IPv4, IPv6, TCP, UDP, TLS, HTTP/HTTPS, DHCPv4, DHCPv6, MQTT Client, DNS Client, SNTP client.
- Support for SSL client versions TLSV1.0, TLSV1.2, TLSV1.3 and SSL server versions TLSV1.0 and TLSV1.2
- Wi-Fi STA (802.11n/802.11ax) + 802.11n AP Support
- HE (802.11ax) and Individual TWT Feature Support
- Multiple BSSID feature support as an STA
- Secure OTA support on B0 radio boards.
- Support for LWIP network stack
- Support for AWS MQTT library
- Support for BSD and IoT sockets application programming interface(API)

**Bluetooth Low Energy**

- BLE central & peripheral connections are supported.
- Ultra-low power save is supported.

**Power Save**

- The power save profiles supported are Max PSP, enhanced MAX PSP, Fast PSP, and 802.11ax TWT.

**Crypto Support**

- AES, SHA, AES-CCM, HMAC, and TRNG FW Crypto API support added.
- PSA enabled Mbed TLS support added
- NVM support is added for key storage
- Symmetric key storage support added for Volatile and transparent key.
- TRNG, AES, SHA, and AES-CCM hardware crypto engine is integrated with PSA crypto.

## **Changes and Fixes**

**MCU**

- Optimization for SoC Deepsleep
- Platform Bugs - SI91X-14202, SI91X-13544, SI91X-14095, SI91X-14126, SI91X-13719, SI91X-13456, SI91X-13530, SI91X-13887, SI91X-14064, SI91X-14187, SI91X-14175, SI91X-13938, SI91X-14134, SI91X-14098, SI91X-14133, SI91X-14099

**Wi-Fi**

- Added mem.alloc, mem.free, and mem.write commands
- Verifed and free the dynamic allocated memory when sl si91x driver send command fails
- Added TA buffer configuration in wifi_init
- Added support for Segger sysview
- Adding documentation for apis in sl_i91x_host_interface.h and sl_rsi_utility.h
- Padding reference in aes example
- Improving code readability with adding comments
- Added support for SL_SI91X_SO_MSS
- Replace sl_tls with sl_net credential API
- Update TWT use case demo and Wlan_RF test example
- Update wlan soc feedback from apps team development
- Update certificate handling
- New readme changes
- Wiseconnect3 featured examples readme updated
- Update wiseconnect3.yakka with project description
- Updated slc files
- Public template xml
- Changing the Monitor Interval
- Updated Calibration app for SoC and NCP
- Added new example - aws logging stats, Master application, async select app
- Added NCP Support for examples - HTTP client, wlan throughput v6
- SQA Bugs - SI91X-13870, SI91X-13308, SI91X-13997, SI91X-14122, SI91X-14150, SI91X-14125, SI91X-13486, SI91X-14185

**BLE**

- Socket async feature for TCP TX RX
- Port wlan https v6 ble dual role application
- Fixed the issue with continuous tx/rx in BLE 917 NCP ble_heart_rate application
- Added NCP support for Wlan station ble provisioning with aws cloud, ble_powersave
- SQA Bugs - SI91X-14027

**CoEx**

- None

**System**

- None

## **Recommendations**

**System**

- The current revision of SiWx917 B0 has:
  - RAM memory of 672k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_672K\_M4SS\_0K- This mode configures TA with 672k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By default EXT\_FEAT\_352K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_480K\_M4SS\_192K - This mode configures TA with 480k and M4 with 192K bytes of memory
    - EXT\_FEAT\_416K\_M4SS\_256K - This mode configures TA with 416k and M4 with 256K bytes of memory
    - EXT\_FEAT\_352K\_M4SS\_320K - This mode configures TA with 352k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 672K\_M4SS\_0K.
  - SoC mode should not use 672k\_M4SS\_0k memory configuration.
- Set the recommended Power Save Profile (PSP) type to Enhanced Max PSP.

**IDE**

- Download the latest Simplicity Studio (SV5.7.0.1)
- Refer to the latest version of the SoC/NCP "Getting-Started-with-SiWx917" guide for more details

**Network Stack**

- The recommended embedded MQTT Publish payload is 1 kBytes.

**Wi-Fi**

- It is recommended to enable bit 16 of the 'Extended TCP IP Feature' bit map in the opermode command for all Wi-Fi Socket operations from the host to ensure graceful handling during asynchronous closures from the peer.
- Aggregation (bit 2 of feature\_bit\_map) is recommended to be enabled in opermode. This enables software to aggregate multiple packets to achieve better throughput
- TCP retransmission count value is recommended to be 30 or higher so that the TCP does not disconnect while the rejoin happens.
- To restart the module, the application needs to call sl\_wifi\_deinit() followed by sl\_wifi\_init().
- Register 'Join Fail Callback' function every time when join is called, as in the rejoin failure path the callback is deregistered. If not done, this might result in a scan not functioning on rejoin failure.
- User can enable SL\_SI91X\_EXT\_TCP\_IP\_SSL\_16K\_RECORD in 'Extended TCP IP Feature'bit map in opermode, if HTTPS download is failing after receiving HTTP headers..
- iTWT setup is recommended after IP assignment/TCP connection/application specific socket connections.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, increase TCP / ARP Timeouts at the remote side depending upon the configured TWT interval configured.
- In case of TWT+coex, when using sl\_wifi\_enable\_target\_wakeup\_time API, use TWT wake duration <= 16 ms and TWT wake interval >= 1 sec. If wake duration > 16 ms or TWT wake interval < 1sec, there might be performance issues.
- For iTWT GTK Interval Should be kept max possible value or zero. If GTK interval is not configurable, recommended TWT interval (in case of sl\_wifi\_enable\_target\_wakeup\_time API) or RX Latency (in case of sl\_wifi\_target\_wake\_time\_auto\_selection API) is less than 4sec.
- Disable Power Save for High Throughput Applications.
- The application needs to ensure that it sets RTC with the correct timestamp when the feature is enabled before establishing the SSL connection.
- The timeout value should not be less than 1 second for socket select and socket receive calls. Timeout value of less than 1 second is not currently supported.
- When sl\_wifi\_enable\_target\_wakeup\_time API is used, configuring TWT Wake interval beyond 1 min might lead to disconnections from the AP. Recommended to use TWT wakeup interval of less than or equal to 1 min.
- Embedded MQTT keep alive interval should be either 0 or a value greater than 35 seconds.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, it is recommended to set missed\_beacon\_count of sl\_wifi\_set\_advanced\_client\_configuration API greater than 2 times of the configured TWT Interval.

**BLE**

- In BLE, the recommended range of Connection Interval in
  - Power Save (BLE Only) - 100 ms to 1.28 s.
- In BLE, during Connection, the configuration of Scan Interval and Scan Window with the same value is not recommended. The suggested ratio of Scan Window to Scan Interval is 3:4.
- In BLE, if a device is acting as Central, the scan window (in set\_scan\_params and create\_connection commands) must be less than the existing Connection Interval. The suggested ratio of Scan Window to Connection Interval is 2:3.
- In BLE mode, if scanning and advertising are in progress on the SiWx91x module and it subsequently gets connected and moves to the central role, scanning stops else if it moves to the peripheral role, advertising stops. To further establish a connection to another peripheral device or to a central device, the application should give a command for starting advertising and scanning again.

**Co-Existence**

- For concurrent Wi-Fi + BLE, and while a Wi-Fi connection is active, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
- Wi-Fi + BLE Advertising
  - All standard advertising intervals are supported. As Wi-Fi throughput is increased, a slight difference in on-air advertisements compared to configured intervals may be observed.
  - BLE advertising is skipped if the advertising interval collides with Wi-Fi activity.
- Wi-Fi + BLE scanning
  - All standard scan intervals are supported. For better scan results, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
  - BLE scanning will be stopped for intervals that collide with Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Connections
  - All standard connection intervals are supported.
  - For a stable connection, use optimal connection intervals and max supervision timeout in the presence of Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Data Transfer
  - To achieve higher throughput for both Wi-Fi and BLE, use medium connection intervals, such as 45 to 80 ms with maximum supervision timeout.
  - Ensure Wi-Fi activity consumes lower intervals.

## **Known Issues**

**Sensorhub**

- Support for ADC FIFO Mode and Multi channel is open
- Support for ADC Powersave is open
  
**Network Stack**

- Sometimes during SSL Handshake, ECC curve parameters generated are wrong, resulting in connection failure with BBD2 error. However, this recovers in the next attempt.
- Randomize the client port if using rapid connect/disconnect of the MQTT session on the same client port with the power save.
- Secure SSL renegotiation not supported in Embedded Networking Stack.

**Wi-Fi**

- TWT device (STA) may not go to sleep in between TWT intervals in case of burst data traffics with data size more than the configured 'average tx throughput', until completion of data transfer.
- There are performance and IOP issues with MU MIMO.
- WPA3 Connection with the Hunting and Pecking algorithm takes about 3-4 seconds.
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.
- Low Wi-Fi+BLE throughput
- TCP/UDP TX/RX Data stall observed in CoEx scenarios
- Observed HTTPS Continuous download fails with TA Power save
- Performance improvements are in progress for lower performance metrics.
- Observed interop issue (connectivity failure) with few AP's when device reset/reboot happens on active connection.
- In concurrent mode, AP restart fails after stopping it with ap\_stop command.
- DUT deep sleep will not work after stopping AP with ap\_stop command.
- Unable to get SNTP async events when coex mode and Power save is enabled
- Fine Tuning 802.11ax Spectral mask in Progress
- Fine Tuning 11b mask in Ch11 in progress
- DUT is unable to connect to the AP with WPA3 security when we enable coex mode (WLAN+BLE) in opermode
- Socket listen API is failing from the second iteration
- Disconnections observed with Netgear RAX120 AP in WPA3 security
- Observed connection failures with some AP's in more channel congestion open lab environment

**BLE**

- M4 Power save with RTOS is not supported for BLE scan and data transfer in SoC Mode.
- BLE anchor points will experience a miss rate of approximately 10%, when the slave latency is enabled.
- When power save is enabled, the device stops sending BLE scan requests after 20 seconds.
- DUT hangs when transmitting BLE notification with codded PHY rates of 125kbps and 500kbps, when DLE is enabled.
- DUT is not transmitting packets continuously over the air in BLE test modes.
- After connecting to the remote device using gatt\_test applications, GATT APIs could not be triggered.
- DUT hangs during multiple iterations of BLE connect and disconnect tests with TA and M4 power enabled.

**Co-Existence**

- Observed HTTP continuous download is not happening in Powersave mode after BLE connection established using wifi\_https\_ble\_dual\_role application
- Observed DUT hang while Wi-Fi UDP Tx and BLE continuous scan run for long time.

**System**

- None

### **MCU**

- Refer to the respective Radio board user guides for specific pinout details. Examples are targeted to a specific version mentioned in the respective readme.
- Few peripherals like WDT when configured with RO clock is not working as expected. No impact on the feature but the clocks are not accurate.
- DUT is going to hang state while loading M4 image with security-enabled in Dual flash card

## **Limitations and Unsupported Features**

**Wi-Fi/Network Stack**

- TLS 1.3 Server is not supported
- In AP mode, IPv6 Router Advertisements are not supported. Although STA connected to the APUT can transfer IPv6 data to the peers by using SLAAC for address configuration.
- When sl\_wifi\_enable\_target\_wake\_time() API is used, observed occasional MQTT disconnections with longer TWT intervals (>30secs) with embedded MQTT + TWT.
- AMSDU TX is not supported.
- Fragmentation is not supported.
- AMSDUs within AMPDU is not supported.
- Currently, the module does not support Radio Measurement Requests feature of CCX V2
- 802.11k is not supported
- 40 MHz bandwidth for 2.4 GHz band is not supported.
- 802.11J channel 14 is not supported.
- MQTT versions 3 and 4 are supported.
- Maximum of 3 SSL connections are supported in Wi-Fi alone mode.
- In SSL ECC Curve ID supported is 23. SSL handshake with 3rd party clients depends on the SSL ECC Curve ID.
- LP mode is not supported.
- In iTWT mode, downlink data traffic should be limited. Disconnections may be observed if AP fails to send all the buffered data in the next TWT Service Period.
- Number of MBSSIDs processed is limited by the beacon length that can be processed by the stack (which is limited to 1024 bytes). Beacons greater than 1024 Bytes in length will not be processed.
- In A0 SoC mode, M4 power save will work with 384k TA and 320 M4 memory configuration only. It is not supported for "448K TA and 256k M4" and "512k TA and 192k M4" memory configurations
- CoEx + EAP Security in 352K/320k is not feasible. This issue is observed due to a lack of memory in the 352k/320k Memory Configuration. It is supported with other EXT\_FEAT\_416K\_M4SS\_256K and EXT\_FEAT\_480K\_M4SS\_192K memory configurations.
- UL MUMIMO is not supported.
- The embedded HTTP server is not supported.
- Baremetal is not supported
- Compared to SoC mode, NCP mode has fewer examples, but more will be enabled in upcoming releases.

**BLE**

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.
- BLE TX/RX throughput is less when tested with EFM as compared to EFR
- Maximum supported AE data length is 200 bytes.
- Supports only two ADV\_EXT sets.
- Supports only two BLE connections (1 Central and 1 Peripheral) with AE.
- Advertising Extension feature is not supported in Coexistence.
- The demo's ae\_central & ae\_peripheral are not supported with TA\_352K\_M4\_320K RAM configuration.

**MCU**

- ULP Peripherals examples configurations are for RAM-based execution, as flash is powered off in ULP Mode.
- On 4338a board, two I2C instances(I2C1 and I2C2) are using same GPIOs, so support is not there for using two I2C instances simultaneously.
- I2C High speed mode not supported.
- Manual chip select option is not supported when using GSPI and SSI.

**Simplicity Studio and Commander**

- Default GDB debug configuration is not supported for SoC projects, work around details provided in "Getting-Started-with-SiWx917"
- Observing flash download failures(ERROR 108) for a few image sizes
- While creating project through Simplicity Studio, "copy contents" option not supported.
- Simplicity commander does not support options under "Debug Lock tools" .

## **Terminology**

|**Term**|**Description**|
| :-: | :-: |
|**New Features**|These items are new to this release|
|**Changes/Issues Fixed**|Changes made to existing features found in previous software releases.|
||Enhancements to existing product flow and feature set.|
||Bug fixes done in the release|
|**Deprecated Items**|Features or functions or APIs that are removed from the distributed release to align with the software roadmap|
|**Known Issues**|Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases|
|**Limitations/Recommendations**|Describes the limitations on product usage and recommendations for optimal use cases|

## **Note**

- Change SPI frequency to 12.5Mhz while measuring BLE throughput with EFR32

<br>

**WiSeConnect3\_SDK\_3.1.0-rc4 Release Notes**

This SDK package supports SoC Mode and NCP Mode for SiWx917:

- In SoC Mode: Customer Applications can run on Cortex M4. Wireless, network, and security stacks run on the Wireless subsystem.
- In NCP mode: Wireless, network, and security stacks run on the Wireless subsystem. Customer applications run on the external host MCU.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

Note: Use Simplicity Studio version SV5.7.0.1 onwards

**SoC Highlights**

- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode
- **MCU examples** :  GPIO, I2C, Calendar,  SPI, SSI, SIO, UDMA, UART/USART, WDT, Timers, Config Timers, ULP (Ultra Low Power) Timers, Sleeptimer, IOSTREAM, NVM3, MEMLCD, SDIO, PWM, ADC, EFUSE, I2S, PSRAM
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support)
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack, and Profiles, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS client
- **IDE** : Simplicity Studio with Windows 10(64-bit), Linux, Mac OS
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** :
  - Si-MB4002A Main board
  - SiWx917 Radio boards

|**RadioBoard Type**|**SiWx917A0 with Board Version**|**SiWx917B0 with Board Version**|
| :-: | :-: | :-: |
|Common flash|Si917-BRD4325A(1.0 /1.1 /1.2)|-|
|Common flash|-|Si917-BRD4338A(2.0)|
|Dual flash|Si917-BRD4325B(1.0 /1.1 /1.2)|-|
|External PSRAM|-|Si917-BRD4340A(2.0)|

**NCP Highlights**

- **Host Interface** : SPI
- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode.
- **Wi-Fi** : 2.4GHz Wi-Fi Support, WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support)
- **Integrated Stacks and Profiles** : Wi-Fi Stack , BLE Stack and Profiles, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS Client.
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **Hardware kits to evaluate NCP Mode**
  - Si917 B0 Single Band Radio Board (BRD4338A)
  - Wireless Pro kit Mainboard BRD4002A Rev A06
  - EFR32xG21 2.4 GHz 20 dBm Radio Board (BRD4180B Rev A02)

**Release Details**

|**Item**|**Details**|
| :-: | :-: |
|Release date|5th Oct, 2023|
|SDK Version|3\.1.0-rc4|
|Firmware Version|1711\.2.9.0.0.21|
|Package Name|WiSeConnect3\_SDK\_3.1.0|
|Supported RTOS|FreeRTOS|
|Operating Modes Supported|Wi-Fi STA, Wi-Fi AP, Wi-Fi STA+BLE, Wi-Fi STA+AP|
|Build Quality|Pre-certification|

**Updating to this Release**

- SiWx917 release consists of two components
  - Wireless Firmware - SiWx917 Firmware Binaries
  - Wiseconnect3 Library - Wiseconnect3 SDK Library runs on the external host in NCP mode and internal Cortex M4 in SoC Mode.
- This release is meant only for use with designs based on SiWx917 Silicon
- The firmware to load in your design are available in the following format:
  - SiWG917-A.2.9.0.0.x.rps - A0 Full-featured firmware binary
  - SiWG917-B.2.9.0.0.x.rps - B0 Full-featured firmware binary

**Features Supported**

**MCU**

- ADC Single Channel, ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, GPIO, I2C, I2S, NVM3, OPAMP, PSRAM, PWM, QEI, RTC, SDIO Slave, SPI Master and Slave, UART, UDMA, USART, WDT, USART Master and Slave
- UC Supported Peripherals - GPIO, I2C, Calendar,  SPI, SSI, SIO, UDMA, UART/USART, WDT, Timers , Config Timers, ULP (Ultra Low Power) Timers, SDIO, PWM, ADC, EFUSE, I2S, PSRAM, Sleeptimer, IOSTREAM, MEMLCD.
- ULP (Ultra Low Power) Peripherals - ulp\_gpio, ulp\_adc ulp\_i2c, ulp\_i2s, ulp\_ir\_decoder, ulp\_spi, ulp\_timer, ulp\_uart, ulp\_udma

**Wi-Fi**

- WPA2/WPA3 Personal, WPS and WPA2-EAP Support for Station Mode
- TCP/IP stack with IPv4, IPv6, TCP, UDP, TLS, HTTP/HTTPS, DHCPv4, DHCPv6, MQTT Client, DNS Client, SNTP client.
- Support for SSL client versions TLSV1.0, TLSV1.2, TLSV1.3 and SSL server versions TLSV1.0 and TLSV1.2
- Wi-Fi STA (802.11n/802.11ax) + 802.11n AP Support
- HE (802.11ax) and Individual TWT Feature Support
- Multiple BSSID feature support as an STA
- Secure OTA support on B0 radio boards.
- Support for LWIP network stack
- Support for AWS MQTT library
- Support for BSD and IoT sockets application programming interface(API)

**Bluetooth Low Energy**

- BLE central & peripheral connections are supported.
- Ultra-low power save is supported in Test Mode to support Tx/Rx performance testing

**Power Save**

- The power save profiles supported are Max PSP, enhanced MAX PSP, and 802.11ax TWT.

**Crypto Support**

- AES, SHA, AES-CCM, HMAC and TRNG FW Crypto API support added.
- PSA enabled Mbed TLS support added
  - NVM support is added for key storage
  - Symmetric key storage support added for Volatile and transparent key.
  - TRNG, AES, SHA, ChachaPoly and AES-CCM hardware crypto engine is integrated with PSA crypto.

**Changes and Fixes**

**MCU**

- None

**Wi-Fi**

- Added documentation for the examples - tcp_tx_on_periodic_wakeup, memlcd, m4_firmware_update, sl_si91x_gspi, sl_si91x_i2s_primary and sl_si91x_i2s_secondary
- Bugs resolved: SI91X-13911, SI91X-13955

**BLE**

- None

**System**

- None

**Recommendations**

**System**

- The current revision of SiWx917 A0 has:
  - RAM memory of 704k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_704K\_M4SS\_0K- This mode configures TA with 704k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By Default EXT\_FEAT\_384K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_512K\_M4SS\_192K - This mode configures TA with 512k and M4 with 192K bytes of memory
    - EXT\_FEAT\_448K\_M4SS\_256K - This mode configures TA with 448k and M4 with 256K bytes of memory
    - EXT\_FEAT\_384K\_M4SS\_320K - This mode configures TA with 384k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 704K\_M4SS\_0K.
  - SoC mode should not use 704k\_M4SS\_0k Memory configuration.
  - In SoC mode, M4 power save will work with 384k TA and 320 M4 memory configuration only. It is not supported for "448K TA and 256k M4" and "512k TA and 192k M4" memory configurations.
- The current revision of SiWx917 B0 has:
  - RAM memory of 672k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_672K\_M4SS\_0K- This mode configures TA with 672k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By Default EXT\_FEAT\_352K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_480K\_M4SS\_192K - This mode configures TA with 480k and M4 with 192K bytes of memory
    - EXT\_FEAT\_416K\_M4SS\_256K - This mode configures TA with 416k and M4 with 256K bytes of memory
    - EXT\_FEAT\_352K\_M4SS\_320K - This mode configures TA with 352k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 672K\_M4SS\_0K.
  - SoC mode should not use 672k\_M4SS\_0k Memory configuration.
  - In SoC mode, M4 power save will work with any memory configuration.
- Set the recommended Power Save Profile (PSP) type to Enhanced Max PSP.

**IDE**

- Download the latest Simplicity Studio (SV5.7.0.1)
- Refer to the latest version of the SoC/NCP "Getting-Started-with-SiWx917" guide for more details

**Wi-Fi**

- It is recommended to enable bit 16 of the 'Extended TCP IP Feature' bit map in the opermode command for all Wi-Fi Socket Operations from the host to ensure graceful handling during asynchronous closures from the peer.
- Aggregation (bit 2 of feature\_bit\_map) is recommended to be enabled in opermode. This enables sw to aggregate multiple packets to achieve better throughput
- TCP retransmission count value is recommended to be 30 or higher so that the TCP does not disconnect while the rejoin happens.
- To restart the module, the application needs to call sl\_wifi\_deinit() followed by sl\_wifi\_init().
- Register 'Join Fail Callback' function every time when join is called, as in the rejoin failure path the callback is deregistered. If not done, this might result in a scan not functioning on rejoin failure.
- User can enable SL\_SI91X\_EXT\_TCP\_IP\_SSL\_16K\_RECORD in 'Extended TCP IP Feature'bit map in opermode, if HTTPS download is failing after receiving HTTP headers..
- iTWT setup is recommended after IP assignment/TCP connection/application connection.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, increase TCP / ARP Timeouts at the remote side depending upon the configured TWT interval configured.
- In case of TWT+coex, when using sl\_wifi\_enable\_target\_wakeup\_time API, use TWT wake duration <= 16 ms and TWT wake interval >= 1 sec. If wake duration > 16 ms or TWT wake interval < 1sec, there might be performance issues.
- For iTWT GTK Interval Should be kept max possible value or zero. If GTK interval is not configurable, recommended TWT interval (in case of sl\_wifi\_enable\_target\_wakeup\_time API)
- Disable Power Save for High Throughput Applications.
- The application needs to ensure that it sets RTC with the correct timestamp when the feature is enabled before establishing the SSL connection.
- Timeout value should be minimum 1 second for socket select and socket receive calls. Timeout value of less than 1 second is not currently supported.
- When sl\_wifi\_enable\_target\_wakeup\_time API is used, configuring TWT Wake interval beyond 1 min might lead to disconnections from the AP. Recommended to use TWT wakeup interval of less than or equal to 1 min.
- MQTT keep alive interval should be either 0 or a value greater than 35 seconds.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, it is recommended to set missed\_beacon\_count of sl\_wifi\_set\_advanced\_client\_configuration API greater than 2 times of the configured TWT Interval.
- Secure OTA: Keys need to be programmed before validating Secure OTA

**BLE**

- In BLE, recommended range of Connection Interval in
  - Power Save (BLE Only) - 100 ms to 1.28 s.
- In BLE, during Connection, the configuration of Scan Interval and Scan Window with the same value is not recommended. The suggested ratio of Scan Window to Scan Interval is 3:4.
- In BLE, if a device is acting as Central, the scan window (in set\_scan\_params and create\_connection commands) must be less than the existing Connection Interval. The suggested ratio of Scan Window to Connection Interval is 2:3.
- In BLE mode, if scanning and advertising are in progress on the SiWx91x module and it subsequently gets connected and moves to the central role, scanning stops else if it moves to the peripheral role, advertising stops. To further establish a connection to another peripheral device or to a central device, the application should give a command for starting advertising and scanning again.

**Co-Existence**

- For concurrent Wi-Fi + BLE, and while a Wi-Fi connection is active, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
- Wi-Fi + BLE Advertising
  - All standard advertising intervals are supported. As Wi-Fi throughput is increased, a slight difference in on-air advertisements compared to configured intervals may be observed.
  - BLE advertising is skipped if the advertising interval collides with Wi-Fi activity.
- Wi-Fi + BLE scanning
  - All standard scan intervals are supported. For better scan results, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
  - BLE scanning will be stopped for intervals that collide with Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Connections
  - All standard connection intervals are supported.
  - For a stable connection, use optimal connection intervals and max supervision timeout in the presence of Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Data Transfer
  - To achieve higher throughput for both Wi-Fi and BLE, use medium connection intervals, such as 45 to 80 ms with maximum supervision timeout.
  - Ensure Wi-Fi activity consumes lower intervals.

**Known Issues**

**Network Stack**

- Sometimes during SSL Handshake, ECC curve parameters generated are wrong, resulting in connection failure with BBD2 error. However, this recovers in the next attempt.
- Recommended MQTT Publish payload is 1 kBytes.
- Randomize the client port if using rapid connect/disconnect of the MQTT session on the same client port with the power save.
- Secure SSL Renegotiation not supported in Embedded Networking Stack.

**Wi-Fi**

- Device with active TWT will not go to sleep when the buffer is full.
- There are performance and IOP issues with MU MIMO.
- WPA3 connection takes 2.5 seconds.
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.
- EAP connection with certificates of 4096-bit key length is not supported.
- Low Wi-Fi+BLE throughput
- Data stall and disconnection with TCP Tx data transfer when TA power save is enabled
- TCP/UDP TX/RX Data stall observed in CoEx scenarios
- HTTPS Continuous download fails with TA Power save
- Low-performance metrics.
- Data stall when WLAN TCP data transfer, BLE scanning, BLE advertising, and BLE notification are enabled

**BLE**

- BLE Range is less with A0/B0 dual flash Radio boards when compared to A0/B0 common flash Radio boards.

**System**

- None

**MCU**

- Refer the respective Radio board user guides for specific pinout details. Examples are targetted to a specific version mentioned in the respective readme.
- when using SL DMA, UDMA1 is not working as expected
- Few peripherals like WDT when configured with RO clock is not working as expected. No impact on the feature but the clocks are not accurate.

**Co-Existence**

- sl_wifi_init throws insufficient memory(0x2C) error, when low_power_mode feature is enabled in CoEx application with "TA_352K_M4SS_320K" Memory configuration.

**Limitations and Unsupported Features**

**Wi-Fi/Network Stack**

- TLS 1.3 Server is not supported
- In AP mode, IPv6 Router Advertisements are not supported. Although STA connected to the APUT can transfer IPv6 data to the peers by using SLAAC for address configuration.
- When sl\_wifi\_enable\_target\_wakeup\_time() API is used, observed occasional MQTT disconnections with longer TWT intervals (>30secs) with embedded MQTT + TWT.
- AMSDU TX is not supported.
- Fragmentation is not supported.
- AMSDUs within AMPDU is not supported.
- Currently, the module does not support Radio Measurement Requests feature of CCX V2
- 802.11k is not supported
- Short GI is not supported
- 40 MHz bandwidth for 2.4 GHz band is not supported.
- 802.11J channel 14 is not supported.
- MQTT versions 3 and 4 are supported.
- Maximum of 3 SSL connections are supported in Wi-Fi alone mode.
- In SSL ECC Curve ID supported is 23. SSL handshake with 3rd party clients depends on the SSL ECC Curve ID.
- LP mode is not supported.
- Fine Tuning 802.11ax Spectral mask in Progress
- Fine Tuning 11b mask in Ch11 in progress
- In iTWT mode, downlink data traffic should be limited. Disconnections may be observed if AP fails to send all the buffered data in the next TWT Service Period.
- Number of MBSSIDs processed is limited by the beacon length that can be processed by the stack (which is limited to 1024 bytes). Beacons greater than 1024 Bytes in length will not be processed.
- In A0 SoC mode, M4 power save will work with 384k TA and 320 M4 memory configuration only. It is not supported for "448K TA and 256k M4" and "512k TA and 192k M4" memory configurations
- Timeout value should be a minimum 1 second for socket select and socket receive calls. Timeout value less than 1 second is not currently supported.
- M4 OTA update on dual flash will work for same flash sizes only (internal and External).
- CoEx + EAP Security in 352K/320k is not feasible. This issue is observed due to a lack of memory in the 352k/320k Memory Configuration. It is supported with other EXT\_FEAT\_416K\_M4SS\_256K and EXT\_FEAT\_480K\_M4SS\_192K memory configurations.
- UL MUMIMO is not supported.
- The embedded HTTP server is not supported.
- Baremetal is not supported

**BLE**

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.
- BLE TX/RX throughput is less when tested with EFM as compared to EFR
- Maximum supported AE data length is 200 bytes.
- Supports only two ADV\_EXT sets.
- Supports only two BLE connections( 1 Central and 1 Peripheral) with AE.
- Advertising Extension feature is not supported in Coexistence.

**MCU**

- ULP Peripherals examples configurations are for RAM-based execution, as flash is powered off in ULP Mode
- On 4338a board, two I2C instances(I2C1 and I2C2) are using same GPIOs ,so support is not there for using two I2C instances simultaneously
- I2C Fast and High speed mode not supported
- when using GSPI and SSI, manual chip select option not supported

**Simplicity Studio and Commander**

- Default GDB debug configuration is not supported for SoC projects, work around details provided in "Getting-Started-with-SiWx917"
- Observing flash download failures(ERROR 108) for a few image sizes
- While creating project through Simplicity Studio, "copy contents" option not supported.
- Simplicity commander does not support options under "Debug Lock tools" .

**Terminology**

|**Term**|**Description**|
| :-: | :-: |
|**New Features**|These items are new to this release|
|**Changes/Issues Fixed**|Changes made to existing features found in previous software releases.|
||Enhancements to existing product flow and feature set.|
||Bug fixes done in the Release|
|**Deprecated Items**|Features or functions or APIs that are removed from the distributed release to align with the software roadmap|
|**Known Issues**|Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases|
|**Limitations/Recommendations**|Describes the limitations on product usage and recommendations for optimal use cases|

**Note**

- NA

<br>

**WiSeConnect3\_SDK\_3.1.0-rc3 Release Notes**

This SDK package supports SoC Mode and NCP Mode for SiWx917:

- In SoC Mode: Customer Applications can run on Cortex M4. Wireless, network, and security stacks run on the Wireless subsystem.
- In NCP mode: Wireless, network, and security stacks run on the Wireless subsystem. Customer applications run on the external host MCU.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

Note: Use Simplicity Studio version SV5.7.0.1 onwards

**SoC Highlights**

- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode
- **MCU examples** :  GPIO, I2C, Calendar,  SPI, SSI, SIO, UDMA, UART/USART, WDT, Timers, Config Timers, ULP (Ultra Low Power) Timers, Sleeptimer, IOSTREAM, NVM3, MEMLCD, SDIO, PWM, ADC, EFUSE, I2S, PSRAM
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support)
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack, and Profiles, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS client
- **IDE** : Simplicity Studio with Windows 10(64-bit), Linux, Mac OS
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** :
  - Si-MB4002A Main board
  - SiWx917 Radio boards

|**RadioBoard Type**|**SiWx917A0 with Board Version**|**SiWx917B0 with Board Version**|
| :-: | :-: | :-: |
|Common flash|Si917-BRD4325A(1.0 /1.1 /1.2)|-|
|Common flash|-|Si917-BRD4338A(2.0)|
|Dual flash|Si917-BRD4325B(1.0 /1.1 /1.2)|-|
|External PSRAM|-|Si917-BRD4340A(2.0)|

**NCP Highlights**

- **Host Interface** : SPI
- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode.
- **Wi-Fi** : 2.4GHz Wi-Fi Support, WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support)
- **Integrated Stacks and Profiles** : Wi-Fi Stack , BLE Stack and Profiles, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS Client.
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **Hardware kits to evaluate NCP Mode**
  - Si917 B0 Single Band Radio Board (BRD4338A)
  - Wireless Pro kit Mainboard BRD4002A Rev A06
  - EFR32xG21 2.4 GHz 20 dBm Radio Board (BRD4180B Rev A02)

**Release Details**

|**Item**|**Details**|
| :-: | :-: |
|Release date|3rd Oct, 2023|
|SDK Version|3\.1.0-rc3|
|Firmware Version|1711\.2.9.0.0.21|
|Package Name|WiSeConnect3\_SDK\_3.1.0|
|Supported RTOS|FreeRTOS|
|Operating Modes Supported|Wi-Fi STA, Wi-Fi AP, Wi-Fi STA+BLE, Wi-Fi STA+AP|
|Build Quality|Pre-certification|

**Updating to this Release**

- SiWx917 release consists of two components
  - Wireless Firmware - SiWx917 Firmware Binaries
  - Wiseconnect3 Library - Wiseconnect3 SDK Library runs on the external host in NCP mode and internal Cortex M4 in SoC Mode.
- This release is meant only for use with designs based on SiWx917 Silicon
- The firmware to load in your design are available in the following format:
  - SiWG917-A.2.9.0.0.x.rps - A0 Full-featured firmware binary
  - SiWG917-B.2.9.0.0.x.rps - B0 Full-featured firmware binary

**Features Supported**

**MCU**

- ADC Single Channel, ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, GPIO, I2C, I2S, NVM3, OPAMP, PSRAM, PWM, QEI, RTC, SDIO Slave, SPI Master and Slave, UART, UDMA, USART, WDT, USART Master and Slave
- UC Supported Peripherals - GPIO, I2C, Calendar,  SPI, SSI, SIO, UDMA, UART/USART, WDT, Timers , Config Timers, ULP (Ultra Low Power) Timers, SDIO, PWM, ADC, EFUSE, I2S, PSRAM, Sleeptimer, IOSTREAM, MEMLCD.
- ULP (Ultra Low Power) Peripherals - ulp\_gpio, ulp\_adc ulp\_i2c, ulp\_i2s, ulp\_ir\_decoder, ulp\_spi, ulp\_timer, ulp\_uart, ulp\_udma

**Wi-Fi**

- WPA2/WPA3 Personal, WPS and WPA2-EAP Support for Station Mode
- TCP/IP stack with IPv4, IPv6, TCP, UDP, TLS, HTTP/HTTPS, DHCPv4, DHCPv6, MQTT Client, DNS Client, SNTP client.
- Support for SSL client versions TLSV1.0, TLSV1.2, TLSV1.3 and SSL server versions TLSV1.0 and TLSV1.2
- Wi-Fi STA (802.11n/802.11ax) + 802.11n AP Support
- HE (802.11ax) and Individual TWT Feature Support
- Multiple BSSID feature support as an STA
- Secure OTA support on B0 radio boards.
- Support for LWIP network stack
- Support for AWS MQTT library
- Support for BSD and IoT sockets application programming interface(API)

**Bluetooth Low Energy**

- BLE central & peripheral connections are supported.
- Ultra-low power save is supported in Test Mode to support Tx/Rx performance testing

**Power Save**

- The power save profiles supported are Max PSP, enhanced MAX PSP, and 802.11ax TWT.

**Crypto Support**

- AES, SHA, AES-CCM, HMAC and TRNG FW Crypto API support added.
- PSA enabled Mbed TLS support added
  - NVM support is added for key storage
  - Symmetric key storage support added for Volatile and transparent key.
  - TRNG, AES, SHA, ChachaPoly and AES-CCM hardware crypto engine is integrated with PSA crypto.

**Changes and Fixes**

**MCU**

- Added crypto examples - PSA ChachaPoly
- Fixed matter warnings in led and button drivers
- SI91X bugs covered: SI91X-14104, SI91X-14118

**Wi-Fi**

- Fixed Cli demo issue with Interrupt based data reception
- Added NCP Support for Powersave Deep sleep and Enterprise client examples
- Added documentation for the Crypto APIs
- Moved the crypto examples to snippets folder from _internal
- Bugs resolved: SI91X-13883

**BLE**

- Added Support for command rsi_ble_req_hci_raw
- Bugs resolved: SI91X-14114, SI91X-13686, RSCDEV-21271

**System**

- None

**Recommendations**

**System**

- The current revision of SiWx917 A0 has:
  - RAM memory of 704k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_704K\_M4SS\_0K- This mode configures TA with 704k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By Default EXT\_FEAT\_384K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_512K\_M4SS\_192K - This mode configures TA with 512k and M4 with 192K bytes of memory
    - EXT\_FEAT\_448K\_M4SS\_256K - This mode configures TA with 448k and M4 with 256K bytes of memory
    - EXT\_FEAT\_384K\_M4SS\_320K - This mode configures TA with 384k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 704K\_M4SS\_0K.
  - SoC mode should not use 704k\_M4SS\_0k Memory configuration.
  - In SoC mode, M4 power save will work with 384k TA and 320 M4 memory configuration only. It is not supported for "448K TA and 256k M4" and "512k TA and 192k M4" memory configurations.
- The current revision of SiWx917 B0 has:
  - RAM memory of 672k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_672K\_M4SS\_0K- This mode configures TA with 672k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By Default EXT\_FEAT\_352K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_480K\_M4SS\_192K - This mode configures TA with 480k and M4 with 192K bytes of memory
    - EXT\_FEAT\_416K\_M4SS\_256K - This mode configures TA with 416k and M4 with 256K bytes of memory
    - EXT\_FEAT\_352K\_M4SS\_320K - This mode configures TA with 352k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 672K\_M4SS\_0K.
  - SoC mode should not use 672k\_M4SS\_0k Memory configuration.
  - In SoC mode, M4 power save will work with any memory configuration.
- Set the recommended Power Save Profile (PSP) type to Enhanced Max PSP.

**IDE**

- Download the latest Simplicity Studio (SV5.7.0.1)
- Refer to the latest version of the SoC/NCP "Getting-Started-with-SiWx917" guide for more details

**Wi-Fi**

- It is recommended to enable bit 16 of the 'Extended TCP IP Feature' bit map in the opermode command for all Wi-Fi Socket Operations from the host to ensure graceful handling during asynchronous closures from the peer.
- Aggregation (bit 2 of feature\_bit\_map) is recommended to be enabled in opermode. This enables sw to aggregate multiple packets to achieve better throughput
- TCP retransmission count value is recommended to be 30 or higher so that the TCP does not disconnect while the rejoin happens.
- To restart the module, the application needs to call sl\_wifi\_deinit() followed by sl\_wifi\_init().
- Register 'Join Fail Callback' function every time when join is called, as in the rejoin failure path the callback is deregistered. If not done, this might result in a scan not functioning on rejoin failure.
- User can enable SL\_SI91X\_EXT\_TCP\_IP\_SSL\_16K\_RECORD in 'Extended TCP IP Feature'bit map in opermode, if HTTPS download is failing after receiving HTTP headers..
- iTWT setup is recommended after IP assignment/TCP connection/application connection.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, increase TCP / ARP Timeouts at the remote side depending upon the configured TWT interval configured.
- In case of TWT+coex, when using sl\_wifi\_enable\_target\_wakeup\_time API, use TWT wake duration <= 16 ms and TWT wake interval >= 1 sec. If wake duration > 16 ms or TWT wake interval < 1sec, there might be performance issues.
- For iTWT GTK Interval Should be kept max possible value or zero. If GTK interval is not configurable, recommended TWT interval (in case of sl\_wifi\_enable\_target\_wakeup\_time API)
- Disable Power Save for High Throughput Applications.
- The application needs to ensure that it sets RTC with the correct timestamp when the feature is enabled before establishing the SSL connection.
- Timeout value should be minimum 1 second for socket select and socket receive calls. Timeout value of less than 1 second is not currently supported.
- When sl\_wifi\_enable\_target\_wakeup\_time API is used, configuring TWT Wake interval beyond 1 min might lead to disconnections from the AP. Recommended to use TWT wakeup interval of less than or equal to 1 min.
- MQTT keep alive interval should be either 0 or a value greater than 35 seconds.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, it is recommended to set missed\_beacon\_count of sl\_wifi\_set\_advanced\_client\_configuration API greater than 2 times of the configured TWT Interval.
- Secure OTA: Keys need to be programmed before validating Secure OTA

**BLE**

- In BLE, recommended range of Connection Interval in
  - Power Save (BLE Only) - 100 ms to 1.28 s.
- In BLE, during Connection, the configuration of Scan Interval and Scan Window with the same value is not recommended. The suggested ratio of Scan Window to Scan Interval is 3:4.
- In BLE, if a device is acting as Central, the scan window (in set\_scan\_params and create\_connection commands) must be less than the existing Connection Interval. The suggested ratio of Scan Window to Connection Interval is 2:3.
- In BLE mode, if scanning and advertising are in progress on the SiWx91x module and it subsequently gets connected and moves to the central role, scanning stops else if it moves to the peripheral role, advertising stops. To further establish a connection to another peripheral device or to a central device, the application should give a command for starting advertising and scanning again.

**Co-Existence**

- For concurrent Wi-Fi + BLE, and while a Wi-Fi connection is active, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
- Wi-Fi + BLE Advertising
  - All standard advertising intervals are supported. As Wi-Fi throughput is increased, a slight difference in on-air advertisements compared to configured intervals may be observed.
  - BLE advertising is skipped if the advertising interval collides with Wi-Fi activity.
- Wi-Fi + BLE scanning
  - All standard scan intervals are supported. For better scan results, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
  - BLE scanning will be stopped for intervals that collide with Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Connections
  - All standard connection intervals are supported.
  - For a stable connection, use optimal connection intervals and max supervision timeout in the presence of Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Data Transfer
  - To achieve higher throughput for both Wi-Fi and BLE, use medium connection intervals, such as 45 to 80 ms with maximum supervision timeout.
  - Ensure Wi-Fi activity consumes lower intervals.

**Known Issues**

**Network Stack**

- Sometimes during SSL Handshake, ECC curve parameters generated are wrong, resulting in connection failure with BBD2 error. However, this recovers in the next attempt.
- Recommended MQTT Publish payload is 1 kBytes.
- Randomize the client port if using rapid connect/disconnect of the MQTT session on the same client port with the power save.
- Secure SSL Renegotiation not supported in Embedded Networking Stack.

**Wi-Fi**

- Device with active TWT will not go to sleep when the buffer is full.
- There are performance and IOP issues with MU MIMO.
- WPA3 connection takes 2.5 seconds.
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.
- EAP connection with certificates of 4096-bit key length is not supported.
- Low Wi-Fi+BLE throughput
- Data stall and disconnection with TCP Tx data transfer when TA power save is enabled
- TCP/UDP TX/RX Data stall observed in CoEx scenarios
- HTTPS Continuous download fails with TA Power save
- Low-performance metrics.
- Data stall when WLAN TCP data transfer, BLE scanning, BLE advertising, and BLE notification are enabled

**BLE**

- BLE Range is less with A0/B0 dual flash Radio boards when compared to A0/B0 common flash Radio boards.

**System**

- None

**MCU**

- Refer the respective Radio board user guides for specific pinout details. Examples are targetted to a specific version mentioned in the respective readme.
- when using SL DMA, UDMA1 is not working as expected
- Few peripherals like WDT when configured with RO clock is not working as expected. No impact on the feature but the clocks are not accurate.

**Co-Existence**

- sl_wifi_init throws insufficient memory(0x2C) error, when low_power_mode feature is enabled in CoEx application with "TA_352K_M4SS_320K" Memory configuration.

**Limitations and Unsupported Features**

**Wi-Fi/Network Stack**

- TLS 1.3 Server is not supported
- In AP mode, IPv6 Router Advertisements are not supported. Although STA connected to the APUT can transfer IPv6 data to the peers by using SLAAC for address configuration.
- When sl\_wifi\_enable\_target\_wakeup\_time() API is used, observed occasional MQTT disconnections with longer TWT intervals (>30secs) with embedded MQTT + TWT.
- AMSDU TX is not supported.
- Fragmentation is not supported.
- AMSDUs within AMPDU is not supported.
- Currently, the module does not support Radio Measurement Requests feature of CCX V2
- 802.11k is not supported
- Short GI is not supported
- 40 MHz bandwidth for 2.4 GHz band is not supported.
- 802.11J channel 14 is not supported.
- MQTT versions 3 and 4 are supported.
- Maximum of 3 SSL connections are supported in Wi-Fi alone mode.
- In SSL ECC Curve ID supported is 23. SSL handshake with 3rd party clients depends on the SSL ECC Curve ID.
- LP mode is not supported.
- Fine Tuning 802.11ax Spectral mask in Progress
- Fine Tuning 11b mask in Ch11 in progress
- In iTWT mode, downlink data traffic should be limited. Disconnections may be observed if AP fails to send all the buffered data in the next TWT Service Period.
- Number of MBSSIDs processed is limited by the beacon length that can be processed by the stack (which is limited to 1024 bytes). Beacons greater than 1024 Bytes in length will not be processed.
- In A0 SoC mode, M4 power save will work with 384k TA and 320 M4 memory configuration only. It is not supported for "448K TA and 256k M4" and "512k TA and 192k M4" memory configurations
- Timeout value should be a minimum 1 second for socket select and socket receive calls. Timeout value less than 1 second is not currently supported.
- M4 OTA update on dual flash will work for same flash sizes only (internal and External).
- CoEx + EAP Security in 352K/320k is not feasible. This issue is observed due to a lack of memory in the 352k/320k Memory Configuration. It is supported with other EXT\_FEAT\_416K\_M4SS\_256K and EXT\_FEAT\_480K\_M4SS\_192K memory configurations.
- UL MUMIMO is not supported.
- The embedded HTTP server is not supported.
- Baremetal is not supported

**BLE**

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.
- BLE TX/RX throughput is less when tested with EFM as compared to EFR
- Maximum supported AE data length is 200 bytes.
- Supports only two ADV\_EXT sets.
- Supports only two BLE connections( 1 Central and 1 Peripheral) with AE.
- Advertising Extension feature is not supported in Coexistence.

**MCU**

- ULP Peripherals examples configurations are for RAM-based execution, as flash is powered off in ULP Mode
- On 4338a board, two I2C instances(I2C1 and I2C2) are using same GPIOs ,so support is not there for using two I2C instances simultaneously
- I2C Fast and High speed mode not supported
- when using GSPI and SSI, manual chip select option not supported

**Simplicity Studio and Commander**

- Default GDB debug configuration is not supported for SoC projects, work around details provided in "Getting-Started-with-SiWx917"
- Observing flash download failures(ERROR 108) for a few image sizes
- While creating project through Simplicity Studio, "copy contents" option not supported.
- Simplicity commander does not support options under "Debug Lock tools" .

**Terminology**

|**Term**|**Description**|
| :-: | :-: |
|**New Features**|These items are new to this release|
|**Changes/Issues Fixed**|Changes made to existing features found in previous software releases.|
||Enhancements to existing product flow and feature set.|
||Bug fixes done in the Release|
|**Deprecated Items**|Features or functions or APIs that are removed from the distributed release to align with the software roadmap|
|**Known Issues**|Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases|
|**Limitations/Recommendations**|Describes the limitations on product usage and recommendations for optimal use cases|

**Note**

- NA

<br>

**WiSeConnect3\_SDK\_3.1.0-rc2 Release Notes**

This SDK package supports SoC Mode and NCP Mode for SiWx917:

- In SoC Mode: Customer Applications can run on Cortex M4. Wireless, network, and security stacks run on the Wireless subsystem.
- In NCP mode: Wireless, network, and security stacks run on the Wireless subsystem. Customer applications run on the external host MCU.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

Note: Use Simplicity Studio version SV5.7.0.1 onwards

**SoC Highlights**

- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode
- **MCU examples** :  GPIO, I2C, Calendar,  SPI, SSI, SIO, UDMA, UART/USART, WDT, Timers, Config Timers, ULP (Ultra Low Power) Timers, Sleeptimer, IOSTREAM, NVM3, MEMLCD, SDIO, PWM, ADC, EFUSE, I2S, PSRAM
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support)
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack, and Profiles, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS client
- **IDE** : Simplicity Studio with Windows 10(64-bit), Linux, Mac OS
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** :
  - Si-MB4002A Main board
  - SiWx917 Radio boards

|**RadioBoard Type**|**SiWx917A0 with Board Version**|**SiWx917B0 with Board Version**|
| :-: | :-: | :-: |
|Common flash|Si917-BRD4325A(1.0 /1.1 /1.2)|-|
|Common flash|-|Si917-BRD4338A(2.0)|
|Dual flash|Si917-BRD4325B(1.0 /1.1 /1.2)|-|
|External PSRAM|-|Si917-BRD4340A(2.0)|

**NCP Highlights**

- **Host Interface** : SPI
- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode.
- **Wi-Fi** : 2.4GHz Wi-Fi Support, WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support)
- **Integrated Stacks and Profiles** : Wi-Fi Stack , BLE Stack and Profiles, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS Client.
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **Hardware kits to evaluate NCP Mode**
  - Si917 B0 Single Band Radio Board (BRD4338A)
  - Wireless Pro kit Mainboard BRD4002A Rev A06
  - EFR32xG21 2.4 GHz 20 dBm Radio Board (BRD4180B Rev A02)

**Release Details**

|**Item**|**Details**|
| :-: | :-: |
|Release date|26th Sep, 2023|
|SDK Version|3\.1.0-rc2|
|Firmware Version|1711\.2.9.0.0.21|
|Package Name|WiSeConnect3\_SDK\_3.1.0|
|Supported RTOS|FreeRTOS|
|Operating Modes Supported|Wi-Fi STA, Wi-Fi AP, Wi-Fi STA+BLE, Wi-Fi STA+AP|
|Build Quality|Pre-certification|

**Updating to this Release**

- SiWx917 release consists of two components
  - Wireless Firmware - SiWx917 Firmware Binaries
  - Wiseconnect3 Library - Wiseconnect3 SDK Library runs on the external host in NCP mode and internal Cortex M4 in SoC Mode.
- This release is meant only for use with designs based on SiWx917 Silicon
- The firmware to load in your design are available in the following format:
  - SiWG917-A.2.9.0.0.x.rps - A0 Full-featured firmware binary
  - SiWG917-B.2.9.0.0.x.rps - B0 Full-featured firmware binary

**Features Supported**

**MCU**

- ADC Single Channel, ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, GPIO, I2C, I2S, NVM3, OPAMP, PSRAM, PWM, QEI, RTC, SDIO Slave, SPI Master and Slave, UART, UDMA, USART, WDT, USART Master and Slave
- UC Supported Peripherals - GPIO, I2C, Calendar,  SPI, SSI, SIO, UDMA, UART/USART, WDT, Timers , Config Timers, ULP (Ultra Low Power) Timers, SDIO, PWM, ADC, EFUSE, I2S, PSRAM, Sleeptimer, IOSTREAM, MEMLCD.
- ULP (Ultra Low Power) Peripherals - ulp\_gpio, ulp\_adc ulp\_i2c, ulp\_i2s, ulp\_ir\_decoder, ulp\_spi, ulp\_timer, ulp\_uart, ulp\_udma

**Wi-Fi**

- WPA2/WPA3 Personal, WPS and WPA2-EAP Support for Station Mode
- TCP/IP stack with IPv4, IPv6, TCP, UDP, TLS, HTTP/HTTPS, DHCPv4, DHCPv6, MQTT Client, DNS Client, SNTP client.
- Support for SSL client versions TLSV1.0, TLSV1.2, TLSV1.3 and SSL server versions TLSV1.0 and TLSV1.2
- Wi-Fi STA (802.11n/802.11ax) + 802.11n AP Support
- HE (802.11ax) and Individual TWT Feature Support
- Multiple BSSID feature support as an STA
- Secure OTA support on B0 radio boards.
- Support for LWIP network stack
- Support for AWS MQTT library
- Support for BSD and IoT sockets application programming interface(API)

**Bluetooth Low Energy**

- BLE central & peripheral connections are supported.
- Ultra-low power save is supported in Test Mode to support Tx/Rx performance testing

**Power Save**

- The power save profiles supported are Max PSP, enhanced MAX PSP, and 802.11ax TWT.

**Crypto Support**

- AES, SHA, AES-CCM, HMAC and TRNG FW Crypto API support added.
- PSA enabled Mbed TLS support added
  - NVM support is added for key storage
  - Symmetric key storage support added for Volatile and transparent key.
  - TRNG, AES, SHA, and AES-CCM hardware crypto engine is integrated with PSA crypto.

**Changes and Fixes**

**MCU**

- SI91X bugs covered: SI91X-14081

**Wi-Fi**

- Fixed the join request structure
- Update Readme for TWT_TCP_CLIENT example
- Added crypto examples - ECDH, PSA GCM, PSA HMAC

**BLE**

- Fixed high power numbers issue in BLE PER application with Tx and Rx in SoC mode.

**System**

- None

**Recommendations**

**System**

- The current revision of SiWx917 A0 has:
  - RAM memory of 704k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_704K\_M4SS\_0K- This mode configures TA with 704k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By Default EXT\_FEAT\_384K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_512K\_M4SS\_192K - This mode configures TA with 512k and M4 with 192K bytes of memory
    - EXT\_FEAT\_448K\_M4SS\_256K - This mode configures TA with 448k and M4 with 256K bytes of memory
    - EXT\_FEAT\_384K\_M4SS\_320K - This mode configures TA with 384k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 704K\_M4SS\_0K.
  - SoC mode should not use 704k\_M4SS\_0k Memory configuration.
  - In SoC mode, M4 power save will work with 384k TA and 320 M4 memory configuration only. It is not supported for "448K TA and 256k M4" and "512k TA and 192k M4" memory configurations.
- The current revision of SiWx917 B0 has:
  - RAM memory of 672k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_672K\_M4SS\_0K- This mode configures TA with 672k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By Default EXT\_FEAT\_352K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_480K\_M4SS\_192K - This mode configures TA with 480k and M4 with 192K bytes of memory
    - EXT\_FEAT\_416K\_M4SS\_256K - This mode configures TA with 416k and M4 with 256K bytes of memory
    - EXT\_FEAT\_352K\_M4SS\_320K - This mode configures TA with 352k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 672K\_M4SS\_0K.
  - SoC mode should not use 672k\_M4SS\_0k Memory configuration.
  - In SoC mode, M4 power save will work with any memory configuration.
- Set the recommended Power Save Profile (PSP) type to Enhanced Max PSP.

**IDE**

- Download the latest Simplicity Studio (SV5.7.0.1)
- Refer to the latest version of the SoC/NCP "Getting-Started-with-SiWx917" guide for more details

**Wi-Fi**

- It is recommended to enable bit 16 of the 'Extended TCP IP Feature' bit map in the opermode command for all Wi-Fi Socket Operations from the host to ensure graceful handling during asynchronous closures from the peer.
- Aggregation (bit 2 of feature\_bit\_map) is recommended to be enabled in opermode. This enables sw to aggregate multiple packets to achieve better throughput
- TCP retransmission count value is recommended to be 30 or higher so that the TCP does not disconnect while the rejoin happens.
- To restart the module, the application needs to call sl\_wifi\_deinit() followed by sl\_wifi\_init().
- Register 'Join Fail Callback' function every time when join is called, as in the rejoin failure path the callback is deregistered. If not done, this might result in a scan not functioning on rejoin failure.
- User can enable SL\_SI91X\_EXT\_TCP\_IP\_SSL\_16K\_RECORD in 'Extended TCP IP Feature'bit map in opermode, if HTTPS download is failing after receiving HTTP headers..
- iTWT setup is recommended after IP assignment/TCP connection/application connection.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, increase TCP / ARP Timeouts at the remote side depending upon the configured TWT interval configured.
- In case of TWT+coex, when using sl\_wifi\_enable\_target\_wakeup\_time API, use TWT wake duration <= 16 ms and TWT wake interval >= 1 sec. If wake duration > 16 ms or TWT wake interval < 1sec, there might be performance issues.
- For iTWT GTK Interval Should be kept max possible value or zero. If GTK interval is not configurable, recommended TWT interval (in case of sl\_wifi\_enable\_target\_wakeup\_time API)
- Disable Power Save for High Throughput Applications.
- The application needs to ensure that it sets RTC with the correct timestamp when the feature is enabled before establishing the SSL connection.
- Timeout value should be minimum 1 second for socket select and socket receive calls. Timeout value of less than 1 second is not currently supported.
- When sl\_wifi\_enable\_target\_wakeup\_time API is used, configuring TWT Wake interval beyond 1 min might lead to disconnections from the AP. Recommended to use TWT wakeup interval of less than or equal to 1 min.
- MQTT keep alive interval should be either 0 or a value greater than 35 seconds.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, it is recommended to set missed\_beacon\_count of sl\_wifi\_set\_advanced\_client\_configuration API greater than 2 times of the configured TWT Interval.
- Secure OTA: Keys need to be programmed before validating Secure OTA

**BLE**

- In BLE, recommended range of Connection Interval in
  - Power Save (BLE Only) - 100 ms to 1.28 s.
- In BLE, during Connection, the configuration of Scan Interval and Scan Window with the same value is not recommended. The suggested ratio of Scan Window to Scan Interval is 3:4.
- In BLE, if a device is acting as Central, the scan window (in set\_scan\_params and create\_connection commands) must be less than the existing Connection Interval. The suggested ratio of Scan Window to Connection Interval is 2:3.
- In BLE mode, if scanning and advertising are in progress on the SiWx91x module and it subsequently gets connected and moves to the central role, scanning stops else if it moves to the peripheral role, advertising stops. To further establish a connection to another peripheral device or to a central device, the application should give a command for starting advertising and scanning again.

**Co-Existence**

- For concurrent Wi-Fi + BLE, and while a Wi-Fi connection is active, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
- Wi-Fi + BLE Advertising
  - All standard advertising intervals are supported. As Wi-Fi throughput is increased, a slight difference in on-air advertisements compared to configured intervals may be observed.
  - BLE advertising is skipped if the advertising interval collides with Wi-Fi activity.
- Wi-Fi + BLE scanning
  - All standard scan intervals are supported. For better scan results, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
  - BLE scanning will be stopped for intervals that collide with Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Connections
  - All standard connection intervals are supported.
  - For a stable connection, use optimal connection intervals and max supervision timeout in the presence of Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Data Transfer
  - To achieve higher throughput for both Wi-Fi and BLE, use medium connection intervals, such as 45 to 80 ms with maximum supervision timeout.
  - Ensure Wi-Fi activity consumes lower intervals.

**Known Issues**

**Network Stack**

- Sometimes during SSL Handshake, ECC curve parameters generated are wrong, resulting in connection failure with BBD2 error. However, this recovers in the next attempt.
- Recommended MQTT Publish payload is 1 kBytes.
- Randomize the client port if using rapid connect/disconnect of the MQTT session on the same client port with the power save.
- Secure SSL Renegotiation not supported in Embedded Networking Stack.

**Wi-Fi**

- Device with active TWT will not go to sleep when the buffer is full.
- There are performance and IOP issues with MU MIMO.
- WPA3 connection takes 2.5 seconds.
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.
- EAP connection with certificates of 4096-bit key length is not supported.
- Low Wi-Fi+BLE throughput
- Data stall and disconnection with TCP Tx data transfer when TA power save is enabled
- TCP/UDP TX/RX Data stall observed in CoEx scenarios
- HTTPS Continuous download fails with TA Power save
- Low-performance metrics.
- Data stall when WLAN TCP data transfer, BLE scanning, BLE advertising, and BLE notification are enabled

**BLE**

- BLE Range is less with A0/B0 dual flash Radio boards when compared to A0/B0 common flash Radio boards.

**System**

- None

**MCU**

- Refer the respective Radio board user guides for specific pinout details. Examples are targetted to a specific version mentioned in the respective readme.
- when using SL DMA, UDMA1 is not working as expected
- Few peripherals like WDT when configured with RO clock is not working as expected. No impact on the feature but the clocks are not accurate.

**Co-Existence**

- sl_wifi_init throws insufficient memory(0x2C) error, when low_power_mode feature is enabled in CoEx application with "TA_352K_M4SS_320K" Memory configuration.

**Limitations and Unsupported Features**

**Wi-Fi/Network Stack**

- TLS 1.3 Server is not supported
- In AP mode, IPv6 Router Advertisements are not supported. Although STA connected to the APUT can transfer IPv6 data to the peers by using SLAAC for address configuration.
- When sl\_wifi\_enable\_target\_wakeup\_time() API is used, observed occasional MQTT disconnections with longer TWT intervals (>30secs) with embedded MQTT + TWT.
- AMSDU TX is not supported.
- Fragmentation is not supported.
- AMSDUs within AMPDU is not supported.
- Currently, the module does not support Radio Measurement Requests feature of CCX V2
- 802.11k is not supported
- Short GI is not supported
- 40 MHz bandwidth for 2.4 GHz band is not supported.
- 802.11J channel 14 is not supported.
- MQTT versions 3 and 4 are supported.
- Maximum of 3 SSL connections are supported in Wi-Fi alone mode.
- In SSL ECC Curve ID supported is 23. SSL handshake with 3rd party clients depends on the SSL ECC Curve ID.
- LP mode is not supported.
- Fine Tuning 802.11ax Spectral mask in Progress
- Fine Tuning 11b mask in Ch11 in progress
- In iTWT mode, downlink data traffic should be limited. Disconnections may be observed if AP fails to send all the buffered data in the next TWT Service Period.
- Number of MBSSIDs processed is limited by the beacon length that can be processed by the stack (which is limited to 1024 bytes). Beacons greater than 1024 Bytes in length will not be processed.
- In A0 SoC mode, M4 power save will work with 384k TA and 320 M4 memory configuration only. It is not supported for "448K TA and 256k M4" and "512k TA and 192k M4" memory configurations
- Timeout value should be a minimum 1 second for socket select and socket receive calls. Timeout value less than 1 second is not currently supported.
- M4 OTA update on dual flash will work for same flash sizes only (internal and External).
- CoEx + EAP Security in 352K/320k is not feasible. This issue is observed due to a lack of memory in the 352k/320k Memory Configuration. It is supported with other EXT\_FEAT\_416K\_M4SS\_256K and EXT\_FEAT\_480K\_M4SS\_192K memory configurations.
- UL MUMIMO is not supported.
- The embedded HTTP server is not supported.
- Baremetal is not supported

**BLE**

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.
- BLE TX/RX throughput is less when tested with EFM as compared to EFR
- Maximum supported AE data length is 200 bytes.
- Supports only two ADV\_EXT sets.
- Supports only two BLE connections( 1 Central and 1 Peripheral) with AE.
- Advertising Extension feature is not supported in Coexistence.

**MCU**

- ULP Peripherals examples configurations are for RAM-based execution, as flash is powered off in ULP Mode
- On 4338a board, two I2C instances(I2C1 and I2C2) are using same GPIOs ,so support is not there for using two I2C instances simultaneously
- I2C Fast and High speed mode not supported
- when using GSPI and SSI, manual chip select option not supported

**Simplicity Studio and Commander**

- Default GDB debug configuration is not supported for SoC projects, work around details provided in "Getting-Started-with-SiWx917"
- Observing flash download failures(ERROR 108) for a few image sizes
- While creating project through Simplicity Studio, "copy contents" option not supported.
- Simplicity commander does not support options under "Debug Lock tools" .

**Terminology**

|**Term**|**Description**|
| :-: | :-: |
|**New Features**|These items are new to this release|
|**Changes/Issues Fixed**|Changes made to existing features found in previous software releases.|
||Enhancements to existing product flow and feature set.|
||Bug fixes done in the Release|
|**Deprecated Items**|Features or functions or APIs that are removed from the distributed release to align with the software roadmap|
|**Known Issues**|Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases|
|**Limitations/Recommendations**|Describes the limitations on product usage and recommendations for optimal use cases|

**Note**

- NA

<br>

**WiSeConnect3\_SDK\_3.1.0-rc1 Release Notes**

This SDK package supports SoC Mode and NCP Mode for SiWx917:

- In SoC Mode: Customer Applications can run on Cortex M4. Wireless, network, and security stacks run on the Wireless subsystem.
- In NCP mode: Wireless, network, and security stacks run on the Wireless subsystem. Customer applications run on the external host MCU.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

Note: Use Simplicity Studio version SV5.7.0.1 onwards

**SoC Highlights**

- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode
- **MCU examples** :  GPIO, I2C, Calendar,  SPI, SSI, SIO, UDMA, UART/USART, WDT, Timers, Config Timers, ULP (Ultra Low Power) Timers, Sleeptimer, IOSTREAM, NVM3, MEMLCD, SDIO, PWM, ADC, EFUSE, I2S, PSRAM
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support)
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack, and Profiles, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS client
- **IDE** : Simplicity Studio with Windows 10(64-bit), Linux, Mac OS
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** :
  - Si-MB4002A Main board
  - SiWx917 Radio boards

|**RadioBoard Type**|**SiWx917A0 with Board Version**|**SiWx917B0 with Board Version**|
| :-: | :-: | :-: |
|Common flash|Si917-BRD4325A(1.0 /1.1 /1.2)|-|
|Common flash|-|Si917-BRD4338A(2.0)|
|Dual flash|Si917-BRD4325B(1.0 /1.1 /1.2)|-|
|External PSRAM|-|Si917-BRD4340A(2.0)|

**NCP Highlights**

- **Host Interface** : SPI
- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode.
- **Wi-Fi** : 2.4GHz Wi-Fi Support, WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support)
- **Integrated Stacks and Profiles** : Wi-Fi Stack , BLE Stack and Profiles, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS Client.
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **Hardware kits to evaluate NCP Mode**
  - Si917 B0 Single Band Radio Board (BRD4338A)
  - Wireless Pro kit Mainboard BRD4002A Rev A06
  - EFR32xG21 2.4 GHz 20 dBm Radio Board (BRD4180B Rev A02)

**Release Details**

|**Item**|**Details**|
| :-: | :-: |
|Release date|22th Sep, 2023|
|SDK Version|3\.1.0-rc1|
|Firmware Version|1711\.2.9.0.0.21|
|Package Name|WiSeConnect3\_SDK\_3.1.0|
|Supported RTOS|FreeRTOS|
|Operating Modes Supported|Wi-Fi STA, Wi-Fi AP, Wi-Fi STA+BLE, Wi-Fi STA+AP|
|Build Quality|Pre-certification|

**Updating to this Release**

- SiWx917 release consists of two components
  - Wireless Firmware - SiWx917 Firmware Binaries
  - Wiseconnect3 Library - Wiseconnect3 SDK Library runs on the external host in NCP mode and internal Cortex M4 in SoC Mode.
- This release is meant only for use with designs based on SiWx917 Silicon
- The firmware to load in your design are available in the following format:
  - SiWG917-A.2.9.0.0.x.rps - A0 Full-featured firmware binary
  - SiWG917-B.2.9.0.0.x.rps - B0 Full-featured firmware binary

**Features Supported**

**MCU**

- ADC Single Channel, ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, GPIO, I2C, I2S, NVM3, OPAMP, PSRAM, PWM, QEI, RTC, SDIO Slave, SPI Master and Slave, UART, UDMA, USART, WDT, USART Master and Slave
- UC Supported Peripherals - GPIO, I2C, Calendar,  SPI, SSI, SIO, UDMA, UART/USART, WDT, Timers , Config Timers, ULP (Ultra Low Power) Timers, SDIO, PWM, ADC, EFUSE, I2S, PSRAM, Sleeptimer, IOSTREAM, MEMLCD.
- ULP (Ultra Low Power) Peripherals - ulp\_gpio, ulp\_adc ulp\_i2c, ulp\_i2s, ulp\_ir\_decoder, ulp\_spi, ulp\_timer, ulp\_uart, ulp\_udma

**Wi-Fi**

- WPA2/WPA3 Personal, WPS and WPA2-EAP Support for Station Mode
- TCP/IP stack with IPv4, IPv6, TCP, UDP, TLS, HTTP/HTTPS, DHCPv4, DHCPv6, MQTT Client, DNS Client, SNTP client.
- Support for SSL client versions TLSV1.0, TLSV1.2, TLSV1.3 and SSL server versions TLSV1.0 and TLSV1.2
- Wi-Fi STA (802.11n/802.11ax) + 802.11n AP Support
- HE (802.11ax) and Individual TWT Feature Support
- Multiple BSSID feature support as an STA
- Secure OTA support on B0 radio boards.
- Support for LWIP network stack
- Support for AWS MQTT library
- Support for BSD and IoT sockets application programming interface(API)

**Bluetooth Low Energy**

- BLE central & peripheral connections are supported.
- Ultra-low power save is supported in Test Mode to support Tx/Rx performance testing

**Power Save**

- The power save profiles supported are Max PSP, enhanced MAX PSP, and 802.11ax TWT.

**Crypto Support**

- AES, SHA, AES-CCM, HMAC and TRNG FW Crypto API support added.
- PSA enabled Mbed TLS support added
  - NVM support is added for key storage
  - Symmetric key storage support added for Volatile and transparent key.
  - TRNG, AES, SHA, and AES-CCM hardware crypto engine is integrated with PSA crypto.

**Changes and Fixes**

**MCU**

- SI91X bugs covered: SI91X-13974, SI91X-13963, SI91X-13960, SI91X-13931, SI91X-13711, SI91X-13678, SI91X-13677,SI91X-13676,
                      SI91X-13611, SI91X-13555, SI91X-13554, SI91X-13969, SI91X-13912, SI91X-13855, SI91X-13709, SI91X-13706

**Wi-Fi**

- Added set device region for transmit_test opermode
- print_sl_ipv6_address updated
- Updated TCP Periodic wake up with M4 Sleep wake up
- Added thread safe support for malloc and free functions
- Update Readme for user_gain_table and wlan_rf_test
- Added SNI option for async sockets
- Fixed Soc Reset with M4 security enabled
- Added support for AP STOP feature
- Readme Updates - SI91X-13793, SI91X-13868, SI91X-13769, SI91X-13874, WIFISDK-724
- Added iostream support in calibration example for letting users enter calib commands via VCOM port
- Fixed Firmware Update getting failed after sending two packets
- Added WPA3 and listen interval getter/setter method
- Added NCP Support for AWS MQTT, tcp_client, twt_tcp_client
- Added crypto examples - hmac, PSA SHA, si91x_psa_asymmetric_key_storage, si91x_psa_symmetric_key_storage, si91x_psa_aes
- Added new example - aws_device_shadow_logging_stats
- SI91X bugs covered: SI91X-13939, SI91X-13921, SI91X-13184, SI91X-13852, SI91X-13988, SI91X-13884, SI91X-13980,
                      SI91X-13486, SI91X-14004, SI91X-13983, SI91X-13979, SI91X-13406, SI91X-14001, SI91X-13967

**BLE**

- Added new examples -  ble_ae_central, gatt_test, ble_ae_peripheral
- Fixed high power numbers issue in BLE PER application with Tx and Rx in SoC mode.

**System**

- None

**Recommendations**

**System**

- The current revision of SiWx917 A0 has:
  - RAM memory of 704k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_704K\_M4SS\_0K- This mode configures TA with 704k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By Default EXT\_FEAT\_384K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_512K\_M4SS\_192K - This mode configures TA with 512k and M4 with 192K bytes of memory
    - EXT\_FEAT\_448K\_M4SS\_256K - This mode configures TA with 448k and M4 with 256K bytes of memory
    - EXT\_FEAT\_384K\_M4SS\_320K - This mode configures TA with 384k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 704K\_M4SS\_0K.
  - SoC mode should not use 704k\_M4SS\_0k Memory configuration.
  - In SoC mode, M4 power save will work with 384k TA and 320 M4 memory configuration only. It is not supported for "448K TA and 256k M4" and "512k TA and 192k M4" memory configurations.
- The current revision of SiWx917 B0 has:
  - RAM memory of 672k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_672K\_M4SS\_0K- This mode configures TA with 672k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By Default EXT\_FEAT\_352K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_480K\_M4SS\_192K - This mode configures TA with 480k and M4 with 192K bytes of memory
    - EXT\_FEAT\_416K\_M4SS\_256K - This mode configures TA with 416k and M4 with 256K bytes of memory
    - EXT\_FEAT\_352K\_M4SS\_320K - This mode configures TA with 352k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 672K\_M4SS\_0K.
  - SoC mode should not use 672k\_M4SS\_0k Memory configuration.
  - In SoC mode, M4 power save will work with any memory configuration.
- Set the recommended Power Save Profile (PSP) type to Enhanced Max PSP.

**IDE**

- Download the latest Simplicity Studio (SV5.7.0.1)
- Refer to the latest version of the SoC/NCP "Getting-Started-with-SiWx917" guide for more details

**Wi-Fi**

- It is recommended to enable bit 16 of the 'Extended TCP IP Feature' bit map in the opermode command for all Wi-Fi Socket Operations from the host to ensure graceful handling during asynchronous closures from the peer.
- Aggregation (bit 2 of feature\_bit\_map) is recommended to be enabled in opermode. This enables sw to aggregate multiple packets to achieve better throughput
- TCP retransmission count value is recommended to be 30 or higher so that the TCP does not disconnect while the rejoin happens.
- To restart the module, the application needs to call sl\_wifi\_deinit() followed by sl\_wifi\_init().
- Register 'Join Fail Callback' function every time when join is called, as in the rejoin failure path the callback is deregistered. If not done, this might result in a scan not functioning on rejoin failure.
- User can enable SL\_SI91X\_EXT\_TCP\_IP\_SSL\_16K\_RECORD in 'Extended TCP IP Feature'bit map in opermode, if HTTPS download is failing after receiving HTTP headers..
- iTWT setup is recommended after IP assignment/TCP connection/application connection.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, increase TCP / ARP Timeouts at the remote side depending upon the configured TWT interval configured.
- In case of TWT+coex, when using sl\_wifi\_enable\_target\_wakeup\_time API, use TWT wake duration <= 16 ms and TWT wake interval >= 1 sec. If wake duration > 16 ms or TWT wake interval < 1sec, there might be performance issues.
- For iTWT GTK Interval Should be kept max possible value or zero. If GTK interval is not configurable, recommended TWT interval (in case of sl\_wifi\_enable\_target\_wakeup\_time API)
- Disable Power Save for High Throughput Applications.
- The application needs to ensure that it sets RTC with the correct timestamp when the feature is enabled before establishing the SSL connection.
- Timeout value should be minimum 1 second for socket select and socket receive calls. Timeout value of less than 1 second is not currently supported.
- When sl\_wifi\_enable\_target\_wakeup\_time API is used, configuring TWT Wake interval beyond 1 min might lead to disconnections from the AP. Recommended to use TWT wakeup interval of less than or equal to 1 min.
- MQTT keep alive interval should be either 0 or a value greater than 35 seconds.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, it is recommended to set missed\_beacon\_count of sl\_wifi\_set\_advanced\_client\_configuration API greater than 2 times of the configured TWT Interval.
- Secure OTA: Keys need to be programmed before validating Secure OTA

**BLE**

- In BLE, recommended range of Connection Interval in
  - Power Save (BLE Only) - 100 ms to 1.28 s.
- In BLE, during Connection, the configuration of Scan Interval and Scan Window with the same value is not recommended. The suggested ratio of Scan Window to Scan Interval is 3:4.
- In BLE, if a device is acting as Central, the scan window (in set\_scan\_params and create\_connection commands) must be less than the existing Connection Interval. The suggested ratio of Scan Window to Connection Interval is 2:3.
- In BLE mode, if scanning and advertising are in progress on the SiWx91x module and it subsequently gets connected and moves to the central role, scanning stops else if it moves to the peripheral role, advertising stops. To further establish a connection to another peripheral device or to a central device, the application should give a command for starting advertising and scanning again.

**Co-Existence**

- For concurrent Wi-Fi + BLE, and while a Wi-Fi connection is active, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
- Wi-Fi + BLE Advertising
  - All standard advertising intervals are supported. As Wi-Fi throughput is increased, a slight difference in on-air advertisements compared to configured intervals may be observed.
  - BLE advertising is skipped if the advertising interval collides with Wi-Fi activity.
- Wi-Fi + BLE scanning
  - All standard scan intervals are supported. For better scan results, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
  - BLE scanning will be stopped for intervals that collide with Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Connections
  - All standard connection intervals are supported.
  - For a stable connection, use optimal connection intervals and max supervision timeout in the presence of Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Data Transfer
  - To achieve higher throughput for both Wi-Fi and BLE, use medium connection intervals, such as 45 to 80 ms with maximum supervision timeout.
  - Ensure Wi-Fi activity consumes lower intervals.

**Known Issues**

**Network Stack**

- Sometimes during SSL Handshake, ECC curve parameters generated are wrong, resulting in connection failure with BBD2 error. However, this recovers in the next attempt.
- Recommended MQTT Publish payload is 1 kBytes.
- Randomize the client port if using rapid connect/disconnect of the MQTT session on the same client port with the power save.
- Secure SSL Renegotiation not supported in Embedded Networking Stack.

**Wi-Fi**

- Device with active TWT will not go to sleep when the buffer is full.
- There are performance and IOP issues with MU MIMO.
- WPA3 connection takes 2.5 seconds.
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.
- EAP connection with certificates of 4096-bit key length is not supported.
- Low Wi-Fi+BLE throughput
- Data stall and disconnection with TCP Tx data transfer when TA power save is enabled
- TCP/UDP TX/RX Data stall observed in CoEx scenarios
- HTTPS Continuous download fails with TA Power save
- Low-performance metrics.
- Data stall when WLAN TCP data transfer, BLE scanning, BLE advertising, and BLE notification are enabled

**BLE**

- BLE Range is less with A0/B0 dual flash Radio boards when compared to A0/B0 common flash Radio boards.

**System**

- None

**MCU**

- Refer the respective Radio board user guides for specific pinout details. Examples are targetted to a specific version mentioned in the respective readme.
- when using SL DMA, UDMA1 is not working as expected
- Few peripherals like WDT when configured with RO clock is not working as expected. No impact on the feature but the clocks are not accurate.

**Co-Existence**

- sl_wifi_init throws insufficient memory(0x2C) error, when low_power_mode feature is enabled in CoEx application with "TA_352K_M4SS_320K" Memory configuration.

**Limitations and Unsupported Features**

**Wi-Fi/Network Stack**

- TLS 1.3 Server is not supported
- In AP mode, IPv6 Router Advertisements are not supported. Although STA connected to the APUT can transfer IPv6 data to the peers by using SLAAC for address configuration.
- When sl\_wifi\_enable\_target\_wakeup\_time() API is used, observed occasional MQTT disconnections with longer TWT intervals (>30secs) with embedded MQTT + TWT.
- AMSDU TX is not supported.
- Fragmentation is not supported.
- AMSDUs within AMPDU is not supported.
- Currently, the module does not support Radio Measurement Requests feature of CCX V2
- 802.11k is not supported
- Short GI is not supported
- 40 MHz bandwidth for 2.4 GHz band is not supported.
- 802.11J channel 14 is not supported.
- MQTT versions 3 and 4 are supported.
- Maximum of 3 SSL connections are supported in Wi-Fi alone mode.
- In SSL ECC Curve ID supported is 23. SSL handshake with 3rd party clients depends on the SSL ECC Curve ID.
- LP mode is not supported.
- Fine Tuning 802.11ax Spectral mask in Progress
- Fine Tuning 11b mask in Ch11 in progress
- In iTWT mode, downlink data traffic should be limited. Disconnections may be observed if AP fails to send all the buffered data in the next TWT Service Period.
- Number of MBSSIDs processed is limited by the beacon length that can be processed by the stack (which is limited to 1024 bytes). Beacons greater than 1024 Bytes in length will not be processed.
- In A0 SoC mode, M4 power save will work with 384k TA and 320 M4 memory configuration only. It is not supported for "448K TA and 256k M4" and "512k TA and 192k M4" memory configurations
- Timeout value should be a minimum 1 second for socket select and socket receive calls. Timeout value less than 1 second is not currently supported.
- M4 OTA update on dual flash will work for same flash sizes only (internal and External).
- CoEx + EAP Security in 352K/320k is not feasible. This issue is observed due to a lack of memory in the 352k/320k Memory Configuration. It is supported with other EXT\_FEAT\_416K\_M4SS\_256K and EXT\_FEAT\_480K\_M4SS\_192K memory configurations.
- UL MUMIMO is not supported.
- The embedded HTTP server is not supported.
- Baremetal is not supported

**BLE**

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.
- BLE TX/RX throughput is less when tested with EFM as compared to EFR
- Maximum supported AE data length is 200 bytes.
- Supports only two ADV\_EXT sets.
- Supports only two BLE connections( 1 Central and 1 Peripheral) with AE.
- Advertising Extension feature is not supported in Coexistence.

**MCU**

- ULP Peripherals examples configurations are for RAM-based execution, as flash is powered off in ULP Mode
- On 4338a board, two I2C instances(I2C1 and I2C2) are using same GPIOs ,so support is not there for using two I2C instances simultaneously
- I2C Fast and High speed mode not supported
- when using GSPI and SSI, manual chip select option not supported

**Simplicity Studio and Commander**

- Default GDB debug configuration is not supported for SoC projects, work around details provided in "Getting-Started-with-SiWx917"
- Observing flash download failures(ERROR 108) for a few image sizes
- While creating project through Simplicity Studio, "copy contents" option not supported.
- Simplicity commander does not support options under "Debug Lock tools" .

**Terminology**

|**Term**|**Description**|
| :-: | :-: |
|**New Features**|These items are new to this release|
|**Changes/Issues Fixed**|Changes made to existing features found in previous software releases.|
||Enhancements to existing product flow and feature set.|
||Bug fixes done in the Release|
|**Deprecated Items**|Features or functions or APIs that are removed from the distributed release to align with the software roadmap|
|**Known Issues**|Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases|
|**Limitations/Recommendations**|Describes the limitations on product usage and recommendations for optimal use cases|

**Note**

- NA

<br>

**WiSeConnect3\_SDK\_3.1.0-ifc1 Release Notes**

This SDK package supports SoC Mode and NCP Mode for SiWx917:

- In SoC Mode: Customer Applications can run on Cortex M4. Wireless, network, and security stacks run on the Wireless subsystem.
- In NCP mode: Wireless, network, and security stacks run on the Wireless subsystem. Customer applications run on the external host MCU.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

Note: Use Simplicity Studio version SV5.7.0.1 onwards

**SoC Highlights**

- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode
- **MCU examples** :  GPIO, I2C, Calendar,  SPI, SSI, SIO, UDMA, UART/USART, WDT, Timers, Config Timers, ULP (Ultra Low Power) Timers, Sleeptimer, IOSTREAM, NVM3, MEMLCD, SDIO, PWM, ADC, EFUSE, I2S, PSRAM
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support)
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack, and Profiles, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS client
- **IDE** : Simplicity Studio with Windows 10(64-bit), Linux, Mac OS
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** :
  - Si-MB4002A Main board
  - SiWx917 Radio boards

|**RadioBoard Type**|**SiWx917A0 with Board Version**|**SiWx917B0 with Board Version**|
| :-: | :-: | :-: |
|Common flash|Si917-BRD4325A(1.0 /1.1 /1.2)|-|
|Common flash|-|Si917-BRD4338A(2.0)|
|Dual flash|Si917-BRD4325B(1.0 /1.1 /1.2)|-|
|External PSRAM|-|Si917-BRD4340A(2.0)|

**NCP Highlights**

- **Host Interface** : SPI
- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode.
- **Wi-Fi** : 2.4GHz Wi-Fi Support, WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support)
- **Integrated Stacks and Profiles** : Wi-Fi Stack , BLE Stack and Profiles, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS Client.
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **Hardware kits to evaluate NCP Mode**
  - Si917 B0 Single Band Radio Board (BRD4338A)
  - Wireless Pro kit Mainboard BRD4002A Rev A06
  - EFR32xG21 2.4 GHz 20 dBm Radio Board (BRD4180B Rev A02)

**Release Details**

|**Item**|**Details**|
| :-: | :-: |
|Release date|11th Sep, 2023|
|SDK Version|3\.1.0-ifc1|
|Firmware Version|1711\.2.9.0.0.20|
|Package Name|WiSeConnect3\_SDK\_3.1.0|
|Supported RTOS|FreeRTOS|
|Operating Modes Supported|Wi-Fi STA, Wi-Fi AP, Wi-Fi STA+BLE, Wi-Fi STA+AP|
|Build Quality|Pre-certification|

**Updating to this Release**

- SiWx917 release consists of two components
  - Wireless Firmware - SiWx917 Firmware Binaries
  - Wiseconnect3 Library - Wiseconnect3 SDK Library runs on the external host in NCP mode and internal Cortex M4 in SoC Mode.
- This release is meant only for use with designs based on SiWx917 Silicon
- The firmware to load in your design are available in the following format:
  - SiWG917-A.2.9.0.0.x.rps - A0 Full-featured firmware binary
  - SiWG917-B.2.9.0.0.x.rps - B0 Full-featured firmware binary

**Features Supported**

**MCU**

- ADC Single Channel, ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, GPIO, I2C, I2S, NVM3, OPAMP, PSRAM, PWM, QEI, RTC, SDIO Slave, SPI Master and Slave, UART, UDMA, USART, WDT, USART Master and Slave
- UC Supported Peripherals - GPIO, I2C, Calendar,  SPI, SSI, SIO, UDMA, UART/USART, WDT, Timers , Config Timers, ULP (Ultra Low Power) Timers, SDIO, PWM, ADC, EFUSE, I2S, PSRAM, Sleeptimer, IOSTREAM, MEMLCD.
- ULP (Ultra Low Power) Peripherals - ulp\_gpio, ulp\_adc ulp\_i2c, ulp\_i2s, ulp\_ir\_decoder, ulp\_spi, ulp\_timer, ulp\_uart, ulp\_udma

**Wi-Fi**

- WPA2/WPA3 Personal, WPS and WPA2-EAP Support for Station Mode
- TCP/IP stack with IPv4, IPv6, TCP, UDP, TLS, HTTP/HTTPS, DHCPv4, DHCPv6, MQTT Client, DNS Client, SNTP client.
- Support for SSL client versions TLSV1.0, TLSV1.2, TLSV1.3 and SSL server versions TLSV1.0 and TLSV1.2
- Wi-Fi STA (802.11n/802.11ax) + 802.11n AP Support
- HE (802.11ax) and Individual TWT Feature Support
- Multiple BSSID feature support as an STA
- Secure OTA support on B0 radio boards.
- Support for LWIP network stack
- Support for AWS MQTT library
- Support for BSD and IoT sockets application programming interface(API)

**Bluetooth Low Energy**

- BLE central & peripheral connections are supported.
- Ultra-low power save is supported in Test Mode to support Tx/Rx performance testing

**Power Save**

- The power save profiles supported are Max PSP, enhanced MAX PSP, and 802.11ax TWT.

**Crypto Support**

- Added support for AES, SHA, TRNG, and WRAP APIs.
- PSA enabled Mbed TLS support added
  - NVM support is added for key storage
  - Symmetric key storage support added for Volatile and transparent key.
  - TRNG crypto engine is integrated with PSA crypto.

**Changes and Fixes**

**Wi-Fi**

- Matter requirements - WIFISDK-868, WIFISDK-876, WIFISDK-882
- Polling for TX_PKT_TRANSFER_DONE_INTERRUPT interrupt from TA after send command
- RTC timer get and set APIs
- Adding PSRAM board support for applications
- Cleanup frame type when sync response is received
- Add ta and m4 powersave for lwip tcp client example
- Updated socket config API and wlan_throughput example
- Added new example - twt_use_case_demo
- SI91X bugs covered: SI91X-13855, SI91X-13709, RSCDEV-21660

**BLE**

- Added support for wifi_throughput_ble_dual_role example
- Added new example -  immediate_alert_client

**System**

- None

**Recommendations**

**System**

- The current revision of SiWx917 A0 has:
  - RAM memory of 704k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_704K\_M4SS\_0K- This mode configures TA with 704k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By Default EXT\_FEAT\_384K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_512K\_M4SS\_192K - This mode configures TA with 512k and M4 with 192K bytes of memory
    - EXT\_FEAT\_448K\_M4SS\_256K - This mode configures TA with 448k and M4 with 256K bytes of memory
    - EXT\_FEAT\_384K\_M4SS\_320K - This mode configures TA with 384k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 704K\_M4SS\_0K.
  - SoC mode should not use 704k\_M4SS\_0k Memory configuration.
  - In SoC mode, M4 power save will work with 384k TA and 320 M4 memory configuration only. It is not supported for "448K TA and 256k M4" and "512k TA and 192k M4" memory configurations.
- The current revision of SiWx917 B0 has:
  - RAM memory of 672k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_672K\_M4SS\_0K- This mode configures TA with 672k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By Default EXT\_FEAT\_352K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_480K\_M4SS\_192K - This mode configures TA with 480k and M4 with 192K bytes of memory
    - EXT\_FEAT\_416K\_M4SS\_256K - This mode configures TA with 416k and M4 with 256K bytes of memory
    - EXT\_FEAT\_352K\_M4SS\_320K - This mode configures TA with 352k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 672K\_M4SS\_0K.
  - SoC mode should not use 672k\_M4SS\_0k Memory configuration.
  - In SoC mode, M4 power save will work with any memory configuration.
- Set the recommended Power Save Profile (PSP) type to Enhanced Max PSP.

**IDE**

- Download the latest Simplicity Studio (SV5.7.0.1)
- Refer to the latest version of the SoC/NCP "Getting-Started-with-SiWx917" guide for more details

**Wi-Fi**

- It is recommended to enable bit 16 of the 'Extended TCP IP Feature' bit map in the opermode command for all Wi-Fi Socket Operations from the host to ensure graceful handling during asynchronous closures from the peer.
- Aggregation (bit 2 of feature\_bit\_map) is recommended to be enabled in opermode. This enables sw to aggregate multiple packets to achieve better throughput
- TCP retransmission count value is recommended to be 30 or higher so that the TCP does not disconnect while the rejoin happens.
- To restart the module, the application needs to call sl\_wifi\_deinit() followed by sl\_wifi\_init().
- Register 'Join Fail Callback' function every time when join is called, as in the rejoin failure path the callback is deregistered. If not done, this might result in a scan not functioning on rejoin failure.
- User can enable SL\_SI91X\_EXT\_TCP\_IP\_SSL\_16K\_RECORD in 'Extended TCP IP Feature'bit map in opermode, if HTTPS download is failing after receiving HTTP headers..
- iTWT setup is recommended after IP assignment/TCP connection/application connection.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, increase TCP / ARP Timeouts at the remote side depending upon the configured TWT interval configured.
- In case of TWT+coex, when using sl\_wifi\_enable\_target\_wakeup\_time API, use TWT wake duration <= 16 ms and TWT wake interval >= 1 sec. If wake duration > 16 ms or TWT wake interval < 1sec, there might be performance issues.
- For iTWT GTK Interval Should be kept max possible value or zero. If GTK interval is not configurable, recommended TWT interval (in case of sl\_wifi\_enable\_target\_wakeup\_time API)
- Disable Power Save for High Throughput Applications.
- The application needs to ensure that it sets RTC with the correct timestamp when the feature is enabled before establishing the SSL connection.
- Timeout value should be minimum 1 second for socket select and socket receive calls. Timeout value of less than 1 second is not currently supported.
- When sl\_wifi\_enable\_target\_wakeup\_time API is used, configuring TWT Wake interval beyond 1 min might lead to disconnections from the AP. Recommended to use TWT wakeup interval of less than or equal to 1 min.
- MQTT keep alive interval should be either 0 or a value greater than 35 seconds.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, it is recommended to set missed\_beacon\_count of sl\_wifi\_set\_advanced\_client\_configuration API greater than 2 times of the configured TWT Interval.
- Secure OTA: Keys need to be programmed before validating Secure OTA

**BLE**

- In BLE, recommended range of Connection Interval in
  - Power Save (BLE Only) - 100 ms to 1.28 s.
- In BLE, during Connection, the configuration of Scan Interval and Scan Window with the same value is not recommended. The suggested ratio of Scan Window to Scan Interval is 3:4.
- In BLE, if a device is acting as Central, the scan window (in set\_scan\_params and create\_connection commands) must be less than the existing Connection Interval. The suggested ratio of Scan Window to Connection Interval is 2:3.
- In BLE mode, if scanning and advertising are in progress on the SiWx91x module and it subsequently gets connected and moves to the central role, scanning stops else if it moves to the peripheral role, advertising stops. To further establish a connection to another peripheral device or to a central device, the application should give a command for starting advertising and scanning again.

**Co-Existence**

- For concurrent Wi-Fi + BLE, and while a Wi-Fi connection is active, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
- Wi-Fi + BLE Advertising
  - All standard advertising intervals are supported. As Wi-Fi throughput is increased, a slight difference in on-air advertisements compared to configured intervals may be observed.
  - BLE advertising is skipped if the advertising interval collides with Wi-Fi activity.
- Wi-Fi + BLE scanning
  - All standard scan intervals are supported. For better scan results, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
  - BLE scanning will be stopped for intervals that collide with Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Connections
  - All standard connection intervals are supported.
  - For a stable connection, use optimal connection intervals and max supervision timeout in the presence of Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Data Transfer
  - To achieve higher throughput for both Wi-Fi and BLE, use medium connection intervals, such as 45 to 80 ms with maximum supervision timeout.
  - Ensure Wi-Fi activity consumes lower intervals.

**Known Issues**

**Network Stack**

- Sometimes during SSL Handshake, ECC curve parameters generated are wrong, resulting in connection failure with BBD2 error. However, this recovers in the next attempt.
- Recommended MQTT Publish payload is 1 kBytes.
- Randomize the client port if using rapid connect/disconnect of the MQTT session on the same client port with the power save.
- Secure SSL Renegotiation not supported in Embedded Networking Stack.

**Wi-Fi**

- Device with active TWT will not go to sleep when the buffer is full.
- There are performance and IOP issues with MU MIMO.
- WPA3 connection takes 2.5 seconds.
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.
- EAP connection with certificates of 4096-bit key length is not supported.
- Low Wi-Fi+BLE throughput
- Data stall and disconnection with TCP Tx data transfer when TA power save is enabled
- TCP/UDP TX/RX Data stall observed in CoEx scenarios
- HTTPS Continuous download fails with TA Power save
- Low-performance metrics.
- Data stall when WLAN TCP data transfer, BLE scanning, BLE advertising, and BLE notification are enabled
- Combined secured OTA (M4 + TA) failures.
- TA secured OTA fails 1/10 times

**BLE**

- BLE Range is less with A0/B0 dual flash Radio boards when compared to A0/B0 common flash Radio boards.
- BLE applications hang after disconnection due to Disable Power save API failure
- Observing data stall with TCP Tx/Rx when connecting BLE With wifi\_throughput\_ble\_dual\_role application.

**System**

- None

**MCU**

- Refer the respective Radio board user guides for specific pinout details. Examples are targetted to a specific version mentioned in the respective readme.
- SSI bitrate above 10 Mbps is not working as expected.
- when using SL DMA, UDMA1 is not working as expected
- SIO-SPI few channels are not working as expected. (working of MOSI & MISO channel 4 and above is inconsistent)
- Few peripherals like WDT when configured with RO clock is not working as expected. No impact on the feature but the clocks are not accurate.

**Limitations and Unsupported Features**

**Wi-Fi/Network Stack**

- TLS 1.3 Server is not supported
- In AP mode, IPv6 Router Advertisements are not supported. Although STA connected to the APUT can transfer IPv6 data to the peers by using SLAAC for address configuration.
- When sl\_wifi\_enable\_target\_wakeup\_time() API is used, observed occasional MQTT disconnections with longer TWT intervals (>30secs) with embedded MQTT + TWT.
- AMSDU TX is not supported.
- Fragmentation is not supported.
- AMSDUs within AMPDU is not supported.
- Currently, the module does not support Radio Measurement Requests feature of CCX V2
- 802.11k is not supported
- Short GI is not supported
- 40 MHz bandwidth for 2.4 GHz band is not supported.
- 802.11J channel 14 is not supported.
- MQTT versions 3 and 4 are supported.
- Maximum of 3 SSL connections are supported in Wi-Fi alone mode.
- In SSL ECC Curve ID supported is 23. SSL handshake with 3rd party clients depends on the SSL ECC Curve ID.
- LP mode is not supported.
- Fine Tuning 802.11ax Spectral mask in Progress
- Fine Tuning 11b mask in Ch11 in progress
- In iTWT mode, downlink data traffic should be limited. Disconnections may be observed if AP fails to send all the buffered data in the next TWT Service Period.
- Number of MBSSIDs processed is limited by the beacon length that can be processed by the stack (which is limited to 1024 bytes). Beacons greater than 1024 Bytes in length will not be processed.
- In A0 SoC mode, M4 power save will work with 384k TA and 320 M4 memory configuration only. It is not supported for "448K TA and 256k M4" and "512k TA and 192k M4" memory configurations
- Timeout value should be a minimum 1 second for socket select and socket receive calls. Timeout value less than 1 second is not currently supported.
- M4 OTA update on dual flash will work for same flash sizes only (internal and External).
- CoEx + EAP Security in 352K/320k is not feasible. This issue is observed due to a lack of memory in the 352k/320k Memory Configuration. It is supported with other EXT\_FEAT\_416K\_M4SS\_256K and EXT\_FEAT\_480K\_M4SS\_192K memory configurations.
- UL MUMIMO is not supported.
- The embedded HTTP server is not supported.
- SNI is not supported
- Baremetal is not supported

**BLE**

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.
- BLE TX/RX throughput is less when tested with EFM as compared to EFR
- Maximum supported AE data length is 200 bytes.
- Supports only two ADV\_EXT sets.
- Supports only two BLE connections( 1 Central and 1 Peripheral) with AE.
- Filtering policy is not supported for Periodic advertising.

**MCU**

- ULP Peripherals examples configurations are for RAM-based execution, as flash is powered off in ULP Mode
- On 4338a board, two I2C instances(I2C1 and I2C2) are using same GPIOs ,so support is not there for using two I2C instances simultaneously
- I2C Fast and High speed mode not supported
- when using GSPI and SSI, manual chip select option not supported

**Simplicity Studio and Commander**

- Default GDB debug configuration is not supported for SoC projects, work around details provided in "Getting-Started-with-SiWx917"
- Observing flash download failures(ERROR 108) for a few image sizes
- While creating project through Simplicity Studio, "copy contents" option not supported.
- Simplicity commander does not support options under "Debug Lock tools" .

**Terminology**

|**Term**|**Description**|
| :-: | :-: |
|**New Features**|These items are new to this release|
|**Changes/Issues Fixed**|Changes made to existing features found in previous software releases.|
||Enhancements to existing product flow and feature set.|
||Bug fixes done in the Release|
|**Deprecated Items**|Features or functions or APIs that are removed from the distributed release to align with the software roadmap|
|**Known Issues**|Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases|
|**Limitations/Recommendations**|Describes the limitations on product usage and recommendations for optimal use cases|

**Note**

- NA

<br>

**WiSeConnect3\_SDK\_3.1.0-1 Release Notes**

This SDK package supports SoC Mode and NCP Mode for A0 and B0:

- In SoC Mode: Customer Applications can run on Cortex M4. Wireless, network, and security stacks run on the Wireless subsystem.
- In NCP mode: Wireless, network, and security stacks run on the Wireless subsystem. Customer applications run on the external host MCU.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

Note: Use Simplicity Studio version SV5.7.0.1 onwards

**SoC Highlights**

- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode
- **MCU examples** :  GPIO, I2C, Calendar,  SPI, SSI, SIO, UDMA, UART/USART, WDT, Timers, Config Timers, ULP (Ultra Low Power) Timers, Sleeptimer, IOSTREAM, NVM3, MEMLCD, SDIO,    PWM, ADC, EFUSE, I2S, PSRAM
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support)
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack, and Profiles, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS client
- **IDE** : Simplicity Studio with Windows 10(64-bit), Linux, Mac OS
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** :
  - Si-MB4002A Main board
  - SiWx917 Radio boards

|**RadioBoard Type**|**SiWx917A0 with Board Version**|**SiWx917B0 with Board Version**|
| :-: | :-: | :-: |
|Common flash|Si917-BRD4325A(1.0 /1.1 /1.2)|-|
|Common flash|-|Si917-BRD4338A(2.0)|
|Dual flash|Si917-BRD4325B(1.0 /1.1 /1.2)|-|
|External PSRAM|-|Si917-BRD4340A(2.0)|

**NCP Highlights**

- **Host Interface** : SPI
- **Operating Modes** : Wi-Fi STA (802.11ax, 802.11n), Wi-Fi 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + 802.11n AP, Wi-Fi STA (802.11ax, 802.11n) + BLE
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n, 802.11ax, BLE 5.1
- **Multiple Ultra Low Power Modes** : Support Ultra low power Wi-Fi Standby associated current in Wi-Fi 4 mode, Ultra low power Wi-Fi Standby associated current in Wi-Fi 6 mode leveraging TWT, Always on Cloud connected power, BLE connected power, and, deep sleep ULP mode.
- **Wi-Fi** : 2.4GHz Wi-Fi Support, WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and reduces latency
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support)
- **Integrated Stacks and Profiles** : Wi-Fi Stack , BLE Stack and Profiles, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, DNS Client.
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **Hardware kits to evaluate NCP Mode**
  - Si917 B0 Single Band Radio Board (BRD4338A)
  - Wireless Pro kit Mainboard BRD4002A Rev A06
  - EFR32xG21 2.4 GHz 20 dBm Radio Board (BRD4180B Rev A02)

**Release Details**

|**Item**|**Details**|
| :-: | :-: |
|Release date|Sep 1st, 2023|
|SDK Version|3\.1.0-1|
|Firmware Version|1711\.2.9.0.0.20|
|Package Name|WiSeConnect3\_SDK\_3.1.0|
|Supported RTOS|FreeRTOS|
|Operating Modes Supported|Wi-Fi STA, Wi-Fi AP, Wi-Fi STA+BLE, Wi-Fi STA+AP|
|Build Quality|Pre-certification|

**Updating to this Release**

- SiWx917 release consists of two components
  - Wireless Firmware - SiWx917 Firmware Binaries
  - Wiseconnect3 Library - Wiseconnect3 SDK Library runs on the external host in NCP mode and internal Cortex M4 in SoC Mode.
- This release is meant only for use with designs based on SiWx917 Silicon
- The firmware to load in your design are available in the following format:
  - SiWG917-A.2.9.0.0.x.rps - A0 Full-featured firmware binary
  - SiWG917-B.2.9.0.0.x.rps - B0 Full-featured firmware binary

**Features Supported**

**MCU**

- ADC Single Channel, ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, GPIO, I2C, I2S, NVM3, OPAMP, PSRAM, PWM, QEI, RTC, SDIO Slave, SPI Master and Slave, UART, UDMA, USART, WDT, USART Master and Slave
- UC Supported Peripherals - GPIO, I2C, Calendar,  SPI, SSI, SIO, UDMA, UART/USART, WDT, Timers , Config Timers, ULP (Ultra Low Power) Timers, SDIO, PWM, ADC, EFUSE, I2S, PSRAM, Sleeptimer, IOSTREAM, MEMLCD.
- ULP (Ultra Low Power) Peripherals - ulp\_gpio, ulp\_adc ulp\_i2c, ulp\_i2s, ulp\_ir\_decoder, ulp\_spi, ulp\_timer, ulp\_uart, ulp\_udma

**Wi-Fi**

- WPA2/WPA3 Personal, WPS and WPA2-EAP Support for Station Mode
- TCP/IP stack with IPv4, IPv6, TCP, UDP, TLS, HTTP/HTTPS, DHCPv4, DHCPv6, MQTT Client, DNS Client, SNTP client.
- Support for SSL client versions TLSV1.0, TLSV1.2, TLSV1.3 and SSL server versions TLSV1.0 and TLSV1.2
- Wi-Fi STA (802.11n/802.11ax) + 802.11n AP Support
- HE (802.11ax) and Individual TWT Feature Support
- Multiple BSSID feature support as an STA
- Secure OTA support on B0 radio boards.
- Support for LWIP network stack
- Support for AWS MQTT library
- Support for BSD and IoT sockets application programming interface(API)

**Bluetooth Low Energy**

- BLE central & peripheral connections are supported.
- Ultra-low power save is supported in Test Mode to support Tx/Rx performance testing

**Power Save**

- The power save profiles supported are Max PSP, enhanced MAX PSP, and 802.11ax TWT.

**Crypto Support**

- AES, SHA and TRNG Crypto API support added
- PSA enabled Mbed TLS support added
  - NVM support is added for key storage
  - Symmetric key storage support added for Volatile and transparent key.
  - TRNG crypto engine is integrated with PSA crypto.

**Changes and Fixes**

**Wi-Fi**

- Add support for Efuse read API
- Add support for User gain tables
- Add support for Calibration SW APIs
- Add support for M4 soft reset
- Updated all readme files with unified Project Environment
- Add SOC support for tcp_tx_on_periodic_wakeup example
- Added support for wlan_throughput_psram application
- Add async notification support and example usage in sntp example
- Add support for sl_wifi_target_wake_time_auto_selection() API
- Updated embedded_mqtt_client_twt and twt_tcp_client examples with M4 powersave
- Addition of twt_use_case_remote_app example
- SI91X bugs covered: SI91X-13628, SI91X-13406, SI91X-13738, SI91X-13859, SI91X-13769, SI91X-13793, SI91X-13521, SI91X-13689, SI91X-13659, SI91X-13726

**BLE**

- Add SOC and NCP support for ble_testmodes example
- Addition of gatt_long_read example
- Renaming of whitelist to acceptlist in all BLE examples
- Added studio support and logging stats feature for wifi_station_ble_provisioning_aws_logging_stats example
- Addition of wifi_station_ble_throughput_app
- Added support for test agent application for ble commands

**System**

- None

**Recommendations**

**System**

- The current revision of SiWx917 A0 has:
  - RAM memory of 704k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_704K\_M4SS\_0K- This mode configures TA with 704k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By Default EXT\_FEAT\_384K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_512K\_M4SS\_192K - This mode configures TA with 512k and M4 with 192K bytes of memory
    - EXT\_FEAT\_448K\_M4SS\_256K - This mode configures TA with 448k and M4 with 256K bytes of memory
    - EXT\_FEAT\_384K\_M4SS\_320K - This mode configures TA with 384k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 704K\_M4SS\_0K.
  - SoC mode should not use 704k\_M4SS\_0k Memory configuration.
  - In SoC mode, M4 power save will work with 384k TA and 320 M4 memory configuration only. It is not supported for "448K TA and 256k M4" and "512k TA and 192k M4" memory configurations.
- The current revision of SiWx917 B0 has:
  - RAM memory of 672k bytes which can be shared between TA and M4 processors in NCP/SoC mode. The following memory configuration modes are supported.
    - EXT\_FEAT\_672K\_M4SS\_0K- This mode configures TA with 672k and M4 with 0K bytes of memory which is applicable only in the case of NCP mode
  - The below configurations are applicable in SoC mode and can be configured based on the application requirement By Default EXT\_FEAT\_352K\_M4SS\_320K configuration will be selected in SoC mode
    - EXT\_FEAT\_480K\_M4SS\_192K - This mode configures TA with 480k and M4 with 192K bytes of memory
    - EXT\_FEAT\_416K\_M4SS\_256K - This mode configures TA with 416k and M4 with 256K bytes of memory
    - EXT\_FEAT\_352K\_M4SS\_320K - This mode configures TA with 352k and M4 with 320K bytes of memory
  - The currently supported memory configuration for NCP mode is 672K\_M4SS\_0K.
  - SoC mode should not use 672k\_M4SS\_0k Memory configuration.
  - In SoC mode, M4 power save will work with any memory configuration.
- Set the recommended Power Save Profile (PSP) type to Enhanced Max PSP.

**IDE**

- Download the latest Simplicity Studio (SV5.7.0.1)
- Refer to the latest version of the SoC/NCP "Getting-Started-with-SiWx917" guide for more details

**Wi-Fi**

- It is recommended to enable bit 16 of the 'Extended TCP IP Feature' bit map in the opermode command for all Wi-Fi Socket Operations from the host to ensure graceful handling during asynchronous closures from the peer.
- Aggregation (bit 2 of feature\_bit\_map) is recommended to be enabled in opermode. This enables sw to aggregate multiple packets to achieve better throughput
- TCP retransmission count value is recommended to be 30 or higher so that the TCP does not disconnect while the rejoin happens.
- To restart the module, the application needs to call sl\_wifi\_deinit() followed by sl\_wifi\_init().
- Register 'Join Fail Callback' function every time when join is called, as in the rejoin failure path the callback is deregistered. If not done, this might result in a scan not functioning on rejoin failure.
- User can enable SL\_SI91X\_EXT\_TCP\_IP\_SSL\_16K\_RECORD in 'Extended TCP IP Feature'bit map in opermode, if HTTPS download is failing after receiving HTTP headers..
- iTWT setup is recommended after IP assignment/TCP connection/application connection.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, increase TCP / ARP Timeouts at the remote side depending upon the configured TWT interval configured.
- In case of TWT+coex, when using sl\_wifi\_enable\_target\_wakeup\_time API, use TWT wake duration <= 16 ms and TWT wake interval >= 1 sec. If wake duration > 16 ms or TWT wake interval < 1sec, there might be performance issues.
- For iTWT GTK Interval Should be kept max possible value or zero. If GTK interval is not configurable, recommended TWT interval (in case of sl\_wifi\_enable\_target\_wakeup\_time API)
- Disable Power Save for High Throughput Applications.
- The application needs to ensure that it sets RTC with the correct timestamp when the feature is enabled before establishing the SSL connection.
- Timeout value should be minimum 1 second for socket select and socket receive calls. Timeout value of less than 1 second is not currently supported.
- When sl\_wifi\_enable\_target\_wakeup\_time API is used, configuring TWT Wake interval beyond 1 min might lead to disconnections from the AP. Recommended to use TWT wakeup interval of less than or equal to 1 min.
- MQTT keep alive interval should be either 0 or a value greater than 35 seconds.
- When using sl\_wifi\_enable\_target\_wakeup\_time API, it is recommended to set missed\_beacon\_count of sl\_wifi\_set\_advanced\_client\_configuration API greater than 2 times of the configured TWT Interval.
- Secure OTA: Keys need to be programmed before validating Secure OTA

**BLE**

- In BLE, recommended range of Connection Interval in
  - Power Save (BLE Only) - 100 ms to 1.28 s.
- In BLE, during Connection, the configuration of Scan Interval and Scan Window with the same value is not recommended. The suggested ratio of Scan Window to Scan Interval is 3:4.
- In BLE, if a device is acting as Central, the scan window (in set\_scan\_params and create\_connection commands) must be less than the existing Connection Interval. The suggested ratio of Scan Window to Connection Interval is 2:3.
- In BLE mode, if scanning and advertising are in progress on the SiWx91x module and it subsequently gets connected and moves to the central role, scanning stops else if it moves to the peripheral role, advertising stops. To further establish a connection to another peripheral device or to a central device, the application should give a command for starting advertising and scanning again.

**Co-Existence**

- For concurrent Wi-Fi + BLE, and while a Wi-Fi connection is active, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
- Wi-Fi + BLE Advertising
  - All standard advertising intervals are supported. As Wi-Fi throughput is increased, a slight difference in on-air advertisements compared to configured intervals may be observed.
  - BLE advertising is skipped if the advertising interval collides with Wi-Fi activity.
- Wi-Fi + BLE scanning
  - All standard scan intervals are supported. For better scan results, we recommend setting the ratio of the BLE scan window to BLE scan interval to 1:3 or 1:4.
  - BLE scanning will be stopped for intervals that collide with Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Connections
  - All standard connection intervals are supported.
  - For a stable connection, use optimal connection intervals and max supervision timeout in the presence of Wi-Fi activity.
- Wi-Fi + BLE Central/Peripheral Data Transfer
  - To achieve higher throughput for both Wi-Fi and BLE, use medium connection intervals, such as 45 to 80 ms with maximum supervision timeout.
  - Ensure Wi-Fi activity consumes lower intervals.

**Known Issues**

**Network Stack**

- Sometimes during SSL Handshake, ECC curve parameters generated are wrong, resulting in connection failure with BBD2 error. However, this recovers in the next attempt.
- Recommended MQTT Publish payload is 1 kBytes.
- Randomize the client port if using rapid connect/disconnect of the MQTT session on the same client port with the power save.
- Secure SSL Renegotiation not supported in Embedded Networking Stack.

**Wi-Fi**

- Device with active TWT will not go to sleep when the buffer is full.
- There are performance and IOP issues with MU MIMO.
- WPA3 connection takes 2.5 seconds.
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.
- EAP connection with certificates of 4096-bit key length is not supported.
- Low Wi-Fi+BLE throughput
- Data stall and disconnection with TCP Tx data transfer when TA power save is enabled
- TCP/UDP TX/RX Data stall observed in CoEx scenarios
- HTTPS Continuous download fails with TA Power save
- Low-performance metrics.
- Data stall when WLAN TCP data transfer, BLE scanning, BLE advertising, and BLE notification are enabled
- Combined secured OTA (M4 + TA) failures.
- TA secured OTA fails 1/10 times

**BLE**

- BLE Range is less with A0/B0 dual flash Radio boards when compared to A0/B0 common flash Radio boards.
- BLE applications hang after disconnection due to Disable Power save API failure
- Observing data stall with TCP Tx/Rx when connecting BLE With wifi\_throughput\_ble\_dual\_role application.

**System**

- None

**MCU**

- Refer the respective Radio board user guides for specific pinout details. Examples are targetted to a specific version mentioned in the respective readme.
- SSI bitrate above 10 Mbps is not working as expected.
- when using SL DMA, UDMA1 is not working as expected
- SIO-SPI few channels are not working as expected. (working of MOSI & MISO channel 4 and above is inconsistent)
- Few peripherals like WDT when configured with RO clock is not working as expected. No impact on the feature but the clocks are not accurate.

**Limitations and Unsupported Features**

**Wi-Fi/Network Stack**

- TLS 1.3 Server is not supported
- In AP mode, IPv6 Router Advertisements are not supported. Although STA connected to the APUT can transfer IPv6 data to the peers by using SLAAC for address configuration.
- When sl\_wifi\_enable\_target\_wakeup\_time() API is used, observed occasional MQTT disconnections with longer TWT intervals (>30secs) with embedded MQTT + TWT.
- AMSDU TX is not supported.
- Fragmentation is not supported.
- AMSDUs within AMPDU is not supported.
- Currently, the module does not support Radio Measurement Requests feature of CCX V2
- 802.11k is not supported
- Short GI is not supported
- 40 MHz bandwidth for 2.4 GHz band is not supported.
- 802.11J channel 14 is not supported.
- MQTT versions 3 and 4 are supported.
- Maximum of 3 SSL connections are supported in Wi-Fi alone mode.
- In SSL ECC Curve ID supported is 23. SSL handshake with 3rd party clients depends on the SSL ECC Curve ID.
- LP mode is not supported.
- Fine Tuning 802.11ax Spectral mask in Progress
- Fine Tuning 11b mask in Ch11 in progress
- In iTWT mode, downlink data traffic should be limited. Disconnections may be observed if AP fails to send all the buffered data in the next TWT Service Period.
- Number of MBSSIDs processed is limited by the beacon length that can be processed by the stack (which is limited to 1024 bytes). Beacons greater than 1024 Bytes in length will not be processed.
- In A0 SoC mode, M4 power save will work with 384k TA and 320 M4 memory configuration only. It is not supported for "448K TA and 256k M4" and "512k TA and 192k M4" memory configurations
- Timeout value should be a minimum 1 second for socket select and socket receive calls. Timeout value less than 1 second is not currently supported.
- M4 OTA update on dual flash will work for same flash sizes only (internal and External).
- CoEx + EAP Security in 352K/320k is not feasible. This issue is observed due to a lack of memory in the 352k/320k Memory Configuration. It is supported with other EXT\_FEAT\_416K\_M4SS\_256K and EXT\_FEAT\_480K\_M4SS\_192K memory configurations.
- UL MUMIMO is not supported.
- The embedded HTTP server is not supported.
- SNI is not supported
- Baremetal is not supported

**BLE**

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.
- BLE TX/RX throughput is less when tested with EFM as compared to EFR
- Maximum supported AE data length is 200 bytes.
- Supports only two ADV\_EXT sets.
- Supports only two BLE connections( 1 Central and 1 Peripheral) with AE.
- Filtering policy is not supported for Periodic advertising.

**MCU**

- ULP Peripherals examples configurations are for RAM-based execution, as flash is powered off in ULP Mode
- On 4338a board, two I2C instances(I2C1 and I2C2) are using same GPIOs ,so support is not there for using two I2C instances simultaneously
- I2C Fast and High speed mode not supported
- when using GSPI and SSI, manual chip select option not supported

**Simplicity Studio and Commander**

- Default GDB debug configuration is not supported for SoC projects, work around details provided in "Getting-Started-with-SiWx917"
- Observing flash download failures(ERROR 108) for a few image sizes
- While creating project through Simplicity Studio, "copy contents" option not supported.
- Simplicity commander does not support options under "Debug Lock tools" .

**Terminology**

|**Term**|**Description**|
| :-: | :-: |
|**New Features**|These items are new to this release|
|**Changes/Issues Fixed**|Changes made to existing features found in previous software releases.|
||Enhancements to existing product flow and feature set.|
||Bug fixes done in the Release|
|**Deprecated Items**|Features or functions or APIs that are removed from the distributed release to align with the software roadmap|
|**Known Issues**|Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases|
|**Limitations/Recommendations**|Describes the limitations on product usage and recommendations for optimal use cases|

**Note**

- NA

<br>

# WiSeConnect3_SDK_3.0.13 Release Notes

This SDK package supports SoC and NCP Mode

- In SoC Mode: Customer Applications can run on Cortex M4. Wireless stacks and Networking stacks run on the Wireless subsystem.
- In NCP Mode: Customer Applications can run on third party host. Wireless stacks and Networking stacks run on the Wireless subsystem.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.
- Support for Phase 1 platform DX peripherals is added.

> Note: Release supports only Simplicity Studio 5.5 & above versions

## Highlights

- **Operating Modes** : Wi-Fi STA, Wi-Fi AP, Concurrent(AP + STA), Wi-Fi STA+BLE(CoEx),
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n , 802.11ax, BLE 5.1
- **MCU Peripherals** : ADC Static Mode, Analog Comparator, Bod, CTS, DAC FIFO, DAC Static, OPAMP, GPIO, I2C, I2S, PWM, RTC, QEI, SPI, UART, USART, UDMA, WDT, MEMLCD
  : ULP (Ultra Low Power) Peripherals - ulp_gpio, ulp_i2c, ulp_i2s, ulp_ir_decoder, ulp_spi, ulp_timer, ulp_uart, ulp_udma
  : UART and I2C Deepsleep Wakeup Without RAM Retention
- **Multiple Ultra Low Power Modes** : Wi-Fi 6 TWT (Target Wake Time) - for improved network efficiency and device battery life
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support)
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack and Profiles, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, SNTP Client
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** : Si917-BRD4325B (Dual flash Radio board), Si917-BRD4325A, Si917-BRD4325G (Common Flash Radio board), Si917-BRD4338A (Common Flash Radio Board V2.0)

## Release Details

| Item                      | Details                                                        |
| ------------------------- | -------------------------------------------------------------- |
| Release date              | August 14th, 2023                                              |
| API Version               | 3.0.13(Build 1)                                                |
| Firmware Version          | 2.9.0.0.19                                                     |
| Package Name              | WiSeConnect3_SDK_3.0.13                                        |
| Supported RTOS            | FreeRTOS                                                       |
| Operating Modes Supported | Wi-Fi STA, Wi-Fi AP, Concurrent(AP + STA), Wi-Fi STA+BLE(CoEx) |

## Updating to this Release

This release consists of Wireless Library - The Library runs on internal Cortex M4 in SoC Mode and third party host in NCP mode, supports 52 SoC and 13 NCP sample examples.

## Features and Bug Fixes

- Added NCP support for ble_per, aws_device_shadow, wlan_throughput, firmware update, wlan_tls_client
- Fixed customer issue in embedded MQTT
- SQA Bugs - SI91X-13682, SI91X-13742, SI91X-13727, SI91X-13406, SI91X-13736, SI91X-13743, SI91X-13749

## Known Issues

- Refer the respective Radio board user guides for specific pinout details. Example readme's dont include all board variant GPIO details.
- SSI bitrate above 10 Mbps is not working as expected.
- When using SL DMA, UDMA1 is not working as expected
- SIO-SPI few channels are not working as expected. (working of MOSI & - MISO channel 4 and above is inconsistent)
  - Few peripherals like WDT when configured with RO clock is not working as expected. No impact on the feature but the clocks are not accurate.
- DUT is getting hanged while continuously publishing data in embedded mqtt application during power save mode
- BLE notification and Continuous BG scan are not working as expected
- Ongoing efforts to update the readme file are in progress
- Matter issue - SI91X-13524
- BLE long range of 4-5m for BRD4325B A02 board

### SoC

- The "Browser File Viewer" plugin has issues. It can't render the last image included in the markdown files and observed issues accessing some hyperlinks
- In SoC mode, M4 power save will work with 384k TA and 320 M4 memory configuration only. It is not supported for "448K TA and 256k M4" and "512k TA and 192k M4" memory configurations

### Network Stack

### Wi-Fi

- WPA3 connection takes 2.5 sec more than WPA2 connection
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.

### BLE

- For BLE, dual role scenario issues might occur when connecting as central if the advertising is also going out for the peripheral role. Central connections can be made after the peripheral connections are established and advertising is stopped.
- LMP timeout BLE disconnection observed with the latest Realme mobile handsets.

## Limitations and Unsupported Features

### Wi-Fi/Network Stack

#### Limitations

- Throughput not at par with WiSeConnect 2 in the present release
- Maximum of 3 SSL connections are supported in WiFi alone mode.
- TWT is not verified in Coex mode.
- BGscan is not verified with TWT Feature.
- SIO currently supports SPI and UART.
- Peripherals currently uses UDMA CMSIS driver.

#### Not supported

- DTIM skip feature in power save.
- NCP Support(SDIO, UART, Linux, 3rd party hosts)
- 917 Specific features(degugging utilities)
- Calibration SW APIs
- Keep Alive Functionality
- SNI
- DNS Clients
- APIs for Crypto Hardware(ECDH, DH)
- Stats APIs
- Multi-threading support for relevant APIs
- SoC Support (Hosted mode): support for switching between LWIP & internal stack in SS
- IPV6 Support (for network application protocols)
- Console application for customers
- Protocols Offload mode: HTTP Server(917 specific), DHCPv6 Server, SNMP, Socket reads up to 64k, POP3, DTLS, mDNS, Web Socket
- Power save support (Message based)
- Baremetal support (for EFR)
- PTA Coexistence with other wireless
- SL Net Hosted mode (SoftAP over LWIP)
- Asynchronous API's(SSL)
- I2C Fast and High speed mode not supported
- When using GSPI and SSI, manual chip select option not supported

### BLE

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.

## Terminology

| Term                            | Description                                                                                                                                                                                                    |
| ------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **New Features**                | These items are new to this release                                                                                                                                                                            |
| **Changes/Issues Fixed**        | Changes made to existing features found in previous software releases.                                                                                                                                         |
|                                 | Enhancements to existing product flow and feature set.                                                                                                                                                         |
|                                 | Bug fixes done in the Release                                                                                                                                                                                  |
| **Deprecated Items**            | Features or functions or APIs that are removed from the distributed release to align with the software roadmap                                                                                                 |
| **Known Issues**                | Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases |
| **Limitations/Recommendations** | Describes the limitations on product usage and recommendations for optimal use cases                                                                                                                           |

<br />

## Notes

This release supports 917 Common Flash (A0 - BRD4325A, B0 - BRD4325G and B0 - BRD4338A(V 2.0)) and Dual Flash (A0 - BRD4325B).

# WiSeConnect3_SDK_3.0.12 Release Notes

This SDK package supports SoC Mode

- In SoC Mode: Customer Applications can run on Cortex M4. Wireless stacks and Networking stacks run on the Wireless subsystem.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.
- Support for Phase 1 platform DX peripherals is added.

> Note: Release supports only Simplicity Studio 5.5 & above versions

## SoC Highlights

- **Operating Modes** : Wi-Fi STA, Wi-Fi AP, Concurrent(AP + STA), Wi-Fi STA+BLE(CoEx),
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n , 802.11ax, BLE 5.1
- **MCU Peripherals** : ADC Static Mode, Analog Comparator, Bod, CTS, DAC FIFO, DAC Static, OPAMP, GPIO, I2C, I2S, PWM, RTC, QEI, SPI, UART, USART, UDMA, WDT, MEMLCD
  : ULP (Ultra Low Power) Peripherals - ulp_gpio, ulp_i2c, ulp_i2s, ulp_ir_decoder, ulp_spi, ulp_timer, ulp_uart, ulp_udma
  : UART and I2C Deepsleep Wakeup Without RAM Retention
- **Multiple Ultra Low Power Modes** : Wi-Fi 6 TWT (Target Wake Time) - for improved network efficiency and device battery life
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support)
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack and Profiles, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, SNTP Client
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** : Si917-BRD4325B (Dual flash Radio board), Si917-BRD4325A, Si917-BRD4325G (Common Flash Radio board), Si917-BRD4338A (Common Flash Radio Board V2.0)

## Release Details

| Item                      | Details                                                        |
| ------------------------- | -------------------------------------------------------------- |
| Release date              | August 4th, 2023                                               |
| API Version               | 3.0.12(Build 1)                                                |
| Firmware Version          | 2.9.0.0.17                                                     |
| Package Name              | WiSeConnect3_SDK_3.0.12                                        |
| Supported RTOS            | FreeRTOS                                                       |
| Operating Modes Supported | Wi-Fi STA, Wi-Fi AP, Concurrent(AP + STA), Wi-Fi STA+BLE(CoEx) |

## Updating to this Release

This release consists of Wireless Library - The Library runs on internal Cortex M4 in SoC Mode and supports 52 sample examples.

## Features and Bug Fixes

- Added NCP support for access_point, concurrent_mode, aws_mqtt, powersave_standby_associated, select_app, station_ping, lwip_tcp_client, sntp
- Update documentation for SL_SI91X_EXT_FEAT_XTAL_CLK_ENABLE
- Added Macro SL_SI91X_EXT_FEAT_XTAL_CLK based on A0 or B0 board
- SQA Bugs - SI91X-13595, SI91X-13626, SI91X-13621, SI91X-13650, SI91X-13346, SI91X-13584, SI91X-13627, SI91X-13606,
             SI91X-13635, SI91X-13683, SI91X-13684 ,SI91X-13527, SI91X-13696, SI91X-13690, SI91X-13408, SI91X-13679,
- Platform SQA Bugs - SI91X-13644, SI91X-13556, SI91X-13542, SI91X-13460
- Added Frontend switch selection in SRM

## Known Issues

- Refer the respective Radio board user guides for specific pinout details. Example readme's dont include all board variant GPIO details.
- SSI bitrate above 10 Mbps is not working as expected.
- When using SL DMA, UDMA1 is not working as expected
- SIO-SPI few channels are not working as expected. (working of MOSI & - MISO channel 4 and above is inconsistent)
  - Few peripherals like WDT when configured with RO clock is not working as expected. No impact on the feature but the clocks are not accurate.
- DUT is getting hanged while continuously publishing data in embedded mqtt application during power save mode
- BLE notification and Continuous BG scan are not working as expected
- Ongoing efforts to update the readme file are in progress
- Matter issue - SI91X-13524
- BLE long range of 4-5m for BRD4325B A02 board

### SoC

- The "Browser File Viewer" plugin has issues. It can't render the last image included in the markdown files and observed issues accessing some hyperlinks
- In SoC mode, M4 power save will work with 384k TA and 320 M4 memory configuration only. It is not supported for "448K TA and 256k M4" and "512k TA and 192k M4" memory configurations

### Network Stack

### Wi-Fi

- WPA3 connection takes 2.5 sec more than WPA2 connection
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.

### BLE

- For BLE, dual role scenario issues might occur when connecting as central if the advertising is also going out for the peripheral role. Central connections can be made after the peripheral connections are established and advertising is stopped.
- LMP timeout BLE disconnection observed with the latest Realme mobile handsets.

## Limitations and Unsupported Features

### Wi-Fi/Network Stack

#### Limitations

- Throughput not at par with WiSeConnect 2 in the present release
- Maximum of 3 SSL connections are supported in WiFi alone mode.
- TWT is not verified in Coex mode.
- BGscan is not verified with TWT Feature.
- SIO currently supports SPI and UART.
- Peripherals currently uses UDMA CMSIS driver.

#### Not supported

- DTIM skip feature in power save.
- NCP Support(SDIO, UART,Linux, 3rd party hosts)
- 917 Specific features(degugging utilities)
- Calibration SW APIs
- Keep Alive Functionality
- SNI
- DNS Clients
- APIs for Crypto Hardware(ECDH, DH, SHA, AES)
- Stats APIs
- Multi-threading support for relevant APIs
- SoC Support (Hosted mode): support for switching between LWIP & internal stack in SS
- IPV6 Support (for network application protocols)
- Console application for customers
- Protocols Offload mode: HTTP Server(917 specific), DHCPv6 Server, SNMP, Socket reads up to 64k, POP3, DTLS, mDNS, Web Socket
- Power save support (Message based)
- Baremetal support (for EFR)
- PTA Coexistence with other wireless
- SL Net Hosted mode (SoftAP over LWIP)
- Asynchronous API's(SSL)
- I2C Fast and High speed mode not supported
- When using GSPI and SSI, manual chip select option not supported

### BLE

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.

## Terminology

| Term                            | Description                                                                                                                                                                                                    |
| ------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **New Features**                | These items are new to this release                                                                                                                                                                            |
| **Changes/Issues Fixed**        | Changes made to existing features found in previous software releases.                                                                                                                                         |
|                                 | Enhancements to existing product flow and feature set.                                                                                                                                                         |
|                                 | Bug fixes done in the Release                                                                                                                                                                                  |
| **Deprecated Items**            | Features or functions or APIs that are removed from the distributed release to align with the software roadmap                                                                                                 |
| **Known Issues**                | Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases |
| **Limitations/Recommendations** | Describes the limitations on product usage and recommendations for optimal use cases                                                                                                                           |

<br />

## Notes

This release supports 917 Common Flash (A0 - BRD4325A, B0 - BRD4325G and B0 - BRD4338A(V 2.0)) and Dual Flash (A0 - BRD4325B).

# WiSeConnect3_SDK_3.0.11 Release Notes

This SDK package supports SoC Mode

- In SoC Mode: Customer Applications can run on Cortex M4. Wireless stacks and Networking stacks run on the Wireless subsystem.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.
- Support for Phase 1 platform DX peripherals is added.

> Note: Release supports only Simplicity Studio 5.5 & above versions

## SoC Highlights

- **Operating Modes** : Wi-Fi STA, Wi-Fi AP, Concurrent(AP + STA), Wi-Fi STA+BLE(CoEx),
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n , 802.11ax, BLE 5.1
- **MCU Peripherals** : ADC Static Mode, Analog Comparator, Bod, CTS, DAC FIFO, DAC Static, OPAMP, GPIO, I2C, I2S, PWM, RTC, QEI, SPI, UART, USART, UDMA, WDT, MEMLCD
  : ULP (Ultra Low Power) Peripherals - ulp_gpio, ulp_i2c, ulp_i2s, ulp_ir_decoder, ulp_spi, ulp_timer, ulp_uart, ulp_udma
  : UART and I2C Deepsleep Wakeup Without RAM Retention
- **Multiple Ultra Low Power Modes** : Wi-Fi 6 TWT (Target Wake Time) - for improved network efficiency and device battery life
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support)
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack and Profiles, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, SNTP Client
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** : Si917-BRD4325B (Dual flash Radio board), Si917-BRD4325A, Si917-BRD4325G (Common Flash Radio board), Si917-BRD4338A (Common Flash Radio Board V2.0)

## Release Details

| Item                      | Details                                                        |
| ------------------------- | -------------------------------------------------------------- |
| Release date              | July 26th, 2023                                                |
| API Version               | 3.0.11(Build 1)                                                |
| Firmware Version          | 2.9.0.0.16                                                     |
| Package Name              | WiSeConnect3_SDK_3.0.11                                        |
| Supported RTOS            | FreeRTOS                                                       |
| Operating Modes Supported | Wi-Fi STA, Wi-Fi AP, Concurrent(AP + STA), Wi-Fi STA+BLE(CoEx) |

## Updating to this Release

This release consists of Wireless Library - The Library runs on internal Cortex M4 in SoC Mode and supports 52 sample examples.

## Features and Bug Fixes

- Added support for Asynchronous Sockets
- Removes _DEFAULT_ from sl_net_interface_t enum and its instances
- Replace convert_string_to_sl_ipv4_address-API with sl_net_inet_addr in coex examples
- Added support for SNTP documentation
- Added new examples - proximity_profile and TCP/UDP bidirectional data transfer
- Updated NVM3 documentation
- Platform SQA Bugs: - SI91X-13445, SI91X-13446, SI91X-13562, SI91X-13556, SI91X-13534, SI91X-13492, SI91X-13450, SI91X-13460, SI91X-13593, SI91X-13542
- Addressed Matter issue - WIFISDK-752, WIFISDK-753, WIFISDK-706
- Fixed SAPI timeout error issue in ble_throughput application
- Updated example applications readme  

## Known Issues

- The current chipset support for all the DX peripherals is A0 and B0(V1.2). B0(V2.0) support shall be provided in subsequent releases.
- I2C High Speed mode is not working as expected.
- DUT is getting hanged while continuously publishing data in embedded mqtt application during power save mode
- BLE notification and Continuous BG scan are not working as expected
- Ongoing efforts to update the readme file are in progress
- Matter issue - SI91X-13524
- BLE long range of 4-5m for BRD4325B A02 board

### SoC

- The "Browser File Viewer" plugin has issues. It can't render the last image included in the markdown files and observed issues accessing some hyperlinks
- In SoC mode, M4 power save will work with 384k TA and 320 M4 memory configuration only. It is not supported for "448K TA and 256k M4" and "512k TA and 192k M4" memory configurations

### Network Stack

### Wi-Fi

- WPA3 connection takes 2.5 sec more than WPA2 connection
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.

### BLE

- For BLE, dual role scenario issues might occur when connecting as central if the advertising is also going out for the peripheral role. Central connections can be made after the peripheral connections are established and advertising is stopped.
- LMP timeout BLE disconnection observed with the latest Realme mobile handsets.

## Limitations and Unsupported Features

### Wi-Fi/Network Stack

#### Limitations

- Throughput not at par with WiSeConnect 2 in the present release
- Maximum of 3 SSL connections are supported in WiFi alone mode.
- TWT is not verified in Coex mode.
- BGscan is not verified with TWT Feature.
- SIO currently supports SPI and UART.
- Peripherals currently uses UDMA CMSIS driver.

#### Not supported

- DTIM skip feature in power save.
- NCP Support(SDIO, UART,Linux, 3rd party hosts)
- 917 Specific features(degugging utilities)
- Calibration SW APIs
- Keep Alive Functionality
- SNI
- DNS Clients
- APIs for Crypto Hardware(ECDH, DH, SHA, AES)
- Stats APIs
- Multi-threading support for relevant APIs
- SoC Support (Hosted mode): support for switching between LWIP & internal stack in SS
- IPV6 Support (for network application protocols)
- Console application for customers
- Protocols Offload mode: HTTP Server(917 specific), DHCPv6 Server, SNMP, Socket reads up to 64k, POP3, DTLS, mDNS, Web Socket
- Power save support (Message based)
- Baremetal support (for EFR)
- PTA Coexistence with other wireless
- SL Net Hosted mode (SoftAP over LWIP)
- Asynchronous API's(SSL)

### BLE

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.

## Terminology

| Term                            | Description                                                                                                                                                                                                    |
| ------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **New Features**                | These items are new to this release                                                                                                                                                                            |
| **Changes/Issues Fixed**        | Changes made to existing features found in previous software releases.                                                                                                                                         |
|                                 | Enhancements to existing product flow and feature set.                                                                                                                                                         |
|                                 | Bug fixes done in the Release                                                                                                                                                                                  |
| **Deprecated Items**            | Features or functions or APIs that are removed from the distributed release to align with the software roadmap                                                                                                 |
| **Known Issues**                | Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases |
| **Limitations/Recommendations** | Describes the limitations on product usage and recommendations for optimal use cases                                                                                                                           |

<br />

## Notes

This release supports 917 Common Flash (A0 - BRD4325A, B0 - BRD4325G and B0 - BRD4338A(V 2.0)) and Dual Flash (A0 - BRD4325B).

# WiSeConnect3_SDK_3.0.10 Release Notes

This SDK package supports SoC Mode

- In SoC Mode: Customer Applications can run on Cortex M4. Wireless stacks and Networking stacks run on the Wireless subsystem.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.
- Support for Phase 1 platform DX peripherals is added.
  > Note: To run the application please install the GSDK patch following below instructions:
  >
  > - Install GSDK version 4.3.0.
  > - Open your terminal application.
  > - Go to your GSDK path and enter the following command.
      git apply --ignore-whitespace --ignore-space-change "extension/wiseconnect3/utilities/gsdk_service_patch/gsdk_service.patch"

> Note: The git apply command needs to be run to apply a GSDK patch not available with the current WiSeConnect 3 release.
>
> - Now you should be able to build and run Dx sample applications.

> Note: Release supports only Simplicity Studio 5.5 & above versions

## SoC Highlights

- **Operating Modes** : Wi-Fi STA, Wi-Fi AP, Concurrent(AP + STA), Wi-Fi STA+BLE(CoEx),
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n , 802.11ax, BLE 5.1
- **MCU Peripherals** : ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, OPAMP, GPIO, I2C, I2S, PWM, RTC, QEI, SPI, UART, USART, UDMA, WDT, Combined Peripheral App, MEMLCD
  : ULP (Ultra Low Power) Peripherals - ulp_gpio, ulp_i2c, ulp_i2s, ulp_ir_decoder, ulp_spi, ulp_timer, ulp_uart, ulp_udma
  : UART and I2C Deepsleep Wakeup Without RAM Retention
- **Multiple Ultra Low Power Modes** : Wi-Fi 6 TWT (Target Wake Time) - for improved network efficiency and device battery life
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support)
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack and Profiles, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, SNTP Client
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** : Si917-BRD4325B (Dual flash Radio board), Si917-BRD4325A, Si917-BRD4325G (Common Flash Radio board), Si917-BRD4338A (Common Flash Radio Board V2.0)

## Release Details

| Item                      | Details                                                        |
| ------------------------- | -------------------------------------------------------------- |
| Release date              | July 21th, 2023                                                |
| API Version               | 3.0.10(Build 1)                                                |
| Firmware Version          | 2.9.0.0.15                                                     |
| Package Name              | WiSeConnect3_SDK_3.0.10                                        |
| Supported RTOS            | FreeRTOS                                                       |
| Operating Modes Supported | Wi-Fi STA, Wi-Fi AP, Concurrent(AP + STA), Wi-Fi STA+BLE(CoEx) |

## Updating to this Release

This release consists of Wireless Library - The Library runs on internal Cortex M4 in SoC Mode and supports 50 sample examples.

## Features and Bug Fixes

- Disable default RAM Execution for Common Flash boards and optimise Linker file
- Added MEMLCD Support for 917 and MEMLCD Sample App ( compatible only with Si917-BRD4338A )
- Added IOSTREM support on GSDK 4.3.1
- Added RSI_PS_SkipXtalWaitTime under common_flash_en macro
- Added M4 powersave in TWT tcp and AWS_MQTT client examples
- Added new BLE examples - health_thermometer, glucose, blood_pressure, battery_service
- Added new command line interface application(cli_demo)
- Updated with proper error codes that describes the reason for a failure
- Platform SQA Bug: SI91X-13422
- SDK SQA Bugs - SI91X-13535, SI91X-13549
- Addressed Matter issue - WIFISDK-754, WIFISDK-756, WIFISDK-757
- Updated example applications readme  

## Known Issues

- The current chipset support for all the DX peripherals is A0 and B0(V1.2). B0(V2.0) support shall be provided in subsequent releases.
- I2C High Speed mode is not working as expected.
- SSI bitrate above 10 Msps is not working as expected.
- DUT is getting hanged while continuously publishing data in embedded mqtt application during power save mode
- BLE notification and Continuous BG scan are not working as expected
- Ongoing efforts to update the readme file are in progress
- Matter issues - WIFISDK-752, WIFISDK-753, SI91X-13524
- BLE long range of 4-5m for BRD4325B A02 board

### SoC

- The "Browser File Viewer" plugin has issues. It can't render the last image included in the markdown files and observed issues accessing some hyperlinks
- In SoC mode, M4 power save will work with 384k TA and 320 M4 memory configuration only. It is not supported for "448K TA and 256k M4" and "512k TA and 192k M4" memory configurations

### Network Stack

### Wi-Fi

- WPA3 connection takes 2.5 sec more than WPA2 connection
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.

### BLE

- For BLE, dual role scenario issues might occur when connecting as central if the advertising is also going out for the peripheral role. Central connections can be made after the peripheral connections are established and advertising is stopped.
- LMP timeout BLE disconnection observed with the latest Realme mobile handsets.

## Limitations and Unsupported Features

### Wi-Fi/Network Stack

#### Limitations

- Throughput not at par with WiSeConnect 2 in the present release
- Maximum of 3 SSL connections are supported in WiFi alone mode.
- TWT is not verified in Coex mode.
- BGscan is not verified with TWT Feature.
- SIO currently supports SPI and UART.
- Peripherals currently uses UDMA CMSIS driver.

#### Not supported

- DTIM skip feature in power save.
- NCP Support(SDIO, UART,Linux, 3rd party hosts)
- 917 Specific features(degugging utilities)
- Calibration SW APIs
- Keep Alive Functionality
- SNI
- DNS Clients
- APIs for Crypto Hardware(ECDH, DH, SHA, AES)
- Stats APIs
- Multi-threading support for relevant APIs
- SoC Support (Hosted mode): support for switching between LWIP & internal stack in SS
- IPV6 Support (for network application protocols)
- Console application for customers
- Protocols Offload mode: HTTP Server(917 specific), DHCPv6 Server, SNMP, Socket reads up to 64k, POP3, DTLS, mDNS, Web Socket
- Power save support (Message based)
- Baremetal support (for EFR)
- PTA Coexistence with other wireless
- SL Net Hosted mode (SoftAP over LWIP)
- Asynchronous API's(TCP,UDP,SSL)

### BLE

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.

## Terminology

| Term                            | Description                                                                                                                                                                                                    |
| ------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **New Features**                | These items are new to this release                                                                                                                                                                            |
| **Changes/Issues Fixed**        | Changes made to existing features found in previous software releases.                                                                                                                                         |
|                                 | Enhancements to existing product flow and feature set.                                                                                                                                                         |
|                                 | Bug fixes done in the Release                                                                                                                                                                                  |
| **Deprecated Items**            | Features or functions or APIs that are removed from the distributed release to align with the software roadmap                                                                                                 |
| **Known Issues**                | Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases |
| **Limitations/Recommendations** | Describes the limitations on product usage and recommendations for optimal use cases                                                                                                                           |

<br />

## Notes

This release supports 917 Common Flash (A0 - BRD4325A, B0 - BRD4325G and B0 - BRD4338A(V 2.0)) and Dual Flash (A0 - BRD4325B).

# WiSeConnect3_SDK_3.0.9 Release Notes

This SDK package supports SoC Mode

- In SoC Mode: Customer Applications can run on Cortex M4. Wireless stacks and Networking stacks run on the Wireless subsystem.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.
- Support for Phase 1 platform DX peripherals is added.
  > Note: To run the application please install the GSDK patch following below instructions:
  >
  > - Install GSDK version 4.3.0.
  > - Open your terminal application.
  > - Go to your GSDK path and enter the following command.
      git apply --ignore-whitespace --ignore-space-change "extension/wiseconnect3/utilities/gsdk_service_patch/gsdk_service.patch"

> Note: The git apply command needs to be run to apply a GSDK patch not available with the current WiSeConnect 3 release.
>
> - Now you should be able to build and run Dx sample applications.

> Note: Release supports only Simplicity Studio 5.5 & above versions

## SoC Highlights

- **Operating Modes** : Wi-Fi STA, Wi-Fi AP, Concurrent(AP + STA), Wi-Fi STA+BLE(CoEx),
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n , 802.11ax, BLE 5.1
- **MCU Peripherals** : ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, OPAMP, GPIO, I2C, I2S, PWM, RTC, QEI, SPI, UART, USART, UDMA, WDT, Combined Peripheral App
  : ULP (Ultra Low Power) Peripherals - ulp_gpio, ulp_i2c, ulp_i2s, ulp_ir_decoder, ulp_spi, ulp_timer, ulp_uart, ulp_udma
  : UART and I2C Deepsleep Wakeup Without RAM Retention
- **Multiple Ultra Low Power Modes** : Wi-Fi 6 TWT (Target Wake Time) - for improved network efficiency and device battery life
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support)
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack and Profiles, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, SNTP Client
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** : Si917-BRD4325B (Dual flash Radio board), Si917-BRD4325A, Si917-BRD4325G (Common Flash Radio board), Si917-BRD4338A (Common Flash Radio Board V2.0)

## Release Details

| Item                      | Details                                                        |
| ------------------------- | -------------------------------------------------------------- |
| Release date              | July 10th, 2023                                                 |
| API Version               | 3.0.9(Build 1)                                                 |
| Firmware Version          | 2.9.0.0.8                                                      |
| Package Name              | WiSeConnect3_SDK_3.0.9                                         |
| Supported RTOS            | FreeRTOS                                                       |
| Operating Modes Supported | Wi-Fi STA, Wi-Fi AP, Concurrent(AP + STA), Wi-Fi STA+BLE(CoEx) |

## Updating to this Release

This release consists of Wireless Library - The Library runs on internal Cortex M4 in SoC Mode and supports 45 sample examples.

## Features and Bug Fixes

- Added B0(V1.2) chipset support for platform examples.
- Addressed Matter issues
- SL DEINIT issue Resolved
- Implemented station_ping_v6 example

## Known Issues

- The current chipset support for all the DX peripherals is A0 and B0(V1.2). B0(V2.0) support shall be provided in subsequent releases.
- I2C High Speed mode is not working as expected.
- SSI bitrate above 10 Msps is not working as expected.
- Powersave Deepsleep issue with Common Flash B0 Board.
- DUT is getting hanged while continuously publishing data in embedded mqtt application during power save mode
- BLE notification and Continuous BG scan are not working as expected
- Ongoing efforts to update the readme file are in progress

### SoC

- The "Browser File Viewer" plugin has issues. It can't render the last image included in the markdown files and observed issues accessing some hyperlinks
- In SoC mode, M4 power save will work with 384k TA and 320 M4 memory configuration only. It is not supported for "448K TA and 256k M4" and "512k TA and 192k M4" memory configurations

### Network Stack

### Wi-Fi

- WPA3 connection takes 2.5 sec more than WPA2 connection
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.

### BLE

- For BLE, dual role scenario issues might occur when connecting as central if the advertising is also going out for the peripheral role. Central connections can be made after the peripheral connections are established and advertising is stopped.
- LMP timeout BLE disconnection observed with the latest Realme mobile handsets.

## Limitations and Unsupported Features

### Wi-Fi/Network Stack

#### Limitations

- Throughput not at par with WiSeConnect 2 in the present release
- Maximum of 3 SSL connections are supported in WiFi alone mode.
- TWT is not verified in Coex mode.
- BGscan is not verified with TWT Feature.
- SIO currently supports SPI and UART.
- Peripherals currently uses UDMA CMSIS driver.

#### Not supported

- DTIM skip feature in power save.
- NCP Support(SDIO, UART,Linux, 3rd party hosts)
- 917 Specific features(degugging utilities)
- Calibration SW APIs
- Keep Alive Functionality
- SNI
- DNS Clients
- Asynchronous API's(TCP,UDP,SSL),
- APIs for Crypto Hardware(ECDH, DH, SHA, AES)
- Stats APIs
- Multi-threading support for relevant APIs
- SoC Support (Hosted mode): support for switching between LWIP & internal stack in SS
- IPV6 Support (for network application protocols)
- Console application for customers
- Protocols Offload mode: HTTP Server(917 specific), DHCPv6 Server, SNMP, Socket reads up to 64k, POP3, DTLS, mDNS, Web Socket
- Power save support (Message based)
- Baremetal support (for EFR)
- PTA Coexistence with other wireless
- SL Net Hosted mode (SoftAP over LWIP)

### BLE

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.

## Terminology

| Term                            | Description                                                                                                                                                                                                    |
| ------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **New Features**                | These items are new to this release                                                                                                                                                                            |
| **Changes/Issues Fixed**        | Changes made to existing features found in previous software releases.                                                                                                                                         |
|                                 | Enhancements to existing product flow and feature set.                                                                                                                                                         |
|                                 | Bug fixes done in the Release                                                                                                                                                                                  |
| **Deprecated Items**            | Features or functions or APIs that are removed from the distributed release to align with the software roadmap                                                                                                 |
| **Known Issues**                | Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases |
| **Limitations/Recommendations** | Describes the limitations on product usage and recommendations for optimal use cases                                                                                                                           |

<br />

## Notes

This release supports 917 Common Flash (A0 - BRD4325A, B0 - BRD4325G and B0 - BRD4338A(V 2.0)) and Dual Flash (A0 - BRD4325B).

# WiSeConnect3_SDK_3.0.7 Release Notes

This SDK package supports SoC Mode

- In SoC Mode: Customer Applications can run on Cortex M4. Wireless stacks and Networking stacks run on the Wireless subsystem.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.
- Support for Phase 1 platform DX peripherals is added.
  > Note: To run the application please download the GSDK from below link and follow the instructions:
  >
  > - Download GSDK from <https://artifactory.silabs.net/artifactory/platswhyd-docker-development/gecko-sdk-dx-v2.zip>
  > - Open latest simplicity studio and add new GSDK which is downloaded from above step.
  > - Now add wiseconnect3 release package as extension to that gsdk.
  > - Now you should be able to build and run Dx sample applications.

> Note: Release supports only Simplicity Studio 5.5 & above versions

## SoC Highlights

- **Operating Modes** : Wi-Fi STA, Wi-Fi AP, Concurrent(AP + STA), Wi-Fi STA+BLE(CoEx),
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n , 802.11ax, BLE 5.1
- **MCU Peripherals** : ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, OPAMP, GPIO, I2C, I2S, PWM, RTC, QEI, SPI, UART, USART, UDMA, WDT, Combined Peripheral App
  : ULP (Ultra Low Power) Peripherals - ulp_gpio, ulp_i2c, ulp_i2s, ulp_ir_decoder, ulp_spi, ulp_timer, ulp_uart, ulp_udma
  : UART and I2C Deepsleep Wakeup Without RAM Retention
- **Multiple Ultra Low Power Modes** : Wi-Fi 6 TWT (Target Wake Time) - for improved network efficiency and device battery life
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support)
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack and Profiles, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, SNTP Client
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** : Si917-BRD4325B (Dual flash Radio board), Si917-BRD4325A, Si917-BRD4325G (Common Flash Radio board), Si917-BRD4338A (Common Flash Radio Board V2.0)

## Release Details

| Item                      | Details                                                        |
| ------------------------- | -------------------------------------------------------------- |
| Release date              | June 26th, 2023                                                |
| API Version               | 3.0.7(Build 1)                                                 |
| Firmware Version          | 2.9.0.0.6                                                      |
| Package Name              | WiSeConnect3_SDK_3.0.7                                         |
| Supported RTOS            | FreeRTOS                                                       |
| Operating Modes Supported | Wi-Fi STA, Wi-Fi AP, Concurrent(AP + STA), Wi-Fi STA+BLE(CoEx) |

## Updating to this Release

This release consists of Wireless Library - The Library runs on internal Cortex M4 in SoC Mode and supports 45 sample examples.

## Features and Bug Fixes

- Phase-1 peripheral support for Platform Dx added to this release
- Supported DX Peripherals: Calender, ULP Timer, GSPI, SSI, GPIO, I2C, Watchdog Timer, DMA, USART, Config Timer, SIO
- Supported Services: Sleeptimer, IOStream, NVM3

## Known Issues

- The current chipset support for all the DX peripherals is A0, subsequent releases will add support to additional boards.
- Chipset support for services - Sleeptimer: B0, NVM3: A0,B0, IOStream: A0(brd4325a)
- wifi_deinit is not working as expected

### SoC

- The "Browser File Viewer" plugin has issues. It can't render the last image included in the markdown files and observed issues accessing some hyperlinks
- In SoC mode, M4 power save will work with 384k TA and 320 M4 memory configuration only. It is not supported for "448K TA and 256k M4" and "512k TA and 192k M4" memory configurations

### Network Stack

### Wi-Fi

- WPA3 connection takes 2.5 sec more than WPA2 connection
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.

### BLE

- For BLE, dual role scenario issues might occur when connecting as central if the advertising is also going out for the peripheral role. Central connections can be made after the peripheral connections are established and advertising is stopped.
- LMP timeout BLE disconnection observed with the latest Realme mobile handsets.

## Limitations and Unsupported Features

### Wi-Fi/Network Stack

- Maximum of 3 SSL connections are supported in WiFi alone mode.
- TWT is not verified in Coex mode.
- BGscan is not verified with TWT Feature.
- No support for DTIM skip feature in power save.

### BLE

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.

## Terminology

| Term                            | Description                                                                                                                                                                                                    |
| ------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **New Features**                | These items are new to this release                                                                                                                                                                            |
| **Changes/Issues Fixed**        | Changes made to existing features found in previous software releases.                                                                                                                                         |
|                                 | Enhancements to existing product flow and feature set.                                                                                                                                                         |
|                                 | Bug fixes done in the Release                                                                                                                                                                                  |
| **Deprecated Items**            | Features or functions or APIs that are removed from the distributed release to align with the software roadmap                                                                                                 |
| **Known Issues**                | Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases |
| **Limitations/Recommendations** | Describes the limitations on product usage and recommendations for optimal use cases                                                                                                                           |

<br />

## Notes

This release supports 917 Common Flash (A0 - BRD4325A, B0 - BRD4325G and B0 - BRD4338A(V 2.0)) and Dual Flash (A0 - BRD4325B).

# WiSeConnect3_SDK_3.0.6 Release Notes

This SDK package supports SoC Mode

- In SoC Mode: Customer Applications can run on Cortex M4. Wireless stacks and Networking stacks run on the Wireless subsystem.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

> Note: Release supports only Simplicity Studio 5.5 & above versions

## SoC Highlights

- **Operating Modes** : Wi-Fi STA, Wi-Fi AP, Concurrent(AP + STA), Wi-Fi STA+BLE(CoEx),
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n , 802.11ax, BLE 5.1
- **MCU Peripherals** : ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, OPAMP, GPIO, I2C, I2S, PWM, RTC, QEI, SPI, UART, USART, UDMA, WDT, Combined Peripheral App
  : ULP (Ultra Low Power) Peripherals - ulp_gpio, ulp_i2c, ulp_i2s, ulp_ir_decoder, ulp_spi, ulp_timer, ulp_uart, ulp_udma
  : UART and I2C Deepsleep Wakeup Without RAM Retention
- **Multiple Ultra Low Power Modes** : Wi-Fi 6 TWT (Target Wake Time) - for improved network efficiency and device battery life
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support)
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack and Profiles, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, SNTP Client
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** : Si917-BRD4325B (Dual flash Radio board), Si917-BRD4325A, Si917-BRD4325G (Common Flash Radio board), Si917-BRD4338A (Common Flash Radio Board V2.0)

## Release Details

| Item                      | Details                                                        |
| ------------------------- | -------------------------------------------------------------- |
| Release date              | June 16th, 2023                                                |
| API Version               | 3.0.6(Build 1)                                                 |
| Firmware Version          | 2.9.0.0.4                                                      |
| Package Name              | WiSeConnect3_SDK_3.0.6                                         |
| Supported RTOS            | FreeRTOS                                                       |
| Operating Modes Supported | Wi-Fi STA, Wi-Fi AP, Concurrent(AP + STA), Wi-Fi STA+BLE(CoEx) |

## Updating to this Release

This release consists of Wireless Library - The Library runs on internal Cortex M4 in SoC Mode and supports 45 sample examples.

## Features and Bug Fixes

- Added support for sl wifi get pairwise master key
- Updated socket functionality to work with ipv6
- Implemented examples - access_point_v6, wlan_throughput_v6, wifi_station_ble_provisioning_aws_logging_stats,
  wlan_throughput_ble_dual_role, wlan_https_ble_dual_role, Standby associated with TCP Client with TCP Packet every 55sec

## Known Issues

- Dx enhanced Platform APIs Phase -1 Integrated with SDK and NVM3 credential manager dual flash SoC - Update examples with sl_net_set_credential()

### SoC

- The "Browser File Viewer" plugin has issues. It can't render the last image included in the markdown files and observed issues accessing some hyperlinks
- In SoC mode, M4 power save will work with 384k TA and 320 M4 memory configuration only. It is not supported for "448K TA and 256k M4" and "512k TA and 192k M4" memory configurations

### Network Stack

### Wi-Fi

- WPA3 connection takes 2.5 sec more than WPA2 connection
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.

### BLE

- For BLE, dual role scenario issues might occur when connecting as central if the advertising is also going out for the peripheral role. Central connections can be made after the peripheral connections are established and advertising is stopped.
- LMP timeout BLE disconnection observed with the latest Realme mobile handsets.

## Limitations and Unsupported Features

### Wi-Fi/Network Stack

- Maximum of 3 SSL connections are supported in WiFi alone mode.
- TWT is not verified in Coex mode.
- BGscan is not verified with TWT Feature.
- No support for DTIM skip feature in power save.

### BLE

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.

## Terminology

| Term                            | Description                                                                                                                                                                                                    |
| ------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **New Features**                | These items are new to this release                                                                                                                                                                            |
| **Changes/Issues Fixed**        | Changes made to existing features found in previous software releases.                                                                                                                                         |
|                                 | Enhancements to existing product flow and feature set.                                                                                                                                                         |
|                                 | Bug fixes done in the Release                                                                                                                                                                                  |
| **Deprecated Items**            | Features or functions or APIs that are removed from the distributed release to align with the software roadmap                                                                                                 |
| **Known Issues**                | Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases |
| **Limitations/Recommendations** | Describes the limitations on product usage and recommendations for optimal use cases                                                                                                                           |

<br />

## Notes

This release supports 917 Common Flash (A0 - BRD4325A, B0 - BRD4325G and B0 - BRD4338A(V 2.0)) and Dual Flash (A0 - BRD4325B).

# WiSeConnect3_SDK_3.0.5 Release Notes

This SDK package supports SoC Mode

- In SoC Mode: Customer Applications can run on Cortex M4. Wireless stacks and Networking stacks run on the Wireless subsystem.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

> Note: Release supports only Simplicity Studio 5.5 & above versions

## SoC Highlights

- **Operating Modes** : Wi-Fi STA, Wi-Fi AP, Concurrent(AP + STA), Wi-Fi STA+BLE(CoEx),
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n , 802.11ax, BLE 5.1
- **MCU Peripherals** : ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, OPAMP, GPIO, I2C, I2S, PWM, RTC, QEI, SPI, UART, USART, UDMA, WDT, Combined Peripheral App
  : ULP (Ultra Low Power) Peripherals - ulp_gpio, ulp_i2c, ulp_i2s, ulp_ir_decoder, ulp_spi, ulp_timer, ulp_uart, ulp_udma
  : UART and I2C Deepsleep Wakeup Without RAM Retention
- **Multiple Ultra Low Power Modes** : Wi-Fi 6 TWT (Target Wake Time) - for improved network efficiency and device battery life
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support)
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack and Profiles, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, SNTP Client
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** : Si917-BRD4325B (Dual flash Radio board), Si917-BRD4325A and Si917-BRD4325G (Common Flash Radio board)

## Release Details

| Item                      | Details                                                        |
| ------------------------- | -------------------------------------------------------------- |
| Release date              | June 7th, 2023                                                 |
| API Version               | 3.0.5(Build 1)                                                 |
| Firmware Version          | 2.9.0.0.3                                                      |
| Package Name              | WiSeConnect3_SDK_3.0.5                                         |
| Supported RTOS            | FreeRTOS                                                       |
| Operating Modes Supported | Wi-Fi STA, Wi-Fi AP, Concurrent(AP + STA), Wi-Fi STA+BLE(CoEx) |

## Updating to this Release

This release consists of Wireless Library - The Library runs on internal Cortex M4 in SoC Mode and supports 43 sample examples.

## Features and Bug Fixes

- Added Support for RSI_FAST_PSP
- Fixed issue with IPMU offset address values for Common Flash B0 Board i.e. BRD4325G
- Updated httpclient to support ssl 1.2 and 1.3
- Added support to configure rejoin parameters
- Added support for EAP-FAST and EAP-PEAP
- fix the issue in power_save_deep_sleep-example on common flash board
- Handling multiple successful events in case of TWT.
- Update BLE and WLAN examples to Latest Firware version 2.9.0.0.3
- Implemented examples - OTAF client, three ssl concurrent client sockets and BLE multiconnection gatt test

## Known Issues

- Dx enhanced Platform APIs Phase -1 Integrated with SDK and NVM3 credential manager dual flash SoC - Update examples with sl_net_set_credential()
- IPv6 support not working for Sockets
- wlan_station_ble_provisioning_AWS_logging_stats - functionality not working as expected

### SoC

- The "Browser File Viewer" plugin has issues. It can't render the last image included in the markdown files and observed issues accessing some hyperlinks
- In SoC mode, M4 power save will work with 384k TA and 320 M4 memory configuration only. It is not supported for "448K TA and 256k M4" and "512k TA and 192k M4" memory configurations

### Network Stack

### Wi-Fi

- WPA3 connection takes 2.5 sec more than WPA2 connection
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.

### BLE

- For BLE, dual role scenario issues might occur when connecting as central if the advertising is also going out for the peripheral role. Central connections can be made after the peripheral connections are established and advertising is stopped.
- LMP timeout BLE disconnection observed with the latest Realme mobile handsets.

## Limitations and Unsupported Features

### Wi-Fi/Network Stack

- Maximum of 3 SSL connections are supported in WiFi alone mode.
- TWT is not verified in Coex mode.
- BGscan is not verified with TWT Feature.
- No support for DTIM skip feature in power save.

### BLE

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.

## Terminology

| Term                            | Description                                                                                                                                                                                                    |
| ------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **New Features**                | These items are new to this release                                                                                                                                                                            |
| **Changes/Issues Fixed**        | Changes made to existing features found in previous software releases.                                                                                                                                         |
|                                 | Enhancements to existing product flow and feature set.                                                                                                                                                         |
|                                 | Bug fixes done in the Release                                                                                                                                                                                  |
| **Deprecated Items**            | Features or functions or APIs that are removed from the distributed release to align with the software roadmap                                                                                                 |
| **Known Issues**                | Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases |
| **Limitations/Recommendations** | Describes the limitations on product usage and recommendations for optimal use cases                                                                                                                           |

<br />

## Notes

This release supports 917 Common Flash (A0 - BRD4325A and B0 - BRD4325G) and Dual Flash (A0 - BRD4325B).

# WiSeConnect3_SDK_3.0.4 Release Notes

This SDK package supports SoC Mode

- In SoC Mode: Customer Applications can run on Cortex M4. Wireless stacks and Networking stacks run on the Wireless subsystem.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

> Note: Release supports only Simplicity Studio 5.5 & above versions

## SoC Highlights

- **Operating Modes** : Wi-Fi STA, Wi-Fi AP, Concurrent(AP + STA), Wi-Fi STA+BLE(CoEx),
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n , 802.11ax, BLE 5.1
- **MCU Peripherals** : ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, OPAMP, GPIO, I2C, I2S, PWM, RTC, QEI, SPI, UART, USART, UDMA, WDT, Combined Peripheral App
  : ULP (Ultra Low Power) Peripherals - ulp_gpio, ulp_i2c, ulp_i2s, ulp_ir_decoder, ulp_spi, ulp_timer, ulp_uart, ulp_udma
  : UART and I2C Deepsleep Wakeup Without RAM Retention
- **Multiple Ultra Low Power Modes** : Wi-Fi 6 TWT (Target Wake Time) - for improved network efficiency and device battery life
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support)
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack and Profiles, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client, SNTP Client
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** : Si917-BRD4325B (Dual flash Radio board), Si917-BRD4325A and Si917-BRD4325G (Common Flash Radio board)

## Release Details

| Item                      | Details                                                        |
| ------------------------- | -------------------------------------------------------------- |
| Release date              | MAY 29th, 2023                                                 |
| API Version               | 3.0.4(Build 1)                                                 |
| Firmware Version          | 2.9.0.0.2                                                      |
| Package Name              | WiSeConnect3_SDK_3.0.4                                         |
| Supported RTOS            | FreeRTOS                                                       |
| Operating Modes Supported | Wi-Fi STA, Wi-Fi AP, Concurrent(AP + STA), Wi-Fi STA+BLE(CoEx) |

## Updating to this Release

This release consists of Wireless Library - The Library runs on internal Cortex M4 in SoC Mode and supports 40 sample examples.

## Features and Bug Fixes

- Added LWIP Support
- Added Support for Common Flash B0 Board i.e. BRD4325G
- Fixed certificate configuration issue in AWS MQTT example
- Updated Linker file.
- Update sl_wifi_connect with configurable for okc
- API Documentation enhancement
- Print IPv6 Address
- Fixed SNTP client build issues in SS
- Update BLE and WLAN examples to Latest Firware version 2.9.0.0.2
- Implemented examples - tcp_client, udp_client, ssl_client, select_app

## Known Issues

- Dx enhanced Platform APIs Phase -1 Integrated with SDK and NVM3 credential manager dual flash SoC - Update examples with sl_net_set_credential()
- 917 Specific features: OTAF
- IPv6 support not working for Sockets
- wlan_station_ble_provisioning_AWS_logging_stats - functionality not working as expected
- TWT response handling
- Minor changes need to be ported for 2.9.0.2 and later FW releases
- power_save_deep_sleep example is not working as expected (M4 and TA)

### SoC

- The "Browser File Viewer" plugin has issues. It can't render the last image included in the markdown files and observed issues accessing some hyperlinks
- In SoC mode, M4 power save will work with 384k TA and 320 M4 memory configuration only. It is not supported for "448K TA and 256k M4" and "512k TA and 192k M4" memory configurations

### Network Stack

### Wi-Fi

- WPA3 connection takes 2.5 sec more than WPA2 connection
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.

### BLE

- For BLE, dual role scenario issues might occur when connecting as central if the advertising is also going out for the peripheral role. Central connections can be made after the peripheral connections are established and advertising is stopped.
- LMP timeout BLE disconnection observed with the latest Realme mobile handsets.
- BLE Powersave + RTOS is not supported in SoC Mode.

## Limitations and Unsupported Features

### Wi-Fi/Network Stack

- Maximum of 3 SSL connections are supported in WiFi alone mode.
- TWT is not verified in Coex mode.
- BGscan is not verified with TWT Feature.
- No support for DTIM skip feature in power save.

### BLE

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.

### SoC

- RTOS support is not available for MCU peripheral drivers. Application-level RTOS support exists.

## Terminology

| Term                            | Description                                                                                                                                                                                                    |
| ------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **New Features**                | These items are new to this release                                                                                                                                                                            |
| **Changes/Issues Fixed**        | Changes made to existing features found in previous software releases.                                                                                                                                         |
|                                 | Enhancements to existing product flow and feature set.                                                                                                                                                         |
|                                 | Bug fixes done in the Release                                                                                                                                                                                  |
| **Deprecated Items**            | Features or functions or APIs that are removed from the distributed release to align with the software roadmap                                                                                                 |
| **Known Issues**                | Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases |
| **Limitations/Recommendations** | Describes the limitations on product usage and recommendations for optimal use cases                                                                                                                           |

<br />

## Notes

This release supports 917 Common Flash (A0 and B0) and Dual Flash (A0).

# WiSeConnect3_SDK_3.0.3 Release Notes

This SDK package supports SoC Mode

- In SoC Mode: Customer Applications can run on Cortex M4. Wireless stacks and Networking stacks run on the Wireless subsystem.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

> Note: Release supports only Simplicity Studio 5.5 & above versions

## SoC Highlights

- **Operating Modes** : Wi-Fi STA, Wi-Fi AP, Concurrent(AP + STA), Wi-Fi STA+BLE(CoEx),
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n , 802.11ax, BLE 5.1
- **MCU Peripherals** : ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, OPAMP, GPIO, I2C, I2S, PWM, RTC, QEI, SPI, UART, USART, UDMA, WDT, Combined Peripheral App
  : ULP (Ultra Low Power) Peripherals - ulp_gpio, ulp_i2c, ulp_i2s, ulp_ir_decoder, ulp_spi, ulp_timer, ulp_uart, ulp_udma
  : UART and I2C Deepsleep Wakeup Without RAM Retention
- **Multiple Ultra Low Power Modes** : Wi-Fi 6 TWT (Target Wake Time) - for improved network efficiency and device battery life
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support)
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack and Profiles, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** : Si917-BRD4325B (Dual flash Radio board)

## Release Details

| Item                      | Details                                                        |
| ------------------------- | -------------------------------------------------------------- |
| Release date              | MAY 22nd, 2023                                                 |
| API Version               | 3.0.3(Build 1)                                                 |
| Firmware Version          | 1711.1.0.2.0.2                                                 |
| Package Name              | WiSeConnect3_SDK_3.0.3                                         |
| Supported RTOS            | FreeRTOS                                                       |
| Operating Modes Supported | Wi-Fi STA, Wi-Fi AP, Concurrent(AP + STA), Wi-Fi STA+BLE(CoEx) |

## Updating to this Release

This release consists of Wireless Library - The Library runs on internal Cortex M4 in SoC Mode and supports 33 sample examples.

## Features and Bug Fixes

- Added SNTP client Application
- Handling DHCP of AP
- Update BLE and WLAN examples to Latest Firware version 1.0.2.0.2
- Update TWT Config Error handling
- Update http_client example to support Certificate Index
- Update RSI_WLAN_REQ_11AX_PARAMS to be updated with configurable guard interval
- Update RSI_WLAN_RSP_JOIN handling to support concurrent mode usecase
- API Documentation enhancement
- Implemented SNTP Client APIs
- Added support for printing floating point in Simplicity Studio IDE.
- APPS Team Feedback (Difficulty in making initial configurations using the new Wi-Fi SDK)
- Update Linker file for Common flash for TLS Issue

## Known Issues

### SoC

- The "Browser File Viewer" plugin has issues. It can't render the last image included in the markdown files and observed issues accessing some hyperlinks
- In SoC mode, M4 power save will work with 384k TA and 320 M4 memory configuration only. It is not supported for "448K TA and 256k M4" and "512k TA and 192k M4" memory configurations

### Network Stack

### Wi-Fi

- WPA3 connection takes 2.5 sec more than WPA2 connection
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.
- power_save_deep_sleep example is not working

### BLE

- For BLE, dual role scenario issues might occur when connecting as central if the advertising is also going out for the peripheral role. Central connections can be made after the peripheral connections are established and advertising is stopped.
- LMP timeout BLE disconnection observed with the latest Realme mobile handsets.
- BLE Powersave + RTOS is not supported in SoC Mode.

## Limitations and Unsupported Features

### Wi-Fi/Network Stack

- Maximum of 3 SSL connections are supported in WiFi alone mode.
- TWT is not verified in Coex mode.
- BGscan is not verified with TWT Feature.
- No support for DTIM skip feature in power save.

### BLE

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.

### SoC

- RTOS support is not available for MCU peripheral drivers. Application-level RTOS support exists.

## Terminology

| Term                            | Description                                                                                                                                                                                                    |
| ------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **New Features**                | These items are new to this release                                                                                                                                                                            |
| **Changes/Issues Fixed**        | Changes made to existing features found in previous software releases.                                                                                                                                         |
|                                 | Enhancements to existing product flow and feature set.                                                                                                                                                         |
|                                 | Bug fixes done in the Release                                                                                                                                                                                  |
| **Deprecated Items**            | Features or functions or APIs that are removed from the distributed release to align with the software roadmap                                                                                                 |
| **Known Issues**                | Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases |
| **Limitations/Recommendations** | Describes the limitations on product usage and recommendations for optimal use cases                                                                                                                           |

<br />

## Notes

This release supports 917 A0(Common flash & Dual flash).

# WiSeConnect3_SDK_3.0.2 Release Notes

This SDK package supports SoC Mode

- In SoC Mode: Customer Applications can run on Cortex M4. Wireless stacks and Networking stacks run on the Wireless subsystem.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

> Note: Release supports only Simplicity Studio 5.5 & above versions

## SoC Highlights

- **Operating Modes** : Wi-Fi STA, Wi-Fi AP, Concurrent(AP + STA), Wi-Fi STA+BLE(CoEx),
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n , 802.11ax, BLE 5.1
- **MCU Peripherals** : ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, OPAMP, GPIO, I2C, I2S, PWM, RTC, QEI, SPI, UART, USART, UDMA, WDT, Combined Peripheral App
  : ULP (Ultra Low Power) Peripherals - ulp_gpio, ulp_i2c, ulp_i2s, ulp_ir_decoder, ulp_spi, ulp_timer, ulp_uart, ulp_udma
  : UART and I2C Deepsleep Wakeup Without RAM Retention
- **Multiple Ultra Low Power Modes** : Wi-Fi 6 TWT (Target Wake Time) - for improved network efficiency and device battery life
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support)
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack and Profiles, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** : Si917-BRD4325B (Dual flash Radio board)

## Release Details

| Item                      | Details                                                        |
| ------------------------- | -------------------------------------------------------------- |
| Release date              | MAY 2nd, 2023                                                  |
| API Version               | 3.0.2(Build 1)                                                 |
| Firmware Version          | 1711.1.0.0.0.29                                                |
| Package Name              | WiSeConnect3_SDK_3.0.2                                         |
| Supported RTOS            | FreeRTOS                                                       |
| Operating Modes Supported | Wi-Fi STA, Wi-Fi AP, Concurrent(AP + STA), Wi-Fi STA+BLE(CoEx) |

## Updating to this Release

This release consists of Wireless Library - The Library runs on internal Cortex M4 in SoC Mode and supports 27 sample examples.

## Features and Bug Fixes

- Added Two Applications
  TLS client
  BLE throughput
- Enhancement of example readme files
- Added migration guide, Getting Started Guide​
- Updated API documentation
- Added UTF support for SL_WIFI APIs, SL_NET APIs, etc ..
- Added M4 Powersave APIs and updated M4 Powersave changes in powersave_standby_associated application.
- Added Support for following APIs/Frame
  RSI_WLAN_REQ_GAIN_TABLE,
  RSI_WLAN_REQ_IPCONFV6,
  RSI_COMMON_REQ_SOFT_RESET
  RSI_COMMON_REQ_ASSERT
- Added .bat utility for common flash

## Known Issues

### SoC

- No support for floating point print in Simplicity Studio IDE.
- The "Browser File Viewer" plugin has issues. It can't render the last image included in the markdown files and observed issues accessing some hyperlinks
- In SoC mode, M4 power save will work with 384k TA and 320 M4 memory configuration only. It is not supported for "448K TA and 256k M4" and "512k TA and 192k M4" memory configurations

### Network Stack

### Wi-Fi

- WPA3 connection takes 2.5 sec more than WPA2 connection
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.

### BLE

- For BLE, dual role scenario issues might occur when connecting as central if the advertising is also going out for the peripheral role. Central connections can be made after the peripheral connections are established and advertising is stopped.
- LMP timeout BLE disconnection observed with the latest Realme mobile handsets.
- BLE Powersave + RTOS is not supported in SoC Mode.

## Limitations and Unsupported Features

### Wi-Fi/Network Stack

- Maximum of 3 SSL connections are supported in WiFi alone mode.
- TWT is not verified in Coex mode.
- BGscan is not verified with TWT Feature.
- No support for DTIM skip feature in power save.

### BLE

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.

### SoC

- RTOS support is not available for MCU peripheral drivers. Application-level RTOS support exists.

## Terminology

| Term                            | Description                                                                                                                                                                                                    |
| ------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **New Features**                | These items are new to this release                                                                                                                                                                            |
| **Changes/Issues Fixed**        | Changes made to existing features found in previous software releases.                                                                                                                                         |
|                                 | Enhancements to existing product flow and feature set.                                                                                                                                                         |
|                                 | Bug fixes done in the Release                                                                                                                                                                                  |
| **Deprecated Items**            | Features or functions or APIs that are removed from the distributed release to align with the software roadmap                                                                                                 |
| **Known Issues**                | Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases |
| **Limitations/Recommendations** | Describes the limitations on product usage and recommendations for optimal use cases                                                                                                                           |

<br />

## Notes

# WiSeConnect3_SDK_IR_1.0.1 Release Notes

This SDK package supports SoC Mode

- In SoC Mode: Customer Applications can run on Cortex M4. Wireless stacks and Networking stacks run on the Wireless subsystem.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

> Note: Release supports only Simplicity Studio 5.5 & above versions

## SoC Highlights

- **Operating Modes** : Wi-Fi STA, Wi-Fi AP, Concurrent(AP + STA), Wi-Fi STA+BLE(CoEx),
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n , 802.11ax, BLE 5.1
- **MCU Peripherals** : ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, OPAMP, GPIO, I2C, I2S, PWM, RTC, QEI, SPI, UART, USART, UDMA, WDT, Combined Peripheral App
  : ULP (Ultra Low Power) Peripherals - ulp_gpio, ulp_i2c, ulp_i2s, ulp_ir_decoder, ulp_spi, ulp_timer, ulp_uart, ulp_udma
  : UART and I2C Deepsleep Wakeup Without RAM Retention
- **Multiple Ultra Low Power Modes** : Wi-Fi 6 TWT (Target Wake Time) - for improved network efficiency and device battery life
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support)
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack and Profiles, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** : Si917-BRD4325B (Dual flash Radio board)

## Release Details

| Item                      | Details                                                        |
| ------------------------- | -------------------------------------------------------------- |
| Release date              | April 17th, 2023                                               |
| API Version               | 1.0.1(Build 1)                                                 |
| Firmware Version          | 1711.1.0.0.0.29                                                |
| Package Name              | WiSeConnect3_SDK_IR_1.0.1                                      |
| Supported RTOS            | FreeRTOS                                                       |
| Operating Modes Supported | Wi-Fi STA, Wi-Fi AP, Concurrent(AP + STA), Wi-Fi STA+BLE(CoEx) |

## Updating to this Release

This release consists of Wireless Library - The Library runs on internal Cortex M4 in SoC Mode and supports 27 sample examples.

## Features and Bug Fixes

- Implemented TLS APIs.
- Added Four Applications(wlan_station_ble_provisioning_aws, wlan_station_ble_provisioning, aws_device_shadow, wifi6_mqtt_twt)
- Enhancement of example readme files.
- Added additional host error codes.
- Zero build Warnings.
- Documentation support for sl_wifi_device.h.​
- MQTT Bug Fix (MQTT event handler isn't receiving failure event).
- Added support to switch M4 frequency for throughput and wifi6-mimo examples.
- Prepared repo for SDK.

## Known Issues

### SoC

- No support for floating point print in Simplicity Studio IDE.
- The "Browser File Viewer" plugin has issues. It can't render the last image included in the markdown files and observed issues accessing some hyperlinks
- In SoC mode, M4 power save will work with 384k TA and 320 M4 memory configuration only. It is not supported for "448K TA and 256k M4" and "512k TA and 192k M4" memory configurations

### Network Stack

- IPv6 support is not available in this release.

### Wi-Fi

- WPA3 connection takes 2.5 sec more than WPA2 connection
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.

### BLE

- For BLE, dual role scenario issues might occur when connecting as central if the advertising is also going out for the peripheral role. Central connections can be made after the peripheral connections are established and advertising is stopped.
- LMP timeout BLE disconnection observed with the latest Realme mobile handsets.
- BLE Powersave + RTOS is not supported in SoC Mode.

## Limitations and Unsupported Features

### Wi-Fi/Network Stack

- Maximum of 3 SSL connections are supported in WiFi alone mode.
- TWT is not verified in Coex mode.
- BGscan is not verified with TWT Feature.
- No support for DTIM skip feature in power save.

### BLE

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.

### SoC

- RTOS support is not available for MCU peripheral drivers. Application-level RTOS support exists.

## Terminology

| Term                            | Description                                                                                                                                                                                                    |
| ------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **New Features**                | These items are new to this release                                                                                                                                                                            |
| **Changes/Issues Fixed**        | Changes made to existing features found in previous software releases.                                                                                                                                         |
|                                 | Enhancements to existing product flow and feature set.                                                                                                                                                         |
|                                 | Bug fixes done in the Release                                                                                                                                                                                  |
| **Deprecated Items**            | Features or functions or APIs that are removed from the distributed release to align with the software roadmap                                                                                                 |
| **Known Issues**                | Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases |
| **Limitations/Recommendations** | Describes the limitations on product usage and recommendations for optimal use cases                                                                                                                           |

<br />

## Notes

# WiSeConnect3_SDK_IR_1.0.0 Release Notes

This SDK package supports SoC Mode

- In SoC Mode: Customer Applications can run on Cortex M4. Wireless stacks and Networking stacks run on the Wireless subsystem.
- Silicon Labs' SiWx917 includes an ultra-low power Wi-Fi 6 plus Bluetooth Low Energy (BLE) 5.1 wireless subsystem and an integrated micro-controller application subsystem.

> Note: Release supports only Simplicity Studio 5.5 & above versions

## SoC Highlights

- **Operating Modes** : Wi-Fi STA, Wi-Fi AP, Concurrent(AP + STA), Wi-Fi STA+BLE(CoEx),
- **Wireless Protocols** : IEEE 802.11b, 802.11g, 802.11n , 802.11ax, BLE 5.1
- **MCU Peripherals** : ADC Static Mode, Analog Comparator, Blinky, Bod, CTS, DAC FIFO, DAC Static, OPAMP, GPIO, I2C, I2S, PWM, RTC, QEI, SPI, UART, USART, UDMA, WDT, Combined Peripheral App
  : ULP (Ultra Low Power) Peripherals - ulp_gpio, ulp_i2c, ulp_i2s, ulp_ir_decoder, ulp_spi, ulp_timer, ulp_uart, ulp_udma
  : UART and I2C Deepsleep Wakeup Without RAM Retention
- **Multiple Ultra Low Power Modes** : Wi-Fi 6 TWT (Target Wake Time) - for improved network efficiency and device battery life
- **Wi-Fi** : 2.4GHz Wi-Fi Support - WPA2/WPA3 Personal, Wi-Fi 6 OFDMA/MU-MIMO Support that enhances network capacity and latency
- **Cloud** : Amazon Cloud Connectivity Support, Amazon FreeRTOS
- **BLE** : BLE 5.1, BLE dual role (Central and Peripheral Support)
- **Integrated Stacks and Profiles** : Wi-Fi Stack, BLE Stack and Profiles, TCP/IP stack with TLS 1.3, HTTP/HTTPS, DHCP, MQTT Client
- **IDE** : Simplicity Studio with Windows 10(64-bit)
- **TA/M4 Firmware Update Tool** : Simplicity Commander
- **Hardware kits to evaluate SoC Mode** : Si917-BRD4325B (Dual flash Radio board)

## Release Details

| Item                      | Details                                                  |
| ------------------------- | -------------------------------------------------------- |
| Release date              | April 3rd, 2023                                          |
| API Version               | 1.0.0(Build 1)                                           |
| Firmware Version          | 1711.1.0.0.0.26                                          |
| Package Name              | WiSeConnect3_SDK_IR_1.0.0                                |
| Supported RTOS            | FreeRTOS                                                 |
| Operating Modes Supported | Wi-Fi STA, Wi-Fi AP, Concurrent(AP + STA), Wi-Fi STA+BLE |

## Updating to this Release

This release consists of Wireless Library - The Library runs on internal Cortex M4 in SoC Mode and supports 23 sample examples.

## Features

- Platform agnostic Wifi, Network APIs.
- FreeRTOS support
- Multi-threaded application development support
- AWS MQTT library support
- BSD and IOT socket application programming interface (API)
- WPA2/WPA3 Personal Support for Station Mode and Enterprise security Support for station Mode.
- Network Application protocol support for
  Offloaded mode(TCP/IP internal stack) with HTTP/HTTPS, DHCP, MQTT Client, DNS Client.
- TA Power save support and Max PSP, Fast PSP, 11ax TWT profiles are supported
- 11ax and TWT support
- Bluetooth Low Energy(BLE) central & peripheral connections are supported
- Wireless firmware upgradation.

## Known Issues

### SoC

- No support for floating point print in Simplicity Studio IDE.
- The "Browser File Viewer" plugin has issues. It can't render the last image included in the markdown files and observed issues accessing some hyperlinks
- In SoC mode, M4 power save will work with 384k TA and 320 M4 memory configuration only. It is not supported for "448K TA and 256k M4" and "512k TA and 192k M4" memory configurations

### Network Stack

- IPv6 support is not available in this release.

### Wi-Fi

- WPA3 connection takes 2.5 sec more than WPA2 connection
- Issue observed with WPA2 Enterprise Connectivity using Microsoft RADIUS Server.

### BLE

- For BLE, dual role scenario issues might occur when connecting as central if the advertising is also going out for the peripheral role. Central connections can be made after the peripheral connections are established and advertising is stopped.
- LMP timeout BLE disconnection observed with the latest Realme mobile handsets.
- BLE Powersave + RTOS is not supported in SoC Mode.

## Limitations and Unsupported Features

### Wi-Fi/Network Stack

- Maximum of 3 SSL connections are supported in WiFi alone mode.
- TWT is not verified in Coex mode.
- BGscan is not verified with TWT Feature.
- No support for DTIM skip feature in power save.

### BLE

- For BLE, if the connection is established with a small connection interval (less than 15 ms), simultaneous roles (i.e., Central + Scanning and Peripheral + Advertising) are not supported.
- BLE maximum two concurrent connections are supported, which can be either a connection to two peripheral devices, to one central and one peripheral device or two central devices.
- BLE Slave latency value is valid up to 32 only.

### SoC

- RTOS support is not available for MCU peripheral drivers. Application-level RTOS support exists.

## Terminology

| Term                            | Description                                                                                                                                                                                                    |
| ------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **New Features**                | These items are new to this release                                                                                                                                                                            |
| **Changes/Issues Fixed**        | Changes made to existing features found in previous software releases.                                                                                                                                         |
|                                 | Enhancements to existing product flow and feature set.                                                                                                                                                         |
|                                 | Bug fixes done in the Release                                                                                                                                                                                  |
| **Deprecated Items**            | Features or functions or APIs that are removed from the distributed release to align with the software roadmap                                                                                                 |
| **Known Issues**                | Features or functions that do not work as planned at the time of release. Workarounds may be offered to meet short-term development goals, but longer-term solutions will be added in future software releases |
| **Limitations/Recommendations** | Describes the limitations on product usage and recommendations for optimal use cases                                                                                                                           |

<br />

## Notes